import{af as w5,an as sP,ao as lP,a as mU,v as x5,ap as gU,Y as fP,aq as pU,ar as hU,as as eP,f as CM,t as vU,U as bU,at as xM,Z as yU,Q as wU,L as xU,P as dP,$ as CU,h as v5,j as b5,m as rP,q as SU,l as kU,W as EU,i as AU}from"./dynamicTag.98ddbc91.js";import{V as TU}from"./uploader.44537534.bae2d392.js";import"./vue.4c5758a0.js";import"./@babel.dd651e2b.js";import"./regenerator-runtime.8e24db72.js";import"./@vue.87afd1fa.js";import"./index.97f9c525.js";import"./js-md5.3cdd41c4.js";import"./vue-router.9a2c52dc.js";import"./js-cookie.31874410.js";import"./ant-design-vue.e954adc4.js";import"./@ant-design.8c82b126.js";import"./@ctrl.fa7cbd46.js";import"./resize-observer-polyfill.8deb1e21.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./lodash-es.0ea26897.js";import"./dayjs.0743a87f.js";import"./async-validator.5d25c98b.js";import"./scroll-into-view-if-needed.5191fdbf.js";import"./compute-scroll-into-view.6058b3be.js";import"./lodash.28c974ad.js";import"./spark-md5.2cc5764b.js";import"./@vueuse.67682d36.js";import"./vue-demi.24ed2461.js";import"./axios.e3200588.js";/* empty css                     */import"./sortablejs.412b554c.js";import"./clipboard.89482ba1.js";import"./markdown-it.39ce48f9.js";import"./entities.0d2c0164.js";import"./uc.micro.981ceb7b.js";import"./mdurl.ef76b4dc.js";import"./linkify-it.92c30060.js";import"./markdown-it-emoji.e3e91710.js";import"./escape-html.e5dfadb9.js";import"./prismjs.169105cf.js";import"./diacritics.6be19c75.js";import"./markdown-it-container.512a5043.js";import"./markdown-it-anchor.c88e5394.js";import"./markdown-it-attrs.3af5ab50.js";import"./markdown-it-table-of-contents.8a4ce16f.js";import"./@kangc.52338b19.js";var mP={exports:{}};(function(ft){(function(){var jn=function(t){if(t===null)return"null";if(t===void 0)return"undefined";var e=typeof t;return e==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":e==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":e},on=function(t){return["undefined","boolean","number","string","function","xml","null"].indexOf(t)!==-1},nn=function(t,e){var o=Array.prototype.slice.call(t);return o.sort(e)},st=function(t,e){return Xt(function(o,u){return t.eq(e(o),e(u))})},Xt=function(t){return{eq:t}},Kn=Xt(function(t,e){return t===e}),qn=Kn,Jt=function(t){return Xt(function(e,o){if(e.length!==o.length)return!1;for(var u=e.length,c=0;c<u;c++)if(!t.eq(e[c],o[c]))return!1;return!0})},yn=function(t,e){return st(Jt(t),function(o){return nn(o,e)})},Zt=function(t){return Xt(function(e,o){var u=Object.keys(e),c=Object.keys(o);if(!yn(qn).eq(u,c))return!1;for(var f=u.length,p=0;p<f;p++){var b=u[p];if(!t.eq(e[b],o[b]))return!1}return!0})},Kt=Xt(function(t,e){if(t===e)return!0;var o=jn(t),u=jn(e);return o!==u?!1:on(o)?t===e:o==="array"?Jt(Kt).eq(t,e):o==="object"?Zt(Kt).eq(t,e):!1}),tt=function(){},ln=function(t,e){return function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return t(e.apply(null,o))}},Y=function(t,e){return function(o){return t(e(o))}},jt=function(t){return function(){return t}},le=function(t){return t};function Qt(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];var f=e.concat(u);return t.apply(null,f)}}var Le=function(t){return function(e){return!t(e)}},S=function(t){return function(){throw new Error(t)}},ce=function(t){return t()},Ne=function(t){t()},ve=jt(!1),ue=jt(!0),Ie=function(){return wr},wr=function(){var t=function(c){return c.isNone()},e=function(c){return c()},o=function(c){return c},u={fold:function(c,f){return c()},is:ve,isSome:ve,isNone:ue,getOr:o,getOrThunk:e,getOrDie:function(c){throw new Error(c||"error: getOrDie called on none.")},getOrNull:jt(null),getOrUndefined:jt(void 0),or:o,orThunk:e,map:Ie,each:tt,bind:Ie,exists:ve,forall:ue,filter:Ie,equals:t,equals_:t,toArray:function(){return[]},toString:jt("none()")};return u}(),sr=function(t){var e=jt(t),o=function(){return c},u=function(f){return f(t)},c={fold:function(f,p){return p(t)},is:function(f){return t===f},isSome:ue,isNone:ve,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:o,orThunk:o,map:function(f){return sr(f(t))},each:function(f){f(t)},bind:u,exists:u,forall:u,filter:function(f){return f(t)?c:wr},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(f){return f.is(t)},equals_:function(f,p){return f.fold(ve,function(b){return p(t,b)})}};return c},Pt=function(t){return t==null?wr:sr(t)},I={some:sr,none:Ie,from:Pt},ne=function(t){var e=typeof t;return t===null?"null":e==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":e==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":e},Hn=function(t){return function(e){return ne(e)===t}},He=function(t){return function(e){return typeof e===t}},Ve=function(t){return function(e){return t===e}},$e=Hn("string"),kn=Hn("object"),bn=Hn("array"),he=Ve(null),Kr=He("boolean"),br=Ve(void 0),Ft=function(t){return t==null},cn=function(t){return!Ft(t)},Tn=He("function"),Xn=He("number"),wt=Array.prototype.slice,tn=Array.prototype.indexOf,ae=Array.prototype.push,qt=function(t,e){return tn.call(t,e)},gt=function(t,e){var o=qt(t,e);return o===-1?I.none():I.some(o)},Wt=function(t,e){return qt(t,e)>-1},nt=function(t,e){for(var o=0,u=t.length;o<u;o++){var c=t[o];if(e(c,o))return!0}return!1},Et=function(t,e){for(var o=t.length,u=new Array(o),c=0;c<o;c++){var f=t[c];u[c]=e(f,c)}return u},yt=function(t,e){for(var o=0,u=t.length;o<u;o++){var c=t[o];e(c,o)}},Nn=function(t,e){for(var o=t.length-1;o>=0;o--){var u=t[o];e(u,o)}},be=function(t,e){for(var o=[],u=[],c=0,f=t.length;c<f;c++){var p=t[c],b=e(p,c)?o:u;b.push(p)}return{pass:o,fail:u}},An=function(t,e){for(var o=[],u=0,c=t.length;u<c;u++){var f=t[u];e(f,u)&&o.push(f)}return o},ar=function(t,e,o){return Nn(t,function(u){o=e(o,u)}),o},ze=function(t,e,o){return yt(t,function(u){o=e(o,u)}),o},Zr=function(t,e,o){for(var u=0,c=t.length;u<c;u++){var f=t[u];if(e(f,u))return I.some(f);if(o(f,u))break}return I.none()},Lr=function(t,e){return Zr(t,e,ve)},yo=function(t,e){for(var o=0,u=t.length;o<u;o++){var c=t[o];if(e(c,o))return I.some(o)}return I.none()},Vn=function(t){for(var e=[],o=0,u=t.length;o<u;++o){if(!bn(t[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+t);ae.apply(e,t[o])}return e},Cn=function(t,e){return Vn(Et(t,e))},ee=function(t,e){for(var o=0,u=t.length;o<u;++o){var c=t[o];if(e(c,o)!==!0)return!1}return!0},Zn=function(t){var e=wt.call(t,0);return e.reverse(),e},Qn=function(t,e){return An(t,function(o){return!Wt(e,o)})},Me=function(t,e){for(var o={},u=0,c=t.length;u<c;u++){var f=t[u];o[String(f)]=e(f,u)}return o},dr=function(t,e){var o=wt.call(t,0);return o.sort(e),o},zn=function(t,e){return e>=0&&e<t.length?I.some(t[e]):I.none()},gn=function(t){return zn(t,0)},Ee=function(t){return zn(t,t.length-1)},ur=Tn(Array.from)?Array.from:function(t){return wt.call(t)},Ir=function(t,e){for(var o=0;o<t.length;o++){var u=e(t[o],o);if(u.isSome())return u}return I.none()},Nr=Object.keys,eo=Object.hasOwnProperty,Or=function(t,e){for(var o=Nr(t),u=0,c=o.length;u<c;u++){var f=o[u],p=t[f];e(p,f)}},So=function(t,e){return Ct(t,function(o,u){return{k:u,v:e(o,u)}})},Ct=function(t,e){var o={};return Or(t,function(u,c){var f=e(u,c);o[f.k]=f.v}),o},rn=function(t){return function(e,o){t[o]=e}},Yn=function(t,e,o,u){var c={};return Or(t,function(f,p){(e(f,p)?o:u)(f,p)}),c},Pe=function(t,e){var o={},u={};return Yn(t,e,rn(o),rn(u)),{t:o,f:u}},fe=function(t,e){var o={};return Yn(t,e,rn(o),tt),o},lr=function(t,e){var o=[];return Or(t,function(u,c){o.push(e(u,c))}),o},wo=function(t){return lr(t,function(e){return e})},zr=function(t,e){return Er(t,e)?I.from(t[e]):I.none()},Er=function(t,e){return eo.call(t,e)},$o=function(t,e){return Er(t,e)&&t[e]!==void 0&&t[e]!==null},Bi=function(t,e,o){return o===void 0&&(o=Kt),Zt(o).eq(t,e)},Eo=Array.isArray,Xi=function(t){if(Eo(t))return t;for(var e=[],o=0,u=t.length;o<u;o++)e[o]=t[o];return e},Oo=function(t,e,o){var u,c;if(!t)return!1;if(o=o||t,t.length!==void 0){for(u=0,c=t.length;u<c;u++)if(e.call(o,t[u],u,t)===!1)return!1}else for(u in t)if(t.hasOwnProperty(u)&&e.call(o,t[u],u,t)===!1)return!1;return!0},hi=function(t,e){var o=[];return Oo(t,function(u,c){o.push(e(u,c,t))}),o},ii=function(t,e){var o=[];return Oo(t,function(u,c){(!e||e(u,c,t))&&o.push(u)}),o},cr=function(t,e){if(t){for(var o=0,u=t.length;o<u;o++)if(t[o]===e)return o}return-1},ao=function(t,e,o,u){for(var c=br(o)?t[0]:o,f=0;f<t.length;f++)c=e.call(u,c,t[f],f);return c},zo=function(t,e,o){var u,c;for(u=0,c=t.length;u<c;u++)if(e.call(o,t[u],u,t))return u;return-1},Ko=function(t){return t[t.length-1]},Xe=function(){return Xe=Object.assign||function(t){for(var e,o=1,u=arguments.length;o<u;o++){e=arguments[o];for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&(t[c]=e[c])}return t},Xe.apply(this,arguments)};function ui(t,e){var o={};for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&e.indexOf(u)<0&&(o[u]=t[u]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,u=Object.getOwnPropertySymbols(t);c<u.length;c++)e.indexOf(u[c])<0&&Object.prototype.propertyIsEnumerable.call(t,u[c])&&(o[u[c]]=t[u[c]]);return o}function gi(){for(var t=0,e=0,o=arguments.length;e<o;e++)t+=arguments[e].length;for(var u=Array(t),c=0,e=0;e<o;e++)for(var f=arguments[e],p=0,b=f.length;p<b;p++,c++)u[c]=f[p];return u}var Ni=function(t){var e=!1,o;return function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return e||(e=!0,o=t.apply(null,u)),o}},yi=function(t,e,o,u){var c=t.isiOS()&&/ipad/i.test(o)===!0,f=t.isiOS()&&!c,p=t.isiOS()||t.isAndroid(),b=p||u("(pointer:coarse)"),y=c||!f&&p&&u("(min-device-width:768px)"),A=f||p&&!y,N=e.isSafari()&&t.isiOS()&&/safari/i.test(o)===!1,B=!A&&!y&&!N;return{isiPad:jt(c),isiPhone:jt(f),isTablet:jt(y),isPhone:jt(A),isTouch:jt(b),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:jt(N),isDesktop:jt(B)}},$r=function(t,e){for(var o=0;o<t.length;o++){var u=t[o];if(u.test(e))return u}},wi=function(t,e){var o=$r(t,e);if(!o)return{major:0,minor:0};var u=function(c){return Number(e.replace(o,"$"+c))};return Vi(u(1),u(2))},fi=function(t,e){var o=String(e).toLowerCase();return t.length===0?vi():wi(t,o)},vi=function(){return Vi(0,0)},Vi=function(t,e){return{major:t,minor:e}},Ui={nu:Vi,detect:fi,unknown:vi},Wo=function(t,e){var o=String(e).toLowerCase();return Lr(t,function(u){return u.search(o)})},zi=function(t,e){return Wo(t,e).map(function(o){var u=Ui.detect(o.versionRegexes,e);return{current:o.name,version:u}})},lt=function(t,e){return Wo(t,e).map(function(o){var u=Ui.detect(o.versionRegexes,e);return{current:o.name,version:u}})},L={detectBrowser:zi,detectOs:lt},q=function(t,e){return t.substring(e)},dt=function(t,e,o){return e===""||t.length>=e.length&&t.substr(o,o+e.length)===e},_t=function(t,e){return an(t,e)?q(t,e.length):t},zt=function(t,e){return t.indexOf(e)!==-1},an=function(t,e){return dt(t,e,0)},P=function(t){return function(e){return e.replace(t,"")}},Z=P(/^\s+|\s+$/g),xt=P(/^\s+/g),at=P(/\s+$/g),$t=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,en=function(t){return function(e){return zt(e,t)}},we=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return zt(t,"edge/")&&zt(t,"chrome")&&zt(t,"safari")&&zt(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,$t],search:function(t){return zt(t,"chrome")&&!zt(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return zt(t,"msie")||zt(t,"trident")}},{name:"Opera",versionRegexes:[$t,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:en("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:en("firefox")},{name:"Safari",versionRegexes:[$t,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(zt(t,"safari")||zt(t,"mobile/"))&&zt(t,"applewebkit")}}],Ze=[{name:"Windows",search:en("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return zt(t,"iphone")||zt(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:en("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:en("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:en("linux"),versionRegexes:[]},{name:"Solaris",search:en("sunos"),versionRegexes:[]},{name:"FreeBSD",search:en("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:en("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Pn={browsers:jt(we),oses:jt(Ze)},Qe="Edge",K="Chrome",St="IE",Ot="Opera",sn="Firefox",Ae="Safari",_e=function(){return rt({current:void 0,version:Ui.unknown()})},rt=function(t){var e=t.current,o=t.version,u=function(c){return function(){return e===c}};return{current:e,version:o,isEdge:u(Qe),isChrome:u(K),isIE:u(St),isOpera:u(Ot),isFirefox:u(sn),isSafari:u(Ae)}},Bt={unknown:_e,nu:rt,edge:jt(Qe),chrome:jt(K),ie:jt(St),opera:jt(Ot),firefox:jt(sn),safari:jt(Ae)},mn="Windows",oe="iOS",ke="Android",Wn="Linux",fr="OSX",mr="Solaris",Rr="FreeBSD",xo="ChromeOS",W=function(){return Mt({current:void 0,version:Ui.unknown()})},Mt=function(t){var e=t.current,o=t.version,u=function(c){return function(){return e===c}};return{current:e,version:o,isWindows:u(mn),isiOS:u(oe),isAndroid:u(ke),isOSX:u(fr),isLinux:u(Wn),isSolaris:u(mr),isFreeBSD:u(Rr),isChromeOS:u(xo)}},Ht={unknown:W,nu:Mt,windows:jt(mn),ios:jt(oe),android:jt(ke),linux:jt(Wn),osx:jt(fr),solaris:jt(mr),freebsd:jt(Rr),chromeos:jt(xo)},Nt=function(t,e){var o=Pn.browsers(),u=Pn.oses(),c=L.detectBrowser(o,t).fold(Bt.unknown,Bt.nu),f=L.detectOs(u,t).fold(Ht.unknown,Ht.nu),p=yi(f,c,t,e);return{browser:c,os:f,deviceType:p}},Gn={detect:Nt},xr=function(t){return window.matchMedia(t).matches},co=Ni(function(){return Gn.detect(navigator.userAgent,xr)}),lo=function(){return co()},Qr=navigator.userAgent,ci=lo(),io=ci.browser,ro=ci.os,vu=ci.deviceType,Gl=/WebKit/.test(Qr)&&!io.isEdge(),Kl="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,bm=Qr.indexOf("Windows Phone")!==-1,Ue={opera:io.isOpera(),webkit:Gl,ie:io.isIE()||io.isEdge()?io.version.major:!1,gecko:io.isFirefox(),mac:ro.isOSX()||ro.isiOS(),iOS:vu.isiPad()||vu.isiPhone(),android:ro.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:io.isIE()?document.documentMode||7:10,fileApi:Kl,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!io.isIE(),desktop:vu.isDesktop(),windowsPhone:bm,browser:{current:io.current,version:io.version,isChrome:io.isChrome,isEdge:io.isEdge,isFirefox:io.isFirefox,isIE:io.isIE,isOpera:io.isOpera,isSafari:io.isSafari},os:{current:ro.current,version:ro.version,isAndroid:ro.isAndroid,isChromeOS:ro.isChromeOS,isFreeBSD:ro.isFreeBSD,isiOS:ro.isiOS,isLinux:ro.isLinux,isOSX:ro.isOSX,isSolaris:ro.isSolaris,isWindows:ro.isWindows},deviceType:{isDesktop:vu.isDesktop,isiPad:vu.isiPad,isiPhone:vu.isiPhone,isPhone:vu.isPhone,isTablet:vu.isTablet,isTouch:vu.isTouch,isWebView:vu.isWebView}},Xf=/^\s*|\s*$/g,Tu=function(t){return t==null?"":(""+t).replace(Xf,"")},Jl=function(t,e){return e?e==="array"&&Eo(t)?!0:typeof t===e:t!==void 0},Hc=function(t,e,o){var u;for(t=t||[],e=e||",",typeof t=="string"&&(t=t.split(e)),o=o||{},u=t.length;u--;)o[t[u]]={};return o},Bo=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},Wa=function(t,e,o){var u=this,c,f,p,b=0;t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t);var y=t[3].match(/(^|\.)(\w+)$/i)[2],A=u.createNS(t[3].replace(/\.\w+$/,""),o);if(!A[y]){if(t[2]==="static"){A[y]=e,this.onCreate&&this.onCreate(t[2],t[3],A[y]);return}e[y]||(e[y]=tt,b=1),A[y]=e[y],u.extend(A[y].prototype,e),t[5]&&(c=u.resolve(t[5]).prototype,f=t[5].match(/\.(\w+)$/i)[1],p=A[y],b?A[y]=function(){return c[f].apply(this,arguments)}:A[y]=function(){return this.parent=c[f],p.apply(this,arguments)},A[y].prototype[y]=A[y],u.each(c,function(N,B){A[y].prototype[B]=c[B]}),u.each(e,function(N,B){c[B]?A[y].prototype[B]=function(){return this.parent=c[B],N.apply(this,arguments)}:B!==y&&(A[y].prototype[B]=N)})),u.each(e.static,function(N,B){A[y][B]=N})}},ji=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];for(var u=0;u<e.length;u++){var c=e[u];for(var f in c)if(c.hasOwnProperty(f)){var p=c[f];p!==void 0&&(t[f]=p)}}return t},dc=function(t,e,o,u){u=u||this,t&&(o&&(t=t[o]),Oo(t,function(c,f){if(e.call(u,c,f,o)===!1)return!1;dc(c,e,o,u)}))},fa=function(t,e){var o,u;for(e=e||window,t=t.split("."),o=0;o<t.length;o++)u=t[o],e[u]||(e[u]={}),e=e[u];return e},bu=function(t,e){var o,u;for(e=e||window,t=t.split("."),o=0,u=t.length;o<u&&(e=e[t[o]],!!e);o++);return e},Rg=function(t,e){return!t||Jl(t,"array")?t:hi(t.split(e||","),Tu)},Ou=function(t){var e=Ue.cacheSuffix;return e&&(t+=(t.indexOf("?")===-1?"?":"&")+e),t},hn={trim:Tu,isArray:Eo,is:Jl,toArray:Xi,makeMap:Hc,each:Oo,map:hi,grep:ii,inArray:cr,hasOwn:Bo,extend:ji,create:Wa,walk:dc,createNS:fa,resolve:bu,explode:Rg,_addCacheSuffix:Ou},Gf=function(t,e){var o=e||document,u=o.createElement("div");if(u.innerHTML=t,!u.hasChildNodes()||u.childNodes.length>1)throw console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return F(u.childNodes[0])},bi=function(t,e){var o=e||document,u=o.createElement(t);return F(u)},ls=function(t,e){var o=e||document,u=o.createTextNode(t);return F(u)},F=function(t){if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},it=function(t,e,o){return I.from(t.dom.elementFromPoint(e,o)).map(F)},H={fromHtml:Gf,fromTag:bi,fromText:ls,fromDom:F,fromPoint:it},pn=function(t,e){var o=[],u=function(f){return o.push(f),e(f)},c=e(t);do c=c.bind(u);while(c.isSome());return o},At=function(t,e,o){return(t.compareDocumentPosition(e)&o)!==0},gr=function(t,e){return At(t,e,Node.DOCUMENT_POSITION_CONTAINED_BY)},Do=8,rr=9,ru=11,da=1,Ai=3,Du=function(t,e){var o=t.dom;if(o.nodeType!==da)return!1;var u=o;if(u.matches!==void 0)return u.matches(e);if(u.msMatchesSelector!==void 0)return u.msMatchesSelector(e);if(u.webkitMatchesSelector!==void 0)return u.webkitMatchesSelector(e);if(u.mozMatchesSelector!==void 0)return u.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},mc=function(t){return t.nodeType!==da&&t.nodeType!==rr&&t.nodeType!==ru||t.childElementCount===0},Kf=function(t,e){var o=e===void 0?document:e.dom;return mc(o)?[]:Et(o.querySelectorAll(t),H.fromDom)},ma=function(t,e){var o=e===void 0?document:e.dom;return mc(o)?I.none():I.from(o.querySelector(t)).map(H.fromDom)},Cr=function(t,e){return t.dom===e.dom},ou=function(t,e){var o=t.dom,u=e.dom;return o===u?!1:o.contains(u)},zs=function(t,e){return gr(t.dom,e.dom)},uo=function(t,e){return lo().browser.isIE()?zs(t,e):ou(t,e)};typeof window!="undefined"||Function("return this;")();var Mo=function(t){var e=t.dom.nodeName;return e.toLowerCase()},Pg=function(t){return t.dom.nodeType},Gi=function(t){return function(e){return Pg(e)===t}},ym=function(t){return Pg(t)===Do||Mo(t)==="#comment"},It=Gi(da),Ti=Gi(Ai),fs=Gi(rr),dl=Gi(ru),Aa=function(t){return H.fromDom(t.dom.ownerDocument)},fo=function(t){return fs(t)?t:Aa(t)},ri=function(t){return H.fromDom(fo(t).dom.documentElement)},Mi=function(t){return H.fromDom(fo(t).dom.defaultView)},iu=function(t){return I.from(t.dom.parentNode).map(H.fromDom)},Ya=function(t,e){for(var o=Tn(e)?e:ve,u=t.dom,c=[];u.parentNode!==null&&u.parentNode!==void 0;){var f=u.parentNode,p=H.fromDom(f);if(c.push(p),o(p)===!0)break;u=f}return c},xi=function(t){var e=function(o){return An(o,function(u){return!Cr(t,u)})};return iu(t).map(Ki).map(e).getOr([])},re=function(t){return I.from(t.dom.previousSibling).map(H.fromDom)},gc=function(t){return I.from(t.dom.nextSibling).map(H.fromDom)},pc=function(t){return Zn(pn(t,re))},ml=function(t){return pn(t,gc)},Ki=function(t){return Et(t.dom.childNodes,H.fromDom)},Oi=function(t,e){var o=t.dom.childNodes;return I.from(o[e]).map(H.fromDom)},Fe=function(t){return Oi(t,0)},hc=function(t){return Oi(t,t.dom.childNodes.length-1)},Lg=function(t){return t.dom.childNodes.length},Vc=function(t){var e=t.dom.head;if(e==null)throw new Error("Head is not available yet");return H.fromDom(e)},$a=function(t){return dl(t)&&cn(t.dom.host)},Ig=Tn(Element.prototype.attachShadow)&&Tn(Node.prototype.getRootNode),vc=jt(Ig),Ta=Ig?function(t){return H.fromDom(t.dom.getRootNode())}:fo,wm=function(t){return $a(t)?t:Vc(fo(t))},Hg=function(t){var e=Ta(t);return $a(e)?I.some(e):I.none()},xm=function(t){return H.fromDom(t.dom.host)},Zl=function(t){if(vc()&&cn(t.target)){var e=H.fromDom(t.target);if(It(e)&&Vg(e)&&t.composed&&t.composedPath){var o=t.composedPath();if(o)return gn(o)}}return I.from(t.target)},Vg=function(t){return cn(t.dom.shadowRoot)},Jo=function(t,e){var o=iu(t);o.each(function(u){u.dom.insertBefore(e.dom,t.dom)})},Uc=function(t,e){var o=gc(t);o.fold(function(){var u=iu(t);u.each(function(c){Ji(c,e)})},function(u){Jo(u,e)})},Oh=function(t,e){var o=Fe(t);o.fold(function(){Ji(t,e)},function(u){t.dom.insertBefore(e.dom,u.dom)})},Ji=function(t,e){t.dom.appendChild(e.dom)},ds=function(t,e){Jo(t,e),Ji(e,t)},bc=function(t,e){yt(e,function(o){Jo(t,o)})},ai=function(t,e){yt(e,function(o){Ji(t,o)})},Ql=function(t){t.dom.textContent="",yt(Ki(t),function(e){Zi(e)})},Zi=function(t){var e=t.dom;e.parentNode!==null&&e.parentNode.removeChild(e)},Cm=function(t){var e=Ki(t);e.length>0&&bc(t,e),Zi(t)},gl=function(t){var e=Ti(t)?t.dom.parentNode:t.dom;if(e==null||e.ownerDocument===null)return!1;var o=e.ownerDocument;return Hg(H.fromDom(e)).fold(function(){return o.body.contains(e)},Y(gl,xm))},Jf=function(t,e){var o=function(u,c){return Jf(t+u,e+c)};return{left:t,top:e,translate:o}},pl=Jf,Sm=function(t){var e=t.getBoundingClientRect();return pl(e.left,e.top)},Ms=function(t,e){return t!==void 0?t:e!==void 0?e:0},Zf=function(t){var e=t.dom.ownerDocument,o=e.body,u=e.defaultView,c=e.documentElement;if(o===t.dom)return pl(o.offsetLeft,o.offsetTop);var f=Ms(u==null?void 0:u.pageYOffset,c.scrollTop),p=Ms(u==null?void 0:u.pageXOffset,c.scrollLeft),b=Ms(c.clientTop,o.clientTop),y=Ms(c.clientLeft,o.clientLeft);return Qf(t).translate(p-y,f-b)},Qf=function(t){var e=t.dom,o=e.ownerDocument,u=o.body;return u===e?pl(u.offsetLeft,u.offsetTop):gl(t)?Sm(e):pl(0,0)},td=function(t){var e=t!==void 0?t.dom:document,o=e.body.scrollLeft||e.documentElement.scrollLeft,u=e.body.scrollTop||e.documentElement.scrollTop;return pl(o,u)},Oa=function(t,e,o){var u=o!==void 0?o.dom:document,c=u.defaultView;c&&c.scrollTo(t,e)},qu=function(t,e){var o=lo().browser.isSafari();o&&Tn(t.dom.scrollIntoViewIfNeeded)?t.dom.scrollIntoViewIfNeeded(!1):t.dom.scrollIntoView(e)},Da=function(t){var e=t===void 0?window:t;return I.from(e.visualViewport)},_u=function(t,e,o,u){return{x:t,y:e,width:o,height:u,right:t+o,bottom:e+u}},tf=function(t){var e=t===void 0?window:t,o=e.document,u=td(H.fromDom(o));return Da(e).fold(function(){var c=e.document.documentElement,f=c.clientWidth,p=c.clientHeight;return _u(u.left,u.top,f,p)},function(c){return _u(Math.max(c.pageLeft,u.left),Math.max(c.pageTop,u.top),c.width,c.height)})},Rs=function(t){return function(e){return!!e&&e.nodeType===t}},yc=function(t){return!!t&&!Object.getPrototypeOf(t)},Vr=Rs(1),Xa=function(t){var e=t.map(function(o){return o.toLowerCase()});return function(o){if(o&&o.nodeName){var u=o.nodeName.toLowerCase();return Wt(e,u)}return!1}},hl=function(t,e){var o=e.toLowerCase().split(" ");return function(u){var c,f;if(Vr(u))for(c=0;c<o.length;c++){var p=u.ownerDocument.defaultView.getComputedStyle(u,null);if(f=p?p.getPropertyValue(t):null,f===o[c])return!0}return!1}},km=function(t){return function(e){return Vr(e)&&e.hasAttribute(t)}},L0=function(t,e){return function(o){return Vr(o)&&o.getAttribute(t)===e}},vl=function(t){return Vr(t)&&t.hasAttribute("data-mce-bogus")},I0=function(t){return Vr(t)&&t.getAttribute("data-mce-bogus")==="all"},nf=function(t){return Vr(t)&&t.tagName==="TABLE"},Ga=function(t){return function(e){return!!(Vr(e)&&(e.contentEditable===t||e.getAttribute("data-mce-contenteditable")===t))}},T=Xa(["textarea","input"]),z=Rs(3),U=Rs(8),ht=Rs(9),Vt=Rs(11),In=Xa(["br"]),ir=Xa(["img"]),Br=Ga("true"),_r=Ga("false"),To=Xa(["td","th"]),Ur=Xa(["video","audio","object","embed"]),Wu=function(t){return t.style!==void 0&&Tn(t.style.getPropertyValue)},Dh=function(t,e,o){if($e(o)||Kr(o)||Xn(o))t.setAttribute(e,o+"");else throw console.error("Invalid call to Attribute.set. Key ",e,":: Value ",o,":: Element ",t),new Error("Attribute value was not simple")},jc=function(t,e,o){Dh(t.dom,e,o)},ms=function(t,e){var o=t.dom;Or(e,function(u,c){Dh(o,c,u)})},Em=function(t,e){var o=t.dom.getAttribute(e);return o===null?void 0:o},Am=function(t,e){return I.from(Em(t,e))},Ug=function(t,e){var o=t.dom;return o&&o.hasAttribute?o.hasAttribute(e):!1},ga=function(t,e){t.dom.removeAttribute(e)},H0=function(t){return ze(t.dom.attributes,function(e,o){return e[o.name]=o.value,e},{})},qi=function(t,e,o){if(!$e(o))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",o,":: Element ",t),new Error("CSS value must be a string: "+o);Wu(t)&&t.style.setProperty(e,o)},tS=function(t,e){var o=t.dom;Or(e,function(u,c){qi(o,c,u)})},bl=function(t,e){var o=t.dom,u=window.getComputedStyle(o),c=u.getPropertyValue(e);return c===""&&!gl(t)?Fu(o,e):c},Fu=function(t,e){return Wu(t)?t.style.getPropertyValue(e):""},Yu=function(t,e){var o=t.dom,u=Fu(o,e);return I.from(u).filter(function(c){return c.length>0})},ef=function(t){var e={},o=t.dom;if(Wu(o))for(var u=0;u<o.style.length;u++){var c=o.style.item(u);e[c]=o.style[c]}return e},ea=function(t){return t.dom.offsetWidth},Zy=lo().browser,wc=function(t){return Lr(t,It)},Tm=function(t){return Zy.isFirefox()&&Mo(t)==="table"?wc(Ki(t)).filter(function(e){return Mo(e)==="caption"}).bind(function(e){return wc(ml(e)).map(function(o){var u=o.dom.offsetTop,c=e.dom.offsetTop,f=e.dom.offsetHeight;return u<=c?-f:0})}).getOr(0):0},nd=function(t,e){return t.children&&Wt(t.children,e)},_h=function(t,e,o){var u=0,c=0,f,p=t.ownerDocument,b;if(o=o||t,e){if(o===t&&e.getBoundingClientRect&&bl(H.fromDom(t),"position")==="static")return b=e.getBoundingClientRect(),u=b.left+(p.documentElement.scrollLeft||t.scrollLeft)-p.documentElement.clientLeft,c=b.top+(p.documentElement.scrollTop||t.scrollTop)-p.documentElement.clientTop,{x:u,y:c};for(f=e;f&&f!==o&&f.nodeType&&!nd(f,o);)u+=f.offsetLeft||0,c+=f.offsetTop||0,f=f.offsetParent;for(f=e.parentNode;f&&f!==o&&f.nodeType&&!nd(f,o);)u-=f.scrollLeft||0,c-=f.scrollTop||0,f=f.parentNode;c+=Tm(H.fromDom(e))}return{x:u,y:c}},yl={},wl={exports:yl};(function(t,e,o,u){(function(c){if(typeof e=="object"&&typeof o!="undefined")o.exports=c();else if(typeof t=="function"&&t.amd)t([],c);else{var f;typeof window!="undefined"?f=window:typeof w5!="undefined"?f=w5:typeof self!="undefined"?f=self:f=this,f.EphoxContactWrapper=c()}})(function(){return function(){function c(f,p,b){function y(B,M){if(!p[B]){if(!f[B]){var X=typeof u=="function"&&u;if(!M&&X)return X(B,!0);if(A)return A(B,!0);var J=new Error("Cannot find module '"+B+"'");throw J.code="MODULE_NOT_FOUND",J}var Q=p[B]={exports:{}};f[B][0].call(Q.exports,function($){var pt=f[B][1][$];return y(pt||$)},Q,Q.exports,c,f,p,b)}return p[B].exports}for(var A=typeof u=="function"&&u,N=0;N<b.length;N++)y(b[N]);return y}return c}()({1:[function(c,f,p){var b=f.exports={},y,A;function N(){throw new Error("setTimeout has not been defined")}function B(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?y=setTimeout:y=N}catch{y=N}try{typeof clearTimeout=="function"?A=clearTimeout:A=B}catch{A=B}})();function M(On){if(y===setTimeout)return setTimeout(On,0);if((y===N||!y)&&setTimeout)return y=setTimeout,setTimeout(On,0);try{return y(On,0)}catch{try{return y.call(null,On,0)}catch{return y.call(this,On,0)}}}function X(On){if(A===clearTimeout)return clearTimeout(On);if((A===B||!A)&&clearTimeout)return A=clearTimeout,clearTimeout(On);try{return A(On)}catch{try{return A.call(null,On)}catch{return A.call(this,On)}}}var J=[],Q=!1,$,pt=-1;function mt(){!Q||!$||(Q=!1,$.length?J=$.concat(J):pt=-1,J.length&&vt())}function vt(){if(!Q){var On=M(mt);Q=!0;for(var te=J.length;te;){for($=J,J=[];++pt<te;)$&&$[pt].run();pt=-1,te=J.length}$=null,Q=!1,X(On)}}b.nextTick=function(On){var te=new Array(arguments.length-1);if(arguments.length>1)for(var se=1;se<arguments.length;se++)te[se-1]=arguments[se];J.push(new Tt(On,te)),J.length===1&&!Q&&M(vt)};function Tt(On,te){this.fun=On,this.array=te}Tt.prototype.run=function(){this.fun.apply(null,this.array)},b.title="browser",b.browser=!0,b.env={},b.argv=[],b.version="",b.versions={};function Ut(){}b.on=Ut,b.addListener=Ut,b.once=Ut,b.off=Ut,b.removeListener=Ut,b.removeAllListeners=Ut,b.emit=Ut,b.prependListener=Ut,b.prependOnceListener=Ut,b.listeners=function(On){return[]},b.binding=function(On){throw new Error("process.binding is not supported")},b.cwd=function(){return"/"},b.chdir=function(On){throw new Error("process.chdir is not supported")},b.umask=function(){return 0}},{}],2:[function(c,f,p){(function(b){(function(y){var A=setTimeout;function N(){}function B(vt,Tt){return function(){vt.apply(Tt,arguments)}}function M(vt){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof vt!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],mt(vt,this)}function X(vt,Tt){for(;vt._state===3;)vt=vt._value;if(vt._state===0){vt._deferreds.push(Tt);return}vt._handled=!0,M._immediateFn(function(){var Ut=vt._state===1?Tt.onFulfilled:Tt.onRejected;if(Ut===null){(vt._state===1?J:Q)(Tt.promise,vt._value);return}var On;try{On=Ut(vt._value)}catch(te){Q(Tt.promise,te);return}J(Tt.promise,On)})}function J(vt,Tt){try{if(Tt===vt)throw new TypeError("A promise cannot be resolved with itself.");if(Tt&&(typeof Tt=="object"||typeof Tt=="function")){var Ut=Tt.then;if(Tt instanceof M){vt._state=3,vt._value=Tt,$(vt);return}else if(typeof Ut=="function"){mt(B(Ut,Tt),vt);return}}vt._state=1,vt._value=Tt,$(vt)}catch(On){Q(vt,On)}}function Q(vt,Tt){vt._state=2,vt._value=Tt,$(vt)}function $(vt){vt._state===2&&vt._deferreds.length===0&&M._immediateFn(function(){vt._handled||M._unhandledRejectionFn(vt._value)});for(var Tt=0,Ut=vt._deferreds.length;Tt<Ut;Tt++)X(vt,vt._deferreds[Tt]);vt._deferreds=null}function pt(vt,Tt,Ut){this.onFulfilled=typeof vt=="function"?vt:null,this.onRejected=typeof Tt=="function"?Tt:null,this.promise=Ut}function mt(vt,Tt){var Ut=!1;try{vt(function(On){Ut||(Ut=!0,J(Tt,On))},function(On){Ut||(Ut=!0,Q(Tt,On))})}catch(On){if(Ut)return;Ut=!0,Q(Tt,On)}}M.prototype.catch=function(vt){return this.then(null,vt)},M.prototype.then=function(vt,Tt){var Ut=new this.constructor(N);return X(this,new pt(vt,Tt,Ut)),Ut},M.all=function(vt){var Tt=Array.prototype.slice.call(vt);return new M(function(Ut,On){if(Tt.length===0)return Ut([]);var te=Tt.length;function se(nr,Ln){try{if(Ln&&(typeof Ln=="object"||typeof Ln=="function")){var Tr=Ln.then;if(typeof Tr=="function"){Tr.call(Ln,function(Ce){se(nr,Ce)},On);return}}Tt[nr]=Ln,--te===0&&Ut(Tt)}catch(Ce){On(Ce)}}for(var Ge=0;Ge<Tt.length;Ge++)se(Ge,Tt[Ge])})},M.resolve=function(vt){return vt&&typeof vt=="object"&&vt.constructor===M?vt:new M(function(Tt){Tt(vt)})},M.reject=function(vt){return new M(function(Tt,Ut){Ut(vt)})},M.race=function(vt){return new M(function(Tt,Ut){for(var On=0,te=vt.length;On<te;On++)vt[On].then(Tt,Ut)})},M._immediateFn=typeof b=="function"?function(vt){b(vt)}:function(vt){A(vt,0)},M._unhandledRejectionFn=function(vt){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",vt)},M._setImmediateFn=function(vt){M._immediateFn=vt},M._setUnhandledRejectionFn=function(vt){M._unhandledRejectionFn=vt},typeof f!="undefined"&&f.exports?f.exports=M:y.Promise||(y.Promise=M)})(this)}).call(this,c("timers").setImmediate)},{timers:3}],3:[function(c,f,p){(function(b,y){var A=c("process/browser.js").nextTick,N=Function.prototype.apply,B=Array.prototype.slice,M={},X=0;p.setTimeout=function(){return new J(N.call(setTimeout,window,arguments),clearTimeout)},p.setInterval=function(){return new J(N.call(setInterval,window,arguments),clearInterval)},p.clearTimeout=p.clearInterval=function(Q){Q.close()};function J(Q,$){this._id=Q,this._clearFn=$}J.prototype.unref=J.prototype.ref=function(){},J.prototype.close=function(){this._clearFn.call(window,this._id)},p.enroll=function(Q,$){clearTimeout(Q._idleTimeoutId),Q._idleTimeout=$},p.unenroll=function(Q){clearTimeout(Q._idleTimeoutId),Q._idleTimeout=-1},p._unrefActive=p.active=function(Q){clearTimeout(Q._idleTimeoutId);var $=Q._idleTimeout;$>=0&&(Q._idleTimeoutId=setTimeout(function(){Q._onTimeout&&Q._onTimeout()},$))},p.setImmediate=typeof b=="function"?b:function(Q){var $=X++,pt=arguments.length<2?!1:B.call(arguments,1);return M[$]=!0,A(function(){M[$]&&(pt?Q.apply(null,pt):Q.call(null),p.clearImmediate($))}),$},p.clearImmediate=typeof y=="function"?y:function(Q){delete M[Q]}}).call(this,c("timers").setImmediate,c("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(c,f,p){var b=c("promise-polyfill"),y=function(){return typeof window!="undefined"?window:Function("return this;")()}();f.exports={boltExport:y.Promise||b}},{"promise-polyfill":2}]},{},[4])(4)})})(void 0,yl,wl,void 0);var jg=wl.exports.boltExport,Om=function(t){var e=I.none(),o=[],u=function(A){return Om(function(N){c(function(B){N(A(B))})})},c=function(A){p()?y(A):o.push(A)},f=function(A){p()||(e=I.some(A),b(o),o=[])},p=function(){return e.isSome()},b=function(A){yt(A,y)},y=function(A){e.each(function(N){setTimeout(function(){A(N)},0)})};return t(f),{get:c,map:u,isReady:p}},nS=function(t){return Om(function(e){e(t)})},Dm={nu:Om,pure:nS},qg=function(t){setTimeout(function(){throw t},0)},Ps=function(t){var e=function(y){t().then(y,qg)},o=function(y){return Ps(function(){return t().then(y)})},u=function(y){return Ps(function(){return t().then(function(A){return y(A).toPromise()})})},c=function(y){return Ps(function(){return t().then(function(){return y.toPromise()})})},f=function(){return Dm.nu(e)},p=function(){var y=null;return Ps(function(){return y===null&&(y=t()),y})},b=t;return{map:o,bind:u,anonBind:c,toLazy:f,toCached:p,toPromise:b,get:e}},V0=function(t){return Ps(function(){return new jg(t)})},eS=function(t){return Ps(function(){return jg.resolve(t)})},Ci={nu:V0,pure:eS},Qy=function(t,e){return e(function(o){var u=[],c=0,f=function(p){return function(b){u[p]=b,c++,c>=t.length&&o(u)}};t.length===0?o([]):yt(t,function(p,b){p.get(f(b))})})},Ls=function(t){return Qy(t,Ci.nu)},rf=function(t){var e=function(M){return t===M},o=function(M){return rf(t)},u=function(M){return rf(t)},c=function(M){return rf(M(t))},f=function(M){return rf(t)},p=function(M){M(t)},b=function(M){return M(t)},y=function(M,X){return X(t)},A=function(M){return M(t)},N=function(M){return M(t)},B=function(){return I.some(t)};return{is:e,isValue:ue,isError:ve,getOr:jt(t),getOrThunk:jt(t),getOrDie:jt(t),or:o,orThunk:u,fold:y,map:c,mapError:f,each:p,bind:b,exists:A,forall:N,toOptional:B}},xl=function(t){var e=function(A){return A()},o=function(){return S(String(t))()},u=function(A){return A},c=function(A){return A()},f=function(A){return xl(t)},p=function(A){return xl(A(t))},b=function(A){return xl(t)},y=function(A,N){return A(t)};return{is:ve,isValue:ve,isError:ue,getOr:le,getOrThunk:e,getOrDie:o,or:u,orThunk:c,fold:y,map:f,mapError:p,each:tt,bind:b,exists:ve,forall:ue,toOptional:I.none}},Is=function(t,e){return t.fold(function(){return xl(e)},rf)},ra={value:rf,error:xl,fromOption:Is},Wg=function(t){if(!bn(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");var e=[],o={};return yt(t,function(u,c){var f=Nr(u);if(f.length!==1)throw new Error("one and only one name per case");var p=f[0],b=u[p];if(o[p]!==void 0)throw new Error("duplicate key detected:"+p);if(p==="cata")throw new Error("cannot have a case named cata (sorry)");if(!bn(b))throw new Error("case arguments must be an array");e.push(p),o[p]=function(){for(var y=[],A=0;A<arguments.length;A++)y[A]=arguments[A];var N=y.length;if(N!==b.length)throw new Error("Wrong number of arguments to case "+p+". Expected "+b.length+" ("+b+"), got "+N);var B=function(M){var X=Nr(M);if(e.length!==X.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+`
Actual: `+X.join(","));var J=ee(e,function(Q){return Wt(X,Q)});if(!J)throw new Error("Not all branches were specified when using match. Specified: "+X.join(", ")+`
Required: `+e.join(", "));return M[p].apply(null,y)};return{fold:function(){for(var M=[],X=0;X<arguments.length;X++)M[X]=arguments[X];if(M.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+M.length);var J=M[c];return J.apply(null,y)},match:B,log:function(M){console.log(M,{constructors:e,constructor:p,params:y})}}}}),o},xc={generate:Wg};xc.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var t2=function(t){return t.fold(le,le)};function Yg(t,e,o,u,c){return t(o,u)?I.some(o):Tn(c)&&c(o)?I.none():e(o,u,c)}var of=function(t,e,o){for(var u=t.dom,c=Tn(o)?o:ve;u.parentNode;){u=u.parentNode;var f=H.fromDom(u);if(e(f))return I.some(f);if(c(f))break}return I.none()},ed=function(t,e,o){var u=function(c,f){return f(c)};return Yg(u,of,t,e,o)},rS=function(t,e){var o=t.dom;return o.parentNode?Cl(H.fromDom(o.parentNode),function(u){return!Cr(t,u)&&e(u)}):I.none()},Cl=function(t,e){var o=function(c){return e(H.fromDom(c))},u=Lr(t.dom.childNodes,o);return u.map(H.fromDom)},uf=function(t,e,o){return of(t,function(u){return Du(u,e)},o)},Sl=function(t,e){return ma(e,t)},kl=function(t,e,o){var u=function(c,f){return Du(c,f)};return Yg(u,uf,t,e,o)},$g=function(){var t=function(N,B){return function(){for(var M=[],X=0;X<arguments.length;X++)M[X]=arguments[X];N.apply(B,M)}},e=Array.isArray||function(N){return Object.prototype.toString.call(N)==="[object Array]"},o=function(N){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof N!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],A(N,t(f,this),t(p,this))},u=o.immediateFn||typeof setImmediate=="function"&&setImmediate||function(N){return setTimeout(N,1)};function c(N){var B=this;if(this._state===null){this._deferreds.push(N);return}u(function(){var M=B._state?N.onFulfilled:N.onRejected;if(M===null){(B._state?N.resolve:N.reject)(B._value);return}var X;try{X=M(B._value)}catch(J){N.reject(J);return}N.resolve(X)})}function f(N){try{if(N===this)throw new TypeError("A promise cannot be resolved with itself.");if(N&&(typeof N=="object"||typeof N=="function")){var B=N.then;if(typeof B=="function"){A(t(B,N),t(f,this),t(p,this));return}}this._state=!0,this._value=N,b.call(this)}catch(M){p.call(this,M)}}function p(N){this._state=!1,this._value=N,b.call(this)}function b(){for(var N=0,B=this._deferreds.length;N<B;N++)c.call(this,this._deferreds[N]);this._deferreds=null}function y(N,B,M,X){this.onFulfilled=typeof N=="function"?N:null,this.onRejected=typeof B=="function"?B:null,this.resolve=M,this.reject=X}var A=function(N,B,M){var X=!1;try{N(function(J){X||(X=!0,B(J))},function(J){X||(X=!0,M(J))})}catch(J){if(X)return;X=!0,M(J)}};return o.prototype.catch=function(N){return this.then(null,N)},o.prototype.then=function(N,B){var M=this;return new o(function(X,J){c.call(M,new y(N,B,X,J))})},o.all=function(){for(var N=[],B=0;B<arguments.length;B++)N[B]=arguments[B];var M=Array.prototype.slice.call(N.length===1&&e(N[0])?N[0]:N);return new o(function(X,J){if(M.length===0)return X([]);for(var Q=M.length,$=function(mt,vt){try{if(vt&&(typeof vt=="object"||typeof vt=="function")){var Tt=vt.then;if(typeof Tt=="function"){Tt.call(vt,function(Ut){$(mt,Ut)},J);return}}M[mt]=vt,--Q===0&&X(M)}catch(Ut){J(Ut)}},pt=0;pt<M.length;pt++)$(pt,M[pt])})},o.resolve=function(N){return N&&typeof N=="object"&&N.constructor===o?N:new o(function(B){B(N)})},o.reject=function(N){return new o(function(B,M){M(N)})},o.race=function(N){return new o(function(B,M){for(var X=0,J=N.length;X<J;X++)N[X].then(B,M)})},o},Ri=window.Promise?window.Promise:$g(),Fh,n2=function(t,e){for(var o=window.requestAnimationFrame,u=["ms","moz","webkit"],c=function(p){window.setTimeout(p,0)},f=0;f<u.length&&!o;f++)o=window[u[f]+"RequestAnimationFrame"];o||(o=c),o(t,e)},_m=function(t,e){return typeof e!="number"&&(e=0),setTimeout(t,e)},Bh=function(t,e){return typeof e!="number"&&(e=1),setInterval(t,e)},rd=function(t){return clearTimeout(t)},e2=function(t){return clearInterval(t)},Nh=function(t,e){var o,u=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];clearTimeout(o),o=_m(function(){t.apply(this,c)},e)};return u.stop=function(){clearTimeout(o)},u},Hr={requestAnimationFrame:function(t,e){if(Fh){Fh.then(t);return}Fh=new Ri(function(o){e||(e=document.body),n2(o,e)}).then(t)},setTimeout:_m,setInterval:Bh,setEditorTimeout:function(t,e,o){return _m(function(){t.removed||e()},o)},setEditorInterval:function(t,e,o){var u=Bh(function(){t.removed?clearInterval(u):e()},o);return u},debounce:Nh,throttle:Nh,clearInterval:e2,clearTimeout:rd},Sr=function(t,e){e===void 0&&(e={});var o=0,u={},c=H.fromDom(t),f=fo(c),p=e.maxLoadTime||5e3,b=function($){e.referrerPolicy=$},y=function($){Ji(wm(c),$)},A=function($){var pt=wm(c);Sl(pt,"#"+$).each(Zi)},N=function($){return zr(u,$).getOrThunk(function(){return{id:"mce-u"+o++,passed:[],failed:[],count:0}})},B=function($,pt,mt){var vt,Tt=hn._addCacheSuffix($),Ut=N(Tt);u[Tt]=Ut,Ut.count++;var On=function(Ce,Je){for(var ie=Ce.length;ie--;)Ce[ie]();Ut.status=Je,Ut.passed=[],Ut.failed=[],vt&&(vt.onload=null,vt.onerror=null,vt=null)},te=function(){return On(Ut.passed,2)},se=function(){return On(Ut.failed,3)},Ge=function(Ce,Je){Ce()||(Date.now()-Tr<p?Hr.setTimeout(Je):se())},nr=function(){Ge(function(){for(var Ce=t.styleSheets,Je=Ce.length;Je--;){var ie=Ce[Je],Te=ie.ownerNode;if(Te&&Te.id===vt.id)return te(),!0}return!1},nr)};if(pt&&Ut.passed.push(pt),mt&&Ut.failed.push(mt),Ut.status!==1){if(Ut.status===2){te();return}if(Ut.status===3){se();return}Ut.status=1;var Ln=H.fromTag("link",f.dom);ms(Ln,{rel:"stylesheet",type:"text/css",id:Ut.id});var Tr=Date.now();e.contentCssCors&&jc(Ln,"crossOrigin","anonymous"),e.referrerPolicy&&jc(Ln,"referrerpolicy",e.referrerPolicy),vt=Ln.dom,vt.onload=nr,vt.onerror=se,y(Ln),jc(Ln,"href",Tt)}},M=function($){return Ci.nu(function(pt){B($,ln(pt,jt(ra.value($))),ln(pt,jt(ra.error($))))})},X=function($,pt,mt){Ls(Et($,M)).get(function(vt){var Tt=be(vt,function(Ut){return Ut.isValue()});Tt.fail.length>0?mt(Tt.fail.map(t2)):pt(Tt.pass.map(t2))})},J=function($){var pt=hn._addCacheSuffix($);zr(u,pt).each(function(mt){var vt=--mt.count;vt===0&&(delete u[pt],A(mt.id))})},Q=function($){yt($,function(pt){J(pt)})};return{load:B,loadAll:X,unload:J,unloadAll:Q,_setReferrerPolicy:b}},od=function(){var t=new WeakMap,e=function(o,u){var c=Ta(o),f=c.dom;return I.from(t.get(f)).getOrThunk(function(){var p=Sr(f,u);return t.set(f,p),p})};return{forElement:e}},Xg=od(),Wi=function(){function t(e,o){this.node=e,this.rootNode=o,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return t.prototype.current=function(){return this.node},t.prototype.next=function(e){return this.node=this.findSibling(this.node,"firstChild","nextSibling",e),this.node},t.prototype.prev=function(e){return this.node=this.findSibling(this.node,"lastChild","previousSibling",e),this.node},t.prototype.prev2=function(e){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",e),this.node},t.prototype.findSibling=function(e,o,u,c){var f,p;if(e){if(!c&&e[o])return e[o];if(e!==this.rootNode){if(f=e[u],f)return f;for(p=e.parentNode;p&&p!==this.rootNode;p=p.parentNode)if(f=p[u],f)return f}}},t.prototype.findPreviousNode=function(e,o,u,c){var f,p,b;if(e){if(f=e[u],this.rootNode&&f===this.rootNode)return;if(f){if(!c){for(b=f[o];b;b=b[o])if(!b[o])return b}return f}if(p=e.parentNode,p&&p!==this.rootNode)return p}},t}(),U0=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],po=["td","th"],zh=["thead","tbody","tfoot"],j0=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],q0=["h1","h2","h3","h4","h5","h6"],Fn=["li","dd","dt"],W0=["ul","ol","dl"],r2=["pre","script","textarea","style"],gs=function(t){var e;return function(o){return e=e||Me(t,ue),e.hasOwnProperty(Mo(o))}},o2=gs(q0),$u=gs(U0),Mh=function(t){return Mo(t)==="table"},Hs=function(t){return It(t)&&!$u(t)},Ka=function(t){return It(t)&&Mo(t)==="br"},id=gs(j0),si=gs(W0),oa=gs(Fn),oS=gs(zh),Cc=gs(po),Ja=gs(r2),i2=function(t,e,o){return uf(t,e,o).isSome()},ud="\uFEFF",uu="\xA0",ad=function(t){return t===ud},Y0=function(t){return t.replace(/\uFEFF/g,"")},Bu=ud,Sc=ad,kc=Y0,$0=Vr,ps=z,yu=function(t){return ps(t)&&(t=t.parentNode),$0(t)&&t.hasAttribute("data-mce-caret")},Fm=function(t){return ps(t)&&Sc(t.data)},pa=function(t){return yu(t)||Fm(t)},Gg=function(t){return t.firstChild!==t.lastChild||!In(t.firstChild)},hs=function(t,e){var o,u=t.ownerDocument,c=u.createTextNode(Bu),f=t.parentNode;if(e){if(o=t.previousSibling,ps(o)){if(pa(o))return o;if(Yi(o))return o.splitText(o.data.length-1)}f.insertBefore(c,t)}else{if(o=t.nextSibling,ps(o)){if(pa(o))return o;if(Rh(o))return o.splitText(1),o}t.nextSibling?f.insertBefore(c,t.nextSibling):f.appendChild(c)}return c},Kg=function(t){var e=t.container();return z(e)?e.data.charAt(t.offset())===Bu||t.isAtStart()&&Fm(e.previousSibling):!1},X0=function(t){var e=t.container();return z(e)?e.data.charAt(t.offset()-1)===Bu||t.isAtEnd()&&Fm(e.nextSibling):!1},G0=function(){var t=document.createElement("br");return t.setAttribute("data-mce-bogus","1"),t},K0=function(t,e,o){var u=e.ownerDocument,c=u.createElement(t);c.setAttribute("data-mce-caret",o?"before":"after"),c.setAttribute("data-mce-bogus","all"),c.appendChild(G0());var f=e.parentNode;return o?f.insertBefore(c,e):e.nextSibling?f.insertBefore(c,e.nextSibling):f.appendChild(c),c},Rh=function(t){return ps(t)&&t.data[0]===Bu},Yi=function(t){return ps(t)&&t.data[t.data.length-1]===Bu},Ph=function(t){var e=t.getElementsByTagName("br"),o=e[e.length-1];vl(o)&&o.parentNode.removeChild(o)},J0=function(t){return t&&t.hasAttribute("data-mce-caret")?(Ph(t),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("_moz_abspos"),t):null},u2=function(t){return yu(t.startContainer)},Lh=Br,Ih=_r,Z0=In,Hh=z,a2=Xa(["script","style","textarea"]),Q0=Xa(["img","input","textarea","hr","iframe","video","audio","object","embed"]),_a=Xa(["table"]),iS=pa,Vs=function(t){return iS(t)?!1:Hh(t)?!a2(t.parentNode):Q0(t)||Z0(t)||_a(t)||Jg(t)},c2=function(t){return Vr(t)&&t.getAttribute("unselectable")==="true"},Jg=function(t){return c2(t)===!1&&Ih(t)},af=function(t,e){for(t=t.parentNode;t&&t!==e;t=t.parentNode){if(Jg(t))return!1;if(Lh(t))return!0}return!0},cd=function(t){return Jg(t)?ze(ur(t.getElementsByTagName("*")),function(e,o){return e||Lh(o)},!1)!==!0:!1},s2=function(t){return Q0(t)||cd(t)},Bm=function(t,e){return Vs(t)&&af(t,e)},Zg=/^[ \t\r\n]*$/,sd=function(t){return Zg.test(t)},l2=function(t,e){var o=H.fromDom(e),u=H.fromDom(t);return i2(u,"pre,code",Qt(Cr,o))},ho=function(t,e){return z(t)&&sd(t.data)&&l2(t,e)===!1},f2=function(t){return Vr(t)&&t.nodeName==="A"&&!t.hasAttribute("href")&&(t.hasAttribute("name")||t.hasAttribute("id"))},wu=function(t,e){return Vs(t)&&ho(t,e)===!1||f2(t)||ld(t)},ld=km("data-mce-bookmark"),d2=km("data-mce-bogus"),Fa=L0("data-mce-bogus","all"),uS=function(t,e){var o,u=0;if(wu(t,t))return!1;if(o=t.firstChild,!o)return!0;var c=new Wi(o,t);do{if(e){if(Fa(o)){o=c.next(!0);continue}if(d2(o)){o=c.next();continue}}if(In(o)){u++,o=c.next();continue}if(wu(o,t))return!1;o=c.next()}while(o);return u<=1},Za=function(t,e){return e===void 0&&(e=!0),uS(t.dom,e)},aS=function(t){return t.nodeName.toLowerCase()==="span"},El=function(t,e){return cn(t)&&(wu(t,e)||Hs(H.fromDom(t)))},cS=function(t,e){var o=new Wi(t,e).prev(!1),u=new Wi(t,e).next(!1),c=br(o)||El(o,e),f=br(u)||El(u,e);return c&&f},t1=function(t){return aS(t)&&t.getAttribute("data-mce-type")==="bookmark"},m2=function(t,e){return z(t)&&t.data.length>0&&cS(t,e)},g2=function(t){return Vr(t)?t.childNodes.length>0:!1},tr=function(t){return Vt(t)||ht(t)},n1=function(t,e,o){var u=o||e;if(Vr(e)&&t1(e))return e;for(var c=e.childNodes,f=c.length-1;f>=0;f--)n1(t,c[f],u);if(Vr(e)){var p=e.childNodes;p.length===1&&t1(p[0])&&e.parentNode.insertBefore(p[0],e)}return!tr(e)&&!wu(e,u)&&!g2(e)&&!m2(e,u)&&t.remove(e),e},p2=hn.makeMap,Vh=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fd=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,e1=/[<>&\"\']/g,Uh=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Qg={128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"},vs={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},r1={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},tp=function(t){var e=H.fromTag("div").dom;return e.innerHTML=t,e.textContent||e.innerText||t},h2=function(t,e){var o,u,c,f={};if(t){for(t=t.split(","),e=e||10,o=0;o<t.length;o+=2)u=String.fromCharCode(parseInt(t[o],e)),vs[u]||(c="&"+t[o+1]+";",f[u]=c,f[c]=u);return f}},o1=h2("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),ha=function(t,e){return t.replace(e?Vh:fd,function(o){return vs[o]||o})},jh=function(t){return(""+t).replace(e1,function(e){return vs[e]||e})},i1=function(t,e){return t.replace(e?Vh:fd,function(o){return o.length>1?"&#"+((o.charCodeAt(0)-55296)*1024+(o.charCodeAt(1)-56320)+65536)+";":vs[o]||"&#"+o.charCodeAt(0)+";"})},Nm=function(t,e,o){return o=o||o1,t.replace(e?Vh:fd,function(u){return vs[u]||o[u]||u})},v2=function(t,e){var o=h2(e)||o1,u=function(p,b){return p.replace(b?Vh:fd,function(y){return vs[y]!==void 0?vs[y]:o[y]!==void 0?o[y]:y.length>1?"&#"+((y.charCodeAt(0)-55296)*1024+(y.charCodeAt(1)-56320)+65536)+";":"&#"+y.charCodeAt(0)+";"})},c=function(p,b){return Nm(p,b,o)},f=p2(t.replace(/\+/g,","));return f.named&&f.numeric?u:f.named?e?c:Nm:f.numeric?i1:ha},sS=function(t){return t.replace(Uh,function(e,o){return o?(o.charAt(0).toLowerCase()==="x"?o=parseInt(o.substr(1),16):o=parseInt(o,10),o>65535?(o-=65536,String.fromCharCode(55296+(o>>10),56320+(o&1023))):Qg[o]||String.fromCharCode(o)):r1[e]||o1[e]||tp(e)})},Ba={encodeRaw:ha,encodeAllRaw:jh,encodeNumeric:i1,encodeNamed:Nm,getEncodeFunc:v2,decode:sS},Xu={},Ec={},zm=hn.makeMap,ia=hn.each,u1=hn.extend,a1=hn.explode,bs=hn.inArray,xu=function(t,e){return t=hn.trim(t),t?t.split(e||" "):[]},cf=function(t){var e={},o,u,c,f,p,b,y=function(N,B,M){var X,J,Q,$=function(mt,vt){var Tt={},Ut,On;for(Ut=0,On=mt.length;Ut<On;Ut++)Tt[mt[Ut]]=vt||{};return Tt};M=M||[],B=B||"",typeof M=="string"&&(M=xu(M));var pt=xu(N);for(X=pt.length;X--;)J=xu([o,B].join(" ")),Q={attributes:$(J),attributesOrder:J,children:$(M,Ec)},e[pt[X]]=Q},A=function(N,B){var M,X,J,Q,$=xu(N);M=$.length;for(var pt=xu(B);M--;)for(X=e[$[M]],J=0,Q=pt.length;J<Q;J++)X.attributes[pt[J]]={},X.attributesOrder.push(pt[J])};return Xu[t]?Xu[t]:(o="id accesskey class dir lang style tabindex title role",u="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",c="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",t!=="html4"&&(o+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",u+=" article aside details dialog figure main header footer hgroup section nav",c+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),t!=="html5-strict"&&(o+=" xml:lang",b="acronym applet basefont big font strike tt",c=[c,b].join(" "),ia(xu(b),function(N){y(N,"",c)}),p="center dir isindex noframes",u=[u,p].join(" "),f=[u,c].join(" "),ia(xu(p),function(N){y(N,"",f)})),f=f||[u,c].join(" "),y("html","manifest","head body"),y("head","","base command link meta noscript script style title"),y("title hr noscript br"),y("base","href target"),y("link","href rel media hreflang type sizes hreflang"),y("meta","name http-equiv content charset"),y("style","media type scoped"),y("script","src async defer type charset"),y("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",f),y("address dt dd div caption","",f),y("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",c),y("blockquote","cite",f),y("ol","reversed start type","li"),y("ul","","li"),y("li","value",f),y("dl","","dt dd"),y("a","href target rel media hreflang type",c),y("q","cite",c),y("ins del","cite datetime",f),y("img","src sizes srcset alt usemap ismap width height"),y("iframe","src name width height",f),y("embed","src type width height"),y("object","data type typemustmatch name usemap form width height",[f,"param"].join(" ")),y("param","name value"),y("map","name",[f,"area"].join(" ")),y("area","alt coords shape href target rel media hreflang type"),y("table","border","caption colgroup thead tfoot tbody tr"+(t==="html4"?" col":"")),y("colgroup","span","col"),y("col","span"),y("tbody thead tfoot","","tr"),y("tr","","td th"),y("td","colspan rowspan headers",f),y("th","colspan rowspan headers scope abbr",f),y("form","accept-charset action autocomplete enctype method name novalidate target",f),y("fieldset","disabled form name",[f,"legend"].join(" ")),y("label","form for",c),y("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),y("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",t==="html4"?f:c),y("select","disabled form multiple name required size","option optgroup"),y("optgroup","disabled label","option"),y("option","disabled label selected value"),y("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),y("menu","type label",[f,"li"].join(" ")),y("noscript","",f),t!=="html4"&&(y("wbr"),y("ruby","",[c,"rt rp"].join(" ")),y("figcaption","",f),y("mark rt rp summary bdi","",c),y("canvas","width height",f),y("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[f,"track source"].join(" ")),y("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[f,"track source"].join(" ")),y("picture","","img source"),y("source","src srcset type media sizes"),y("track","kind src srclang label default"),y("datalist","",[c,"option"].join(" ")),y("article section nav aside main header footer","",f),y("hgroup","","h1 h2 h3 h4 h5 h6"),y("figure","",[f,"figcaption"].join(" ")),y("time","datetime",c),y("dialog","open",f),y("command","type label icon disabled checked radiogroup command"),y("output","for form name",c),y("progress","value max",c),y("meter","value min max low high optimum",c),y("details","open",[f,"summary"].join(" ")),y("keygen","autofocus challenge disabled form keytype name")),t!=="html5-strict"&&(A("script","language xml:space"),A("style","xml:space"),A("object","declare classid code codebase codetype archive standby align border hspace vspace"),A("embed","align name hspace vspace"),A("param","valuetype type"),A("a","charset name rev shape coords"),A("br","clear"),A("applet","codebase archive code object alt name width height align hspace vspace"),A("img","name longdesc align border hspace vspace"),A("iframe","longdesc frameborder marginwidth marginheight scrolling align"),A("font basefont","size color face"),A("input","usemap align"),A("select"),A("textarea"),A("h1 h2 h3 h4 h5 h6 div p legend caption","align"),A("ul","type compact"),A("li","type"),A("ol dl menu dir","compact"),A("pre","width xml:space"),A("hr","align noshade size width"),A("isindex","prompt"),A("table","summary width frame rules cellspacing cellpadding align bgcolor"),A("col","width align char charoff valign"),A("colgroup","width align char charoff valign"),A("thead","align char charoff valign"),A("tr","align char charoff valign bgcolor"),A("th","axis align char charoff valign nowrap bgcolor width height"),A("form","accept"),A("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),A("tfoot","align char charoff valign"),A("tbody","align char charoff valign"),A("area","nohref"),A("body","background bgcolor text link vlink alink")),t!=="html4"&&(A("input button select textarea","autofocus"),A("input textarea","placeholder"),A("a","download"),A("link script img","crossorigin"),A("img","loading"),A("iframe","sandbox seamless allowfullscreen loading")),ia(xu("a form meter progress dfn"),function(N){e[N]&&delete e[N].children[N]}),delete e.caption.children.table,delete e.script,Xu[t]=e,e)},c1=function(t,e){var o;return t&&(o={},typeof t=="string"&&(t={"*":t}),ia(t,function(u,c){o[c]=o[c.toUpperCase()]=e==="map"?zm(u,/[, ]/):a1(u,/[, ]/)})),o},sf=function(t){var e={},o={},u=[],c={},f={},p=function(De,pe,fn){var me=t[De];return me?me=zm(me,/[, ]/,zm(me.toUpperCase(),/[, ]/)):(me=Xu[De],me||(me=zm(pe," ",zm(pe.toUpperCase()," ")),me=u1(me,fn),Xu[De]=me)),me};t=t||{};var b=cf(t.schema);t.verify_html===!1&&(t.valid_elements="*[*]");var y=c1(t.valid_styles),A=c1(t.invalid_styles,"map"),N=c1(t.valid_classes,"map"),B=p("whitespace_elements","pre script noscript style textarea video audio iframe object code"),M=p("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),X=p("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),J=p("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),Q="td th iframe video audio object script code",$=p("non_empty_elements",Q+" pre",X),pt=p("move_caret_before_on_enter_elements",Q+" table",X),mt=p("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),vt=p("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",mt),Tt=p("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp");ia((t.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(De){f[De]=new RegExp("</"+De+"[^>]*>","gi")});var Ut=function(De){return new RegExp("^"+De.replace(/([?+*])/g,".$1")+"$")},On=function(De){var pe,fn,me,Se,Pr,pr,ei,hu,la,ja,Lc,qa,eu,na,Ic,ll,li,Go,ju=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,Wl=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,Yl=/[*?+]/;if(De){var is=xu(De,",");for(e["@"]&&(ll=e["@"].attributes,li=e["@"].attributesOrder),pe=0,fn=is.length;pe<fn;pe++)if(Pr=ju.exec(is[pe]),Pr){if(na=Pr[1],la=Pr[2],Ic=Pr[3],hu=Pr[5],qa={},eu=[],pr={attributes:qa,attributesOrder:eu},na==="#"&&(pr.paddEmpty=!0),na==="-"&&(pr.removeEmpty=!0),Pr[4]==="!"&&(pr.removeEmptyAttrs=!0),ll&&(Or(ll,function(Fg,N0){qa[N0]=Fg}),eu.push.apply(eu,li)),hu){for(hu=xu(hu,"|"),me=0,Se=hu.length;me<Se;me++)if(Pr=Wl.exec(hu[me]),Pr){if(ei={},Lc=Pr[1],ja=Pr[2].replace(/[\\:]:/g,":"),na=Pr[3],Go=Pr[4],Lc==="!"&&(pr.attributesRequired=pr.attributesRequired||[],pr.attributesRequired.push(ja),ei.required=!0),Lc==="-"){delete qa[ja],eu.splice(bs(eu,ja),1);continue}na&&(na==="="&&(pr.attributesDefault=pr.attributesDefault||[],pr.attributesDefault.push({name:ja,value:Go}),ei.defaultValue=Go),na===":"&&(pr.attributesForced=pr.attributesForced||[],pr.attributesForced.push({name:ja,value:Go}),ei.forcedValue=Go),na==="<"&&(ei.validValues=zm(Go,"?"))),Yl.test(ja)?(pr.attributePatterns=pr.attributePatterns||[],ei.pattern=Ut(ja),pr.attributePatterns.push(ei)):(qa[ja]||eu.push(ja),qa[ja]=ei)}}!ll&&la==="@"&&(ll=qa,li=eu),Ic&&(pr.outputName=la,e[Ic]=pr),Yl.test(la)?(pr.pattern=Ut(la),u.push(pr)):e[la]=pr}}},te=function(De){e={},u=[],On(De),ia(b,function(pe,fn){o[fn]=pe.children})},se=function(De){var pe=/^(~)?(.+)$/;De&&(Xu.text_block_elements=Xu.block_elements=null,ia(xu(De,","),function(fn){var me=pe.exec(fn),Se=me[1]==="~",Pr=Se?"span":"div",pr=me[2];if(o[pr]=o[Pr],c[pr]=Pr,Se||(vt[pr.toUpperCase()]={},vt[pr]={}),!e[pr]){var ei=e[Pr];ei=u1({},ei),delete ei.removeEmptyAttrs,delete ei.removeEmpty,e[pr]=ei}ia(o,function(hu,la){hu[Pr]&&(o[la]=hu=u1({},o[la]),hu[pr]=hu[Pr])})}))},Ge=function(De){var pe=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Xu[t.schema]=null,De&&ia(xu(De,","),function(fn){var me=pe.exec(fn),Se,Pr;me&&(Pr=me[1],Pr?Se=o[me[2]]:Se=o[me[2]]={"#comment":{}},Se=o[me[2]],ia(xu(me[3],"|"),function(pr){Pr==="-"?delete Se[pr]:Se[pr]={}}))})},nr=function(De){var pe=e[De],fn;if(pe)return pe;for(fn=u.length;fn--;)if(pe=u[fn],pe.pattern.test(De))return pe};t.valid_elements?te(t.valid_elements):(ia(b,function(De,pe){e[pe]={attributes:De.attributes,attributesOrder:De.attributesOrder},o[pe]=De.children}),t.schema!=="html5"&&ia(xu("strong/b em/i"),function(De){var pe=xu(De,"/");e[pe[1]].outputName=pe[0]}),ia(xu("ol ul sub sup blockquote span font a table tbody strong em b i"),function(De){e[De]&&(e[De].removeEmpty=!0)}),ia(xu("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(De){e[De].paddEmpty=!0}),ia(xu("span"),function(De){e[De].removeEmptyAttrs=!0})),se(t.custom_elements),Ge(t.valid_children),On(t.extended_valid_elements),Ge("+ol[ul|ol],+ul[ul|ol]"),ia({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(De,pe){e[pe]&&(e[pe].parentsRequired=xu(De))}),t.invalid_elements&&ia(a1(t.invalid_elements),function(De){e[De]&&delete e[De]}),nr("span")||On("span[!data-mce-type|*]");var Ln=function(){return y},Tr=function(){return A},Ce=function(){return N},Je=function(){return J},ie=function(){return vt},Te=function(){return mt},je=function(){return Tt},$n=function(){return X},We=function(){return M},bo=function(){return $},ni=function(){return pt},Vo=function(){return B},_i=function(){return f},Uu=function(De,pe){var fn=o[De.toLowerCase()];return!!(fn&&fn[pe.toLowerCase()])},Ye=function(De,pe){var fn,me,Se=nr(De);if(Se)if(pe){if(Se.attributes[pe])return!0;if(fn=Se.attributePatterns,fn){for(me=fn.length;me--;)if(fn[me].pattern.test(De))return!0}}else return!0;return!1},Ke=function(){return c};return{children:o,elements:e,getValidStyles:Ln,getValidClasses:Ce,getBlockElements:ie,getInvalidStyles:Tr,getShortEndedElements:$n,getTextBlockElements:Te,getTextInlineElements:je,getBoolAttrs:Je,getElementRule:nr,getSelfClosingElements:We,getNonEmptyElements:bo,getMoveCaretBeforeOnEnterElements:ni,getWhiteSpaceElements:Vo,getSpecialElements:_i,isValidChild:Uu,isValid:Ye,getCustomElements:Ke,addValidElements:On,setValidElements:te,addCustomElements:se,addValidChildren:Ge}},s1=function(t,e,o,u){var c=function(f){return f=parseInt(f,10).toString(16),f.length>1?f:"0"+f};return"#"+c(e)+c(o)+c(u)},Mm=function(t,e){var o=this,u=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,c=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,f=/\s*([^:]+):\s*([^;]+);?/g,p=/\s+$/,b,y={},A,N,B=ud;t=t||{},e&&(A=e.getValidStyles(),N=e.getInvalidStyles());var M=(`\\" \\' \\; \\: ; : `+B).split(" ");for(b=0;b<M.length;b++)y[M[b]]=B+b,y[B+b]=M[b];return{toHex:function(X){return X.replace(u,s1)},parse:function(X){var J={},Q,$,pt,mt,vt=t.url_converter,Tt=t.url_converter_scope||o,Ut=function(Ce,Je,ie){var Te=J[Ce+"-top"+Je];if(Te){var je=J[Ce+"-right"+Je];if(je){var $n=J[Ce+"-bottom"+Je];if($n){var We=J[Ce+"-left"+Je];if(We){var bo=[Te,je,$n,We];for(b=bo.length-1;b--&&bo[b]===bo[b+1];);b>-1&&ie||(J[Ce+Je]=b===-1?bo[0]:bo.join(" "),delete J[Ce+"-top"+Je],delete J[Ce+"-right"+Je],delete J[Ce+"-bottom"+Je],delete J[Ce+"-left"+Je])}}}}},On=function(Ce){var Je=J[Ce],ie;if(Je){for(Je=Je.split(" "),ie=Je.length;ie--;)if(Je[ie]!==Je[0])return!1;return J[Ce]=Je[0],!0}},te=function(Ce,Je,ie,Te){!On(Je)||!On(ie)||!On(Te)||(J[Ce]=J[Je]+" "+J[ie]+" "+J[Te],delete J[Je],delete J[ie],delete J[Te])},se=function(Ce){return mt=!0,y[Ce]},Ge=function(Ce,Je){return mt&&(Ce=Ce.replace(/\uFEFF[0-9]/g,function(ie){return y[ie]})),Je||(Ce=Ce.replace(/\\([\'\";:])/g,"$1")),Ce},nr=function(Ce){return String.fromCharCode(parseInt(Ce.slice(1),16))},Ln=function(Ce){return Ce.replace(/\\[0-9a-f]+/gi,nr)},Tr=function(Ce,Je,ie,Te,je,$n){if(je=je||$n,je)return je=Ge(je),"'"+je.replace(/\'/g,"\\'")+"'";if(Je=Ge(Je||ie||Te),!t.allow_script_urls){var We=Je.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(We)||!t.allow_svg_data_urls&&/^data:image\/svg/i.test(We))return""}return vt&&(Je=vt.call(Tt,Je,"style")),"url('"+Je.replace(/\'/g,"\\'")+"')"};if(X){for(X=X.replace(/[\u0000-\u001F]/g,""),X=X.replace(/\\[\"\';:\uFEFF]/g,se).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(Ce){return Ce.replace(/[;:]/g,se)});Q=f.exec(X);)if(f.lastIndex=Q.index+Q[0].length,$=Q[1].replace(p,"").toLowerCase(),pt=Q[2].replace(p,""),$&&pt){if($=Ln($),pt=Ln(pt),$.indexOf(B)!==-1||$.indexOf('"')!==-1||!t.allow_script_urls&&($==="behavior"||/expression\s*\(|\/\*|\*\//.test(pt)))continue;$==="font-weight"&&pt==="700"?pt="bold":($==="color"||$==="background-color")&&(pt=pt.toLowerCase()),pt=pt.replace(u,s1),pt=pt.replace(c,Tr),J[$]=mt?Ge(pt,!0):pt}Ut("border","",!0),Ut("border","-width"),Ut("border","-color"),Ut("border","-style"),Ut("padding",""),Ut("margin",""),te("border","border-width","border-style","border-color"),J.border==="medium none"&&delete J.border,J["border-image"]==="none"&&delete J["border-image"]}return J},serialize:function(X,J){var Q="",$=function(mt){var vt,Tt=A[mt];if(Tt)for(var Ut=0,On=Tt.length;Ut<On;Ut++)mt=Tt[Ut],vt=X[mt],vt&&(Q+=(Q.length>0?" ":"")+mt+": "+vt+";")},pt=function(mt,vt){var Tt=N["*"];return Tt&&Tt[mt]?!1:(Tt=N[vt],!(Tt&&Tt[mt]))};return J&&A?($("*"),$(J)):Or(X,function(mt,vt){mt&&(!N||pt(vt,J))&&(Q+=(Q.length>0?" ":"")+vt+": "+mt+";")}),Q}}},np="mce-data-",lS=/^(?:mouse|contextmenu)|click/,fS={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1,mozPressure:1},l1=function(t){return t.isDefaultPrevented===dd||t.isDefaultPrevented===qh},qh=ve,dd=ue,f1=function(t,e,o,u){t.addEventListener?t.addEventListener(e,o,u||!1):t.attachEvent&&t.attachEvent("on"+e,o)},Wh=function(t,e,o,u){t.removeEventListener?t.removeEventListener(e,o,u||!1):t.detachEvent&&t.detachEvent("on"+e,o)},b2=function(t){return lS.test(t.type)},qc=function(t,e){var o,u=e||{};for(o in t)fS[o]||(u[o]=t[o]);if(u.target||(u.target=u.srcElement||document),u.composedPath&&(u.composedPath=function(){return t.composedPath()}),t&&b2(t)&&t.pageX===void 0&&t.clientX!==void 0){var c=u.target.ownerDocument||document,f=c.documentElement,p=c.body;u.pageX=t.clientX+(f&&f.scrollLeft||p&&p.scrollLeft||0)-(f&&f.clientLeft||p&&p.clientLeft||0),u.pageY=t.clientY+(f&&f.scrollTop||p&&p.scrollTop||0)-(f&&f.clientTop||p&&p.clientTop||0)}return u.preventDefault=function(){u.defaultPrevented=!0,u.isDefaultPrevented=dd,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},u.stopPropagation=function(){u.cancelBubble=!0,u.isPropagationStopped=dd,t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},u.stopImmediatePropagation=function(){u.isImmediatePropagationStopped=dd,u.stopPropagation()},l1(u)===!1&&(u.isDefaultPrevented=u.defaultPrevented===!0?dd:qh,u.isPropagationStopped=u.cancelBubble===!0?dd:qh,u.isImmediatePropagationStopped=qh),typeof u.metaKey=="undefined"&&(u.metaKey=!1),u},dS=function(t,e,o){var u=t.document,c={type:"ready"};if(o.domLoaded){e(c);return}var f=function(){return u.readyState==="complete"||u.readyState==="interactive"&&u.body},p=function(){Wh(t,"DOMContentLoaded",p),Wh(t,"load",p),o.domLoaded||(o.domLoaded=!0,e(c)),t=null};f()?p():f1(t,"DOMContentLoaded",p),o.domLoaded||f1(t,"load",p)},lf=function(){function t(){this.domLoaded=!1,this.events={},this.count=1,this.expando=np+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return t.prototype.bind=function(e,o,u,c){var f=this,p,b,y,A,N,B,M,X=window,J=function($){f.executeHandlers(qc($||X.event),p)};if(!(!e||e.nodeType===3||e.nodeType===8)){e[f.expando]?p=e[f.expando]:(p=f.count++,e[f.expando]=p,f.events[p]={}),c=c||e;var Q=o.split(" ");for(y=Q.length;y--;){if(A=Q[y],B=J,N=M=!1,A==="DOMContentLoaded"&&(A="ready"),f.domLoaded&&A==="ready"&&e.readyState==="complete"){u.call(c,qc({type:A}));continue}f.hasMouseEnterLeave||(N=f.mouseEnterLeave[A],N&&(B=function($){var pt=$.currentTarget,mt=$.relatedTarget;if(mt&&pt.contains)mt=pt.contains(mt);else for(;mt&&mt!==pt;)mt=mt.parentNode;mt||($=qc($||X.event),$.type=$.type==="mouseout"?"mouseleave":"mouseenter",$.target=pt,f.executeHandlers($,p))})),!f.hasFocusIn&&(A==="focusin"||A==="focusout")&&(M=!0,N=A==="focusin"?"focus":"blur",B=function($){$=qc($||X.event),$.type=$.type==="focus"?"focusin":"focusout",f.executeHandlers($,p)}),b=f.events[p][A],b?A==="ready"&&f.domLoaded?u(qc({type:A})):b.push({func:u,scope:c}):(f.events[p][A]=b=[{func:u,scope:c}],b.fakeName=N,b.capture=M,b.nativeHandler=B,A==="ready"?dS(e,B,f):f1(e,N||A,B,M))}return e=b=null,u}},t.prototype.unbind=function(e,o,u){var c,f,p,b,y;if(!e||e.nodeType===3||e.nodeType===8)return this;var A=e[this.expando];if(A){if(y=this.events[A],o){var N=o.split(" ");for(f=N.length;f--;)if(b=N[f],c=y[b],c){if(u){for(p=c.length;p--;)if(c[p].func===u){var B=c.nativeHandler,M=c.fakeName,X=c.capture;c=c.slice(0,p).concat(c.slice(p+1)),c.nativeHandler=B,c.fakeName=M,c.capture=X,y[b]=c}}(!u||c.length===0)&&(delete y[b],Wh(e,c.fakeName||b,c.nativeHandler,c.capture))}}else Or(y,function(J,Q){Wh(e,J.fakeName||Q,J.nativeHandler,J.capture)}),y={};for(b in y)if(Er(y,b))return this;delete this.events[A];try{delete e[this.expando]}catch{e[this.expando]=null}}return this},t.prototype.fire=function(e,o,u){var c;if(!e||e.nodeType===3||e.nodeType===8)return this;var f=qc(null,u);f.type=o,f.target=e;do c=e[this.expando],c&&this.executeHandlers(f,c),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow;while(e&&!f.isPropagationStopped());return this},t.prototype.clean=function(e){var o,u;if(!e||e.nodeType===3||e.nodeType===8)return this;if(e[this.expando]&&this.unbind(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(this.unbind(e),u=e.getElementsByTagName("*"),o=u.length;o--;)e=u[o],e[this.expando]&&this.unbind(e);return this},t.prototype.destroy=function(){this.events={}},t.prototype.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1},t.prototype.executeHandlers=function(e,o){var u=this.events[o],c=u&&u[e.type];if(c)for(var f=0,p=c.length;f<p;f++){var b=c[f];if(b&&b.func.call(b.scope,e)===!1&&e.preventDefault(),e.isImmediatePropagationStopped())return}},t.Event=new t,t}(),au,oi,md,gd,ys,pd,d1,Rm,ff,Yo,Qa,jo,tc,nc,pi,Ac,ws,Tc,cu="sizzle"+-new Date,Oc=window.document,xs=0,Xr=0,hd=Ss(),Pm=Ss(),Dc=Ss(),Yh=function(t,e){return t===e&&(Yo=!0),0},di="undefined",m1=1<<31,Lm={}.hasOwnProperty,Ro=[],ep=Ro.pop,df=Ro.push,Wc=Ro.push,y2=Ro.slice,vd=Ro.indexOf||function(t){for(var e=0,o=this.length;e<o;e++)if(this[e]===t)return e;return-1},mS="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",mi="[\\x20\\t\\r\\n\\f]",bd="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",w2="\\["+mi+"*("+bd+")(?:"+mi+"*([*^$|!~]?=)"+mi+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+bd+"))|)"+mi+"*\\]",g1=":("+bd+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+w2+")*)|.*)\\)|)",$h=new RegExp("^"+mi+"+|((?:^|[^\\\\])(?:\\\\.)*)"+mi+"+$","g"),gS=new RegExp("^"+mi+"*,"+mi+"*"),mf=new RegExp("^"+mi+"*([>+~]|"+mi+")"+mi+"*"),p1=new RegExp("="+mi+`*([^\\]'"]*?)`+mi+"*\\]","g"),pS=new RegExp(g1),ua=new RegExp("^"+bd+"$"),Nu={ID:new RegExp("^#("+bd+")"),CLASS:new RegExp("^\\.("+bd+")"),TAG:new RegExp("^("+bd+"|[*])"),ATTR:new RegExp("^"+w2),PSEUDO:new RegExp("^"+g1),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+mi+"*(even|odd|(([+-]|)(\\d*)n|)"+mi+"*(?:([+-]|)"+mi+"*(\\d+)|))"+mi+"*\\)|)","i"),bool:new RegExp("^(?:"+mS+")$","i"),needsContext:new RegExp("^"+mi+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+mi+"*((?:-\\d)?\\d*)"+mi+"*\\)|)(?=[^-]|$)","i")},h1=/^(?:input|select|textarea|button)$/i,v1=/^h\d$/i,zu=/^[^{]+\{\s*\[native \w/,yd=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Im=/[+~]/,b1=/'|\\/g,Xo=new RegExp("\\\\([\\da-f]{1,6}"+mi+"?|("+mi+")|.)","ig"),Cs=function(t,e,o){var u="0x"+e-65536;return u!==u||o?e:u<0?String.fromCharCode(u+65536):String.fromCharCode(u>>10|55296,u&1023|56320)};try{Wc.apply(Ro=y2.call(Oc.childNodes),Oc.childNodes),Ro[Oc.childNodes.length].nodeType}catch{Wc={apply:Ro.length?function(t,e){df.apply(t,y2.call(e))}:function(t,e){for(var o=t.length,u=0;t[o++]=e[u++];);t.length=o-1}}}var Po=function(t,e,o,u){var c,f,p,b,y,A,N,B,M,X;if((e?e.ownerDocument||e:Oc)!==jo&&Qa(e),e=e||jo,o=o||[],!t||typeof t!="string")return o;if((b=e.nodeType)!==1&&b!==9)return[];if(nc&&!u){if(c=yd.exec(t))if(p=c[1]){if(b===9)if(f=e.getElementById(p),f&&f.parentNode){if(f.id===p)return o.push(f),o}else return o;else if(e.ownerDocument&&(f=e.ownerDocument.getElementById(p))&&Tc(e,f)&&f.id===p)return o.push(f),o}else{if(c[2])return Wc.apply(o,e.getElementsByTagName(t)),o;if((p=c[3])&&au.getElementsByClassName)return Wc.apply(o,e.getElementsByClassName(p)),o}if(au.qsa&&(!pi||!pi.test(t))){if(B=N=cu,M=e,X=b===9&&t,b===1&&e.nodeName.toLowerCase()!=="object"){for(A=ys(t),(N=e.getAttribute("id"))?B=N.replace(b1,"\\$&"):e.setAttribute("id",B),B="[id='"+B+"'] ",y=A.length;y--;)A[y]=B+op(A[y]);M=Im.test(t)&&wd(e.parentNode)||e,X=A.join(",")}if(X)try{return Wc.apply(o,M.querySelectorAll(X)),o}catch{}finally{N||e.removeAttribute("id")}}}return d1(t.replace($h,"$1"),e,o,u)};function Ss(){var t=[];function e(o,u){return t.push(o+" ")>oi.cacheLength&&delete e[t.shift()],e[o+" "]=u}return e}function Na(t){return t[cu]=!0,t}function rp(t,e){var o=e&&t,u=o&&t.nodeType===1&&e.nodeType===1&&(~e.sourceIndex||m1)-(~t.sourceIndex||m1);if(u)return u;if(o){for(;o=o.nextSibling;)if(o===e)return-1}return t?1:-1}function hS(t){return function(e){var o=e.nodeName.toLowerCase();return o==="input"&&e.type===t}}function va(t){return function(e){var o=e.nodeName.toLowerCase();return(o==="input"||o==="button")&&e.type===t}}function _c(t){return Na(function(e){return e=+e,Na(function(o,u){for(var c,f=t([],o.length,e),p=f.length;p--;)o[c=f[p]]&&(o[c]=!(u[c]=o[c]))})})}function wd(t){return t&&typeof t.getElementsByTagName!==di&&t}au=Po.support={},gd=Po.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?e.nodeName!=="HTML":!1},Qa=Po.setDocument=function(t){var e,o=t?t.ownerDocument||t:Oc,u=o.defaultView;function c(f){try{return f.top}catch{}return null}return o===jo||o.nodeType!==9||!o.documentElement?jo:(jo=o,tc=o.documentElement,nc=!gd(o),u&&u!==c(u)&&(u.addEventListener?u.addEventListener("unload",function(){Qa()},!1):u.attachEvent&&u.attachEvent("onunload",function(){Qa()})),au.attributes=!0,au.getElementsByTagName=!0,au.getElementsByClassName=zu.test(o.getElementsByClassName),au.getById=!0,oi.find.ID=function(f,p){if(typeof p.getElementById!==di&&nc){var b=p.getElementById(f);return b&&b.parentNode?[b]:[]}},oi.filter.ID=function(f){var p=f.replace(Xo,Cs);return function(b){return b.getAttribute("id")===p}},oi.find.TAG=au.getElementsByTagName?function(f,p){if(typeof p.getElementsByTagName!==di)return p.getElementsByTagName(f)}:function(f,p){var b,y=[],A=0,N=p.getElementsByTagName(f);if(f==="*"){for(;b=N[A++];)b.nodeType===1&&y.push(b);return y}return N},oi.find.CLASS=au.getElementsByClassName&&function(f,p){if(nc)return p.getElementsByClassName(f)},Ac=[],pi=[],au.disconnectedMatch=!0,pi=pi.length&&new RegExp(pi.join("|")),Ac=Ac.length&&new RegExp(Ac.join("|")),e=zu.test(tc.compareDocumentPosition),Tc=e||zu.test(tc.contains)?function(f,p){var b=f.nodeType===9?f.documentElement:f,y=p&&p.parentNode;return f===y||!!(y&&y.nodeType===1&&(b.contains?b.contains(y):f.compareDocumentPosition&&f.compareDocumentPosition(y)&16))}:function(f,p){if(p){for(;p=p.parentNode;)if(p===f)return!0}return!1},Yh=e?function(f,p){if(f===p)return Yo=!0,0;var b=!f.compareDocumentPosition-!p.compareDocumentPosition;return b||(b=(f.ownerDocument||f)===(p.ownerDocument||p)?f.compareDocumentPosition(p):1,b&1||!au.sortDetached&&p.compareDocumentPosition(f)===b?f===o||f.ownerDocument===Oc&&Tc(Oc,f)?-1:p===o||p.ownerDocument===Oc&&Tc(Oc,p)?1:ff?vd.call(ff,f)-vd.call(ff,p):0:b&4?-1:1)}:function(f,p){if(f===p)return Yo=!0,0;var b,y=0,A=f.parentNode,N=p.parentNode,B=[f],M=[p];if(!A||!N)return f===o?-1:p===o?1:A?-1:N?1:ff?vd.call(ff,f)-vd.call(ff,p):0;if(A===N)return rp(f,p);for(b=f;b=b.parentNode;)B.unshift(b);for(b=p;b=b.parentNode;)M.unshift(b);for(;B[y]===M[y];)y++;return y?rp(B[y],M[y]):B[y]===Oc?-1:M[y]===Oc?1:0},o)},Po.matches=function(t,e){return Po(t,null,null,e)},Po.matchesSelector=function(t,e){if((t.ownerDocument||t)!==jo&&Qa(t),e=e.replace(p1,"='$1']"),au.matchesSelector&&nc&&(!Ac||!Ac.test(e))&&(!pi||!pi.test(e)))try{var o=ws.call(t,e);if(o||au.disconnectedMatch||t.document&&t.document.nodeType!==11)return o}catch{}return Po(e,jo,null,[t]).length>0},Po.contains=function(t,e){return(t.ownerDocument||t)!==jo&&Qa(t),Tc(t,e)},Po.attr=function(t,e){(t.ownerDocument||t)!==jo&&Qa(t);var o=oi.attrHandle[e.toLowerCase()],u=o&&Lm.call(oi.attrHandle,e.toLowerCase())?o(t,e,!nc):void 0;return u!==void 0?u:au.attributes||!nc?t.getAttribute(e):(u=t.getAttributeNode(e))&&u.specified?u.value:null},Po.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},Po.uniqueSort=function(t){var e,o=[],u=0,c=0;if(Yo=!au.detectDuplicates,ff=!au.sortStable&&t.slice(0),t.sort(Yh),Yo){for(;e=t[c++];)e===t[c]&&(u=o.push(c));for(;u--;)t.splice(o[u],1)}return ff=null,t},md=Po.getText=function(t){var e,o="",u=0,c=t.nodeType;if(c){if(c===1||c===9||c===11){if(typeof t.textContent=="string")return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)o+=md(t)}else if(c===3||c===4)return t.nodeValue}else for(;e=t[u++];)o+=md(e);return o},oi=Po.selectors={cacheLength:50,createPseudo:Na,match:Nu,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Xo,Cs),t[3]=(t[3]||t[4]||t[5]||"").replace(Xo,Cs),t[2]==="~="&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),t[1].slice(0,3)==="nth"?(t[3]||Po.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*(t[3]==="even"||t[3]==="odd")),t[5]=+(t[7]+t[8]||t[3]==="odd")):t[3]&&Po.error(t[0]),t},PSEUDO:function(t){var e,o=!t[6]&&t[2];return Nu.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":o&&pS.test(o)&&(e=ys(o,!0))&&(e=o.indexOf(")",o.length-e)-o.length)&&(t[0]=t[0].slice(0,e),t[2]=o.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Xo,Cs).toLowerCase();return t==="*"?function(){return!0}:function(o){return o.nodeName&&o.nodeName.toLowerCase()===e}},CLASS:function(t){var e=hd[t+" "];return e||(e=new RegExp("(^|"+mi+")"+t+"("+mi+"|$)"))&&hd(t,function(o){return e.test(typeof o.className=="string"&&o.className||typeof o.getAttribute!==di&&o.getAttribute("class")||"")})},ATTR:function(t,e,o){return function(u){var c=Po.attr(u,t);return c==null?e==="!=":e?(c+="",e==="="?c===o:e==="!="?c!==o:e==="^="?o&&c.indexOf(o)===0:e==="*="?o&&c.indexOf(o)>-1:e==="$="?o&&c.slice(-o.length)===o:e==="~="?(" "+c+" ").indexOf(o)>-1:e==="|="?c===o||c.slice(0,o.length+1)===o+"-":!1):!0}},CHILD:function(t,e,o,u,c){var f=t.slice(0,3)!=="nth",p=t.slice(-4)!=="last",b=e==="of-type";return u===1&&c===0?function(y){return!!y.parentNode}:function(y,A,N){var B,M,X,J,Q,$,pt=f!==p?"nextSibling":"previousSibling",mt=y.parentNode,vt=b&&y.nodeName.toLowerCase(),Tt=!N&&!b;if(mt){if(f){for(;pt;){for(X=y;X=X[pt];)if(b?X.nodeName.toLowerCase()===vt:X.nodeType===1)return!1;$=pt=t==="only"&&!$&&"nextSibling"}return!0}if($=[p?mt.firstChild:mt.lastChild],p&&Tt){for(M=mt[cu]||(mt[cu]={}),B=M[t]||[],Q=B[0]===xs&&B[1],J=B[0]===xs&&B[2],X=Q&&mt.childNodes[Q];X=++Q&&X&&X[pt]||(J=Q=0)||$.pop();)if(X.nodeType===1&&++J&&X===y){M[t]=[xs,Q,J];break}}else if(Tt&&(B=(y[cu]||(y[cu]={}))[t])&&B[0]===xs)J=B[1];else for(;(X=++Q&&X&&X[pt]||(J=Q=0)||$.pop())&&!((b?X.nodeName.toLowerCase()===vt:X.nodeType===1)&&++J&&(Tt&&((X[cu]||(X[cu]={}))[t]=[xs,J]),X===y)););return J-=c,J===u||J%u===0&&J/u>=0}}},PSEUDO:function(t,e){var o,u=oi.pseudos[t]||oi.setFilters[t.toLowerCase()]||Po.error("unsupported pseudo: "+t);return u[cu]?u(e):u.length>1?(o=[t,t,"",e],oi.setFilters.hasOwnProperty(t.toLowerCase())?Na(function(c,f){for(var p,b=u(c,e),y=b.length;y--;)p=vd.call(c,b[y]),c[p]=!(f[p]=b[y])}):function(c){return u(c,0,o)}):u}},pseudos:{not:Na(function(t){var e=[],o=[],u=pd(t.replace($h,"$1"));return u[cu]?Na(function(c,f,p,b){for(var y,A=u(c,null,b,[]),N=c.length;N--;)(y=A[N])&&(c[N]=!(f[N]=y))}):function(c,f,p){return e[0]=c,u(e,null,p,o),e[0]=null,!o.pop()}}),has:Na(function(t){return function(e){return Po(t,e).length>0}}),contains:Na(function(t){return t=t.replace(Xo,Cs),function(e){return(e.textContent||e.innerText||md(e)).indexOf(t)>-1}}),lang:Na(function(t){return ua.test(t||"")||Po.error("unsupported lang: "+t),t=t.replace(Xo,Cs).toLowerCase(),function(e){var o;do if(o=nc?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return o=o.toLowerCase(),o===t||o.indexOf(t+"-")===0;while((e=e.parentNode)&&e.nodeType===1);return!1}}),target:function(t){var e=window.location&&window.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===tc},focus:function(t){return t===jo.activeElement&&(!jo.hasFocus||jo.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return e==="input"&&!!t.checked||e==="option"&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!oi.pseudos.empty(t)},header:function(t){return v1.test(t.nodeName)},input:function(t){return h1.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return e==="input"&&t.type==="button"||e==="button"},text:function(t){var e;return t.nodeName.toLowerCase()==="input"&&t.type==="text"&&((e=t.getAttribute("type"))==null||e.toLowerCase()==="text")},first:_c(function(){return[0]}),last:_c(function(t,e){return[e-1]}),eq:_c(function(t,e,o){return[o<0?o+e:o]}),even:_c(function(t,e){for(var o=0;o<e;o+=2)t.push(o);return t}),odd:_c(function(t,e){for(var o=1;o<e;o+=2)t.push(o);return t}),lt:_c(function(t,e,o){for(var u=o<0?o+e:o;--u>=0;)t.push(u);return t}),gt:_c(function(t,e,o){for(var u=o<0?o+e:o;++u<e;)t.push(u);return t})}},oi.pseudos.nth=oi.pseudos.eq,yt(["radio","checkbox","file","password","image"],function(t){oi.pseudos[t]=hS(t)}),yt(["submit","reset"],function(t){oi.pseudos[t]=va(t)});function y1(){}y1.prototype=oi.filters=oi.pseudos,oi.setFilters=new y1,ys=Po.tokenize=function(t,e){var o,u,c,f,p,b,y,A=Pm[t+" "];if(A)return e?0:A.slice(0);for(p=t,b=[],y=oi.preFilter;p;){(!o||(u=gS.exec(p)))&&(u&&(p=p.slice(u[0].length)||p),b.push(c=[])),o=!1,(u=mf.exec(p))&&(o=u.shift(),c.push({value:o,type:u[0].replace($h," ")}),p=p.slice(o.length));for(f in oi.filter)!oi.filter.hasOwnProperty(f)||(u=Nu[f].exec(p))&&(!y[f]||(u=y[f](u)))&&(o=u.shift(),c.push({value:o,type:f,matches:u}),p=p.slice(o.length));if(!o)break}return e?p.length:p?Po.error(t):Pm(t,b).slice(0)};function op(t){for(var e=0,o=t.length,u="";e<o;e++)u+=t[e].value;return u}function Al(t,e,o){var u=e.dir,c=o&&u==="parentNode",f=Xr++;return e.first?function(p,b,y){for(;p=p[u];)if(p.nodeType===1||c)return t(p,b,y)}:function(p,b,y){var A,N,B=[xs,f];if(y){for(;p=p[u];)if((p.nodeType===1||c)&&t(p,b,y))return!0}else for(;p=p[u];)if(p.nodeType===1||c){if(N=p[cu]||(p[cu]={}),(A=N[u])&&A[0]===xs&&A[1]===f)return B[2]=A[2];if(N[u]=B,B[2]=t(p,b,y))return!0}}}function Xh(t){return t.length>1?function(e,o,u){for(var c=t.length;c--;)if(!t[c](e,o,u))return!1;return!0}:t[0]}function vS(t,e,o){for(var u=0,c=e.length;u<c;u++)Po(t,e[u],o);return o}function Gh(t,e,o,u,c){for(var f,p=[],b=0,y=t.length,A=e!=null;b<y;b++)(f=t[b])&&(!o||o(f,u,c))&&(p.push(f),A&&e.push(b));return p}function w1(t,e,o,u,c,f){return u&&!u[cu]&&(u=w1(u)),c&&!c[cu]&&(c=w1(c,f)),Na(function(p,b,y,A){var N,B,M,X=[],J=[],Q=b.length,$=p||vS(e||"*",y.nodeType?[y]:y,[]),pt=t&&(p||!e)?Gh($,X,t,y,A):$,mt=o?c||(p?t:Q||u)?[]:b:pt;if(o&&o(pt,mt,y,A),u)for(N=Gh(mt,J),u(N,[],y,A),B=N.length;B--;)(M=N[B])&&(mt[J[B]]=!(pt[J[B]]=M));if(p){if(c||t){if(c){for(N=[],B=mt.length;B--;)(M=mt[B])&&N.push(pt[B]=M);c(null,mt=[],N,A)}for(B=mt.length;B--;)(M=mt[B])&&(N=c?vd.call(p,M):X[B])>-1&&(p[N]=!(b[N]=M))}}else mt=Gh(mt===b?mt.splice(Q,mt.length):mt),c?c(null,b,mt,A):Wc.apply(b,mt)})}function Yc(t){for(var e,o,u,c=t.length,f=oi.relative[t[0].type],p=f||oi.relative[" "],b=f?1:0,y=Al(function(B){return B===e},p,!0),A=Al(function(B){return vd.call(e,B)>-1},p,!0),N=[function(B,M,X){var J=!f&&(X||M!==Rm)||((e=M).nodeType?y(B,M,X):A(B,M,X));return e=null,J}];b<c;b++)if(o=oi.relative[t[b].type])N=[Al(Xh(N),o)];else{if(o=oi.filter[t[b].type].apply(null,t[b].matches),o[cu]){for(u=++b;u<c&&!oi.relative[t[u].type];u++);return w1(b>1&&Xh(N),b>1&&op(t.slice(0,b-1).concat({value:t[b-2].type===" "?"*":""})).replace($h,"$1"),o,b<u&&Yc(t.slice(b,u)),u<c&&Yc(t=t.slice(u)),u<c&&op(t))}N.push(o)}return Xh(N)}function Kh(t,e){var o=e.length>0,u=t.length>0,c=function(f,p,b,y,A){var N,B,M,X=0,J="0",Q=f&&[],$=[],pt=Rm,mt=f||u&&oi.find.TAG("*",A),vt=xs+=pt==null?1:Math.random()||.1,Tt=mt.length;for(A&&(Rm=p!==jo&&p);J!==Tt&&(N=mt[J])!=null;J++){if(u&&N){for(B=0;M=t[B++];)if(M(N,p,b)){y.push(N);break}A&&(xs=vt)}o&&((N=!M&&N)&&X--,f&&Q.push(N))}if(X+=J,o&&J!==X){for(B=0;M=e[B++];)M(Q,$,p,b);if(f){if(X>0)for(;J--;)Q[J]||$[J]||($[J]=ep.call(y));$=Gh($)}Wc.apply(y,$),A&&!f&&$.length>0&&X+e.length>1&&Po.uniqueSort(y)}return A&&(xs=vt,Rm=pt),Q};return o?Na(c):c}pd=Po.compile=function(t,e){var o,u=[],c=[],f=Dc[t+" "];if(!f){for(e||(e=ys(t)),o=e.length;o--;)f=Yc(e[o]),f[cu]?u.push(f):c.push(f);f=Dc(t,Kh(c,u)),f.selector=t}return f},d1=Po.select=function(t,e,o,u){var c,f,p,b,y,A=typeof t=="function"&&t,N=!u&&ys(t=A.selector||t);if(o=o||[],N.length===1){if(f=N[0]=N[0].slice(0),f.length>2&&(p=f[0]).type==="ID"&&au.getById&&e.nodeType===9&&nc&&oi.relative[f[1].type]){if(e=(oi.find.ID(p.matches[0].replace(Xo,Cs),e)||[])[0],e)A&&(e=e.parentNode);else return o;t=t.slice(f.shift().value.length)}for(c=Nu.needsContext.test(t)?0:f.length;c--&&(p=f[c],!oi.relative[b=p.type]);)if((y=oi.find[b])&&(u=y(p.matches[0].replace(Xo,Cs),Im.test(f[0].type)&&wd(e.parentNode)||e))){if(f.splice(c,1),t=u.length&&op(f),!t)return Wc.apply(o,u),o;break}}return(A||pd(t,N))(u,e,!nc,o,Im.test(t)&&wd(e.parentNode)||e),o},au.sortStable=cu.split("").sort(Yh).join("")===cu,au.detectDuplicates=!!Yo,Qa(),au.sortDetached=!0;var x2=document,Jh=Array.prototype.push,C2=Array.prototype.slice,S2=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,ip=lf.Event,bS=hn.makeMap("children,contents,next,prev"),up=function(t){return typeof t!="undefined"},Zh=function(t){return typeof t=="string"},Qh=function(t){return t&&t===t.window},x1=function(t,e){e=e||x2;var o=e.createElement("div"),u=e.createDocumentFragment();o.innerHTML=t;for(var c;c=o.firstChild;)u.appendChild(c);return u},xd=function(t,e,o,u){var c;if(Zh(e))e=x1(e,k1(t[0]));else if(e.length&&!e.nodeType){if(e=jr.makeArray(e),u)for(c=e.length-1;c>=0;c--)xd(t,e[c],o,u);else for(c=0;c<e.length;c++)xd(t,e[c],o,u);return t}if(e.nodeType)for(c=t.length;c--;)o.call(t[c],e);return t},ec=function(t,e){return t&&e&&(" "+t.className+" ").indexOf(" "+e+" ")!==-1},rc=function(t,e,o){var u,c;return e=jr(e)[0],t.each(function(){var f=this;(!o||u!==f.parentNode)&&(u=f.parentNode,c=e.cloneNode(!1),f.parentNode.insertBefore(c,f)),c.appendChild(f)}),t},gf=hn.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Mu=hn.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),pf={for:"htmlFor",class:"className",readonly:"readOnly"},k2={float:"cssFloat"},hf={},C1={},oc=function(t,e){return new jr.fn.init(t,e)},tv=function(t,e){var o;if(e.indexOf)return e.indexOf(t);for(o=e.length;o--;)if(e[o]===t)return o;return-1},Ru=/^\s*|\s*$/g,$c=function(t){return t==null?"":(""+t).replace(Ru,"")},Tl=function(t,e){var o,u,c,f;if(t)if(o=t.length,o===void 0){for(u in t)if(t.hasOwnProperty(u)&&(f=t[u],e.call(f,u,f)===!1))break}else for(c=0;c<o&&(f=t[c],e.call(f,c,f)!==!1);c++);return t},S1=function(t,e){var o=[];return Tl(t,function(u,c){e(c,u)&&o.push(c)}),o},k1=function(t){return t?t.nodeType===9?t:t.ownerDocument:x2};oc.fn=oc.prototype={constructor:oc,selector:"",context:null,length:0,init:function(t,e){var o=this,u,c;if(!t)return o;if(t.nodeType)return o.context=o[0]=t,o.length=1,o;if(e&&e.nodeType)o.context=e;else{if(e)return jr(t).attr(e);o.context=e=document}if(Zh(t))if(o.selector=t,t.charAt(0)==="<"&&t.charAt(t.length-1)===">"&&t.length>=3?u=[null,t,null]:u=S2.exec(t),u)if(u[1])for(c=x1(t,k1(e)).firstChild;c;)Jh.call(o,c),c=c.nextSibling;else{if(c=k1(e).getElementById(u[2]),!c)return o;if(c.id!==u[2])return o.find(t);o.length=1,o[0]=c}else return jr(e).find(t);else this.add(t,!1);return o},toArray:function(){return hn.toArray(this)},add:function(t,e){var o=this,u,c;if(Zh(t))return o.add(jr(t));if(e!==!1)for(u=jr.unique(o.toArray().concat(jr.makeArray(t))),o.length=u.length,c=0;c<u.length;c++)o[c]=u[c];else Jh.apply(o,jr.makeArray(t));return o},attr:function(t,e){var o=this,u;if(typeof t=="object")Tl(t,function(c,f){o.attr(c,f)});else if(up(e))this.each(function(){var c;if(this.nodeType===1){if(c=hf[t],c&&c.set){c.set(this,e);return}e===null?this.removeAttribute(t,2):this.setAttribute(t,e,2)}});else{if(o[0]&&o[0].nodeType===1){if(u=hf[t],u&&u.get)return u.get(o[0],t);if(Mu[t])return o.prop(t)?t:void 0;e=o[0].getAttribute(t,2),e===null&&(e=void 0)}return e}return o},removeAttr:function(t){return this.attr(t,null)},prop:function(t,e){var o=this;if(t=pf[t]||t,typeof t=="object")Tl(t,function(u,c){o.prop(u,c)});else if(up(e))this.each(function(){this.nodeType===1&&(this[t]=e)});else return o[0]&&o[0].nodeType&&t in o[0]?o[0][t]:e;return o},css:function(t,e){var o=this,u,c,f=function(b){return b.replace(/-(\D)/g,function(y,A){return A.toUpperCase()})},p=function(b){return b.replace(/[A-Z]/g,function(y){return"-"+y})};if(typeof t=="object")Tl(t,function(b,y){o.css(b,y)});else if(up(e))t=f(t),typeof e=="number"&&!gf[t]&&(e=e.toString()+"px"),o.each(function(){var b=this.style;if(c=C1[t],c&&c.set){c.set(this,e);return}try{this.style[k2[t]||t]=e}catch{}(e===null||e==="")&&(b.removeProperty?b.removeProperty(p(t)):b.removeAttribute(t))});else{if(u=o[0],c=C1[t],c&&c.get)return c.get(u);if(u.ownerDocument.defaultView)try{return u.ownerDocument.defaultView.getComputedStyle(u,null).getPropertyValue(p(t))}catch{return}else return u.currentStyle?u.currentStyle[f(t)]:""}return o},remove:function(){for(var t=this,e,o=this.length;o--;)e=t[o],ip.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var t=this,e,o=this.length;o--;)for(e=t[o];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(t){var e=this,o;if(up(t)){o=e.length;try{for(;o--;)e[o].innerHTML=t}catch{jr(e[o]).empty().append(t)}return e}return e[0]?e[0].innerHTML:""},text:function(t){var e=this,o;if(up(t)){for(o=e.length;o--;)"innerText"in e[o]?e[o].innerText=t:e[0].textContent=t;return e}return e[0]?e[0].innerText||e[0].textContent:""},append:function(){return xd(this,arguments,function(t){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(t)})},prepend:function(){return xd(this,arguments,function(t){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(t,this.firstChild)},!0)},before:function(){var t=this;return t[0]&&t[0].parentNode?xd(t,arguments,function(e){this.parentNode.insertBefore(e,this)}):t},after:function(){var t=this;return t[0]&&t[0].parentNode?xd(t,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):t},appendTo:function(t){return jr(t).append(this),this},prependTo:function(t){return jr(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return rc(this,t)},wrapAll:function(t){return rc(this,t,!0)},wrapInner:function(t){return this.each(function(){jr(this).contents().wrapAll(t)}),this},unwrap:function(){return this.parent().each(function(){jr(this).replaceWith(this.childNodes)})},clone:function(){var t=[];return this.each(function(){t.push(this.cloneNode(!0))}),jr(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(t,e){var o=this;return typeof t!="string"||(t.indexOf(" ")!==-1?Tl(t.split(" "),function(){o.toggleClass(this,e)}):o.each(function(u,c){var f=ec(c,t);if(f!==e){var p=c.className;f?c.className=$c((" "+p+" ").replace(" "+t+" "," ")):c.className+=p?" "+t:t}})),o},hasClass:function(t){return ec(this[0],t)},each:function(t){return Tl(this,t)},on:function(t,e){return this.each(function(){ip.bind(this,t,e)})},off:function(t,e){return this.each(function(){ip.unbind(this,t,e)})},trigger:function(t){return this.each(function(){typeof t=="object"?ip.fire(this,t.type,t):ip.fire(this,t)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return jr(C2.apply(this,arguments))},eq:function(t){return t===-1?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){var e,o,u=[];for(e=0,o=this.length;e<o;e++)jr.find(t,this[e],u);return jr(u)},filter:function(t){return jr(typeof t=="function"?S1(this.toArray(),function(e,o){return t(o,e)}):jr.filter(t,this.toArray()))},closest:function(t){var e=[];return t instanceof jr&&(t=t[0]),this.each(function(o,u){for(;u;){if(typeof t=="string"&&jr(u).is(t)){e.push(u);break}else if(u===t){e.push(u);break}u=u.parentNode}}),jr(e)},offset:function(t){var e,o,u,c=0,f=0,p;return t?this.css(t):(e=this[0],e&&(o=e.ownerDocument,u=o.documentElement,e.getBoundingClientRect&&(p=e.getBoundingClientRect(),c=p.left+(u.scrollLeft||o.body.scrollLeft)-u.clientLeft,f=p.top+(u.scrollTop||o.body.scrollTop)-u.clientTop)),{left:c,top:f})},push:Jh,sort:Array.prototype.sort,splice:Array.prototype.splice},hn.extend(oc,{extend:hn.extend,makeArray:function(t){return Qh(t)||t.nodeType?[t]:hn.toArray(t)},inArray:tv,isArray:hn.isArray,each:Tl,trim:$c,grep:S1,find:Po,expr:Po.selectors,unique:Po.uniqueSort,text:Po.getText,contains:Po.contains,filter:function(t,e,o){var u=e.length;for(o&&(t=":not("+t+")");u--;)e[u].nodeType!==1&&e.splice(u,1);return e.length===1?e=jr.find.matchesSelector(e[0],t)?[e[0]]:[]:e=jr.find.matches(t,e),e}});var Us=function(t,e,o){var u=[],c=t[e];for(typeof o!="string"&&o instanceof jr&&(o=o[0]);c&&c.nodeType!==9&&!(o!==void 0&&(c===o||typeof o=="string"&&jr(c).is(o)));)c.nodeType===1&&u.push(c),c=c[e];return u},nv=function(t,e,o,u){var c=[];for(u instanceof jr&&(u=u[0]);t;t=t[e])if(!(o&&t.nodeType!==o)){if(u!==void 0&&(t===u||typeof u=="string"&&jr(t).is(u)))break;c.push(t)}return c},Cd=function(t,e,o){for(t=t[e];t;t=t[e])if(t.nodeType===o)return t;return null};Tl({parent:function(t){var e=t.parentNode;return e&&e.nodeType!==11?e:null},parents:function(t){return Us(t,"parentNode")},next:function(t){return Cd(t,"nextSibling",1)},prev:function(t){return Cd(t,"previousSibling",1)},children:function(t){return nv(t.firstChild,"nextSibling",1)},contents:function(t){return hn.toArray((t.nodeName==="iframe"?t.contentDocument||t.contentWindow.document:t).childNodes)}},function(t,e){oc.fn[t]=function(o){var u=this,c=[];u.each(function(){var p=e.call(c,this,o,c);p&&(jr.isArray(p)?c.push.apply(c,p):c.push(p))}),this.length>1&&(bS[t]||(c=jr.unique(c)),t.indexOf("parents")===0&&(c=c.reverse()));var f=jr(c);return o?f.filter(o):f}}),Tl({parentsUntil:function(t,e){return Us(t,"parentNode",e)},nextUntil:function(t,e){return nv(t,"nextSibling",1,e).slice(1)},prevUntil:function(t,e){return nv(t,"previousSibling",1,e).slice(1)}},function(t,e){oc.fn[t]=function(o,u){var c=this,f=[];c.each(function(){var b=e.call(f,this,o,f);b&&(jr.isArray(b)?f.push.apply(f,b):f.push(b))}),this.length>1&&(f=jr.unique(f),(t.indexOf("parents")===0||t==="prevUntil")&&(f=f.reverse()));var p=jr(f);return u?p.filter(u):p}}),oc.fn.is=function(t){return!!t&&this.filter(t).length>0},oc.fn.init.prototype=oc.fn,oc.overrideDefaults=function(t){var e,o=function(u,c){return e=e||t(),arguments.length===0&&(u=e.element),c||(c=e.context),new o.fn.init(u,c)};return jr.extend(o,this),o},oc.attrHooks=hf,oc.cssHooks=C1;var jr=oc,ap=hn.each,yS=hn.grep,E2=Ue.ie,wS=/^([a-z0-9],?)+$/i,xS=function(t,e,o){var u=e.keep_values,c={set:function(p,b,y){e.url_converter&&(b=e.url_converter.call(e.url_converter_scope||o(),b,y,p[0])),p.attr("data-mce-"+y,b).attr(y,b)},get:function(p,b){return p.attr("data-mce-"+b)||p.attr(b)}},f={style:{set:function(p,b){if(b!==null&&typeof b=="object"){p.css(b);return}u&&p.attr("data-mce-style",b),b!==null&&typeof b=="string"?(p.removeAttr("style"),p.css(t.parse(b))):p.attr("style",b)},get:function(p){var b=p.attr("data-mce-style")||p.attr("style");return b=t.serialize(t.parse(b),p[0].nodeName),b}}};return u&&(f.href=f.src=c),f},cp=function(t,e){var o=e.attr("style"),u=t.serialize(t.parse(o),e[0].nodeName);u||(u=null),e.attr("data-mce-style",u)},Hm=function(t,e){var o=0,u,c;if(t)for(u=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)c=t.nodeType,!(e&&c===3&&(c===u||!t.nodeValue.length))&&(o++,u=c);return o},Zo=function(t,e){e===void 0&&(e={});var o={},u=window,c={},f=0,p=!0,b=!0,y=Xg.forElement(H.fromDom(t),{contentCssCors:e.contentCssCors,referrerPolicy:e.referrerPolicy}),A=[],N=e.schema?e.schema:sf({}),B=Mm({url_converter:e.url_converter,url_converter_scope:e.url_converter_scope},e.schema),M=e.ownEvents?new lf:lf.Event,X=N.getBlockElements(),J=jr.overrideDefaults(function(){return{context:t,element:Ng.getRoot()}}),Q=function(Rt){if(typeof Rt=="string")return!!X[Rt];if(Rt){var dn=Rt.nodeType;if(dn)return!!(dn===1&&X[Rt.nodeName])}return!1},$=function(Rt){return Rt&&t&&$e(Rt)?t.getElementById(Rt):Rt},pt=function(Rt){return J(typeof Rt=="string"?$(Rt):Rt)},mt=function(Rt,dn,de){var ye,qr,Fo=pt(Rt);return Fo.length&&(ye=rA[dn],ye&&ye.get?qr=ye.get(Fo,dn):qr=Fo.attr(dn)),typeof qr=="undefined"&&(qr=de||""),qr},vt=function(Rt){var dn=$(Rt);return dn?dn.attributes:[]},Tt=function(Rt,dn,de){de===""&&(de=null);var ye=pt(Rt),qr=ye.attr(dn);if(ye.length){var Fo=rA[dn];Fo&&Fo.set?Fo.set(ye,de,dn):ye.attr(dn,de),qr!==de&&e.onSetAttrib&&e.onSetAttrib({attrElm:ye,attrName:dn,attrValue:de})}},Ut=function(Rt,dn){if(!E2||Rt.nodeType!==1||dn)return Rt.cloneNode(dn);var de=t.createElement(Rt.nodeName);return ap(vt(Rt),function(ye){Tt(de,ye.nodeName,mt(Rt,ye.nodeName))}),de},On=function(){return e.root_element||t.body},te=function(Rt){var dn=tf(Rt);return{x:dn.x,y:dn.y,w:dn.width,h:dn.height}},se=function(Rt,dn){return _h(t.body,$(Rt),dn)},Ge=function(Rt,dn,de){var ye=$e(dn)?pt(Rt).css(dn,de):pt(Rt).css(dn);e.update_styles&&cp(B,ye)},nr=function(Rt,dn){var de=pt(Rt).css(dn);e.update_styles&&cp(B,de)},Ln=function(Rt,dn,de){var ye=pt(Rt);return de?ye.css(dn):(dn=dn.replace(/-(\D)/g,function(qr,Fo){return Fo.toUpperCase()}),dn==="float"&&(dn=Ue.browser.isIE()?"styleFloat":"cssFloat"),ye[0]&&ye[0].style?ye[0].style[dn]:void 0)},Tr=function(Rt){var dn,de;return Rt=$(Rt),dn=Ln(Rt,"width"),de=Ln(Rt,"height"),dn.indexOf("px")===-1&&(dn=0),de.indexOf("px")===-1&&(de=0),{w:parseInt(dn,10)||Rt.offsetWidth||Rt.clientWidth,h:parseInt(de,10)||Rt.offsetHeight||Rt.clientHeight}},Ce=function(Rt){Rt=$(Rt);var dn=se(Rt),de=Tr(Rt);return{x:dn.x,y:dn.y,w:de.w,h:de.h}},Je=function(Rt,dn){var de;if(!Rt)return!1;if(!Array.isArray(Rt)){if(dn==="*")return Rt.nodeType===1;if(wS.test(dn)){var ye=dn.toLowerCase().split(/,/),qr=Rt.nodeName.toLowerCase();for(de=ye.length-1;de>=0;de--)if(ye[de]===qr)return!0;return!1}if(Rt.nodeType&&Rt.nodeType!==1)return!1}var Fo=Array.isArray(Rt)?Rt:[Rt];return Po(dn,Fo[0].ownerDocument||Fo[0],null,Fo).length>0},ie=function(Rt,dn,de,ye){var qr=[],Fo,Co=$(Rt);for(ye=ye===void 0,de=de||(On().nodeName!=="BODY"?On().parentNode:null),hn.is(dn,"string")&&(Fo=dn,dn==="*"?dn=function(us){return us.nodeType===1}:dn=function(us){return Je(us,Fo)});Co&&!(Co===de||Ft(Co.nodeType)||ht(Co)||Vt(Co));){if(!dn||typeof dn=="function"&&dn(Co))if(ye)qr.push(Co);else return[Co];Co=Co.parentNode}return ye?qr:null},Te=function(Rt,dn,de){var ye=ie(Rt,dn,de,!1);return ye&&ye.length>0?ye[0]:null},je=function(Rt,dn,de){var ye=dn;if(Rt){for(typeof dn=="string"&&(ye=function(qr){return Je(qr,dn)}),Rt=Rt[de];Rt;Rt=Rt[de])if(typeof ye=="function"&&ye(Rt))return Rt}return null},$n=function(Rt,dn){return je(Rt,dn,"nextSibling")},We=function(Rt,dn){return je(Rt,dn,"previousSibling")},bo=function(Rt,dn){return Po(Rt,$(dn)||e.root_element||t,[])},ni=function(Rt,dn,de){var ye,qr=typeof Rt=="string"?$(Rt):Rt;if(!qr)return!1;if(hn.isArray(qr)&&(qr.length||qr.length===0))return ye=[],ap(qr,function(Co,us){Co&&ye.push(dn.call(de,typeof Co=="string"?$(Co):Co,us))}),ye;var Fo=de||this;return dn.call(Fo,qr)},Vo=function(Rt,dn){pt(Rt).each(function(de,ye){ap(dn,function(qr,Fo){Tt(ye,Fo,qr)})})},_i=function(Rt,dn){var de=pt(Rt);E2?de.each(function(ye,qr){if(qr.canHaveHTML!==!1){for(;qr.firstChild;)qr.removeChild(qr.firstChild);try{qr.innerHTML="<br>"+dn,qr.removeChild(qr.firstChild)}catch{jr("<div></div>").html("<br>"+dn).contents().slice(1).appendTo(qr)}return dn}}):de.html(dn)},Uu=function(Rt,dn,de,ye,qr){return ni(Rt,function(Fo){var Co=typeof dn=="string"?t.createElement(dn):dn;return Vo(Co,de),ye&&(typeof ye!="string"&&ye.nodeType?Co.appendChild(ye):typeof ye=="string"&&_i(Co,ye)),qr?Co:Fo.appendChild(Co)})},Ye=function(Rt,dn,de){return Uu(t.createElement(Rt),Rt,dn,de,!0)},Ke=Ba.decode,De=Ba.encodeAllRaw,pe=function(Rt,dn,de){var ye="",qr;ye+="<"+Rt;for(qr in dn)dn.hasOwnProperty(qr)&&dn[qr]!==null&&typeof dn[qr]!="undefined"&&(ye+=" "+qr+'="'+De(dn[qr])+'"');return typeof de!="undefined"?ye+">"+de+"</"+Rt+">":ye+" />"},fn=function(Rt){var dn,de=t.createElement("div"),ye=t.createDocumentFragment();for(ye.appendChild(de),Rt&&(de.innerHTML=Rt);dn=de.firstChild;)ye.appendChild(dn);return ye.removeChild(de),ye},me=function(Rt,dn){var de=pt(Rt);return dn?de.each(function(){for(var ye;ye=this.firstChild;)ye.nodeType===3&&ye.data.length===0?this.removeChild(ye):this.parentNode.insertBefore(ye,this)}).remove():de.remove(),de.length>1?de.toArray():de[0]},Se=function(Rt){return ni(Rt,function(dn){var de,ye=dn.attributes;for(de=ye.length-1;de>=0;de--)dn.removeAttributeNode(ye.item(de))})},Pr=function(Rt){return B.parse(Rt)},pr=function(Rt,dn){return B.serialize(Rt,dn)},ei=function(Rt){var dn,de;if(Ng!==Zo.DOM&&t===document){if(o[Rt])return;o[Rt]=!0}de=t.getElementById("mceDefaultStyles"),de||(de=t.createElement("style"),de.id="mceDefaultStyles",de.type="text/css",dn=t.getElementsByTagName("head")[0],dn.firstChild?dn.insertBefore(de,dn.firstChild):dn.appendChild(de)),de.styleSheet?de.styleSheet.cssText+=Rt:de.appendChild(t.createTextNode(Rt))},hu=function(Rt){Rt||(Rt=""),yt(Rt.split(","),function(dn){c[dn]=!0,y.load(dn,tt)})},la=function(Rt,dn,de){pt(Rt).toggleClass(dn,de).each(function(){this.className===""&&jr(this).attr("class",null)})},ja=function(Rt,dn){pt(Rt).addClass(dn)},Lc=function(Rt,dn){la(Rt,dn,!1)},qa=function(Rt,dn){return pt(Rt).hasClass(dn)},eu=function(Rt){pt(Rt).show()},na=function(Rt){pt(Rt).hide()},Ic=function(Rt){return pt(Rt).css("display")==="none"},ll=function(Rt){return(Rt||"mce_")+f++},li=function(Rt){var dn=typeof Rt=="string"?$(Rt):Rt;return Vr(dn)?dn.outerHTML:jr("<div></div>").append(jr(dn).clone()).html()},Go=function(Rt,dn){pt(Rt).each(function(){try{if("outerHTML"in this){this.outerHTML=dn;return}}catch{}me(jr(this).html(dn),!0)})},ju=function(Rt,dn){var de=$(dn);return ni(Rt,function(ye){var qr=de.parentNode,Fo=de.nextSibling;return Fo?qr.insertBefore(ye,Fo):qr.appendChild(ye),ye})},Wl=function(Rt,dn,de){return ni(dn,function(ye){return hn.is(ye,"array")&&(Rt=Rt.cloneNode(!0)),de&&ap(yS(ye.childNodes),function(qr){Rt.appendChild(qr)}),ye.parentNode.replaceChild(Rt,ye)})},Yl=function(Rt,dn){var de;return Rt.nodeName!==dn.toUpperCase()&&(de=Ye(dn),ap(vt(Rt),function(ye){Tt(de,ye.nodeName,mt(Rt,ye.nodeName))}),Wl(de,Rt,!0)),de||Rt},is=function(Rt,dn){for(var de=Rt,ye;de;){for(ye=dn;ye&&de!==ye;)ye=ye.parentNode;if(de===ye)break;de=de.parentNode}return!de&&Rt.ownerDocument?Rt.ownerDocument.documentElement:de},Fg=function(Rt){return B.toHex(hn.trim(Rt))},N0=function(Rt){if(Vr(Rt)){var dn=Rt.nodeName.toLowerCase()==="a"&&!mt(Rt,"href")&&mt(Rt,"id");if(mt(Rt,"name")||mt(Rt,"data-mce-bookmark")||dn)return!0}return!1},Bg=function(Rt,dn){var de,ye,qr=0;if(N0(Rt))return!1;if(Rt=Rt.firstChild,Rt){var Fo=new Wi(Rt,Rt.parentNode),Co=N?N.getWhiteSpaceElements():{};dn=dn||(N?N.getNonEmptyElements():null);do{if(de=Rt.nodeType,Vr(Rt)){var us=Rt.getAttribute("data-mce-bogus");if(us){Rt=Fo.next(us==="all");continue}if(ye=Rt.nodeName.toLowerCase(),dn&&dn[ye]){if(ye==="br"){qr++,Rt=Fo.next();continue}return!1}if(N0(Rt))return!1}if(de===8||de===3&&!sd(Rt.nodeValue)||de===3&&Rt.parentNode&&Co[Rt.parentNode.nodeName]&&sd(Rt.nodeValue))return!1;Rt=Fo.next()}while(Rt)}return qr<=1},Ah=function(){return t.createRange()},z0=function(Rt,dn,de){var ye=Ah(),qr,Fo,Co;if(Rt&&dn)return ye.setStart(Rt.parentNode,Hm(Rt)),ye.setEnd(dn.parentNode,Hm(dn)),qr=ye.extractContents(),ye=Ah(),ye.setStart(dn.parentNode,Hm(dn)+1),ye.setEnd(Rt.parentNode,Hm(Rt)+1),Fo=ye.extractContents(),Co=Rt.parentNode,Co.insertBefore(n1(Ng,qr),Rt),de?Co.insertBefore(de,Rt):Co.insertBefore(dn,Rt),Co.insertBefore(n1(Ng,Fo),Rt),me(Rt),de||dn},r5=function(Rt,dn,de,ye){if(hn.isArray(Rt)){for(var qr=Rt.length,Fo=[];qr--;)Fo[qr]=r5(Rt[qr],dn,de,ye);return Fo}e.collect&&(Rt===t||Rt===u)&&A.push([Rt,dn,de,ye]);var Co=M.bind(Rt,dn,de,ye||Ng);return Co},eA=function(Rt,dn,de){if(hn.isArray(Rt)){for(var ye=Rt.length,qr=[];ye--;)qr[ye]=eA(Rt[ye],dn,de);return qr}else{if(A.length>0&&(Rt===t||Rt===u))for(var ye=A.length;ye--;){var Fo=A[ye];Rt===Fo[0]&&(!dn||dn===Fo[1])&&(!de||de===Fo[2])&&M.unbind(Fo[0],Fo[1],Fo[2])}return M.unbind(Rt,dn,de)}},_z=function(Rt,dn,de){return M.fire(Rt,dn,de)},o5=function(Rt){if(Rt&&Vr(Rt)){var dn=Rt.getAttribute("data-mce-contenteditable");return dn&&dn!=="inherit"?dn:Rt.contentEditable!=="inherit"?Rt.contentEditable:null}else return null},Fz=function(Rt){for(var dn=On(),de=null;Rt&&Rt!==dn&&(de=o5(Rt),de===null);Rt=Rt.parentNode);return de},Bz=function(){if(A.length>0)for(var Rt=A.length;Rt--;){var dn=A[Rt];M.unbind(dn[0],dn[1],dn[2])}Or(c,function(de,ye){y.unload(ye),delete c[ye]}),Po.setDocument&&Po.setDocument()},Nz=function(Rt,dn){for(;Rt;){if(dn===Rt)return!0;Rt=Rt.parentNode}return!1},$C=function(Rt){return"startContainer: "+Rt.startContainer.nodeName+", startOffset: "+Rt.startOffset+", endContainer: "+Rt.endContainer.nodeName+", endOffset: "+Rt.endOffset},Ng={doc:t,settings:e,win:u,files:c,stdMode:p,boxModel:b,styleSheetLoader:y,boundEvents:A,styles:B,schema:N,events:M,isBlock:Q,$:J,$$:pt,root:null,clone:Ut,getRoot:On,getViewPort:te,getRect:Ce,getSize:Tr,getParent:Te,getParents:ie,get:$,getNext:$n,getPrev:We,select:bo,is:Je,add:Uu,create:Ye,createHTML:pe,createFragment:fn,remove:me,setStyle:Ge,getStyle:Ln,setStyles:nr,removeAllAttribs:Se,setAttrib:Tt,setAttribs:Vo,getAttrib:mt,getPos:se,parseStyle:Pr,serializeStyle:pr,addStyle:ei,loadCSS:hu,addClass:ja,removeClass:Lc,hasClass:qa,toggleClass:la,show:eu,hide:na,isHidden:Ic,uniqueId:ll,setHTML:_i,getOuterHTML:li,setOuterHTML:Go,decode:Ke,encode:De,insertAfter:ju,replace:Wl,rename:Yl,findCommonAncestor:is,toHex:Fg,run:ni,getAttribs:vt,isEmpty:Bg,createRng:Ah,nodeIndex:Hm,split:z0,bind:r5,unbind:eA,fire:_z,getContentEditable:o5,getContentEditableParent:Fz,destroy:Bz,isChildOf:Nz,dumpRng:$C},rA=xS(B,e,function(){return Ng});return Ng};Zo.DOM=Zo(document),Zo.nodeIndex=Hm;var E1=Zo.DOM,A1=hn.each,CS=hn.grep,Vm=0,Ol=1,Xc=2,sp=3,to=function(){function t(e){e===void 0&&(e={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=e}return t.prototype._setReferrerPolicy=function(e){this.settings.referrerPolicy=e},t.prototype.loadScript=function(e,o,u){var c=E1,f,p=function(){c.remove(A),f&&(f.onerror=f.onload=f=null)},b=function(){p(),o()},y=function(){p(),Tn(u)?u():typeof console!="undefined"&&console.log&&console.log("Failed to load script: "+e)},A=c.uniqueId();f=document.createElement("script"),f.id=A,f.type="text/javascript",f.src=hn._addCacheSuffix(e),this.settings.referrerPolicy&&c.setAttrib(f,"referrerpolicy",this.settings.referrerPolicy),f.onload=b,f.onerror=y,(document.getElementsByTagName("head")[0]||document.body).appendChild(f)},t.prototype.isDone=function(e){return this.states[e]===Xc},t.prototype.markDone=function(e){this.states[e]=Xc},t.prototype.add=function(e,o,u,c){var f=this.states[e];this.queue.push(e),f===void 0&&(this.states[e]=Vm),o&&(this.scriptLoadedCallbacks[e]||(this.scriptLoadedCallbacks[e]=[]),this.scriptLoadedCallbacks[e].push({success:o,failure:c,scope:u||this}))},t.prototype.load=function(e,o,u,c){return this.add(e,o,u,c)},t.prototype.remove=function(e){delete this.states[e],delete this.scriptLoadedCallbacks[e]},t.prototype.loadQueue=function(e,o,u){this.loadScripts(this.queue,e,o,u)},t.prototype.loadScripts=function(e,o,u,c){var f=this,p=[],b=function(A,N){A1(f.scriptLoadedCallbacks[N],function(B){Tn(B[A])&&B[A].call(B.scope)}),f.scriptLoadedCallbacks[N]=void 0};f.queueLoadedCallbacks.push({success:o,failure:c,scope:u||this});var y=function(){var A=CS(e);if(e.length=0,A1(A,function(B){if(f.states[B]===Xc){b("success",B);return}if(f.states[B]===sp){b("failure",B);return}f.states[B]!==Ol&&(f.states[B]=Ol,f.loading++,f.loadScript(B,function(){f.states[B]=Xc,f.loading--,b("success",B),y()},function(){f.states[B]=sp,f.loading--,p.push(B),b("failure",B),y()}))}),!f.loading){var N=f.queueLoadedCallbacks.slice(0);f.queueLoadedCallbacks.length=0,A1(N,function(B){p.length===0?Tn(B.success)&&B.success.call(B.scope):Tn(B.failure)&&B.failure.call(B.scope,p)})}};y()},t.ScriptLoader=new t,t}(),Io=function(t){var e=t,o=function(){return e},u=function(c){e=c};return{get:o,set:u}},Sd=function(t){return kn(t)&&Er(t,"raw")},T1=function(t){return bn(t)&&t.length>1},Ho={},Gc=Io("en"),O1=function(){return zr(Ho,Gc.get())},Gu=function(){return So(Ho,function(t){return Xe({},t)})},js=function(t){t&&Gc.set(t)},A2=function(){return Gc.get()},SS=function(t,e){var o=Ho[t];o||(Ho[t]=o={}),Or(e,function(u,c){o[c.toLowerCase()]=u})},T2=function(t){var e=O1().getOr({}),o=function(y){return Tn(y)?Object.prototype.toString.call(y):u(y)?"":""+y},u=function(y){return y===""||y===null||y===void 0},c=function(y){var A=o(y);return zr(e,A.toLowerCase()).map(o).getOr(A)},f=function(y){return y.replace(/{context:\w+}$/,"")};if(u(t))return"";if(Sd(t))return o(t.raw);if(T1(t)){var p=t.slice(1),b=c(t[0]).replace(/\{([0-9]+)\}/g,function(y,A){return Er(p,A)?o(p[A]):y});return f(b)}return f(c(t))},ev=function(){return O1().bind(function(t){return zr(t,"_dir")}).exists(function(t){return t==="rtl"})},D1=function(t){return Er(Ho,t)},Fc={getData:Gu,setCode:js,getCode:A2,add:SS,translate:T2,isRtl:ev,hasCode:D1},ba=function(){var t=[],e={},o={},u=[],c=function(Q,$){var pt=An(u,function(mt){return mt.name===Q&&mt.state===$});yt(pt,function(mt){return mt.callback()})},f=function(Q){if(o[Q])return o[Q].instance},p=function(Q){var $;return o[Q]&&($=o[Q].dependencies),$||[]},b=function(Q,$){ba.languageLoad!==!1&&J(Q,function(){var pt=Fc.getCode(),mt=","+($||"")+",";!pt||$&&mt.indexOf(","+pt+",")===-1||to.ScriptLoader.add(e[Q]+"/langs/"+pt+".js")},"loaded")},y=function(Q,$,pt){var mt=$;return t.push(mt),o[Q]={instance:mt,dependencies:pt},c(Q,"added"),mt},A=function(Q){delete e[Q],delete o[Q]},N=function(Q,$){return typeof $=="object"?$:typeof Q=="string"?{prefix:"",resource:$,suffix:""}:{prefix:Q.prefix,resource:$,suffix:Q.suffix}},B=function(Q,$){var pt=e[Q];yt($,function(mt){to.ScriptLoader.add(pt+"/"+mt)})},M=function(Q,$,pt,mt){var vt=p(Q);yt(vt,function(Tt){var Ut=N($,Tt);X(Ut.resource,Ut,void 0,void 0)}),pt&&(mt?pt.call(mt):pt.call(to))},X=function(Q,$,pt,mt,vt){if(!e[Q]){var Tt=typeof $=="string"?$:$.prefix+$.resource+$.suffix;Tt.indexOf("/")!==0&&Tt.indexOf("://")===-1&&(Tt=ba.baseURL+"/"+Tt),e[Q]=Tt.substring(0,Tt.lastIndexOf("/"));var Ut=function(){c(Q,"loaded"),M(Q,$,pt,mt)};o[Q]?Ut():to.ScriptLoader.add(Tt,Ut,mt,vt)}},J=function(Q,$,pt){pt===void 0&&(pt="added"),Er(o,Q)&&pt==="added"||Er(e,Q)&&pt==="loaded"?$():u.push({name:Q,state:pt,callback:$})};return{items:t,urls:e,lookup:o,_listeners:u,get:f,dependencies:p,requireLangPack:b,add:y,remove:A,createUrl:N,addComponents:B,load:X,waitFor:J}};ba.languageLoad=!0,ba.baseURL="",ba.PluginManager=ba(),ba.ThemeManager=ba();var rv=function(t,e){var o=null,u=function(){o!==null&&(clearTimeout(o),o=null)},c=function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];o===null&&(o=setTimeout(function(){t.apply(null,f),o=null},e))};return{cancel:u,throttle:c}},_1=function(t,e){var o=null,u=function(){o!==null&&(clearTimeout(o),o=null)},c=function(){for(var f=[],p=0;p<arguments.length;p++)f[p]=arguments[p];o!==null&&clearTimeout(o),o=setTimeout(function(){t.apply(null,f),o=null},e)};return{cancel:u,throttle:c}},F1=function(t,e){var o=Em(t,e);return o===void 0||o===""?[]:o.split(" ")},kS=function(t,e,o){var u=F1(t,e),c=u.concat([o]);return jc(t,e,c.join(" ")),!0},ES=function(t,e,o){var u=An(F1(t,e),function(c){return c!==o});return u.length>0?jc(t,e,u.join(" ")):ga(t,e),!1},su=function(t){return t.dom.classList!==void 0},ov=function(t){return F1(t,"class")},O2=function(t,e){return kS(t,"class",e)},D2=function(t,e){return ES(t,"class",e)},lp=function(t,e){su(t)?t.dom.classList.add(e):O2(t,e)},B1=function(t){var e=su(t)?t.dom.classList:ov(t);e.length===0&&ga(t,"class")},fp=function(t,e){if(su(t)){var o=t.dom.classList;o.remove(e)}else D2(t,e);B1(t)},iv=function(t,e){return su(t)&&t.dom.classList.contains(e)},N1=function(t,e){var o=[];return yt(Ki(t),function(u){e(u)&&(o=o.concat([u])),o=o.concat(N1(u,e))}),o},ya=function(t,e){return Kf(e,t)},lu=jt("mce-annotation"),$i=jt("data-mce-annotation"),fu=jt("data-mce-annotation-uid"),Ku=function(t,e){var o=t.selection.getRng(),u=H.fromDom(o.startContainer),c=H.fromDom(t.getBody()),f=e.fold(function(){return"."+lu()},function(A){return"["+$i()+'="'+A+'"]'}),p=Oi(u,o.startOffset).getOr(u),b=kl(p,f,function(A){return Cr(A,c)}),y=function(A,N){return Ug(A,N)?I.some(Em(A,N)):I.none()};return b.bind(function(A){return y(A,""+fu()).bind(function(N){return y(A,""+$i()).map(function(B){var M=Pu(t,N);return{uid:N,name:B,elements:M}})})})},za=function(t){return It(t)&&iv(t,lu())},Pu=function(t,e){var o=H.fromDom(t.getBody());return ya(o,"["+fu()+'="'+e+'"]')},z1=function(t,e){var o=H.fromDom(t.getBody()),u=ya(o,"["+$i()+'="'+e+'"]'),c={};return yt(u,function(f){var p=Em(f,fu()),b=c.hasOwnProperty(p)?c[p]:[];c[p]=b.concat([f])}),c},Um=function(t,e){var o=Io({}),u=function(){return{listeners:[],previous:Io(I.none())}},c=function(N,B){f(N,function(M){return B(M),M})},f=function(N,B){var M=o.get(),X=M.hasOwnProperty(N)?M[N]:u(),J=B(X);M[N]=J,o.set(M)},p=function(N,B,M){c(N,function(X){yt(X.listeners,function(J){return J(!0,N,{uid:B,nodes:Et(M,function(Q){return Q.dom})})})})},b=function(N){c(N,function(B){yt(B.listeners,function(M){return M(!1,N)})})},y=_1(function(){var N=o.get(),B=dr(Nr(N));yt(B,function(M){f(M,function(X){var J=X.previous.get();return Ku(t,I.some(M)).fold(function(){J.isSome()&&(b(M),X.previous.set(I.none()))},function(Q){var $=Q.uid,pt=Q.name,mt=Q.elements;J.is($)||(p(pt,$,mt),X.previous.set(I.some($)))}),{previous:X.previous,listeners:X.listeners}})})},30);t.on("remove",function(){y.cancel()}),t.on("NodeChange",function(){y.throttle()});var A=function(N,B){f(N,function(M){return{previous:M.previous,listeners:M.listeners.concat([B])}})};return{addListener:A}},M1=function(t,e){var o=function(u){return I.from(u.attr($i())).bind(e.lookup)};t.on("init",function(){t.serializer.addNodeFilter("span",function(u){yt(u,function(c){o(c).each(function(f){f.persistent===!1&&c.unwrap()})})})})},_2=function(){var t={},e=function(u,c){t[u]={name:u,settings:c}},o=function(u){return t.hasOwnProperty(u)?I.from(t[u]).map(function(c){return c.settings}):I.none()};return{register:e,lookup:o}},R1=0,P1=function(t){var e=new Date,o=e.getTime(),u=Math.floor(Math.random()*1e9);return R1++,t+"_"+u+R1+String(o)},L1=function(t,e){yt(e,function(o){lp(t,o)})},I1=function(t,e){var o=e||document,u=o.createElement("div");return u.innerHTML=t,Ki(H.fromDom(u))},AS=function(t){return t.dom.innerHTML},F2=function(t,e){var o=Aa(t),u=o.dom,c=H.fromDom(u.createDocumentFragment()),f=I1(e,u);ai(c,f),Ql(t),Ji(t,c)},B2=function(t,e){return H.fromDom(t.dom.cloneNode(e))},kd=function(t){return B2(t,!1)},uv=function(t){return B2(t,!0)},av=function(t,e,o){o===void 0&&(o=ve);var u=new Wi(t,e),c=function(f){var p;do p=u[f]();while(p&&!z(p)&&!o(p));return I.from(p).filter(z)};return{current:function(){return I.from(u.current()).filter(z)},next:function(){return c("next")},prev:function(){return c("prev")},prev2:function(){return c("prev2")}}},N2=function(t,e){var o=e||function(p){return t.isBlock(p)||In(p)||_r(p)},u=function(p,b,y,A){if(z(p)){var N=A(p,b,p.data);if(N!==-1)return I.some({container:p,offset:N})}return y().bind(function(B){return u(B.container,B.offset,y,A)})},c=function(p,b,y,A){var N=av(p,A,o);return u(p,b,function(){return N.prev().map(function(B){return{container:B,offset:B.length}})},y).getOrNull()},f=function(p,b,y,A){var N=av(p,A,o);return u(p,b,function(){return N.next().map(function(B){return{container:B,offset:0}})},y).getOrNull()};return{backwards:c,forwards:f}},TS=function(t){for(var e=[],o=function(c){e.push(c)},u=0;u<t.length;u++)t[u].each(o);return e},Ma=function(t,e,o){return t.isSome()&&e.isSome()?I.some(o(t.getOrDie(),e.getOrDie())):I.none()},vf=function(t,e,o,u){return t.isSome()&&e.isSome()&&o.isSome()?I.some(u(t.getOrDie(),e.getOrDie(),o.getOrDie())):I.none()},H1=function(t,e){return t?I.some(e):I.none()},Un=Math.round,Ed=function(t){return t?{left:Un(t.left),top:Un(t.top),bottom:Un(t.bottom),right:Un(t.right),width:Un(t.width),height:Un(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Pi=function(t,e){return t=Ed(t),e||(t.left=t.left+t.width),t.right=t.left,t.width=0,t},OS=function(t,e){return t.left===e.left&&t.top===e.top&&t.bottom===e.bottom&&t.right===e.right},V1=function(t,e,o){return t>=0&&t<=Math.min(e.height,o.height)/2},Ad=function(t,e){var o=Math.min(e.height/2,t.height/2);return t.bottom-o<e.top?!0:t.top>e.bottom?!1:V1(e.top-t.bottom,t,e)},Lu=function(t,e){return t.top>e.bottom?!0:t.bottom<e.top?!1:V1(e.bottom-t.top,t,e)},U1=function(t,e,o){return e>=t.left&&e<=t.right&&o>=t.top&&o<=t.bottom},jm=function(t){var e=t.startContainer,o=t.startOffset;return e.hasChildNodes()&&t.endOffset===o+1?e.childNodes[o]:null},bf=function(t,e){return t.nodeType===1&&t.hasChildNodes()&&(e>=t.childNodes.length&&(e=t.childNodes.length-1),t=t.childNodes[e]),t},yf=new RegExp("[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E3-\u0902\u093A\u093C\u0941-\u0948\u094D\u0951-\u0957\u0962-\u0963\u0981\u09BC\u09BE\u09C1-\u09C4\u09CD\u09D7\u09E2-\u09E3\u0A01-\u0A02\u0A3C\u0A41-\u0A42\u0A47-\u0A48\u0A4B-\u0A4D\u0A51\u0A70-\u0A71\u0A75\u0A81-\u0A82\u0ABC\u0AC1-\u0AC5\u0AC7-\u0AC8\u0ACD\u0AE2-\u0AE3\u0B01\u0B3C\u0B3E\u0B3F\u0B41-\u0B44\u0B4D\u0B56\u0B57\u0B62-\u0B63\u0B82\u0BBE\u0BC0\u0BCD\u0BD7\u0C00\u0C3E-\u0C40\u0C46-\u0C48\u0C4A-\u0C4D\u0C55-\u0C56\u0C62-\u0C63\u0C81\u0CBC\u0CBF\u0CC2\u0CC6\u0CCC-\u0CCD\u0CD5-\u0CD6\u0CE2-\u0CE3\u0D01\u0D3E\u0D41-\u0D44\u0D4D\u0D57\u0D62-\u0D63\u0DCA\u0DCF\u0DD2-\u0DD4\u0DD6\u0DDF\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB-\u0EBC\u0EC8-\u0ECD\u0F18-\u0F19\u0F35\u0F37\u0F39\u0F71-\u0F7E\u0F80-\u0F84\u0F86-\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102D-\u1030\u1032-\u1037\u1039-\u103A\u103D-\u103E\u1058-\u1059\u105E-\u1060\u1071-\u1074\u1082\u1085-\u1086\u108D\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752-\u1753\u1772-\u1773\u17B4-\u17B5\u17B7-\u17BD\u17C6\u17C9-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u1922\u1927-\u1928\u1932\u1939-\u193B\u1A17-\u1A18\u1A1B\u1A56\u1A58-\u1A5E\u1A60\u1A62\u1A65-\u1A6C\u1A73-\u1A7C\u1A7F\u1AB0-\u1ABD\u1ABE\u1B00-\u1B03\u1B34\u1B36-\u1B3A\u1B3C\u1B42\u1B6B-\u1B73\u1B80-\u1B81\u1BA2-\u1BA5\u1BA8-\u1BA9\u1BAB-\u1BAD\u1BE6\u1BE8-\u1BE9\u1BED\u1BEF-\u1BF1\u1C2C-\u1C33\u1C36-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE0\u1CE2-\u1CE8\u1CED\u1CF4\u1CF8-\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u200C-\u200D\u20D0-\u20DC\u20DD-\u20E0\u20E1\u20E2-\u20E4\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302D\u302E-\u302F\u3099-\u309A\uA66F\uA670-\uA672\uA674-\uA67D\uA69E-\uA69F\uA6F0-\uA6F1\uA802\uA806\uA80B\uA825-\uA826\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA951\uA980-\uA982\uA9B3\uA9B6-\uA9B9\uA9BC\uA9E5\uAA29-\uAA2E\uAA31-\uAA32\uAA35-\uAA36\uAA43\uAA4C\uAA7C\uAAB0\uAAB2-\uAAB4\uAAB7-\uAAB8\uAABE-\uAABF\uAAC1\uAAEC-\uAAED\uAAF6\uABE5\uABE8\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFF9E-\uFF9F]"),z2=function(t){return typeof t=="string"&&t.charCodeAt(0)>=768&&yf.test(t)},j1=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(o){for(var u=0;u<t.length;u++)if(t[u](o))return!0;return!1}},ks=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(o){for(var u=0;u<t.length;u++)if(!t[u](o))return!1;return!0}},Ju=Vr,M2=Vs,Kc=hl("display","block table"),qm=hl("float","left right"),Td=ks(Ju,M2,Le(qm)),R2=Le(hl("white-space","pre pre-line pre-wrap")),dp=z,Od=In,Wm=Zo.nodeIndex,wf=bf,q1=function(t){return"createRange"in t?t.createRange():Zo.DOM.createRng()},W1=function(t){return t&&/[\r\n\t ]/.test(t)},Y1=function(t){return!!t.setStart&&!!t.setEnd},mp=function(t){var e=t.startContainer,o=t.startOffset,u;return!!(W1(t.toString())&&R2(e.parentNode)&&z(e)&&(u=e.data,W1(u[o-1])||W1(u[o+1])))},P2=function(t){var e=t.ownerDocument,o=q1(e),u=e.createTextNode(uu),c=t.parentNode;c.insertBefore(u,t),o.setStart(u,0),o.setEnd(u,1);var f=Ed(o.getBoundingClientRect());return c.removeChild(u),f},Dd=function(t){var e=t.startContainer,o=t.endContainer,u=t.startOffset,c=t.endOffset;if(e===o&&z(o)&&u===0&&c===1){var f=t.cloneRange();return f.setEndAfter(o),ic(f)}else return null},Es=function(t){return t.left===0&&t.right===0&&t.top===0&&t.bottom===0},ic=function(t){var e,o=t.getClientRects();return o.length>0?e=Ed(o[0]):e=Ed(t.getBoundingClientRect()),!Y1(t)&&Od(t)&&Es(e)?P2(t):Es(e)&&Y1(t)?Dd(t):e},qs=function(t,e){var o=Pi(t,e);return o.width=1,o.right=o.left+1,o},cv=function(t){var e=[],o,u,c=function(p){p.height!==0&&(e.length>0&&OS(p,e[e.length-1])||e.push(p))},f=function(p,b){var y=q1(p.ownerDocument);if(b<p.data.length){if(z2(p.data[b]))return e;if(z2(p.data[b-1])&&(y.setStart(p,b),y.setEnd(p,b+1),!mp(y)))return c(qs(ic(y),!1)),e}b>0&&(y.setStart(p,b-1),y.setEnd(p,b),mp(y)||c(qs(ic(y),!1))),b<p.data.length&&(y.setStart(p,b),y.setEnd(p,b+1),mp(y)||c(qs(ic(y),!0)))};if(dp(t.container()))return f(t.container(),t.offset()),e;if(Ju(t.container()))if(t.isAtEnd())u=wf(t.container(),t.offset()),dp(u)&&f(u,u.data.length),Td(u)&&!Od(u)&&c(qs(ic(u),!1));else{if(u=wf(t.container(),t.offset()),dp(u)&&f(u,0),Td(u)&&t.isAtEnd())return c(qs(ic(u),!1)),e;o=wf(t.container(),t.offset()-1),Td(o)&&!Od(o)&&(Kc(o)||Kc(u)||!Td(u))&&c(qs(ic(o),!1)),Td(u)&&c(qs(ic(u),!0))}return e},wn=function(t,e,o){var u=function(){return dp(t),e===0},c=function(){return dp(t)?e>=t.data.length:e>=t.childNodes.length},f=function(){var N=q1(t.ownerDocument);return N.setStart(t,e),N.setEnd(t,e),N},p=function(){return o||(o=cv(wn(t,e))),o},b=function(){return p().length>0},y=function(N){return N&&t===N.container()&&e===N.offset()},A=function(N){return wf(t,N?e-1:e)};return{container:jt(t),offset:jt(e),toRange:f,getClientRects:p,isVisible:b,isAtStart:u,isAtEnd:c,isEqual:y,getNode:A}};wn.fromRangeStart=function(t){return wn(t.startContainer,t.startOffset)},wn.fromRangeEnd=function(t){return wn(t.endContainer,t.endOffset)},wn.after=function(t){return wn(t.parentNode,Wm(t)+1)},wn.before=function(t){return wn(t.parentNode,Wm(t))},wn.isAbove=function(t,e){return Ma(gn(e.getClientRects()),Ee(t.getClientRects()),Ad).getOr(!1)},wn.isBelow=function(t,e){return Ma(Ee(e.getClientRects()),gn(t.getClientRects()),Lu).getOr(!1)},wn.isAtStart=function(t){return t?t.isAtStart():!1},wn.isAtEnd=function(t){return t?t.isAtEnd():!1},wn.isTextPosition=function(t){return t?z(t.container()):!1},wn.isElementPosition=function(t){return wn.isTextPosition(t)===!1};var sv=function(t,e){z(e)&&e.data.length===0&&t.remove(e)},DS=function(t,e,o){e.insertNode(o),sv(t,o.previousSibling),sv(t,o.nextSibling)},gp=function(t,e,o){var u=I.from(o.firstChild),c=I.from(o.lastChild);e.insertNode(o),u.each(function(f){return sv(t,f.previousSibling)}),c.each(function(f){return sv(t,f.nextSibling)})},pp=function(t,e,o){Vt(o)?gp(t,e,o):DS(t,e,o)},Jc=z,L2=vl,$1=Zo.nodeIndex,I2=function(t){var e=t.parentNode;return L2(e)?I2(e):e},Ym=function(t){return t?ao(t.childNodes,function(e,o){return L2(o)&&o.nodeName!=="BR"?e=e.concat(Ym(o)):e.push(o),e},[]):[]},lv=function(t,e){for(;(t=t.previousSibling)&&Jc(t);)e+=t.data.length;return e},X1=function(t){return function(e){return t===e}},_S=function(t){var e,o;e=Ym(I2(t)),o=zo(e,X1(t),t),e=e.slice(0,o+1);var u=ao(e,function(c,f,p){return Jc(f)&&Jc(e[p-1])&&c++,c},0);return e=ii(e,Xa([t.nodeName])),o=zo(e,X1(t),t),o-u},$m=function(t){var e;return Jc(t)?e="text()":e=t.nodeName.toLowerCase(),e+"["+_S(t)+"]"},Xm=function(t,e,o){var u=[];for(e=e.parentNode;e!==t&&!(o&&o(e));e=e.parentNode)u.push(e);return u},Gm=function(t,e){var o,u,c=[],f,p,b;return o=e.container(),u=e.offset(),Jc(o)?f=lv(o,u):(p=o.childNodes,u>=p.length?(f="after",u=p.length-1):f="before",o=p[u]),c.push($m(o)),b=Xm(t,o),b=ii(b,Le(vl)),c=c.concat(hi(b,function(y){return $m(y)})),c.reverse().join("/")+","+f},hp=function(t,e,o){var u=Ym(t);return u=ii(u,function(c,f){return!Jc(c)||!Jc(u[f-1])}),u=ii(u,Xa([e])),u[o]},G1=function(t,e){for(var o=t,u=0,c;Jc(o);){if(c=o.data.length,e>=u&&e<=u+c){t=o,e=e-u;break}if(!Jc(o.nextSibling)){t=o,e=c;break}u+=c,o=o.nextSibling}return Jc(t)&&e>t.data.length&&(e=t.data.length),wn(t,e)},H2=function(t,e){var o;if(!e)return null;var u=e.split(","),c=u[0].split("/");o=u.length>1?u[1]:"before";var f=ao(c,function(p,b){var y=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(b);return y?(y[1]==="text()"&&(y[1]="#text"),hp(p,y[1],parseInt(y[2],10))):null},t);return f?Jc(f)?G1(f,parseInt(o,10)):(o==="after"?o=$1(f)+1:o=$1(f),wn(f.parentNode,o)):null},Zc=_r,K1=function(t,e,o){var u,c;for(c=t(e.data.slice(0,o)).length,u=e.previousSibling;u&&z(u);u=u.previousSibling)c+=t(u.data).length;return c},Km=function(t,e,o,u,c){var f=u[c?"startContainer":"endContainer"],p=u[c?"startOffset":"endOffset"],b=[],y,A=0,N=t.getRoot();for(z(f)?b.push(o?K1(e,f,p):p):(y=f.childNodes,p>=y.length&&y.length&&(A=1,p=Math.max(0,y.length-1)),b.push(t.nodeIndex(y[p],o)+A));f&&f!==N;f=f.parentNode)b.push(t.nodeIndex(f,o));return b},Dl=function(t,e,o,u){var c=e.dom,f={};return f.start=Km(c,t,o,u,!0),e.isCollapsed()||(f.end=Km(c,t,o,u,!1)),f},Jm=function(t,e,o){var u=0;return hn.each(t.select(e),function(c){if(c.getAttribute("data-mce-bogus")!=="all"){if(c===o)return!1;u++}}),u},V2=function(t,e){var o,u,c,f=e?"start":"end";o=t[f+"Container"],u=t[f+"Offset"],Vr(o)&&o.nodeName==="TR"&&(c=o.childNodes,o=c[Math.min(e?u:u-1,c.length-1)],o&&(u=e?0:o.childNodes.length,t["set"+(e?"Start":"End")](o,u)))},U2=function(t){return V2(t,!0),V2(t,!1),t},j2=function(t,e){var o;if(Vr(t)&&(t=bf(t,e),Zc(t)))return t;if(pa(t)&&(z(t)&&yu(t)&&(t=t.parentNode),o=t.previousSibling,Zc(o)||(o=t.nextSibling,Zc(o))))return o},FS=function(t){return j2(t.startContainer,t.startOffset)||j2(t.endContainer,t.endOffset)},fv=function(t,e,o){var u=o.getNode(),c=u?u.nodeName:null,f=o.getRng();if(Zc(u)||c==="IMG")return{name:c,index:Jm(o.dom,c,u)};var p=FS(f);return p?(c=p.tagName,{name:c,index:Jm(o.dom,c,p)}):Dl(t,o,e,f)},BS=function(t){var e=t.getRng();return{start:Gm(t.dom.getRoot(),wn.fromRangeStart(e)),end:Gm(t.dom.getRoot(),wn.fromRangeEnd(e))}},NS=function(t){return{rng:t.getRng()}},_d=function(t,e,o){var u={"data-mce-type":"bookmark",id:e,style:"overflow:hidden;line-height:0px"};return o?t.create("span",u,"&#xFEFF;"):t.create("span",u)},q2=function(t,e){var o=t.dom,u=t.getRng(),c=o.uniqueId(),f=t.isCollapsed(),p=t.getNode(),b=p.nodeName;if(b==="IMG")return{name:b,index:Jm(o,b,p)};var y=U2(u.cloneRange());if(!f){y.collapse(!1);var A=_d(o,c+"_end",e);pp(o,y,A)}u=U2(u),u.collapse(!0);var N=_d(o,c+"_start",e);return pp(o,u,N),t.moveToBookmark({id:c,keep:!0}),{id:c}},W2=function(t,e,o){return e===2?fv(kc,o,t):e===3?BS(t):e?NS(t):q2(t,!1)},vp=Qt(fv,le,!0),J1=Zo.DOM,Z1="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",aa=function(t,e,o){var u=t.getParam(e,o);if(u.indexOf("=")!==-1){var c=t.getParam(e,"","hash");return c.hasOwnProperty(t.id)?c[t.id]:o}else return u},Y2=function(t){return t.getParam("iframe_attrs",{})},dv=function(t){return t.getParam("doctype","<!DOCTYPE html>")},zS=function(t){return t.getParam("document_base_url","")},MS=function(t){return aa(t,"body_id","tinymce")},xf=function(t){return aa(t,"body_class","")},bp=function(t){return t.getParam("content_security_policy","")},RS=function(t){return t.getParam("br_in_pre",!0)},du=function(t){if(t.getParam("force_p_newlines",!1))return"p";var e=t.getParam("forced_root_block","p");return e===!1?"":e===!0?"p":e},Cf=function(t){return t.getParam("forced_root_block_attrs",{})},$2=function(t){return t.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},PS=function(t){return t.getParam("no_newline_selector","")},X2=function(t){return t.getParam("keep_styles",!0)},LS=function(t){return t.getParam("end_container_on_empty_block",!1)},IS=function(t){return hn.explode(t.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},HS=function(t){return hn.explode(t.getParam("font_size_classes",""))},_l=function(t){return t.getParam("images_dataimg_filter",ue,"function")},Zm=function(t){return t.getParam("automatic_uploads",!0,"boolean")},VS=function(t){return t.getParam("images_reuse_filename",!1,"boolean")},G2=function(t){return t.getParam("images_replace_blob_uris",!0,"boolean")},K2=function(t){return t.getParam("icons","","string")},J2=function(t){return t.getParam("icons_url","","string")},Z2=function(t){return t.getParam("images_upload_url","","string")},Q1=function(t){return t.getParam("images_upload_base_path","","string")},yp=function(t){return t.getParam("images_upload_credentials",!1,"boolean")},US=function(t){return t.getParam("images_upload_handler",null,"function")},jS=function(t){return t.getParam("content_css_cors",!1,"boolean")},Fd=function(t){return t.getParam("referrer_policy","","string")},tb=function(t){return t.getParam("language","en","string")},qS=function(t){return t.getParam("language_url","","string")},Q2=function(t){return t.getParam("indent_use_margin",!1)},Qm=function(t){return t.getParam("indentation","40px","string")},tw=function(t){var e=t.getParam("content_css");return $e(e)?Et(e.split(","),Z):bn(e)?e:e===!1||t.inline?[]:["default"]},nb=function(t){var e=t.getParam("font_css",[]);return bn(e)?e:Et(e.split(","),Z)},nw=function(t){return t.getParam("directionality",Fc.isRtl()?"rtl":void 0)},ew=function(t){return t.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},rw=function(t){var e=t.getParam("object_resizing");return e===!1||Ue.iOS?!1:$e(e)?e:"table,img,figure.image,div,video,iframe"},ow=function(t){return t.getParam("resize_img_proportional",!0,"boolean")},iw=function(t){return t.getParam("placeholder",J1.getAttrib(t.getElement(),"placeholder"),"string")},uw=function(t){return t.getParam("event_root")},aw=function(t){return t.getParam("service_message")},wp=function(t){return t.getParam("theme")},WS=function(t){return t.getParam("validate")},xp=function(t){return t.getParam("inline_boundaries")!==!1},tg=function(t){return t.getParam("formats")},YS=function(t){var e=t.getParam("preview_styles",Z1);return $e(e)?e:""},$S=function(t){return t.getParam("format_empty_lines",!1,"boolean")},wa=function(t){return t.getParam("custom_ui_selector","","string")},cw=function(t){return t.getParam("theme_url")},XS=function(t){return t.getParam("inline")},Ra=function(t){return t.getParam("hidden_input")},sw=function(t){return t.getParam("submit_patch")},GS=function(t){return t.getParam("encoding")==="xml"},KS=function(t){return t.getParam("add_form_submit_trigger")},eb=function(t){return t.getParam("add_unload_trigger")},ng=function(t){return du(t)!==""},rb=function(t){return t.getParam("custom_undo_redo_levels",0,"number")},lw=function(t){return t.getParam("disable_nodechange")},fw=function(t){return t.getParam("readonly")},JS=function(t){return t.getParam("content_css_cors")},mv=function(t){return t.getParam("plugins","","string")},Qc=function(t){return t.getParam("external_plugins")},Sf=function(t){return t.getParam("block_unsupported_drop",!0,"boolean")},gv=function(t){return t.getParam("visual",!0,"boolean")},Bd=function(t){return t.getParam("visual_table_class","mce-item-table","string")},pv=function(t){return t.getParam("visual_anchor_class","mce-item-anchor","string")},dw=Vr,ob=z,ib=function(t){var e=t.parentNode;e&&e.removeChild(t)},ub=function(t){var e=kc(t);return{count:t.length-e.length,text:e}},ab=function(t){for(var e;(e=t.data.lastIndexOf(Bu))!==-1;)t.deleteData(e,1)},mw=function(t,e){return Ws(t),e},ZS=function(t,e){var o=ub(t.data.substr(0,e.offset())),u=ub(t.data.substr(e.offset())),c=o.text+u.text;return c.length>0?(ab(t),wn(t,e.offset()-o.count)):e},QS=function(t,e){var o=e.container(),u=gt(ur(o.childNodes),t).map(function(c){return c<e.offset()?wn(o,e.offset()-1):e}).getOr(e);return Ws(t),u},tk=function(t,e){return ob(t)&&e.container()===t?ZS(t,e):mw(t,e)},nk=function(t,e){return e.container()===t.parentNode?QS(t,e):mw(t,e)},ek=function(t,e){return wn.isTextPosition(e)?tk(t,e):nk(t,e)},Ws=function(t){dw(t)&&pa(t)&&(Gg(t)?t.removeAttribute("data-mce-caret"):ib(t)),ob(t)&&(ab(t),t.data.length===0&&ib(t))},hv=lo().browser,gw=_r,rk=Ur,ok=To,ik="*[contentEditable=false],video,audio,embed,object",Zu=function(t,e,o){var u=Pi(e.getBoundingClientRect(),o),c,f,p,b,y;return t.tagName==="BODY"?(c=t.ownerDocument.documentElement,f=t.scrollLeft||c.scrollLeft,p=t.scrollTop||c.scrollTop):(y=t.getBoundingClientRect(),f=t.scrollLeft-y.left,p=t.scrollTop-y.top),u.left+=f,u.right+=f,u.top+=p,u.bottom+=p,u.width=1,b=e.offsetWidth-e.clientWidth,b>0&&(o&&(b*=-1),u.left+=b,u.right+=b),u},eg=function(t){for(var e=ya(H.fromDom(t),ik),o=0;o<e.length;o++){var u=e[o].dom,c=u.previousSibling;if(Yi(c)){var f=c.data;f.length===1?c.parentNode.removeChild(c):c.deleteData(f.length-1,1)}if(c=u.nextSibling,Rh(c)){var f=c.data;f.length===1?c.parentNode.removeChild(c):c.deleteData(0,1)}}},rg=function(t,e,o,u){var c=Io(I.none()),f,p,b=du(t),y=b.length>0?b:"p",A=function(Q,$){var pt,mt;if(N(),ok($))return null;if(o($)){p=K0(y,$,Q),pt=Zu(e,$,Q),jr(p).css("top",pt.top);var vt=jr('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(pt).appendTo(e)[0];c.set(I.some({caret:vt,element:$,before:Q})),c.get().each(function(Tt){Q&&jr(Tt.caret).addClass("mce-visual-caret-before")}),B(),mt=$.ownerDocument.createRange(),mt.setStart(p,0),mt.setEnd(p,0)}else return p=hs($,Q),mt=$.ownerDocument.createRange(),og(p.nextSibling)?(mt.setStart(p,0),mt.setEnd(p,0)):(mt.setStart(p,1),mt.setEnd(p,1)),mt;return mt},N=function(){eg(e),p&&(Ws(p),p=null),c.get().each(function(Q){jr(Q.caret).remove(),c.set(I.none())}),f&&(Hr.clearInterval(f),f=null)},B=function(){f=Hr.setInterval(function(){u()?jr("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden"):jr("div.mce-visual-caret",e).addClass("mce-visual-caret-hidden")},500)},M=function(){c.get().each(function(Q){var $=Zu(e,Q.element,Q.before);jr(Q.caret).css(Xe({},$))})},X=function(){return Hr.clearInterval(f)},J=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:A,hide:N,getCss:J,reposition:M,destroy:X}},vv=function(){return hv.isIE()||hv.isEdge()||hv.isFirefox()},og=function(t){return gw(t)||rk(t)},Fl=function(t){return og(t)||nf(t)&&vv()},Ys=_r,pw=Ur,cb=hl("display","block table table-cell table-caption list-item"),kf=pa,sb=yu,bv=Vr,uk=Vs,Nd=function(t){return t>0},Ef=function(t){return t<0},Cp=function(t,e){for(var o;o=t(e);)if(!sb(o))return o;return null},zd=function(t,e,o,u,c){var f=new Wi(t,u),p=Ys(t)||sb(t);if(Ef(e)){if(p&&(t=Cp(f.prev.bind(f),!0),o(t)))return t;for(;t=Cp(f.prev.bind(f),c);)if(o(t))return t}if(Nd(e)){if(p&&(t=Cp(f.next.bind(f),!0),o(t)))return t;for(;t=Cp(f.next.bind(f),c);)if(o(t))return t}return null},Af=function(t,e){for(;t&&t!==e;){if(cb(t))return t;t=t.parentNode}return null},$s=function(t,e,o){return Af(t.container(),o)===Af(e.container(),o)},yv=function(t,e){if(!e)return null;var o=e.container(),u=e.offset();return bv(o)?o.childNodes[u+t]:null},lb=function(t,e){var o=e.ownerDocument.createRange();return t?(o.setStartBefore(e),o.setEndBefore(e)):(o.setStartAfter(e),o.setEndAfter(e)),o},ak=function(t,e,o){return Af(e,t)===Af(o,t)},hw=function(t,e,o){var u,c;for(t?c="previousSibling":c="nextSibling";o&&o!==e;){if(u=o[c],kf(u)&&(u=u[c]),Ys(u)||pw(u)){if(ak(e,u,o))return u;break}if(uk(u))break;o=o.parentNode}return null},Sp=Qt(lb,!0),kp=Qt(lb,!1),Ep=function(t,e,o){var u,c,f,p=Qt(hw,!0,e),b=Qt(hw,!1,e);c=o.startContainer;var y=o.startOffset;if(yu(c)){if(bv(c)||(c=c.parentNode),f=c.getAttribute("data-mce-caret"),f==="before"&&(u=c.nextSibling,Fl(u)))return Sp(u);if(f==="after"&&(u=c.previousSibling,Fl(u)))return kp(u)}if(!o.collapsed)return o;if(z(c)){if(kf(c)){if(t===1){if(u=b(c),u)return Sp(u);if(u=p(c),u)return kp(u)}if(t===-1){if(u=p(c),u)return kp(u);if(u=b(c),u)return Sp(u)}return o}if(Yi(c)&&y>=c.data.length-1)return t===1&&(u=b(c),u)?Sp(u):o;if(Rh(c)&&y<=1)return t===-1&&(u=p(c),u)?kp(u):o;if(y===c.data.length)return u=b(c),u?Sp(u):o;if(y===0)return u=p(c),u?kp(u):o}return o},vw=function(t,e){return I.from(yv(t?0:-1,e)).filter(Ys)},Md=function(t,e,o){var u=Ep(t,e,o);return t===-1?wn.fromRangeStart(u):wn.fromRangeEnd(u)},Ap=function(t){return I.from(t.getNode()).map(H.fromDom)},bw=function(t){return I.from(t.getNode(!0)).map(H.fromDom)},fb=function(t,e){for(;e=t(e);)if(e.isVisible())return e;return e},Tp=function(t,e){var o=$s(t,e);return!o&&In(t.getNode())?!0:o},Qi;(function(t){t[t.Backwards=-1]="Backwards",t[t.Forwards=1]="Forwards"})(Qi||(Qi={}));var yw=_r,Wr=z,Tf=Vr,As=In,Xs=Vs,Op=s2,Of=Bm,ck=function(t,e){for(var o=[];t&&t!==e;)o.push(t),t=t.parentNode;return o},wv=function(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null},xv=function(t,e){if(Nd(t)){if(Xs(e.previousSibling)&&!Wr(e.previousSibling))return wn.before(e);if(Wr(e))return wn(e,0)}if(Ef(t)){if(Xs(e.nextSibling)&&!Wr(e.nextSibling))return wn.after(e);if(Wr(e))return wn(e,e.data.length)}return Ef(t)?As(e)?wn.before(e):wn.after(e):wn.before(e)},ww=function(t,e){var o=e.nextSibling;return o&&Xs(o)?Wr(o)?wn(o,0):wn.before(o):db(Qi.Forwards,wn.after(e),t)},db=function(t,e,o){var u,c,f,p;if(!Tf(o)||!e)return null;if(e.isEqual(wn.after(o))&&o.lastChild){if(p=wn.after(o.lastChild),Ef(t)&&Xs(o.lastChild)&&Tf(o.lastChild))return As(o.lastChild)?wn.before(o.lastChild):p}else p=e;var b=p.container(),y=p.offset();if(Wr(b)){if(Ef(t)&&y>0)return wn(b,--y);if(Nd(t)&&y<b.length)return wn(b,++y);u=b}else{if(Ef(t)&&y>0&&(c=wv(b,y-1),Xs(c)))return!Op(c)&&(f=zd(c,t,Of,c),f)?Wr(f)?wn(f,f.data.length):wn.after(f):Wr(c)?wn(c,c.data.length):wn.before(c);if(Nd(t)&&y<b.childNodes.length&&(c=wv(b,y),Xs(c)))return As(c)?ww(o,c):!Op(c)&&(f=zd(c,t,Of,c),f)?Wr(f)?wn(f,0):wn.before(f):Wr(c)?wn(c,0):wn.after(c);u=c||p.getNode()}if((Nd(t)&&p.isAtEnd()||Ef(t)&&p.isAtStart())&&(u=zd(u,t,ue,o,!0),Of(u,o)))return xv(t,u);c=zd(u,t,Of,o);var A=Ko(An(ck(b,o),yw));return A&&(!c||!A.contains(c))?(Nd(t)?p=wn.after(A):p=wn.before(A),p):c?xv(t,c):null},Ts=function(t){return{next:function(e){return db(Qi.Forwards,e,t)},prev:function(e){return db(Qi.Backwards,e,t)}}},sk=function(t,e,o){var u=t?wn.before(o):wn.after(o);return Bc(t,e,u)},xw=function(t){return In(t)?wn.before(t):wn.after(t)},Cw=function(t){return wn.isTextPosition(t)?t.offset()===0:Vs(t.getNode())},Sw=function(t){if(wn.isTextPosition(t)){var e=t.container();return t.offset()===e.data.length}else return Vs(t.getNode(!0))},mb=function(t,e){return!wn.isTextPosition(t)&&!wn.isTextPosition(e)&&t.getNode()===e.getNode(!0)},lk=function(t){return!wn.isTextPosition(t)&&In(t.getNode())},kw=function(t,e,o){return t?!mb(e,o)&&!lk(e)&&Sw(e)&&Cw(o):!mb(o,e)&&Cw(e)&&Sw(o)},Bc=function(t,e,o){var u=Ts(e);return I.from(t?u.next(o):u.prev(o))},Cv=function(t,e,o){return Bc(t,e,o).bind(function(u){return $s(o,u,e)&&kw(t,o,u)?Bc(t,e,u):I.some(u)})},Sv=function(t,e,o,u){return Cv(t,e,o).bind(function(c){return u(c)?Sv(t,e,c,u):I.some(c)})},Rd=function(t,e){var o=t?e.firstChild:e.lastChild;return z(o)?I.some(wn(o,t?0:o.data.length)):o?Vs(o)?I.some(t?wn.before(o):xw(o)):sk(t,e,o):I.none()},ts=Qt(Bc,!0),Os=Qt(Bc,!1),xa=Qt(Rd,!0),Gs=Qt(Rd,!1),gb="_mce_caret",Ks=function(t){return Vr(t)&&t.id===gb},Pd=function(t,e){for(;e&&e!==t;){if(e.id===gb)return e;e=e.parentNode}return null},fk=function(t){return $e(t.start)},dk=function(t){return t.hasOwnProperty("rng")},Ew=function(t){return t.hasOwnProperty("id")},pb=function(t){return t.hasOwnProperty("name")},hb=function(t){return hn.isArray(t.start)},Aw=function(t,e){return Vr(e)&&t.isBlock(e)&&!e.innerHTML&&!Ue.ie&&(e.innerHTML='<br data-mce-bogus="1" />'),e},xe=function(t,e){var o,u=t.createRng();return o=H2(t.getRoot(),e.start),u.setStart(o.container(),o.offset()),o=H2(t.getRoot(),e.end),u.setEnd(o.container(),o.offset()),u},tu=function(t,e){var o=t.ownerDocument.createTextNode(Bu);t.appendChild(o),e.setStart(o,0),e.setEnd(o,0)},kv=function(t){return t.hasChildNodes()===!1},Li=function(t,e){return Gs(t).fold(ve,function(o){return e.setStart(o.container(),o.offset()),e.setEnd(o.container(),o.offset()),!0})},Ca=function(t,e,o){return kv(e)&&Pd(t,e)?(tu(e,o),!0):!1},Dp=function(t,e,o,u){var c=o[e?"start":"end"],f,p,b,y,A=t.getRoot();if(c){for(b=c[0],p=A,f=c.length-1;f>=1;f--){if(y=p.childNodes,Ca(A,p,u))return!0;if(c[f]>y.length-1)return Ca(A,p,u)?!0:Li(p,u);p=y[c[f]]}p.nodeType===3&&(b=Math.min(c[0],p.nodeValue.length)),p.nodeType===1&&(b=Math.min(c[0],p.childNodes.length)),e?u.setStart(p,b):u.setEnd(p,b)}return!0},Ld=function(t){return z(t)&&t.data.length>0},ig=function(t,e,o){var u=t.get(o.id+"_"+e),c,f,p,b,y=o.keep,A,N;if(u){if(c=u.parentNode,e==="start"?(y?u.hasChildNodes()?(c=u.firstChild,f=1):Ld(u.nextSibling)?(c=u.nextSibling,f=0):Ld(u.previousSibling)?(c=u.previousSibling,f=u.previousSibling.data.length):(c=u.parentNode,f=t.nodeIndex(u)+1):f=t.nodeIndex(u),A=c,N=f):(y?u.hasChildNodes()?(c=u.firstChild,f=1):Ld(u.previousSibling)?(c=u.previousSibling,f=u.previousSibling.data.length):(c=u.parentNode,f=t.nodeIndex(u)):f=t.nodeIndex(u),A=c,N=f),!y){for(b=u.previousSibling,p=u.nextSibling,hn.each(hn.grep(u.childNodes),function(B){z(B)&&(B.nodeValue=B.nodeValue.replace(/\uFEFF/g,""))});u=t.get(o.id+"_"+e);)t.remove(u,!0);b&&p&&b.nodeType===p.nodeType&&z(b)&&!Ue.opera&&(f=b.nodeValue.length,b.appendData(p.nodeValue),t.remove(p),A=b,N=f)}return I.some(wn(A,N))}else return I.none()},Tw=function(t,e){var o=t.createRng();return Dp(t,!0,e,o)&&Dp(t,!1,e,o)?I.some(o):I.none()},vb=function(t,e){var o=ig(t,"start",e),u=ig(t,"end",e);return Ma(o,u.or(o),function(c,f){var p=t.createRng();return p.setStart(Aw(t,c.container()),c.offset()),p.setEnd(Aw(t,f.container()),f.offset()),p})},Ow=function(t,e){return I.from(t.select(e.name)[e.index]).map(function(o){var u=t.createRng();return u.selectNode(o),u})},mk=function(t,e){var o=t.dom;if(e){if(hb(e))return Tw(o,e);if(fk(e))return I.some(xe(o,e));if(Ew(e))return vb(o,e);if(pb(e))return Ow(o,e);if(dk(e))return I.some(e.rng)}return I.none()},gk=function(t,e,o){return W2(t,e,o)},pk=function(t,e){mk(t,e).each(function(o){t.setRng(o)})},Pa=function(t){return Vr(t)&&t.tagName==="SPAN"&&t.getAttribute("data-mce-type")==="bookmark"},hk=function(t){return function(e){return t===e}},ug=hk(uu),Js=function(t){return t!==""&&` \f
\r	\v`.indexOf(t)!==-1},Id=function(t){return!Js(t)&&!ug(t)},Ds=function(t){return!!t.nodeType},_p=function(t){return t&&/^(IMG)$/.test(t.nodeName)},Ev=function(t,e,o){var u=o.startOffset,c=o.startContainer,f,p,b;if(!(o.startContainer===o.endContainer&&_p(o.startContainer.childNodes[o.startOffset]))&&c.nodeType===1){for(b=c.childNodes,u<b.length?(c=b[u],f=new Wi(c,t.getParent(c,t.isBlock))):(c=b[b.length-1],f=new Wi(c,t.getParent(c,t.isBlock)),f.next(!0)),p=f.current();p;p=f.next())if(p.nodeType===3&&!yb(p)){o.setStart(p,0),e.setRng(o);return}}},bb=function(t,e,o){if(t){var u=e?"nextSibling":"previousSibling";for(t=o?t:t[u];t;t=t[u])if(t.nodeType===1||!yb(t))return t}},ag=function(t,e){return Ds(e)&&(e=e.nodeName),!!t.schema.getTextBlockElements()[e.toLowerCase()]},Bl=function(t,e,o){return t.schema.isValidChild(e,o)},yb=function(t,e){if(e===void 0&&(e=!1),cn(t)&&z(t)){var o=e?t.data.replace(/ /g,"\xA0"):t.data;return sd(o)}else return!1},vk=function(t){return cn(t)&&z(t)&&t.length===0},Df=function(t,e){return typeof t!="string"?t=t(e):e&&(t=t.replace(/%(\w+)/g,function(o,u){return e[u]||o})),t},wb=function(t,e){return t=t||"",e=e||"",t=""+(t.nodeName||t),e=""+(e.nodeName||e),t.toLowerCase()===e.toLowerCase()},Fp=function(t,e,o){return(o==="color"||o==="backgroundColor")&&(e=t.toHex(e)),o==="fontWeight"&&e===700&&(e="bold"),o==="fontFamily"&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e},Bp=function(t,e,o){return Fp(t,t.getStyle(e,o),o)},Dw=function(t,e){var o;return t.getParent(e,function(u){return o=t.getStyle(u,"text-decoration"),o&&o!=="none"}),o},Hd=function(t,e,o){return t.getParents(e,o,t.getRoot())},Iu=function(t,e){var o=function(u){var c=function(f){return f.length>1&&f.charAt(0)==="%"};return nt(["styles","attributes"],function(f){return zr(u,f).exists(function(p){var b=bn(p)?p:wo(p);return nt(b,c)})})};return nt(t.formatter.get(e),o)},ns=function(t,e,o){var u=["inline","block","selector","attributes","styles","classes"],c=function(f){return fe(f,function(p,b){return nt(u,function(y){return y===b})})};return nt(t.formatter.get(e),function(f){var p=c(f);return nt(t.formatter.get(o),function(b){var y=c(b);return Bi(p,y)})})},Nc=function(t){return $o(t,"block")},cg=function(t){return $o(t,"selector")},Vd=function(t){return $o(t,"inline")},sg=Pa,Av=Hd,xb=yb,Tv=ag,Ov=function(t){return In(t)&&t.getAttribute("data-mce-bogus")&&!t.nextSibling},Dv=function(t,e){for(var o=e;o;){if(Vr(o)&&t.getContentEditable(o))return t.getContentEditable(o)==="false"?o:e;o=o.parentNode}return e},Cb=function(t,e,o,u){for(var c=e.data,f=o;t?f>=0:f<c.length;t?f--:f++)if(u(c.charAt(f)))return t?f+1:f;return-1},_w=function(t,e,o){return Cb(t,e,o,function(u){return ug(u)||Js(u)})},Sb=function(t,e,o){return Cb(t,e,o,Id)},_v=function(t,e,o,u,c,f){var p,b=t.getParent(o,t.isBlock)||e,y=function(N,B,M){var X=N2(t),J=c?X.backwards:X.forwards;return I.from(J(N,B,function(Q,$){return sg(Q.parentNode)?-1:(p=Q,M(c,Q,$))},b))},A=y(o,u,_w);return A.bind(function(N){return f?y(N.container,N.offset+(c?-1:0),Sb):I.some(N)}).orThunk(function(){return p?I.some({container:p,offset:c?0:p.length}):I.none()})},Lo=function(t,e,o,u,c){z(u)&&u.nodeValue.length===0&&u[c]&&(u=u[c]);for(var f=Av(t,u),p=0;p<f.length;p++)for(var b=0;b<e.length;b++){var y=e[b];if(!("collapsed"in y&&y.collapsed!==o.collapsed)&&t.is(f[p],y.selector))return f[p]}return u},_s=function(t,e,o,u){var c,f=t.dom,p=f.getRoot();if(e[0].wrapper||(c=f.getParent(o,e[0].block,p)),!c){var b=f.getParent(o,"LI,TD,TH");c=f.getParent(z(o)?o.parentNode:o,function(y){return y!==p&&Tv(t,y)},b)}if(c&&e[0].wrapper&&(c=Av(f,c,"ul,ol").reverse()[0]||c),!c)for(c=o;c[u]&&!f.isBlock(c[u])&&(c=c[u],!wb(c,"br")););return c||o},_f=function(t,e,o,u){var c=o.parentNode;return cn(o[u])?!1:c===e||Ft(c)||t.isBlock(c)?!0:_f(t,e,c,u)},lg=function(t,e,o,u,c){var f=o,p,b=c?"previousSibling":"nextSibling",y=t.getRoot();if(z(o)&&!xb(o)&&(c?u>0:u<o.data.length))return o;for(;;){if(!e[0].block_expand&&t.isBlock(f))return f;for(p=f[b];p;p=p[b]){var A=z(p)&&!_f(t,y,p,b);if(!sg(p)&&!Ov(p)&&!xb(p,A))return f}if(f===y||f.parentNode===y){o=f;break}f=f.parentNode}return o},kb=function(t){return sg(t.parentNode)||sg(t)},Ff=function(t,e,o,u){u===void 0&&(u=!1);var c=e.startContainer,f=e.startOffset,p=e.endContainer,b=e.endOffset,y=t.dom;if(Vr(c)&&c.hasChildNodes()&&(c=bf(c,f),z(c)&&(f=0)),Vr(p)&&p.hasChildNodes()&&(p=bf(p,e.collapsed?b:b-1),z(p)&&(b=p.nodeValue.length)),c=Dv(y,c),p=Dv(y,p),kb(c)&&(c=sg(c)?c:c.parentNode,e.collapsed?c=c.previousSibling||c:c=c.nextSibling||c,z(c)&&(f=e.collapsed?c.length:0)),kb(p)&&(p=sg(p)?p:p.parentNode,e.collapsed?p=p.nextSibling||p:p=p.previousSibling||p,z(p)&&(b=e.collapsed?0:p.length)),e.collapsed){var A=_v(y,t.getBody(),c,f,!0,u);A.each(function(B){var M=B.container,X=B.offset;c=M,f=X});var N=_v(y,t.getBody(),p,b,!1,u);N.each(function(B){var M=B.container,X=B.offset;p=M,b=X})}return(o[0].inline||o[0].block_expand)&&((!o[0].inline||!z(c)||f===0)&&(c=lg(y,o,c,f,!0)),(!o[0].inline||!z(p)||b===p.nodeValue.length)&&(p=lg(y,o,p,b,!1))),o[0].selector&&o[0].expand!==!1&&!o[0].inline&&(c=Lo(y,o,e,c,"previousSibling"),p=Lo(y,o,e,p,"nextSibling")),(o[0].block||o[0].selector)&&(c=_s(t,o,c,"previousSibling"),p=_s(t,o,p,"nextSibling"),o[0].block&&(y.isBlock(c)||(c=lg(y,o,c,f,!0)),y.isBlock(p)||(p=lg(y,o,p,b,!1)))),Vr(c)&&(f=y.nodeIndex(c),c=c.parentNode),Vr(p)&&(b=y.nodeIndex(p)+1,p=p.parentNode),{startContainer:c,startOffset:f,endContainer:p,endOffset:b}},Eb=function(t,e){var o=t.childNodes;return e>=o.length?e=o.length-1:e<0&&(e=0),o[e]||t},Ud=function(t,e){return Eb(t,e-1)},jd=function(t,e,o){var u=e.startContainer,c=e.startOffset,f=e.endContainer,p=e.endOffset,b=function($){var pt;return pt=$[0],pt.nodeType===3&&pt===u&&c>=pt.nodeValue.length&&$.splice(0,1),pt=$[$.length-1],p===0&&$.length>0&&pt===f&&pt.nodeType===3&&$.splice($.length-1,1),$},y=function($,pt,mt){for(var vt=[];$&&$!==mt;$=$[pt])vt.push($);return vt},A=function($,pt){do{if($.parentNode===pt)return $;$=$.parentNode}while($)},N=function($,pt,mt){for(var vt=mt?"nextSibling":"previousSibling",Tt=$,Ut=Tt.parentNode;Tt&&Tt!==pt;Tt=Ut){Ut=Tt.parentNode;var On=y(Tt===$?Tt:Tt[vt],vt);On.length&&(mt||On.reverse(),o(b(On)))}};if(u.nodeType===1&&u.hasChildNodes()&&(u=Eb(u,c)),f.nodeType===1&&f.hasChildNodes()&&(f=Ud(f,p)),u===f)return o(b([u]));for(var B=t.findCommonAncestor(u,f),M=u;M;M=M.parentNode){if(M===f)return N(u,B,!0);if(M===B)break}for(var M=f;M;M=M.parentNode){if(M===u)return N(f,B);if(M===B)break}var X=A(u,B)||u,J=A(f,B)||f;N(u,X,!0);var Q=y(X===u?X:X.nextSibling,"nextSibling",J===f?J.nextSibling:J);Q.length&&o(b(Q)),N(f,J)},Ab=function(t){var e=[];if(t)for(var o=0;o<t.rangeCount;o++)e.push(t.getRangeAt(o));return e},Fw=function(t){return Cn(t,function(e){var o=jm(e);return o?[H.fromDom(o)]:[]})},bk=function(t){return Ab(t).length>1},Tb=function(t){return An(Fw(t),Cc)},yk=function(t){return ya(t,"td[data-mce-selected],th[data-mce-selected]")},Hu=function(t,e){var o=yk(e);return o.length>0?o:Tb(t)},Nl=function(t){return Hu(Ab(t.selection.getSel()),H.fromDom(t.getBody()))},wk=function(t){var e=t.startContainer,o=t.startOffset;return z(e)?o===0?I.some(H.fromDom(e)):I.none():I.from(e.childNodes[o]).map(H.fromDom)},xk=function(t){var e=t.endContainer,o=t.endOffset;return z(e)?o===e.data.length?I.some(H.fromDom(e)):I.none():I.from(e.childNodes[o-1]).map(H.fromDom)},uc=function(t){return Fe(t).fold(jt([t]),function(e){return[t].concat(uc(e))})},Vu=function(t){return hc(t).fold(jt([t]),function(e){return Mo(e)==="br"?re(e).map(function(o){return[t].concat(Vu(o))}).getOr([]):[t].concat(Vu(e))})},Bf=function(t,e){return Ma(wk(e),xk(e),function(o,u){var c=Lr(uc(t),Qt(Cr,o)),f=Lr(Vu(t),Qt(Cr,u));return c.isSome()&&f.isSome()}).getOr(!1)},Ob=function(t,e,o,u){var c=o,f=new Wi(o,c),p=fe(t.schema.getMoveCaretBeforeOnEnterElements(),function(b,y){return!Wt(["td","th","table"],y.toLowerCase())});do{if(z(o)&&hn.trim(o.nodeValue).length!==0){u?e.setStart(o,0):e.setEnd(o,o.nodeValue.length);return}if(p[o.nodeName]){u?e.setStartBefore(o):o.nodeName==="BR"?e.setEndBefore(o):e.setEndAfter(o);return}}while(o=u?f.next():f.prev());c.nodeName==="BODY"&&(u?e.setStart(c,0):e.setEnd(c,c.childNodes.length))},Fv=function(t){var e=t.selection.getSel();return e&&e.rangeCount>0},Zs=function(t,e){var o=Nl(t);o.length>0?yt(o,function(u){var c=u.dom,f=t.dom.createRng();f.setStartBefore(c),f.setEndAfter(c),e(f,!0)}):e(t.selection.getRng(),!1)},Db=function(t,e,o){var u=q2(t,e);o(u),t.moveToBookmark(u)},Bw=function(t,e){var o=function(f){if(!t(f))throw new Error("Can only get "+e+" value of a "+e+" node");return u(f).getOr("")},u=function(f){return t(f)?I.from(f.dom.nodeValue):I.none()},c=function(f,p){if(!t(f))throw new Error("Can only set raw "+e+" value of a "+e+" node");f.dom.nodeValue=p};return{get:o,getOption:u,set:c}},fg=Bw(Ti,"text"),_b=function(t){return fg.get(t)},Nw=function(t){return Ti(t)&&_b(t)===Bu},Bv=function(t,e,o,u){return iu(e).fold(function(){return"skipping"},function(c){return u==="br"||Nw(e)?"valid":za(e)?"existing":Ks(e.dom)?"caret":!Bl(t,o,u)||!Bl(t,Mo(c),o)?"invalid-child":"valid"})},mo=function(t,e){var o=Ff(t,e,[{inline:!0}]);e.setStart(o.startContainer,o.startOffset),e.setEnd(o.endContainer,o.endOffset),t.selection.setRng(e)},Fb=function(t,e,o,u){var c=e.uid,f=c===void 0?P1("mce-annotation"):c,p=ui(e,["uid"]),b=H.fromTag("span",t);lp(b,lu()),jc(b,""+fu(),f),jc(b,""+$i(),o);var y=u(f,p),A=y.attributes,N=A===void 0?{}:A,B=y.classes,M=B===void 0?[]:B;return ms(b,N),L1(b,M),b},Np=function(t,e,o,u,c){var f=[],p=Fb(t.getDoc(),c,o,u),b=Io(I.none()),y=function(){b.set(I.none())},A=function(){return b.get().getOrThunk(function(){var X=kd(p);return f.push(X),b.set(I.some(X)),X})},N=function(X){yt(X,B)},B=function(X){var J=Bv(t,X,"span",Mo(X));switch(J){case"invalid-child":{y();var Q=Ki(X);N(Q),y();break}case"valid":{var $=A();ds(X,$);break}}},M=function(X){var J=Et(X,H.fromDom);N(J)};return jd(t.dom,e,function(X){y(),M(X)}),f},zw=function(t,e,o,u){t.undoManager.transact(function(){var c=t.selection,f=c.getRng(),p=Nl(t).length>0;if(f.collapsed&&!p&&mo(t,f),c.getRng().collapsed&&!p){var b=Fb(t.getDoc(),u,e,o.decorate);F2(b,uu),c.getRng().insertNode(b.dom),c.select(b.dom)}else Db(c,!1,function(){Zs(t,function(y){Np(t,y,e,o.decorate,u)})})})},dg=function(t){var e=_2();M1(t,e);var o=Um(t);return{register:function(u,c){e.register(u,c)},annotate:function(u,c){e.lookup(u).each(function(f){zw(t,u,f,c)})},annotationChanged:function(u,c){o.addListener(u,c)},remove:function(u){Ku(t,I.some(u)).each(function(c){var f=c.elements;yt(f,Cm)})},getAll:function(u){var c=z1(t,u);return So(c,function(f){return Et(f,function(p){return p.dom})})}}},zp=function(t){return{getBookmark:Qt(gk,t),moveToBookmark:Qt(pk,t)}};zp.isBookmarkNode=Pa;var qd=function(t,e){for(;e&&e!==t;){if(Br(e)||_r(e))return e;e=e.parentNode}return null},Mp=function(t,e,o){if(o.collapsed)return!1;if(Ue.browser.isIE()&&o.startOffset===o.endOffset-1&&o.startContainer===o.endContainer){var u=o.startContainer.childNodes[o.startOffset];if(Vr(u))return nt(u.getClientRects(),function(c){return U1(c,t,e)})}return nt(o.getClientRects(),function(c){return U1(c,t,e)})},Ck=function(t,e){return t.fire("PreProcess",e)},Nv=function(t,e){return t.fire("PostProcess",e)},Sk=function(t){return t.fire("remove")},kk=function(t){return t.fire("detach")},Mw=function(t,e){return t.fire("SwitchMode",{mode:e})},Bb=function(t,e,o,u,c){t.fire("ObjectResizeStart",{target:e,width:o,height:u,origin:c})},Rw=function(t,e,o,u,c){t.fire("ObjectResized",{target:e,width:o,height:u,origin:c})},Pw=function(t){return t.fire("PreInit")},Ek=function(t){return t.fire("PostRender")},Nb=function(t){return t.fire("Init")},Lw=function(t,e){return t.fire("PlaceholderToggle",{state:e})},Iw=function(t,e,o){return t.fire(e,o)},Be={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||Be.metaKeyPressed(t)},metaKeyPressed:function(t){return Ue.mac?t.metaKey:t.ctrlKey&&!t.altKey}},Ak=_r,zl=function(t,e){var o="data-mce-selected",u=e.dom,c=hn.each,f,p,b,y,A,N,B,M,X,J,Q,$,pt,mt,vt,Tt=e.getDoc(),Ut=document,On=Math.abs,te=Math.round,se=e.getBody(),Ge,nr,Ln={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},Tr=function(fn){return fn&&(fn.nodeName==="IMG"||e.dom.is(fn,"figure.image"))},Ce=function(fn){return Ur(fn)||u.hasClass(fn,"mce-preview-object")},Je=function(fn,me){if(fn.type==="longpress"||fn.type.indexOf("touch")===0){var Se=fn.touches[0];return Tr(fn.target)&&!Mp(Se.clientX,Se.clientY,me)}else return Tr(fn.target)&&!Mp(fn.clientX,fn.clientY,me)},ie=function(fn){var me=fn.target;Je(fn,e.selection.getRng())&&!fn.isDefaultPrevented()&&e.selection.select(me)},Te=function(fn){return u.is(fn,"figure.image")?fn.querySelector("img"):u.hasClass(fn,"mce-preview-object")&&cn(fn.firstElementChild)?fn.firstElementChild:fn},je=function(fn){var me=rw(e);return!me||fn.getAttribute("data-mce-resize")==="false"||fn===e.getBody()?!1:u.hasClass(fn,"mce-preview-object")?Du(H.fromDom(fn.firstElementChild),me):Du(H.fromDom(fn),me)},$n=function(fn){return Ce(fn)?u.create("img",{src:Ue.transparentSrc}):fn.cloneNode(!0)},We=function(fn,me,Se){u.setStyles(Te(fn),{width:me,height:Se})},bo=function(fn){var me,Se,Pr,pr,ei;me=fn.screenX-N,Se=fn.screenY-B,mt=me*y[2]+J,vt=Se*y[3]+Q,mt=mt<5?5:mt,vt=vt<5?5:vt,(Tr(f)||Ce(f))&&ow(e)!==!1?Pr=!Be.modifierPressed(fn):Pr=Be.modifierPressed(fn),Pr&&(On(me)>On(Se)?(vt=te(mt*$),mt=te(vt/$)):(mt=te(vt/$),vt=te(mt*$))),We(p,mt,vt),pr=y.startPos.x+me,ei=y.startPos.y+Se,pr=pr>0?pr:0,ei=ei>0?ei:0,u.setStyles(b,{left:pr,top:ei,display:"block"}),b.innerHTML=mt+" &times; "+vt,y[2]<0&&p.clientWidth<=mt&&u.setStyle(p,"left",M+(J-mt)),y[3]<0&&p.clientHeight<=vt&&u.setStyle(p,"top",X+(Q-vt)),me=se.scrollWidth-Ge,Se=se.scrollHeight-nr,me+Se!==0&&u.setStyles(b,{left:pr-me,top:ei-Se}),pt||(Bb(e,f,J,Q,"corner-"+y.name),pt=!0)},ni=function(){var fn=pt;pt=!1;var me=function(Se,Pr){if(Pr){var pr=Te(f);pr.style[Se]||!e.schema.isValid(pr.nodeName.toLowerCase(),Se)?u.setStyle(pr,Se,Pr):u.setAttrib(pr,Se,""+Pr)}};fn&&(me("width",mt),me("height",vt)),u.unbind(Tt,"mousemove",bo),u.unbind(Tt,"mouseup",ni),Ut!==Tt&&(u.unbind(Ut,"mousemove",bo),u.unbind(Ut,"mouseup",ni)),u.remove(p),u.remove(b),u.remove(A),Vo(f),fn&&(Rw(e,f,mt,vt,"corner-"+y.name),u.setAttrib(f,"style",u.getAttrib(f,"style"))),e.nodeChanged()},Vo=function(fn){Ke();var me=u.getPos(fn,se),Se=me.x,Pr=me.y,pr=fn.getBoundingClientRect(),ei=pr.width||pr.right-pr.left,hu=pr.height||pr.bottom-pr.top;f!==fn&&(_i(),f=fn,mt=vt=0);var la=e.fire("ObjectSelected",{target:fn}),ja=u.getAttrib(f,o,"1");je(fn)&&!la.isDefaultPrevented()?c(Ln,function(Lc,qa){var eu,na=function(Ic){N=Ic.screenX,B=Ic.screenY,J=Te(f).clientWidth,Q=Te(f).clientHeight,$=Q/J,y=Lc,y.name=qa,y.startPos={x:ei*Lc[0]+Se,y:hu*Lc[1]+Pr},Ge=se.scrollWidth,nr=se.scrollHeight,A=u.add(se,"div",{class:"mce-resize-backdrop"}),u.setStyles(A,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),p=$n(f),u.addClass(p,"mce-clonedresizable"),u.setAttrib(p,"data-mce-bogus","all"),p.contentEditable="false",u.setStyles(p,{left:Se,top:Pr,margin:0}),We(p,ei,hu),p.removeAttribute(o),se.appendChild(p),u.bind(Tt,"mousemove",bo),u.bind(Tt,"mouseup",ni),Ut!==Tt&&(u.bind(Ut,"mousemove",bo),u.bind(Ut,"mouseup",ni)),b=u.add(se,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},J+" &times; "+Q)};eu=u.get("mceResizeHandle"+qa),eu&&u.remove(eu),eu=u.add(se,"div",{id:"mceResizeHandle"+qa,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+qa+"-resize; margin:0; padding:0"}),Ue.ie===11&&(eu.contentEditable=!1),u.bind(eu,"mousedown",function(Ic){Ic.stopImmediatePropagation(),Ic.preventDefault(),na(Ic)}),Lc.elm=eu,u.setStyles(eu,{left:ei*Lc[0]+Se-eu.offsetWidth/2,top:hu*Lc[1]+Pr-eu.offsetHeight/2})}):_i(),u.getAttrib(f,o)||f.setAttribute(o,ja)},_i=function(){Ke(),f&&f.removeAttribute(o),Or(Ln,function(fn,me){var Se=u.get("mceResizeHandle"+me);Se&&(u.unbind(Se),u.remove(Se))})},Uu=function(fn){var me,Se,Pr=function(pr,ei){if(pr)do if(pr===ei)return!0;while(pr=pr.parentNode)};if(!(pt||e.removed)){if(c(u.select("img[data-mce-selected],hr[data-mce-selected]"),function(pr){pr.removeAttribute(o)}),Se=fn.type==="mousedown"?fn.target:t.getNode(),Se=u.$(Se).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],Pr(Se,se)&&(De(),me=t.getStart(!0),Pr(me,Se)&&Pr(t.getEnd(!0),Se))){Vo(Se);return}_i()}},Ye=function(fn){return Ak(qd(e.getBody(),fn))},Ke=function(){Or(Ln,function(fn){fn.elm&&(u.unbind(fn.elm),delete fn.elm)})},De=function(){try{e.getDoc().execCommand("enableObjectResizing",!1,"false")}catch{}};e.on("init",function(){if(De(),Ue.browser.isIE()||Ue.browser.isEdge()){e.on("mousedown click",function(Se){var Pr=Se.target,pr=Pr.nodeName;!pt&&/^(TABLE|IMG|HR)$/.test(pr)&&!Ye(Pr)&&(Se.button!==2&&e.selection.select(Pr,pr==="TABLE"),Se.type==="mousedown"&&e.nodeChanged())});var fn=function(Se){var Pr=function(pr){Hr.setEditorTimeout(e,function(){return e.selection.select(pr)})};if(Ye(Se.target)||Ur(Se.target)){Se.preventDefault(),Pr(Se.target);return}/^(TABLE|IMG|HR)$/.test(Se.target.nodeName)&&(Se.preventDefault(),Se.target.tagName==="IMG"&&Pr(Se.target))};u.bind(se,"mscontrolselect",fn),e.on("remove",function(){return u.unbind(se,"mscontrolselect",fn)})}var me=Hr.throttle(function(Se){e.composing||Uu(Se)});e.on("nodechange ResizeEditor ResizeWindow ResizeContent drop FullscreenStateChanged",me),e.on("keyup compositionend",function(Se){f&&f.nodeName==="TABLE"&&me(Se)}),e.on("hide blur",_i),e.on("contextmenu longpress",ie,!0)}),e.on("remove",Ke);var pe=function(){f=p=A=null};return{isResizable:je,showResizeRect:Vo,hideResizeRect:_i,updateResizeRect:Uu,destroy:pe}},Qs=function(t){return Br(t)||_r(t)},zv=function(t,e,o){for(;t&&t!==e;){if(o(t))return t;t=t.parentNode}return null},La=function(t,e,o){var u,c=o.elementFromPoint(t,e),f=o.body.createTextRange();if((!c||c.tagName==="HTML")&&(c=o.body),f.moveToElementText(c),u=hn.toArray(f.getClientRects()),u=u.sort(function(p,b){return p=Math.abs(Math.max(p.top-e,p.bottom-e)),b=Math.abs(Math.max(b.top-e,b.bottom-e)),p-b}),u.length>0){e=(u[0].bottom+u[0].top)/2;try{return f.moveToPoint(t,e),f.collapse(!0),f}catch{}}return null},Mv=function(t,e){var o=t&&t.parentElement?t.parentElement():null;return _r(zv(o,e,Qs))?null:t},Wd=function(t,e,o){var u,c,f=o;if(f.caretPositionFromPoint)c=f.caretPositionFromPoint(t,e),c&&(u=o.createRange(),u.setStart(c.offsetNode,c.offset),u.collapse(!0));else if(o.caretRangeFromPoint)u=o.caretRangeFromPoint(t,e);else if(f.body.createTextRange){u=f.body.createTextRange();try{u.moveToPoint(t,e),u.collapse(!0)}catch{u=La(t,e,o)}return Mv(u,o.body)}return u},Ml=function(t,e){return t&&e&&t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset},Yd=function(t,e,o){for(;t&&t!==e;){if(o(t))return t;t=t.parentNode}return null},Rv=function(t,e,o){return Yd(t,e,o)!==null},Tk=function(t,e,o){return Rv(t,e,function(u){return u.nodeName===o})},zb=function(t){return t&&t.nodeName==="TABLE"},Ok=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},Jr=function(t,e){return pa(t)&&Rv(t,e,Ks)===!1},zc=function(t,e,o){for(var u=new Wi(e,t.getParent(e.parentNode,t.isBlock)||t.getRoot());e=u[o?"prev":"next"]();)if(In(e))return!0},Nf=function(t,e){return t.previousSibling&&t.previousSibling.nodeName===e},Dk=function(t,e){for(;e&&e!==t;){if(_r(e))return!0;e=e.parentNode}return!1},zf=function(t,e,o,u,c){var f,p=t.getRoot(),b,y=t.schema.getNonEmptyElements(),A=t.getParent(c.parentNode,t.isBlock)||p;if(u&&In(c)&&e&&t.isEmpty(A))return I.some(wn(c.parentNode,t.nodeIndex(c)));for(var N=new Wi(c,A);b=N[u?"prev":"next"]();){if(t.getContentEditableParent(b)==="false"||Jr(b,p))return I.none();if(z(b)&&b.nodeValue.length>0)return Tk(b,p,"A")===!1?I.some(wn(b,u?b.nodeValue.length:0)):I.none();if(t.isBlock(b)||y[b.nodeName.toLowerCase()])return I.none();f=b}return o&&f?I.some(wn(f,0)):I.none()},oo=function(t,e,o,u){var c,f,p=t.getRoot(),b,y,A=!1;c=u[(o?"start":"end")+"Container"],f=u[(o?"start":"end")+"Offset"];var N=Vr(c)&&f===c.childNodes.length,B=t.schema.getNonEmptyElements();if(y=o,pa(c))return I.none();if(Vr(c)&&f>c.childNodes.length-1&&(y=!1),ht(c)&&(c=p,f=0),c===p){if(y&&(b=c.childNodes[f>0?f-1:0],b&&(pa(b)||B[b.nodeName]||zb(b))))return I.none();if(c.hasChildNodes()){if(f=Math.min(!y&&f>0?f-1:f,c.childNodes.length-1),c=c.childNodes[f],f=z(c)&&N?c.data.length:0,!e&&c===p.lastChild&&zb(c)||Dk(p,c)||pa(c))return I.none();if(c.hasChildNodes()&&zb(c)===!1){b=c;var M=new Wi(c,p);do{if(_r(b)||pa(b)){A=!1;break}if(z(b)&&b.nodeValue.length>0){f=y?0:b.nodeValue.length,c=b,A=!0;break}if(B[b.nodeName.toLowerCase()]&&!Ok(b)){f=t.nodeIndex(b),c=b.parentNode,y||f++,A=!0;break}}while(b=y?M.next():M.prev())}}}return e&&(z(c)&&f===0&&zf(t,N,e,!0,c).each(function(X){c=X.container(),f=X.offset(),A=!0}),Vr(c)&&(b=c.childNodes[f],b||(b=c.childNodes[f-1]),b&&In(b)&&!Nf(b,"A")&&!zc(t,b,!1)&&!zc(t,b,!0)&&zf(t,N,e,!0,b).each(function(X){c=X.container(),f=X.offset(),A=!0}))),y&&!e&&z(c)&&f===c.nodeValue.length&&zf(t,N,e,!1,c).each(function(X){c=X.container(),f=X.offset(),A=!0}),A?I.some(wn(c,f)):I.none()},Rp=function(t,e){var o=e.collapsed,u=e.cloneRange(),c=wn.fromRangeStart(e);return oo(t,o,!0,u).each(function(f){(!o||!wn.isAbove(c,f))&&u.setStart(f.container(),f.offset())}),o||oo(t,o,!1,u).each(function(f){u.setEnd(f.container(),f.offset())}),o&&u.collapse(!0),Ml(e,u)?I.none():I.some(u)},Pp=function(t,e){return t.splitText(e)},Mf=function(t){var e=t.startContainer,o=t.startOffset,u=t.endContainer,c=t.endOffset;return e===u&&z(e)?o>0&&o<e.nodeValue.length&&(u=Pp(e,o),e=u.previousSibling,c>o?(c=c-o,e=u=Pp(u,c).previousSibling,c=u.nodeValue.length,o=0):c=0):(z(e)&&o>0&&o<e.nodeValue.length&&(e=Pp(e,o),o=0),z(u)&&c>0&&c<u.nodeValue.length&&(u=Pp(u,c).previousSibling,c=u.nodeValue.length)),{startContainer:e,startOffset:o,endContainer:u,endOffset:c}},mg=function(t){var e=function(c,f){return jd(t,c,f)},o=Mf,u=function(c){return Rp(t,c).fold(ve,function(f){return c.setStart(f.startContainer,f.startOffset),c.setEnd(f.endContainer,f.endOffset),!0})};return{walk:e,split:o,normalize:u}};mg.compareRanges=Ml,mg.getCaretRangeFromPoint=Wd,mg.getSelectedNode=jm,mg.getNode=bf;var Pv=function(t,e){var o=function(b,y){if(!Xn(y)&&!y.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+y);var A=b.dom;Wu(A)&&(A.style[t]=y+"px")},u=function(b){var y=e(b);if(y<=0||y===null){var A=bl(b,t);return parseFloat(A)||0}return y},c=u,f=function(b,y){return ze(y,function(A,N){var B=bl(b,N),M=B===void 0?0:parseInt(B,10);return isNaN(M)?A:A+M},0)},p=function(b,y,A){var N=f(b,A),B=y>N?y-N:0;return B};return{set:o,get:u,getOuter:c,aggregate:f,max:p}},$d=Pv("height",function(t){var e=t.dom;return gl(t)?e.getBoundingClientRect().height:e.offsetHeight}),Mb=function(t){return $d.get(t)},Hw=function(t,e){var o=t.view(e);return o.fold(jt([]),function(u){var c=t.owner(u),f=Hw(t,c);return[u].concat(f)})},_k=function(t,e){var o=e.owner(t);return Hw(e,o)},Fk=function(t){var e,o=t.dom===document?I.none():I.from((e=t.dom.defaultView)===null||e===void 0?void 0:e.frameElement);return o.map(H.fromDom)},Lp=function(t){return fo(t)},gg=Object.freeze({__proto__:null,view:Fk,owner:Lp}),Bk=function(t){var e=H.fromDom(document),o=td(e),u=_k(t,gg),c=Qf(t),f=ar(u,function(p,b){var y=Qf(b);return{left:p.left+y.left,top:p.top+y.top}},{left:0,top:0});return pl(f.left+c.left+o.left,f.top+c.top+o.top)},Ip=function(t){return Mo(t)==="textarea"},Nk=function(t,e){var o=t.fire("ScrollIntoView",e);return o.isDefaultPrevented()},Vw=function(t,e){t.fire("AfterScrollIntoView",e)},zk=function(t,e){var o=Ki(t);if(o.length===0||Ip(t))return{element:t,offset:e};if(e<o.length&&!Ip(o[e]))return{element:o[e],offset:0};var u=o[o.length-1];return Ip(u)?{element:t,offset:e}:Mo(u)==="img"?{element:u,offset:1}:Ti(u)?{element:u,offset:_b(u).length}:{element:u,offset:Ki(u).length}},Rb=function(t,e){var o=Zf(t),u=Mb(t);return{element:t,bottom:o.top+u,height:u,pos:o,cleanup:e}},Mk=function(t,e){var o=zk(t,e),u=H.fromHtml('<span data-mce-bogus="all">'+Bu+"</span>");return Jo(o.element,u),Rb(u,function(){return Zi(u)})},pg=function(t){return Rb(H.fromDom(t),tt)},Pb=function(t,e,o,u){Uw(t,function(c,f){return Lv(t,e,o,u)},o)},Hp=function(t,e,o,u,c){var f={elm:u.element.dom,alignToTop:c};if(!Nk(t,f)){var p=td(e).top;o(e,p,u,c),Vw(t,f)}},Lv=function(t,e,o,u){var c=H.fromDom(t.getBody()),f=H.fromDom(t.getDoc());ea(c);var p=Mk(H.fromDom(o.startContainer),o.startOffset);Hp(t,f,e,p,u),p.cleanup()},Xd=function(t,e,o,u){var c=H.fromDom(t.getDoc());Hp(t,c,o,pg(e),u)},Uw=function(t,e,o){var u=o.startContainer,c=o.startOffset,f=o.endContainer,p=o.endOffset;e(H.fromDom(u),H.fromDom(f));var b=t.dom.createRng();b.setStart(u,c),b.setEnd(f,p),t.selection.setRng(o)},Vp=function(t,e,o,u){var c=t.pos;if(o)Oa(c.left,c.top,u);else{var f=c.top-e+t.height;Oa(c.left,f,u)}},Lb=function(t,e,o,u,c){var f=o+e,p=u.pos.top,b=u.bottom,y=b-p>=o;if(p<e)Vp(u,o,c!==!1,t);else if(p>f){var A=y?c!==!1:c===!0;Vp(u,o,A,t)}else b>f&&!y&&Vp(u,o,c===!0,t)},Gd=function(t,e,o,u){var c=t.dom.defaultView.innerHeight;Lb(t,e,c,o,u)},Ib=function(t,e,o,u){var c=t.dom.defaultView.innerHeight;Lb(t,e,c,o,u);var f=Bk(o.element),p=tf(window);f.top<p.y?qu(o.element,u!==!1):f.top>p.bottom&&qu(o.element,u===!0)},Kd=function(t,e,o){return Pb(t,Gd,e,o)},Up=function(t,e,o){return Xd(t,e,Gd,o)},jw=function(t,e,o){return Pb(t,Ib,e,o)},Hb=function(t,e,o){return Xd(t,e,Ib,o)},qw=function(t,e,o){var u=t.inline?Up:Hb;u(t,e,o)},jp=function(t,e,o){var u=t.inline?Kd:jw;u(t,e,o)},Vb=function(){return H.fromDom(document)},Ub=function(t){return t.dom.focus()},Ww=function(t){var e=Ta(t).dom;return t.dom===e.activeElement},jb=function(t){return t===void 0&&(t=Vb()),I.from(t.dom.activeElement).map(H.fromDom)},Yw=function(t){return jb(Ta(t)).filter(function(e){return t.dom.contains(e.dom)})},Rk=function(t,e,o,u){return{start:t,soffset:e,finish:o,foffset:u}},Pk={create:Rk},Iv=xc.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),$w=function(t,e,o,u){return t.fold(e,o,u)},Jd=function(t){return t.fold(le,le,le)},qb=Iv.before,Xw=Iv.on,Gw=Iv.after,Kw={before:qb,on:Xw,after:Gw,cata:$w,getStart:Jd},Hv=xc.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Vv=function(t){return Hv.exact(t.start,t.soffset,t.finish,t.foffset)},Lk=function(t){return t.match({domRange:function(e){return H.fromDom(e.startContainer)},relative:function(e,o){return Kw.getStart(e)},exact:function(e,o,u,c){return e}})},Ik=Hv.domRange,Hk=Hv.relative,Uv=Hv.exact,hg=function(t){var e=Lk(t);return Mi(e)},Vk=Pk.create,jv={domRange:Ik,relative:Hk,exact:Uv,exactFromRange:Vv,getWin:hg,range:Vk},Uk=lo().browser,qp=function(t,e){var o=Ti(e)?_b(e).length:Ki(e).length+1;return t>o?o:t<0?0:t},qv=function(t){return jv.range(t.start,qp(t.soffset,t.start),t.finish,qp(t.foffset,t.finish))},Wb=function(t,e){return!yc(e.dom)&&(uo(t,e)||Cr(t,e))},Yb=function(t){return function(e){return Wb(t,e.start)&&Wb(t,e.finish)}},Jw=function(t){return t.inline===!0||Uk.isIE()},Zw=function(t){return jv.range(H.fromDom(t.startContainer),t.startOffset,H.fromDom(t.endContainer),t.endOffset)},jk=function(t){var e=t.getSelection(),o=!e||e.rangeCount===0?I.none():I.from(e.getRangeAt(0));return o.map(Zw)},Zd=function(t){var e=Mi(t);return jk(e.dom).filter(Yb(t))},Wp=function(t,e){return I.from(e).filter(Yb(t)).map(qv)},$b=function(t){var e=document.createRange();try{return e.setStart(t.start.dom,t.soffset),e.setEnd(t.finish.dom,t.foffset),I.some(e)}catch{return I.none()}},Yp=function(t){var e=Jw(t)?Zd(H.fromDom(t.getBody())):I.none();t.bookmark=e.isSome()?e:t.bookmark},Qw=function(t,e){var o=H.fromDom(t.getBody()),u=Jw(t)?I.from(e):I.none(),c=u.map(Zw).filter(Yb(o));t.bookmark=c.isSome()?c:t.bookmark},Xb=function(t){var e=t.bookmark?t.bookmark:I.none();return e.bind(function(o){return Wp(H.fromDom(t.getBody()),o)}).bind($b)},Wv=function(t){Xb(t).each(function(e){return t.selection.setRng(e)})},tx=function(t){var e=t.className.toString();return e.indexOf("tox-")!==-1||e.indexOf("mce-")!==-1},Gb={isEditorUIElement:tx},nx=function(t){return t.type==="nodechange"&&t.selectionChange},Rl=function(t,e){var o=function(){e.throttle()};Zo.DOM.bind(document,"mouseup",o),t.on("remove",function(){Zo.DOM.unbind(document,"mouseup",o)})},qk=function(t){t.on("focusout",function(){Yp(t)})},Rf=function(t,e){t.on("mouseup touchend",function(o){e.throttle()})},Wk=function(t,e){var o=lo().browser;o.isIE()?qk(t):Rf(t,e),t.on("keyup NodeChange",function(u){nx(u)||Yp(t)})},ex=function(t){var e=rv(function(){Yp(t)},0);t.on("init",function(){t.inline&&Rl(t,e),Wk(t,e)}),t.on("remove",function(){e.cancel()})},$p,Kb=Zo.DOM,Yv=function(t){return Gb.isEditorUIElement(t)},rx=function(t){var e=t.classList;return e!==void 0?e.contains("tox-edit-area")||e.contains("tox-edit-area__iframe")||e.contains("mce-content-body"):!1},Xp=function(t,e){var o=wa(t),u=Kb.getParent(e,function(c){return Yv(c)||(o?t.dom.is(c,o):!1)});return u!==null},Yk=function(t){try{var e=Ta(H.fromDom(t.getElement()));return jb(e).fold(function(){return document.body},function(o){return o.dom})}catch{return document.body}},Jb=function(t,e){var o=e.editor;ex(o),o.on("focusin",function(){var u=t.focusedEditor;u!==o&&(u&&u.fire("blur",{focusedEditor:o}),t.setActive(o),t.focusedEditor=o,o.fire("focus",{blurredEditor:u}),o.focus(!0))}),o.on("focusout",function(){Hr.setEditorTimeout(o,function(){var u=t.focusedEditor;!Xp(o,Yk(o))&&u===o&&(o.fire("blur",{focusedEditor:null}),t.focusedEditor=null)})}),$p||($p=function(u){var c=t.activeEditor;c&&Zl(u).each(function(f){f.ownerDocument===document&&f!==document.body&&!Xp(c,f)&&t.focusedEditor===c&&(c.fire("blur",{focusedEditor:null}),t.focusedEditor=null)})},Kb.bind(document,"focusin",$p))},$k=function(t,e){t.focusedEditor===e.editor&&(t.focusedEditor=null),t.activeEditor||(Kb.unbind(document,"focusin",$p),$p=null)},Xk=function(t){t.on("AddEditor",Qt(Jb,t)),t.on("RemoveEditor",Qt($k,t))},Gk=function(t,e){return t.dom.getParent(e,function(o){return t.dom.getContentEditable(o)==="true"})},ox=function(t){return t.collapsed?I.from(bf(t.startContainer,t.startOffset)).map(H.fromDom):I.none()},vg=function(t,e){return ox(e).bind(function(o){return oS(o)?I.some(o):uo(t,o)===!1?I.some(t):I.none()})},ix=function(t,e){vg(H.fromDom(t.getBody()),e).bind(function(o){return xa(o.dom)}).fold(function(){t.selection.normalize()},function(o){return t.selection.setRng(o.toRange())})},$v=function(t){if(t.setActive)try{t.setActive()}catch{t.focus()}else t.focus()},Xv=function(t){return Ww(t)||Yw(t).isSome()},ux=function(t){return t.iframeElement&&Ww(H.fromDom(t.iframeElement))},ax=function(t){var e=t.getBody();return e&&Xv(H.fromDom(e))},Kk=function(t){var e=Ta(H.fromDom(t.getElement()));return jb(e).filter(function(o){return!rx(o.dom)&&Xp(t,o.dom)}).isSome()},Qd=function(t){return t.inline?ax(t):ux(t)},Jk=function(t){return Qd(t)||Kk(t)},cx=function(t){var e=t.selection,o=t.getBody(),u=e.getRng();t.quirks.refreshContentEditable(),t.bookmark!==void 0&&Qd(t)===!1&&Xb(t).each(function(f){t.selection.setRng(f),u=f});var c=Gk(t,e.getNode());if(t.$.contains(o,c)){$v(c),ix(t,u),Gv(t);return}t.inline||(Ue.opera||$v(o),t.getWin().focus()),(Ue.gecko||t.inline)&&($v(o),ix(t,u)),Gv(t)},Gv=function(t){return t.editorManager.setActive(t)},Zk=function(t,e){t.removed||(e?Gv(t):cx(t))},sx=function(t,e,o,u,c){var f=o?e.startContainer:e.endContainer,p=o?e.startOffset:e.endOffset;return I.from(f).map(H.fromDom).map(function(b){return!u||!e.collapsed?Oi(b,c(b,p)).getOr(b):b}).bind(function(b){return It(b)?I.some(b):iu(b).filter(It)}).map(function(b){return b.dom}).getOr(t)},Zb=function(t,e,o){return sx(t,e,!0,o,function(u,c){return Math.min(Lg(u),c)})},lx=function(t,e,o){return sx(t,e,!1,o,function(u,c){return c>0?c-1:c})},Qb=function(t,e){for(var o=t;t&&z(t)&&t.length===0;)t=e?t.nextSibling:t.previousSibling;return t||o},Qk=function(t,e){var o,u,c;if(!e)return t;u=e.startContainer,c=e.endContainer;var f=e.startOffset,p=e.endOffset;return o=e.commonAncestorContainer,!e.collapsed&&(u===c&&p-f<2&&u.hasChildNodes()&&(o=u.childNodes[f]),u.nodeType===3&&c.nodeType===3&&(u.length===f?u=Qb(u.nextSibling,!0):u=u.parentNode,p===0?c=Qb(c.previousSibling,!1):c=c.parentNode,u&&u===c))?u:o&&o.nodeType===3?o.parentNode:o},fx=function(t,e,o,u){var c,f=[],p=t.getRoot();if(o=t.getParent(o||Zb(p,e,e.collapsed),t.isBlock),u=t.getParent(u||lx(p,e,e.collapsed),t.isBlock),o&&o!==p&&f.push(o),o&&u&&o!==u){c=o;for(var b=new Wi(o,p);(c=b.next())&&c!==u;)t.isBlock(c)&&f.push(c)}return u&&o!==u&&u!==p&&f.push(u),f},dx=function(t,e,o){return I.from(e).map(function(u){var c=t.nodeIndex(u),f=t.createRng();return f.setStart(u.parentNode,c),f.setEnd(u.parentNode,c+1),o&&(Ob(t,f,u,!0),Ob(t,f,u,!1)),f})},Pf=function(t,e){return Et(e,function(o){var u=t.fire("GetSelectionRange",{range:o});return u.range!==o?u.range:o})},ty={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},tm=function(t,e,o){var u=o?"lastChild":"firstChild",c=o?"prev":"next";if(t[u])return t[u];if(t!==e){var f=t[c];if(f)return f;for(var p=t.parent;p&&p!==e;p=p.parent)if(f=p[c],f)return f}},ny=function(t){if(!sd(t.value))return!1;var e=t.parent;return!(e&&(e.name!=="span"||e.attr("style"))&&/^[ ]+$/.test(t.value))},vr=function(t){var e=t.name==="a"&&!t.attr("href")&&t.attr("id");return t.attr("name")||t.attr("id")&&!t.firstChild||t.attr("data-mce-bookmark")||e},es=function(){function t(e,o){this.name=e,this.type=o,o===1&&(this.attributes=[],this.attributes.map={})}return t.create=function(e,o){var u=new t(e,ty[e]||1);return o&&Or(o,function(c,f){u.attr(f,c)}),u},t.prototype.replace=function(e){var o=this;return e.parent&&e.remove(),o.insert(e,o),o.remove(),o},t.prototype.attr=function(e,o){var u=this,c;if(typeof e!="string")return e!=null&&Or(e,function(p,b){u.attr(b,p)}),u;if(c=u.attributes){if(o!==void 0){if(o===null){if(e in c.map){delete c.map[e];for(var f=c.length;f--;)if(c[f].name===e)return c.splice(f,1),u}return u}if(e in c.map){for(var f=c.length;f--;)if(c[f].name===e){c[f].value=o;break}}else c.push({name:e,value:o});return c.map[e]=o,u}return c.map[e]}},t.prototype.clone=function(){var e=this,o=new t(e.name,e.type),u;if(u=e.attributes){var c=[];c.map={};for(var f=0,p=u.length;f<p;f++){var b=u[f];b.name!=="id"&&(c[c.length]={name:b.name,value:b.value},c.map[b.name]=b.value)}o.attributes=c}return o.value=e.value,o.shortEnded=e.shortEnded,o},t.prototype.wrap=function(e){var o=this;return o.parent.insert(e,o),e.append(o),o},t.prototype.unwrap=function(){for(var e=this,o=e.firstChild;o;){var u=o.next;e.insert(o,e,!0),o=u}e.remove()},t.prototype.remove=function(){var e=this,o=e.parent,u=e.next,c=e.prev;return o&&(o.firstChild===e?(o.firstChild=u,u&&(u.prev=null)):c.next=u,o.lastChild===e?(o.lastChild=c,c&&(c.next=null)):u.prev=c,e.parent=e.next=e.prev=null),e},t.prototype.append=function(e){var o=this;e.parent&&e.remove();var u=o.lastChild;return u?(u.next=e,e.prev=u,o.lastChild=e):o.lastChild=o.firstChild=e,e.parent=o,e},t.prototype.insert=function(e,o,u){e.parent&&e.remove();var c=o.parent||this;return u?(o===c.firstChild?c.firstChild=e:o.prev.next=e,e.prev=o.prev,e.next=o,o.prev=e):(o===c.lastChild?c.lastChild=e:o.next.prev=e,e.next=o.next,e.prev=o,o.next=e),e.parent=c,e},t.prototype.getAll=function(e){for(var o=this,u=[],c=o.firstChild;c;c=tm(c,o))c.name===e&&u.push(c);return u},t.prototype.empty=function(){var e=this;if(e.firstChild){for(var o=[],u=e.firstChild;u;u=tm(u,e))o.push(u);for(var c=o.length;c--;){var u=o[c];u.parent=u.firstChild=u.lastChild=u.next=u.prev=null}}return e.firstChild=e.lastChild=null,e},t.prototype.isEmpty=function(e,o,u){o===void 0&&(o={});var c=this,f=c.firstChild;if(vr(c))return!1;if(f)do{if(f.type===1){if(f.attr("data-mce-bogus"))continue;if(e[f.name]||vr(f))return!1}if(f.type===8||f.type===3&&!ny(f)||f.type===3&&f.parent&&o[f.parent.name]&&sd(f.value)||u&&u(f))return!1}while(f=tm(f,c));return!0},t.prototype.walk=function(e){return tm(this,null,e)},t}(),ey=function(t){for(var e=/data:[^;]+;base64,([a-z0-9\+\/=]+)/gi,o=[],u={},c=P1("img"),f,p=0,b=0;f=e.exec(t);){var y=f[0],A=c+"_"+b++;u[A]=y,p<f.index&&o.push(t.substr(p,f.index-p)),o.push(A),p=f.index+y.length}var N=new RegExp(c+"_[0-9]+","g");return p===0?{prefix:c,uris:u,html:t,re:N}:(p<t.length&&o.push(t.substr(p)),{prefix:c,uris:u,html:o.join(""),re:N})},ry=function(t,e){return t.replace(e.re,function(o){return zr(e.uris,o).getOr(o)})},oy=function(t){var e=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(t);return e?I.some({type:e[1],data:decodeURIComponent(e[2])}):I.none()},nm=["img","video"],Kv=function(t){return t.indexOf("data-")===0||t.indexOf("aria-")===0},mx=function(t,e){var o=Ft(t)?Wt(nm,e):t;return!o},t4=function(t,e,o){return t.allow_html_data_urls?!1:/^data:image\//i.test(e)?mx(t.allow_svg_data_urls,o)&&/^data:image\/svg\+xml/i.test(e):/^data:/i.test(e)},iy=function(t,e,o){var u=1,c,f,p=t.getShortEndedElements(),b=/<([!?\/])?([A-Za-z0-9\-_:.]+)(\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g;for(b.lastIndex=c=o;f=b.exec(e);){if(c=b.lastIndex,f[1]==="/")u--;else if(!f[1]){if(f[2]in p)continue;u++}if(u===0)break}return c},Mr=function(t,e){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(t.substr(e))},n4=function(t,e,o){o===void 0&&(o=0);var u=t.toLowerCase();if(u.indexOf("[if ",o)!==-1&&Mr(u,o)){var c=u.indexOf("[endif]",o);return u.indexOf(">",c)}else if(e){var f=u.indexOf(">",o);return f!==-1?f:u.length}else{var p=/--!?>/g;p.lastIndex=o;var b=p.exec(t);return b?b.index+b[0].length:u.length}},Yr=function(t,e){var o=t.exec(e);if(o){var u=o[1],c=o[2];return typeof u=="string"&&u.toLowerCase()==="data-mce-bogus"?c:null}else return null},Gp=function(t,e){e===void 0&&(e=sf()),t=t||{},t.fix_self_closing!==!1&&(t.fix_self_closing=!0);var o=t.comment?t.comment:tt,u=t.cdata?t.cdata:tt,c=t.text?t.text:tt,f=t.start?t.start:tt,p=t.end?t.end:tt,b=t.pi?t.pi:tt,y=t.doctype?t.doctype:tt,A=function(B,M){M===void 0&&(M="html");for(var X=B.html,J,Q=0,$,pt,mt=[],vt,Tt,Ut,On,te,se,Ge,nr,Ln,Tr,Ce,Je,ie,Te,je,$n,We,bo=0,ni=Ba.decode,Vo=hn.makeMap("src,href,data,background,formaction,poster,xlink:href"),_i=/((java|vb)script|mhtml):/i,Uu=M==="html"?0:1,Ye=function(li){var Go,ju;for(Go=mt.length;Go--&&mt[Go].name!==li;);if(Go>=0){for(ju=mt.length-1;ju>=Go;ju--)li=mt[ju],li.valid&&p(li.name);mt.length=Go}},Ke=function(li,Go){return c(ry(li,B),Go)},De=function(li){li!==""&&(li.charAt(0)===">"&&(li=" "+li),!t.allow_conditional_comments&&li.substr(0,3).toLowerCase()==="[if"&&(li=" "+li),o(ry(li,B)))},pe=function(li){return ry(li,B)},fn=function(li,Go){var ju=li||"",Wl=!an(ju,"--"),Yl=n4(X,Wl,Go);return li=X.substr(Go,Yl-Go),De(Wl?ju+li:li),Yl+1},me=function(li,Go,ju,Wl,Yl){var is,Fg,N0=/[\s\u0000-\u001F]+/g;if(Go=Go.toLowerCase(),ju=pe(Go in hu?Go:ni(ju||Wl||Yl||"")),la&&!te&&Kv(Go)===!1){if(is=Ce[Go],!is&&Je){for(Fg=Je.length;Fg--&&(is=Je[Fg],!is.pattern.test(Go)););Fg===-1&&(is=null)}if(!is||is.validValues&&!(ju in is.validValues))return}if(Vo[Go]&&!t.allow_script_urls){var Bg=ju.replace(N0,"");try{Bg=decodeURIComponent(Bg)}catch{Bg=unescape(Bg)}if(_i.test(Bg)||t4(t,Bg,li))return}te&&(Go in Vo||Go.indexOf("on")===0)||(vt.map[Go]=ju,vt.push({name:Go,value:ju}))},Se=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),Pr=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,pr=e.getShortEndedElements(),ei=t.self_closing_elements||e.getSelfClosingElements(),hu=e.getBoolAttrs(),la=t.validate,ja=t.remove_internals,Lc=t.fix_self_closing,qa=e.getSpecialElements(),eu=X+">";J=Se.exec(eu);){var na=J[0];if(Q<J.index&&Ke(ni(X.substr(Q,J.index-Q))),$=J[7])$=$.toLowerCase(),$.charAt(0)===":"&&($=$.substr(1)),Ye($);else if($=J[8]){if(J.index+na.length>X.length){Ke(ni(X.substr(J.index))),Q=J.index+na.length;continue}$=$.toLowerCase(),$.charAt(0)===":"&&($=$.substr(1)),se=$ in pr,Lc&&ei[$]&&mt.length>0&&mt[mt.length-1].name===$&&Ye($);var Ic=Yr(Pr,J[9]);if(Ic!==null){if(Ic==="all"){Q=iy(e,X,Se.lastIndex),Se.lastIndex=Q;continue}nr=!1}if(!la||(Ge=e.getElementRule($))){if(nr=!0,la&&(Ce=Ge.attributes,Je=Ge.attributePatterns),(Tr=J[9])?(te=Tr.indexOf("data-mce-type")!==-1,te&&ja&&(nr=!1),vt=[],vt.map={},Tr.replace(Pr,function(li,Go,ju,Wl,Yl){return me($,Go,ju,Wl,Yl),""})):(vt=[],vt.map={}),la&&!te){if(ie=Ge.attributesRequired,Te=Ge.attributesDefault,je=Ge.attributesForced,$n=Ge.removeEmptyAttrs,$n&&!vt.length&&(nr=!1),je)for(Tt=je.length;Tt--;)Ln=je[Tt],On=Ln.name,We=Ln.value,We==="{$uid}"&&(We="mce_"+bo++),vt.map[On]=We,vt.push({name:On,value:We});if(Te)for(Tt=Te.length;Tt--;)Ln=Te[Tt],On=Ln.name,On in vt.map||(We=Ln.value,We==="{$uid}"&&(We="mce_"+bo++),vt.map[On]=We,vt.push({name:On,value:We}));if(ie){for(Tt=ie.length;Tt--&&!(ie[Tt]in vt.map););Tt===-1&&(nr=!1)}if(Ln=vt.map["data-mce-bogus"]){if(Ln==="all"){Q=iy(e,X,Se.lastIndex),Se.lastIndex=Q;continue}nr=!1}}nr&&f($,vt,se)}else nr=!1;if(pt=qa[$]){pt.lastIndex=Q=J.index+na.length,(J=pt.exec(X))?(nr&&(Ut=X.substr(Q,J.index-Q)),Q=J.index+J[0].length):(Ut=X.substr(Q),Q=X.length),nr&&(Ut.length>0&&Ke(Ut,!0),p($)),Se.lastIndex=Q;continue}se||(!Tr||Tr.indexOf("/")!==Tr.length-1?mt.push({name:$,valid:nr}):nr&&p($))}else if($=J[1])De($);else if($=J[2]){var ll=Uu===1||t.preserve_cdata||mt.length>0&&e.isValidChild(mt[mt.length-1].name,"#cdata");if(ll)u($);else{Q=fn("",J.index+2),Se.lastIndex=Q;continue}}else if($=J[3])y($);else if(($=J[4])||na==="<!"){Q=fn($,J.index+na.length),Se.lastIndex=Q;continue}else if($=J[5])if(Uu===1)b($,J[6]);else{Q=fn("?",J.index+2),Se.lastIndex=Q;continue}Q=J.index+na.length}for(Q<X.length&&Ke(ni(X.substr(Q))),Tt=mt.length-1;Tt>=0;Tt--)$=mt[Tt],$.valid&&p($.name)},N=function(B,M){M===void 0&&(M="html"),A(ey(B),M)};return{parse:N}};Gp.findEndTag=iy;var e4=function(t,e){var o=new RegExp(["\\s?("+t.join("|")+')="[^"]+"'].join("|"),"gi");return e.replace(o,"")},gx=function(t,e){var o=e,u=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,c,f,p,b,y=t.schema;o=e4(t.getTempAttrs(),o);for(var A=y.getShortEndedElements();b=u.exec(o);)f=u.lastIndex,p=b[0].length,A[b[1]]?c=f:c=Gp.findEndTag(y,o,f),o=o.substring(0,f-p)+o.substring(c),u.lastIndex=f-p;return kc(o)},r4=gx,o4=function(t,e){var o=du(t),u=new RegExp("^(<"+o+"[^>]*>(&nbsp;|&#160;|\\s|\xA0|<br \\/>|)<\\/"+o+`>[\r
]*|<br \\/>[\r
]*)$`);return e.replace(u,"")},uy=function(t,e,o,u){var c;return e.format=o,e.get=!0,e.getInner=!0,e.no_events||t.fire("BeforeGetContent",e),e.format==="raw"?c=hn.trim(r4(t.serializer,u.innerHTML)):e.format==="text"?c=t.dom.isEmpty(u)?"":kc(u.innerText||u.textContent):e.format==="tree"?c=t.serializer.serialize(u,e):c=o4(t,t.serializer.serialize(u,e)),!Wt(["text","tree"],e.format)&&!Ja(H.fromDom(u))?e.content=hn.trim(c):e.content=c,e.no_events||t.fire("GetContent",e),e.content},i4=function(t,e,o){return I.from(t.getBody()).fold(jt(e.format==="tree"?new es("body",11):""),function(u){return uy(t,e,o,u)})},u4=hn.each,Fr=function(t){var e=function(o,u){if(o.nodeName!==u.nodeName)return!1;var c=function(p){var b={};return u4(t.getAttribs(p),function(y){var A=y.nodeName.toLowerCase();A.indexOf("_")!==0&&A!=="style"&&A.indexOf("data-")!==0&&(b[A]=t.getAttrib(p,A))}),b},f=function(p,b){var y,A;for(A in p)if(p.hasOwnProperty(A)){if(y=b[A],typeof y=="undefined"||p[A]!==y)return!1;delete b[A]}for(A in b)if(b.hasOwnProperty(A))return!1;return!0};return!f(c(o),c(u))||!f(t.parseStyle(t.getAttrib(o,"style")),t.parseStyle(t.getAttrib(u,"style")))?!1:!Pa(o)&&!Pa(u)};return{compare:e}},px=hn.makeMap,ay=function(t){var e=[];t=t||{};var o=t.indent,u=px(t.indent_before||""),c=px(t.indent_after||""),f=Ba.getEncodeFunc(t.entity_encoding||"raw",t.entities),p=t.element_format==="html";return{start:function(b,y,A){var N,B,M,X;if(o&&u[b]&&e.length>0&&(X=e[e.length-1],X.length>0&&X!==`
`&&e.push(`
`)),e.push("<",b),y)for(N=0,B=y.length;N<B;N++)M=y[N],e.push(" ",M.name,'="',f(M.value,!0),'"');!A||p?e[e.length]=">":e[e.length]=" />",A&&o&&c[b]&&e.length>0&&(X=e[e.length-1],X.length>0&&X!==`
`&&e.push(`
`))},end:function(b){var y;e.push("</",b,">"),o&&c[b]&&e.length>0&&(y=e[e.length-1],y.length>0&&y!==`
`&&e.push(`
`))},text:function(b,y){b.length>0&&(e[e.length]=y?b:f(b))},cdata:function(b){e.push("<![CDATA[",b,"]]>")},comment:function(b){e.push("<!--",b,"-->")},pi:function(b,y){y?e.push("<?",b," ",f(y),"?>"):e.push("<?",b,"?>"),o&&e.push(`
`)},doctype:function(b){e.push("<!DOCTYPE",b,">",o?`
`:"")},reset:function(){e.length=0},getContent:function(){return e.join("").replace(/\n$/,"")}}},em=function(t,e){e===void 0&&(e=sf());var o=ay(t);t=t||{},t.validate="validate"in t?t.validate:!0;var u=function(c){var f=t.validate,p={3:function(y){o.text(y.value,y.raw)},8:function(y){o.comment(y.value)},7:function(y){o.pi(y.name,y.value)},10:function(y){o.doctype(y.value)},4:function(y){o.cdata(y.value)},11:function(y){if(y=y.firstChild)do b(y);while(y=y.next)}};o.reset();var b=function(y){var A=p[y.type],N,B,M,X,J,Q,$,pt,mt;if(A)A(y);else{if(N=y.name,B=y.shortEnded,M=y.attributes,f&&M&&M.length>1&&(Q=[],Q.map={},mt=e.getElementRule(y.name),mt)){for($=0,pt=mt.attributesOrder.length;$<pt;$++)X=mt.attributesOrder[$],X in M.map&&(J=M.map[X],Q.map[X]=J,Q.push({name:X,value:J}));for($=0,pt=M.length;$<pt;$++)X=M[$].name,X in Q.map||(J=M.map[X],Q.map[X]=J,Q.push({name:X,value:J}));M=Q}if(o.start(y.name,M,B),!B){if(y=y.firstChild)do b(y);while(y=y.next);o.end(N)}}};return c.type===1&&!t.inner?b(c):p[11](c),o.getContent()};return{serialize:u}},cy=function(t,e,o){return I.from(o.container()).filter(z).exists(function(u){var c=t?0:-1;return e(u.data.charAt(o.offset()+c))})},a=Qt(cy,!0,Js),l=Qt(cy,!1,Js),m=function(t){var e=t.container();return z(e)&&(e.data.length===0||Sc(e.data)&&zp.isBookmarkNode(e.parentNode))},h=function(t,e){return function(o){return I.from(yv(t?0:-1,o)).filter(e).isSome()}},x=function(t){return ir(t)&&bl(H.fromDom(t),"display")==="block"},k=function(t){return _r(t)&&!I0(t)},D=h(!0,x),j=h(!1,x),V=h(!0,Ur),ct=h(!1,Ur),kt=h(!0,nf),Dn=h(!1,nf),En=h(!0,k),_n=h(!1,k),Gt=function(t){for(var e=[],o=t.dom;o;)e.push(H.fromDom(o)),o=o.lastChild;return e},un=function(t){var e=ya(t,"br"),o=An(Gt(t).slice(-1),Ka);e.length===o.length&&yt(o,Zi)},Bn=function(t){Ql(t),Ji(t,H.fromHtml('<br data-mce-bogus="1">'))},or=function(t){hc(t).each(function(e){re(e).each(function(o){$u(t)&&Ka(e)&&$u(o)&&Zi(e)})})},no=function(t){return t.slice(0,-1)},Dr=function(t,e,o){return uo(e,t)?no(Ya(t,function(u){return o(u)||Cr(u,e)})):[]},so=function(t,e){return Dr(t,e,ve)},No=function(t,e){return[t].concat(so(t,e))},Qo=function(t,e,o){return Sv(t,e,o,m)},Lf=function(t,e){return Lr(No(H.fromDom(e.container()),t),$u)},bg=function(t,e,o){return Qo(t,e.dom,o).forall(function(u){return Lf(e,o).fold(function(){return $s(u,o,e.dom)===!1},function(c){return $s(u,o,e.dom)===!1&&uo(c,H.fromDom(u.container()))})})},Pl=function(t,e,o){return Lf(e,o).fold(function(){return Qo(t,e.dom,o).forall(function(u){return $s(u,o,e.dom)===!1})},function(u){return Qo(t,u.dom,o).isNone()})},vo=Qt(Pl,!1),Cu=Qt(Pl,!0),Su=Qt(bg,!1),ac=Qt(bg,!0),ti=function(t){return Ap(t).exists(Ka)},mu=function(t,e,o){var u=An(No(H.fromDom(o.container()),e),$u),c=gn(u).getOr(e);return Bc(t,c.dom,o).filter(ti)},gu=function(t,e){return Ap(e).exists(Ka)||mu(!0,t,e).isSome()},Fs=function(t,e){return bw(e).exists(Ka)||mu(!1,t,e).isSome()},rm=Qt(mu,!1),om=Qt(mu,!0),Jv=function(t){return wn.isTextPosition(t)&&!t.isAtStart()&&!t.isAtEnd()},sy=function(t,e){var o=An(No(H.fromDom(e.container()),t),$u);return gn(o).getOr(t)},hx=function(t,e){return Jv(e)?l(e):l(e)||Os(sy(t,e).dom,e).exists(l)},Ll=function(t,e){return Jv(e)?a(e):a(e)||ts(sy(t,e).dom,e).exists(a)},a4=function(t){return Wt(["pre","pre-wrap"],t)},Zv=function(t){return Ap(t).bind(function(e){return ed(e,It)}).exists(function(e){return a4(bl(e,"white-space"))})},ly=function(t,e){return Os(t.dom,e).isNone()},Kp=function(t,e){return ts(t.dom,e).isNone()},Jp=function(t,e){return ly(t,e)||Kp(t,e)||vo(t,e)||Cu(t,e)||Fs(t,e)||gu(t,e)},Qv=function(t,e){return Zv(e)?!1:Jp(t,e)||hx(t,e)||Ll(t,e)},vx=function(t,e){return Zv(e)?!1:vo(t,e)||Su(t,e)||Fs(t,e)||hx(t,e)},C5=function(t){var e=t.container(),o=t.offset();return z(e)&&o<e.data.length?wn(e,o+1):t},bx=function(t,e){return Zv(e)?!1:Cu(t,e)||ac(t,e)||gu(t,e)||Ll(t,e)},sA=function(t,e){return vx(t,e)||bx(t,C5(e))},lA=function(t,e){return ug(t.charAt(e))},Zp=function(t){var e=t.container();return z(e)&&zt(e.data,uu)},S5=function(t){var e=t.split("");return Et(e,function(o,u){return ug(o)&&u>0&&u<e.length-1&&Id(e[u-1])&&Id(e[u+1])?" ":o}).join("")},k5=function(t,e){var o=e.data,u=wn(e,0);return lA(o,0)&&!sA(t,u)?(e.data=" "+o.slice(1),!0):!1},Si=function(t){var e=t.data,o=S5(e);return o!==e?(t.data=o,!0):!1},fA=function(t,e){var o=e.data,u=wn(e,o.length-1);return lA(o,o.length-1)&&!sA(t,u)?(e.data=o.slice(0,-1)+" ",!0):!1},dA=function(t,e){return I.some(e).filter(Zp).bind(function(o){var u=o.container(),c=k5(t,u)||Si(u)||fA(t,u);return c?I.some(o):I.none()})},c4=function(t){var e=H.fromDom(t.getBody());t.selection.isCollapsed()&&dA(e,wn.fromRangeStart(t.selection.getRng())).each(function(o){t.selection.setRng(o.toRange())})},s4=function(t,e,o){var u=ze(t,function(c,f){return Js(f)||ug(f)?c.previousCharIsSpace||c.str===""&&e||c.str.length===t.length-1&&o?{previousCharIsSpace:!1,str:c.str+uu}:{previousCharIsSpace:!0,str:c.str+" "}:{previousCharIsSpace:!1,str:c.str+f}},{previousCharIsSpace:!1,str:""});return u.str},yx=function(t,e,o){if(o!==0){var u=H.fromDom(t),c=of(u,$u).getOr(u),f=t.data.slice(e,e+o),p=e+o>=t.data.length&&bx(c,wn(t,t.data.length)),b=e===0&&vx(c,wn(t,0));t.replaceData(e,o,s4(f,b,p))}},im=function(t,e){var o=t.data.slice(e),u=o.length-xt(o).length;return yx(t,e,u)},yg=function(t,e){var o=t.data.slice(0,e),u=o.length-at(o).length;return yx(t,e-u,u)},um=function(t,e,o,u){u===void 0&&(u=!0);var c=at(t.data).length,f=u?t:e,p=u?e:t;return u?f.appendData(p.data):f.insertData(0,p.data),Zi(H.fromDom(p)),o&&im(f,c),f},Qp=function(t,e){var o=t.container(),u=t.offset();return wn.isTextPosition(t)===!1&&o===e.parentNode&&u>wn.before(e).offset()},am=function(t,e){return Qp(e,t)?wn(e.container(),e.offset()-1):e},th=function(t){return z(t)?wn(t,0):wn.before(t)},If=function(t){return z(t)?wn(t,t.data.length):wn.after(t)},mA=function(t){return Vs(t.previousSibling)?I.some(If(t.previousSibling)):t.previousSibling?Gs(t.previousSibling):I.none()},Sa=function(t){return Vs(t.nextSibling)?I.some(th(t.nextSibling)):t.nextSibling?xa(t.nextSibling):I.none()},_o=function(t,e){var o=wn.before(e.previousSibling?e.previousSibling:e.parentNode);return Os(t,o).fold(function(){return ts(t,wn.after(e))},I.some)},l4=function(t,e){return ts(t,wn.after(e)).fold(function(){return Os(t,wn.before(e))},I.some)},cc=function(t,e){return mA(e).orThunk(function(){return Sa(e)}).orThunk(function(){return _o(t,e)})},E5=function(t,e){return Sa(e).orThunk(function(){return mA(e)}).orThunk(function(){return l4(t,e)})},A5=function(t,e,o){return t?E5(e,o):cc(e,o)},T5=function(t,e,o){return A5(t,e,o).map(Qt(am,o))},gA=function(t,e,o){o.fold(function(){t.focus()},function(u){t.selection.setRng(u.toRange(),e)})},f4=function(t){return function(e){return e.dom===t}},O5=function(t,e){return e&&Er(t.schema.getBlockElements(),Mo(e))},D5=function(t){if(Za(t)){var e=H.fromHtml('<br data-mce-bogus="1">');return Ql(t),Ji(t,e),I.some(wn.before(e.dom))}else return I.none()},pA=function(t,e,o){var u=re(t).filter(Ti),c=gc(t).filter(Ti);return Zi(t),vf(u,c,e,function(f,p,b){var y=f.dom,A=p.dom,N=y.data.length;return um(y,A,o),b.container()===A?wn(y,N):b}).orThunk(function(){return o&&(u.each(function(f){return yg(f.dom,f.dom.length)}),c.each(function(f){return im(f.dom,0)})),e})},_5=function(t,e){return Er(t.schema.getTextInlineElements(),Mo(e))},nh=function(t,e,o,u){u===void 0&&(u=!0);var c=T5(e,t.getBody(),o.dom),f=of(o,Qt(O5,t),f4(t.getBody())),p=pA(o,c,_5(t,o));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):f.bind(D5).fold(function(){u&&gA(t,e,p)},function(b){u&&gA(t,e,I.some(b))})},t0=function(t,e){return{start:t,end:e}},F5=function(t,e,o){return{rng:t,table:e,cells:o}},d4=xc.generate([{removeTable:["element"]},{emptyCells:["cells"]},{deleteCellSelection:["rng","cell"]}]),wx=function(t){return function(e){return Cr(t,e)}},xx=function(t,e){return kl(H.fromDom(t),"td,th",e)},n0=function(t,e){return uf(t,"table",e)},m4=function(t){return!Cr(t.start,t.end)},fy=function(t,e){return n0(t.start,e).bind(function(o){return n0(t.end,e).bind(function(u){return H1(Cr(o,u),o)})})},B5=function(t,e){return!m4(t)&&fy(t,e).exists(function(o){var u=o.dom.rows;return u.length===1&&u[0].cells.length===1})},Cx=function(t){return ya(t,"td,th")},g4=function(t,e){var o=xx(t.startContainer,e),u=xx(t.endContainer,e);return Ma(o,u,t0)},N5=function(t,e){return n0(t.start,e).bind(function(o){return Ee(Cx(o)).map(function(u){return t0(t.start,u)})})},z5=function(t,e){var o=xx(e.startContainer,t),u=xx(e.endContainer,t);return e.collapsed?I.none():Ma(o,u,t0).fold(function(){return o.fold(function(){return u.bind(function(c){return n0(c,t).bind(function(f){return gn(Cx(f)).map(function(p){return t0(p,c)})})})},function(c){return n0(c,t).bind(function(f){return Ee(Cx(f)).map(function(p){return t0(c,p)})})})},function(c){return e0(t,c)?I.none():N5(c,t)})},e0=function(t,e){return fy(e,t).isSome()},p4=function(t,e){return fy(t,e).map(function(o){return F5(t,o,Cx(o))})},M5=function(t,e,o){return t.filter(function(u){return m4(u)&&e0(o,u)}).orThunk(function(){return z5(o,e)}).bind(function(u){return p4(u,o)})},hA=function(t,e){return yo(t,function(o){return Cr(o,e)})},vA=function(t){return Ma(hA(t.cells,t.rng.start),hA(t.cells,t.rng.end),function(e,o){return t.cells.slice(e,o+1)})},bA=function(t,e,o){return t.filter(function(u){return B5(u,o)&&Bf(u.start,e)}).map(function(u){return u.start})},R5=function(t){return vA(t).map(function(e){var o=t.cells;return e.length===o.length?d4.removeTable(t.table):d4.emptyCells(e)})},P5=function(t,e){var o=wx(t),u=g4(e,o);return bA(u,e,o).map(function(c){return d4.deleteCellSelection(e,c)}).orThunk(function(){return M5(u,e,o).bind(R5)})},yA=function(t){var e=ym(t)?re(t):hc(t);return e.bind(yA).orThunk(function(){return I.some(t)})},wA=function(t,e){return yt(e,Bn),t.selection.setCursorLocation(e[0].dom,0),!0},h4=function(t,e,o){e.deleteContents();var u=yA(o).getOr(o),c=H.fromDom(t.dom.getParent(u.dom,t.dom.isBlock));if(Za(c)&&(Bn(c),t.selection.setCursorLocation(c.dom,0)),!Cr(o,c)){var f=iu(c).is(o)?[]:xi(c);yt(f.concat(Ki(o)),function(p){!Cr(p,c)&&!uo(p,c)&&Zi(p)})}return!0},xA=function(t,e){return nh(t,!1,e),!0},L5=function(t,e,o){return P5(e,o).map(function(u){return u.fold(Qt(xA,t),Qt(wA,t),Qt(h4,t))})},I5=function(t,e){return Sx(t,e)},H5=function(t,e,o,u){return v4(e,u).fold(function(){return L5(t,e,o)},function(c){return I5(t,c)}).getOr(!1)},V5=function(t,e){var o=H.fromDom(t.getBody()),u=t.selection.getRng(),c=Nl(t);return c.length!==0?wA(t,c):H5(t,o,u,e)},CA=function(t,e){return Lr(No(e,t),Cc)},v4=function(t,e){return Lr(No(e,t),function(o){return Mo(o)==="caption"})},dy=function(t,e,o,u,c){return Cv(o,t.getBody(),c).bind(function(f){return CA(e,H.fromDom(f.getNode())).map(function(p){return Cr(p,u)===!1})})},Sx=function(t,e){return Bn(e),t.selection.setCursorLocation(e.dom,0),I.some(!0)},SA=function(t,e,o,u){return xa(t.dom).bind(function(c){return Gs(t.dom).map(function(f){return e?o.isEqual(c)&&u.isEqual(f):o.isEqual(f)&&u.isEqual(c)})}).getOr(!0)},b4=function(t,e){return Sx(t,e)},U5=function(t,e,o){return v4(t,H.fromDom(o.getNode())).map(function(u){return Cr(u,e)===!1})},kA=function(t,e,o,u,c){return Cv(o,t.getBody(),c).bind(function(f){return SA(u,o,c,f)?b4(t,u):U5(e,u,f)}).or(I.some(!0))},EA=function(t,e,o,u){var c=wn.fromRangeStart(t.selection.getRng());return CA(o,u).bind(function(f){return Za(f)?Sx(t,f):dy(t,o,e,f,c)}).getOr(!1)},j5=function(t,e,o,u){var c=wn.fromRangeStart(t.selection.getRng());return Za(u)?Sx(t,u):kA(t,o,e,u,c)},AA=function(t,e){return t?kt(e):Dn(e)},q5=function(t,e){var o=wn.fromRangeStart(t.selection.getRng());return AA(e,o)||Bc(e,t.getBody(),o).exists(function(u){return AA(e,u)})},W5=function(t,e,o){var u=H.fromDom(t.getBody());return v4(u,o).fold(function(){return EA(t,e,u,o)||q5(t,e)},function(c){return j5(t,e,u,c).getOr(!1)})},kx=function(t,e){var o=H.fromDom(t.selection.getStart(!0)),u=Nl(t);return t.selection.isCollapsed()&&u.length===0?W5(t,e,o):V5(t,o)},Y5=function(t,e,o,u){var c=document.createRange();return c.setStart(t,e),c.setEnd(o,u),c},$5=function(t){var e=wn.fromRangeStart(t),o=wn.fromRangeEnd(t),u=t.commonAncestorContainer;return Bc(!1,u,o).map(function(c){return!$s(e,o,u)&&$s(e,c,u)?Y5(e.container(),e.offset(),c.container(),c.offset()):t}).getOr(t)},y4=function(t){return t.collapsed?t:$5(t)},X5=function(t){return t.firstChild&&t.firstChild===t.lastChild},G5=function(t){return t.name==="br"||t.value===uu},K5=function(t,e){var o=t.getBlockElements();return o[e.name]&&X5(e)&&G5(e.firstChild)},w4=function(t,e){var o=t.getNonEmptyElements();return e&&(e.isEmpty(o)||K5(t,e))},Il=function(t,e){var o=e.firstChild,u=e.lastChild;return o&&o.name==="meta"&&(o=o.next),u&&u.attr("id")==="mce_marker"&&(u=u.prev),w4(t,u)&&(u=u.prev),!o||o!==u?!1:o.name==="ul"||o.name==="ol"},x4=function(t){var e=t.firstChild,o=t.lastChild;return e&&e.nodeName==="META"&&e.parentNode.removeChild(e),o&&o.id==="mce_marker"&&o.parentNode.removeChild(o),t},C4=function(t,e,o){var u=e.serialize(o),c=t.createFragment(u);return x4(c)},S4=function(t){return hn.grep(t.childNodes,function(e){return e.nodeName==="LI"})},J5=function(t){return t.data===uu||In(t)},TA=function(t){return t&&t.firstChild&&t.firstChild===t.lastChild&&J5(t.firstChild)},Z5=function(t){return!t.firstChild||TA(t)},Q5=function(t){return t.length>0&&Z5(t[t.length-1])?t.slice(0,-1):t},my=function(t,e){var o=t.getParent(e,t.isBlock);return o&&o.nodeName==="LI"?o:null},t6=function(t,e){return!!my(t,e)},OA=function(t,e){var o=e.cloneRange(),u=e.cloneRange();return o.setStartBefore(t),u.setEndAfter(t),[o.cloneContents(),u.cloneContents()]},n6=function(t,e){var o=wn.before(t),u=Ts(e),c=u.next(o);return c?c.toRange():null},r0=function(t,e){var o=wn.after(t),u=Ts(e),c=u.prev(o);return c?c.toRange():null},e6=function(t,e,o,u){var c=OA(t,u),f=t.parentNode;return f.insertBefore(c[0],t),hn.each(e,function(p){f.insertBefore(p,t)}),f.insertBefore(c[1],t),f.removeChild(t),r0(e[e.length-1],o)},DA=function(t,e,o){var u=t.parentNode;return hn.each(e,function(c){u.insertBefore(c,t)}),n6(t,o)},r6=function(t,e,o,u){return u.insertAfter(e.reverse(),t),r0(e[0],o)},_A=function(t,e,o,u){var c=C4(e,t,u),f=my(e,o.startContainer),p=Q5(S4(c.firstChild)),b=1,y=2,A=e.getRoot(),N=function(B){var M=wn.fromRangeStart(o),X=Ts(e.getRoot()),J=B===b?X.prev(M):X.next(M);return J?my(e,J.getNode())!==f:!0};return N(b)?DA(f,p,A):N(y)?r6(f,p,A,e):e6(f,p,A,o)},o6=function(t,e,o){var u=H.fromDom(t.getRoot());return vx(u,wn.fromRangeStart(e))?o=o.replace(/^ /,"&nbsp;"):o=o.replace(/^&nbsp;/," "),bx(u,wn.fromRangeEnd(e))?o=o.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):o=o.replace(/&nbsp;(<br( \/)?>)?$/," "),o},k4=To,i6=function(t,e,o){if(o!==null){var u=t.getParent(e.endContainer,k4);return o===u&&Bf(H.fromDom(o),e)}else return!1},u6=function(t,e,o){if(o.getAttribute("data-mce-bogus")==="all")o.parentNode.insertBefore(t.dom.createFragment(e),o);else{var u=o.firstChild,c=o.lastChild;!u||u===c&&u.nodeName==="BR"?t.dom.setHTML(o,e):t.selection.setContent(e)}},a6=function(t,e){I.from(t.getParent(e,"td,th")).map(H.fromDom).each(or)},FA=function(t,e){var o=t.schema.getTextInlineElements(),u=t.dom;if(e){var c=t.getBody(),f=Fr(u);hn.each(u.select("*[data-mce-fragment]"),function(p){for(var b=p.parentNode;b&&b!==c;b=b.parentNode)o[p.nodeName.toLowerCase()]&&f.compare(b,p)&&u.remove(p,!0)})}},c6=function(t){for(var e=t;e=e.walk();)e.type===1&&e.attr("data-mce-fragment","1")},E4=function(t){hn.each(t.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")})},o0=function(t){return!!t.getAttribute("data-mce-fragment")},s6=function(t,e){return e&&!t.schema.getShortEndedElements()[e.nodeName]},l6=function(t,e){var o,u=t.dom,c=t.selection,f,p=function(M){for(var X=t.getBody();M&&M!==X;M=M.parentNode)if(u.getContentEditable(M)==="false")return M;return null};if(e){c.scrollIntoView(e);var b=p(e);if(b){u.remove(e),c.select(b);return}var y=u.createRng(),A=e.previousSibling;A&&A.nodeType===3?(y.setStart(A,A.nodeValue.length),Ue.ie||(f=e.nextSibling,f&&f.nodeType===3&&(A.appendData(f.data),f.parentNode.removeChild(f)))):(y.setStartBefore(e),y.setEndBefore(e));var N=function(M){var X=wn.fromRangeStart(M),J=Ts(t.getBody());if(X=J.next(X),X)return X.toRange()},B=u.getParent(e,u.isBlock);u.remove(e),B&&u.isEmpty(B)&&(t.$(B).empty(),y.setStart(B,0),y.setEnd(B,0),!k4(B)&&!o0(B)&&(o=N(y))?(y=o,u.remove(B)):u.add(B,u.create("br",{"data-mce-bogus":"1"}))),c.setRng(y)}},Ex=function(t){var e=t.dom,o=y4(t.selection.getRng());t.selection.setRng(o);var u=e.getParent(o.startContainer,k4);i6(e,o,u)?h4(t,o,H.fromDom(u)):t.getDoc().execCommand("Delete",!1,null)},A4=function(t,e,o){var u,c,f,p,b,y,A=t.selection,N=t.dom;/^ | $/.test(e)&&(e=o6(N,A.getRng(),e));var B=t.parser,M=o.merge,X=em({validate:WS(t)},t.schema),J='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>';if(f={content:e,format:"html",selection:!0,paste:o.paste},f=t.fire("BeforeSetContent",f),f.isDefaultPrevented()){t.fire("SetContent",{content:f.content,format:"html",selection:!0,paste:o.paste});return}e=f.content,e.indexOf("{$caret}")===-1&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,J),b=A.getRng();var Q=b.startContainer||(b.parentElement?b.parentElement():null),$=t.getBody();Q===$&&A.isCollapsed()&&N.isBlock($.firstChild)&&s6(t,$.firstChild)&&N.isEmpty($.firstChild)&&(b=N.createRng(),b.setStart($.firstChild,0),b.setEnd($.firstChild,0),A.setRng(b)),A.isCollapsed()||Ex(t),u=A.getNode();var pt={context:u.nodeName.toLowerCase(),data:o.data,insert:!0},mt=B.parse(e,pt);if(o.paste===!0&&Il(t.schema,mt)&&t6(N,u)){b=_A(X,N,A.getRng(),mt),A.setRng(b),t.fire("SetContent",f);return}if(c6(mt),y=mt.lastChild,y.attr("id")==="mce_marker"){for(p=y,y=y.prev;y;y=y.walk(!0))if(y.type===3||!N.isBlock(y.name)){t.schema.isValidChild(y.parent.name,"span")&&y.parent.insert(p,y,y.name==="br");break}}if(t._selectionOverrides.showBlockCaretContainer(u),!pt.invalid)e=X.serialize(mt),u6(t,e,u);else{for(t.selection.setContent(J),u=A.getNode(),c=t.getBody(),u.nodeType===9?u=y=c:y=u;y!==c;)u=y,y=y.parentNode;e=u===c?c.innerHTML:N.getOuterHTML(u),e=X.serialize(B.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return X.serialize(mt)}))),u===c?N.setHTML(c,e):N.setOuterHTML(u,e)}FA(t,M),l6(t,N.get("mce_marker")),E4(t.getBody()),a6(N,A.getStart()),t.fire("SetContent",f),t.addVisual()},T4=function(t,e){e(t),t.firstChild&&T4(t.firstChild,e),t.next&&T4(t.next,e)},f6=function(t,e,o){var u={},c={},f=[];o.firstChild&&T4(o.firstChild,function(y){yt(t,function(A){A.name===y.name&&(u[A.name]?u[A.name].nodes.push(y):u[A.name]={filter:A,nodes:[y]})}),yt(e,function(A){typeof y.attr(A.name)=="string"&&(c[A.name]?c[A.name].nodes.push(y):c[A.name]={filter:A,nodes:[y]})})});for(var p in u)u.hasOwnProperty(p)&&f.push(u[p]);for(var b in c)c.hasOwnProperty(b)&&f.push(c[b]);return f},BA=function(t,e,o){var u=f6(t,e,o);yt(u,function(c){yt(c.filter.callbacks,function(f){f(c.nodes,c.filter.name,{})})})},O4="html",D4=function(t){return t instanceof es},Ax=function(t){Qd(t)&&xa(t.getBody()).each(function(e){var o=e.getNode(),u=nf(o)?xa(o).getOr(e):e;t.selection.setRng(u.toRange())})},Hl=function(t,e){t.dom.setHTML(t.getBody(),e),Ax(t)},d6=function(t,e,o,u){var c,f;return o.length===0||/^\s+$/.test(o)?(f='<br data-mce-bogus="1">',e.nodeName==="TABLE"?o="<tr><td>"+f+"</td></tr>":/^(UL|OL)$/.test(e.nodeName)&&(o="<li>"+f+"</li>"),c=du(t),c&&t.schema.isValidChild(e.nodeName.toLowerCase(),c.toLowerCase())?(o=f,o=t.dom.createHTML(c,Cf(t),o)):o||(o='<br data-mce-bogus="1">'),Hl(t,o),t.fire("SetContent",u)):(u.format!=="raw"&&(o=em({validate:t.validate},t.schema).serialize(t.parser.parse(o,{isRootContent:!0,insert:!0}))),u.content=Ja(H.fromDom(e))?o:hn.trim(o),Hl(t,u.content),u.no_events||t.fire("SetContent",u)),u.content},_4=function(t,e,o,u){BA(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),o);var c=em({validate:t.validate},t.schema).serialize(o);return u.content=Ja(H.fromDom(e))?c:hn.trim(c),Hl(t,u.content),u.no_events||t.fire("SetContent",u),o},m6=function(t,e,o){return o.format=o.format?o.format:O4,o.set=!0,o.content=D4(e)?"":e,o.no_events||t.fire("BeforeSetContent",o),D4(e)||(e=o.content),I.from(t.getBody()).fold(jt(e),function(u){return D4(e)?_4(t,u,e,o):d6(t,u,e,o)})},g6=function(t,e){return rS(t,e).isSome()},NA=function(t){return Tn(t)?t:ve},p6=function(t,e,o){for(var u=t.dom,c=NA(o);u.parentNode;){u=u.parentNode;var f=H.fromDom(u),p=e(f);if(p.isSome())return p;if(c(f))break}return I.none()},Tx=function(t,e,o){var u=e(t),c=NA(o);return u.orThunk(function(){return c(t)?I.none():p6(t,e,c)})},F4=wb,eh=function(t,e,o){var u=t.formatter.get(o);if(u){for(var c=0;c<u.length;c++)if(u[c].inherit===!1&&t.dom.is(e,u[c].selector))return!0}return!1},B4=function(t,e,o,u){var c=t.dom.getRoot();return e===c?!1:(e=t.dom.getParent(e,function(f){return eh(t,f,o)?!0:f.parentNode===c||!!Hf(t,f,o,u,!0)}),Hf(t,e,o,u))},zA=function(t,e,o){if(F4(e,o.inline)||F4(e,o.block))return!0;if(o.selector)return e.nodeType===1&&t.is(e,o.selector)},MA=function(t,e,o,u,c,f){var p,b,y=o[u],A;if(o.onmatch)return o.onmatch(e,o,u);if(y){if(typeof y.length=="undefined"){for(p in y)if(y.hasOwnProperty(p)&&(u==="attributes"?b=t.getAttrib(e,p):b=Bp(t,e,p),c&&!b&&!o.exact||(!c||o.exact)&&!F4(b,Fp(t,Df(y[p],f),p))))return}else for(A=0;A<y.length;A++)if(u==="attributes"?t.getAttrib(e,y[A]):Bp(t,e,y[A]))return o}return o},Hf=function(t,e,o,u,c){var f=t.formatter.get(o),p,b,y,A,N=t.dom;if(f&&e){for(b=0;b<f.length;b++)if(p=f[b],zA(t.dom,e,p)&&MA(N,e,p,"attributes",c,u)&&MA(N,e,p,"styles",c,u)){if(A=p.classes){for(y=0;y<A.length;y++)if(!t.dom.hasClass(e,A[y]))return}return p}}},N4=function(t,e,o,u){if(u)return B4(t,u,e,o);if(u=t.selection.getNode(),B4(t,u,e,o))return!0;var c=t.selection.getStart();return!!(c!==u&&B4(t,c,e,o))},h6=function(t,e,o){var u=[],c={},f=t.selection.getStart();return t.dom.getParent(f,function(p){for(var b=0;b<e.length;b++){var y=e[b];!c[y]&&Hf(t,p,y,o)&&(c[y]=!0,u.push(y))}},t.dom.getRoot()),u},v6=function(t,e){var o=function(c){return Cr(c,H.fromDom(t.getBody()))},u=function(c,f){return Hf(t,c.dom,f)?I.some(f):I.none()};return I.from(t.selection.getStart(!0)).bind(function(c){return Tx(H.fromDom(c),function(f){return Ir(e,function(p){return u(f,p)})},o)}).getOrNull()},b6=function(t,e){var o=t.formatter.get(e),u,c,f,p,b,y=t.dom;if(o)for(u=t.selection.getStart(),c=Hd(y,u),p=o.length-1;p>=0;p--){if(b=o[p].selector,!b||o[p].defaultBlock)return!0;for(f=c.length-1;f>=0;f--)if(y.is(c[f],b))return!0}return!1},y6=function(t,e,o){return ze(o,function(u,c){var f=Iu(t,c);return t.formatter.matchNode(e,c,{},f)?u.concat([c]):u},[])},i0=Bu,RA="_mce_caret",w6=function(t,e){return t.importNode(e,!0)},x6=function(t){for(var e=[];t;){if(t.nodeType===3&&t.nodeValue!==i0||t.childNodes.length>1)return[];t.nodeType===1&&e.push(t),t=t.firstChild}return e},Ox=function(t){return x6(t).length>0},z4=function(t){if(t){var e=new Wi(t,t);for(t=e.current();t;t=e.next())if(z(t))return t}return null},M4=function(t){var e=H.fromTag("span");return ms(e,{id:RA,"data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&Ji(e,H.fromText(i0)),e},Dx=function(t){var e=z4(t);return e&&e.nodeValue.charAt(0)===i0&&e.deleteData(0,1),e},_x=function(t,e,o){o===void 0&&(o=!0);var u=t.dom,c=t.selection;if(Ox(e))nh(t,!1,H.fromDom(e),o);else{var f=c.getRng(),p=u.getParent(e,u.isBlock),b=f.startContainer,y=f.startOffset,A=f.endContainer,N=f.endOffset,B=Dx(e);u.remove(e,!0),b===B&&y>0&&f.setStart(B,y-1),A===B&&N>0&&f.setEnd(B,N-1),p&&u.isEmpty(p)&&Bn(H.fromDom(p)),c.setRng(f)}},rh=function(t,e,o){o===void 0&&(o=!0);var u=t.dom,c=t.selection;if(e)_x(t,e,o);else if(e=Pd(t.getBody(),c.getStart()),!e)for(;e=u.get(RA);)_x(t,e,!1)},gy=function(t,e,o){var u=t.dom,c=u.getParent(o,Qt(ag,t));c&&u.isEmpty(c)?o.parentNode.replaceChild(e,o):(un(H.fromDom(o)),u.isEmpty(o)?o.parentNode.replaceChild(e,o):u.insertAfter(e,o))},R4=function(t,e){return t.appendChild(e),e},PA=function(t,e){var o=ar(t,function(u,c){return R4(u,c.cloneNode(!1))},e);return R4(o,o.ownerDocument.createTextNode(i0))},C6=function(t,e,o,u,c,f){var p=t.formatter,b=t.dom,y=An(Nr(p.get()),function(M){return M!==u&&!zt(M,"removeformat")}),A=y6(t,o,y),N=An(A,function(M){return!ns(t,M,u)});if(N.length>0){var B=o.cloneNode(!1);return b.add(e,B),p.remove(u,c,B,f),b.remove(B),I.some(B)}else return I.none()},S6=function(t,e,o){var u,c,f=t.selection,p=f.getRng(),b=p.startOffset,y=p.startContainer,A=y.nodeValue;u=Pd(t.getBody(),f.getStart()),u&&(c=z4(u));var N=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(A&&b>0&&b<A.length&&N.test(A.charAt(b))&&N.test(A.charAt(b-1))){var B=f.getBookmark();p.collapse(!0);var M=Ff(t,p,t.formatter.get(e));M=Mf(M),t.formatter.apply(e,o,M),f.moveToBookmark(B)}else(!u||c.nodeValue!==i0)&&(u=w6(t.getDoc(),M4(!0).dom),c=u.firstChild,p.insertNode(u),b=1),t.formatter.apply(e,o,u),f.setCursorLocation(c,b)},k6=function(t,e,o,u){var c=t.dom,f=t.selection,p,b,y,A=[],N=f.getRng(),B=N.startContainer,M=N.startOffset;for(b=B,B.nodeType===3&&(M!==B.nodeValue.length&&(p=!0),b=b.parentNode);b;){if(Hf(t,b,e,o,u)){y=b;break}b.nextSibling&&(p=!0),A.push(b),b=b.parentNode}if(y)if(p){var X=f.getBookmark();N.collapse(!0);var J=Ff(t,N,t.formatter.get(e),!0);J=Mf(J),t.formatter.remove(e,o,J,u),f.moveToBookmark(X)}else{var Q=Pd(t.getBody(),y),$=M4(!1).dom;gy(t,$,Q!==null?Q:y);var pt=C6(t,$,y,e,o,u),mt=PA(A.concat(pt.toArray()),$);_x(t,Q,!1),f.setCursorLocation(mt,1),c.isEmpty(y)&&c.remove(y)}},E6=function(t,e){var o=t.selection,u=t.getBody();rh(t,null,!1),(e===8||e===46)&&o.isCollapsed()&&o.getStart().innerHTML===i0&&rh(t,Pd(u,o.getStart())),(e===37||e===39)&&rh(t,Pd(u,o.getStart()))},A6=function(t){t.on("mouseup keydown",function(e){E6(t,e.keyCode)})},T6=function(t,e){var o=M4(!1),u=PA(e,o.dom);return Jo(H.fromDom(t),o),Zi(H.fromDom(t)),wn(u,0)},LA=function(t,e){var o=t.schema.getTextInlineElements();return o.hasOwnProperty(Mo(e))&&!Ks(e.dom)&&!vl(e.dom)},O6=function(t){return Ks(t.dom)&&Ox(t.dom)},wg={},rs=ii,IA=Oo,HA=function(t,e){var o=wg[t];o||(wg[t]=[]),wg[t].push(e)},P4=function(t,e){IA(wg[t],function(o){o(e)})};HA("pre",function(t){var e=t.selection.getRng(),o,u=function(p){return f(p.previousSibling)&&cr(o,p.previousSibling)!==-1},c=function(p,b){jr(b).remove(),jr(p).append("<br><br>").append(b.childNodes)},f=Xa(["pre"]);e.collapsed||(o=t.selection.getSelectedBlocks(),IA(rs(rs(o,f),u),function(p){c(p.previousSibling,p)}))});var L4=hn.each,I4=function(t){return Vr(t)&&!Pa(t)&&!Ks(t)&&!vl(t)},VA=function(t,e){var o;for(o=t;o;o=o[e]){if(z(o)&&o.nodeValue.length!==0)return t;if(Vr(o)&&!Pa(o))return o}return t},UA=function(t,e,o){var u,c,f=Fr(t);if(e&&o&&(e=VA(e,"previousSibling"),o=VA(o,"nextSibling"),f.compare(e,o))){for(u=e.nextSibling;u&&u!==o;)c=u,u=u.nextSibling,e.appendChild(c);return t.remove(o),hn.each(hn.grep(o.childNodes),function(p){e.appendChild(p)}),e}return o},jA=function(t,e,o,u){if(u&&e.merge_siblings!==!1){var c=UA(t,bb(u),u);UA(t,c,bb(c,!0))}},D6=function(t,e,o){if(e.clear_child_styles){var u=e.links?"*:not(a)":"*";L4(t.select(u,o),function(c){I4(c)&&L4(e.styles,function(f,p){t.setStyle(c,p,"")})})}},py=function(t,e,o){L4(t.childNodes,function(u){I4(u)&&(e(u)&&o(u),u.hasChildNodes()&&py(u,e,o))})},H4=function(t,e){e.nodeName==="SPAN"&&t.getAttribs(e).length===0&&t.remove(e,!0)},V4=function(t,e){return function(o){return!!(o&&Bp(t,o,e))}},qA=function(t,e,o){return function(u){t.setStyle(u,e,o),u.getAttribute("style")===""&&u.removeAttribute("style"),H4(t,u)}},hy=xc.generate([{keep:[]},{rename:["name"]},{removed:[]}]),_6=/^(src|href|style)$/,U4=hn.each,u0=wb,F6=function(t){return/^(TR|TH|TD)$/.test(t.nodeName)},yr=function(t,e,o){return t.isChildOf(e,o)&&e!==o&&!t.isBlock(o)},WA=function(t,e,o){var u,c;if(u=e[o?"startContainer":"endContainer"],c=e[o?"startOffset":"endOffset"],Vr(u)){var f=u.childNodes.length-1;!o&&c&&c--,u=u.childNodes[c>f?f:c]}return z(u)&&o&&c>=u.nodeValue.length&&(u=new Wi(u,t.getBody()).next()||u),z(u)&&!o&&c===0&&(u=new Wi(u,t.getBody()).prev()||u),u},YA=function(t,e){var o=e?"firstChild":"lastChild";if(F6(t)&&t[o]){var u=t[o];return t.nodeName==="TR"&&u[o]||u}return t},j4=function(t,e,o,u){var c=t.create(o,u);return e.parentNode.insertBefore(c,e),c.appendChild(e),c},$A=function(t,e,o,u,c){var f=H.fromDom(e),p=H.fromDom(t.create(u,c)),b=o?ml(f):pc(f);return ai(p,b),o?(Jo(f,p),Oh(p,f)):(Uc(f,p),Ji(p,f)),p.dom},XA=function(t,e,o){if(u0(e,o.inline)||u0(e,o.block))return!0;if(o.selector)return Vr(e)&&t.is(e,o.selector)},GA=function(t,e){return e.links&&t.nodeName==="A"},vy=function(t,e,o,u){return e=bb(e,o,u),!e||e.nodeName==="BR"||t.isBlock(e)},KA=function(t,e,o){var u=e.parentNode,c,f=t.dom,p=du(t);o.block&&(p?u===f.getRoot()&&(!o.list_block||!u0(e,o.list_block))&&yt(ur(e.childNodes),function(b){Bl(t,p,b.nodeName.toLowerCase())?c?c.appendChild(b):(c=j4(f,b,p),f.setAttribs(c,t.settings.forced_root_block_attrs)):c=0}):f.isBlock(e)&&!f.isBlock(u)&&(!vy(f,e,!1)&&!vy(f,e.firstChild,!0,!0)&&e.insertBefore(f.create("br"),e.firstChild),!vy(f,e,!0)&&!vy(f,e.lastChild,!1,!0)&&e.appendChild(f.create("br")))),!(o.selector&&o.inline&&!u0(o.inline,e))&&f.remove(e,!0)},Fx=function(t,e,o,u,c){var f,p=t.dom;if(!XA(p,u,e)&&!GA(u,e))return hy.keep();var b=u;if(e.inline&&e.remove==="all"&&bn(e.preserve_attributes)){var y=An(p.getAttribs(b),function(M){return Wt(e.preserve_attributes,M.name.toLowerCase())});if(p.removeAllAttribs(b),yt(y,function(M){return p.setAttrib(b,M.name,M.value)}),y.length>0)return hy.rename("span")}if(e.remove!=="all"){U4(e.styles,function(M,X){M=Fp(p,Df(M,o),X+""),Xn(X)&&(X=M,c=null),(e.remove_similar||!c||u0(Bp(p,c,X),M))&&p.setStyle(b,X,""),f=!0}),f&&p.getAttrib(b,"style")===""&&(b.removeAttribute("style"),b.removeAttribute("data-mce-style")),U4(e.attributes,function(M,X){var J;if(M=Df(M,o),Xn(X)&&(X=M,c=null),e.remove_similar||!c||u0(p.getAttrib(c,X),M)){if(X==="class"&&(M=p.getAttrib(b,X),M&&(J="",yt(M.split(/\s+/),function(Q){/mce\-\w+/.test(Q)&&(J+=(J?" ":"")+Q)}),J))){p.setAttrib(b,X,J);return}X==="class"&&b.removeAttribute("className"),_6.test(X)&&b.removeAttribute("data-mce-"+X),b.removeAttribute(X)}}),U4(e.classes,function(M){M=Df(M,o),(!c||p.hasClass(c,M))&&p.removeClass(b,M)});for(var A=p.getAttribs(b),N=0;N<A.length;N++){var B=A[N].nodeName;if(B.indexOf("_")!==0&&B.indexOf("data-")!==0)return hy.keep()}}return e.remove!=="none"?(KA(t,b,e),hy.removed()):hy.keep()},oh=function(t,e,o,u,c){return Fx(t,e,o,u,c).fold(ve,function(f){return t.dom.rename(u,f),!0},ue)},B6=function(t,e,o,u,c){var f;return yt(Hd(t.dom,e.parentNode).reverse(),function(p){if(!f&&p.id!=="_start"&&p.id!=="_end"){var b=Hf(t,p,o,u,c);b&&b.split!==!1&&(f=p)}}),f},N6=function(t,e,o,u){return Fx(t,e,o,u,u).fold(jt(u),function(c){var f=t.dom.createFragment();return f.appendChild(u),t.dom.rename(u,c)},jt(null))},z6=function(t,e,o,u,c,f,p,b){var y,A,N,B=t.dom;if(o){for(var M=o.parentNode,X=u.parentNode;X&&X!==M;X=X.parentNode){y=B.clone(X,!1);for(var J=0;J<e.length&&(y=N6(t,e[J],b,y),y!==null);J++);y&&(A&&y.appendChild(A),N||(N=y),A=y)}f&&(!p.mixed||!B.isBlock(o))&&(u=B.split(o,u)),A&&(c.parentNode.insertBefore(A,c),N.appendChild(c),p.inline&&jA(B,p,b,A))}return u},JA=function(t,e,o,u,c){var f=t.formatter.get(e),p=f[0],b=!0,y=t.dom,A=t.selection,N=function(pt){var mt=B6(t,pt,e,o,c);return z6(t,f,mt,pt,pt,!0,p,o)},B=function(pt){return Pa(pt)&&Vr(pt)&&(pt.id==="_start"||pt.id==="_end")},M=function(pt){var mt,vt;Vr(pt)&&y.getContentEditable(pt)&&(mt=b,b=y.getContentEditable(pt)==="true",vt=!0);var Tt=ur(pt.childNodes);if(b&&!vt)for(var Ut=0;Ut<f.length&&!oh(t,f[Ut],o,pt,pt);Ut++);if(p.deep&&Tt.length){for(var Ut=0;Ut<Tt.length;Ut++)M(Tt[Ut]);vt&&(b=mt)}},X=function(pt){var mt=y.get(pt?"_start":"_end"),vt=mt[pt?"firstChild":"lastChild"];return B(vt)&&(vt=vt[pt?"firstChild":"lastChild"]),z(vt)&&vt.data.length===0&&(vt=pt?mt.previousSibling||mt.nextSibling:mt.nextSibling||mt.previousSibling),y.remove(mt,!0),vt},J=function(pt){var mt,vt,Tt=Ff(t,pt,f,pt.collapsed);if(p.split){if(Tt=Mf(Tt),mt=WA(t,Tt,!0),vt=WA(t,Tt),mt!==vt){if(mt=YA(mt,!0),vt=YA(vt,!1),yr(y,mt,vt)){var Ut=I.from(mt.firstChild).getOr(mt);N($A(y,Ut,!0,"span",{id:"_start","data-mce-type":"bookmark"})),X(!0);return}if(yr(y,vt,mt)){var Ut=I.from(vt.lastChild).getOr(vt);N($A(y,Ut,!1,"span",{id:"_end","data-mce-type":"bookmark"})),X(!1);return}mt=j4(y,mt,"span",{id:"_start","data-mce-type":"bookmark"}),vt=j4(y,vt,"span",{id:"_end","data-mce-type":"bookmark"});var On=y.createRng();On.setStartAfter(mt),On.setEndBefore(vt),jd(y,On,function(te){yt(te,function(se){!Pa(se)&&!Pa(se.parentNode)&&N(se)})}),N(mt),N(vt),mt=X(!0),vt=X()}else mt=vt=N(mt);Tt.startContainer=mt.parentNode?mt.parentNode:mt,Tt.startOffset=y.nodeIndex(mt),Tt.endContainer=vt.parentNode?vt.parentNode:vt,Tt.endOffset=y.nodeIndex(vt)+1}jd(y,Tt,function(te){yt(te,function(se){M(se);var Ge=["underline","line-through","overline"];yt(Ge,function(nr){Vr(se)&&t.dom.getStyle(se,"text-decoration")===nr&&se.parentNode&&Dw(y,se.parentNode)===nr&&oh(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:nr}},null,se)})})})};if(u){if(Ds(u)){var Q=y.createRng();Q.setStartBefore(u),Q.setEndAfter(u),J(Q)}else J(u);return}if(y.getContentEditable(A.getNode())==="false"){u=A.getNode();for(var $=0;$<f.length&&!(f[$].ceFalseOverride&&oh(t,f[$],o,u,u));$++);return}!A.isCollapsed()||!p.inline||Nl(t).length?(Db(A,!0,function(){Zs(t,J)}),p.inline&&N4(t,e,o,A.getStart())&&Ev(y,A,A.getRng()),t.nodeChanged()):k6(t,e,o,c)},Bx=hn.each,q4=function(t,e,o,u){var c=function(f){if(f.nodeType===1&&f.parentNode&&f.parentNode.nodeType===1){var p=Dw(t,f.parentNode);t.getStyle(f,"color")&&p?t.setStyle(f,"text-decoration",p):t.getStyle(f,"text-decoration")===p&&t.setStyle(f,"text-decoration",null)}};e.styles&&(e.styles.color||e.styles.textDecoration)&&(hn.walk(u,c,"childNodes"),c(u))},ZA=function(t,e,o,u){e.styles&&e.styles.backgroundColor&&py(u,V4(t,"fontSize"),qA(t,"backgroundColor",Df(e.styles.backgroundColor,o)))},Nx=function(t,e,o,u){(e.inline==="sub"||e.inline==="sup")&&(py(u,V4(t,"fontSize"),qA(t,"fontSize","")),t.remove(t.select(e.inline==="sup"?"sub":"sup",u),!0))},os=function(t,e,o,u){Bx(e,function(c){Bx(t.dom.select(c.inline,u),function(f){!I4(f)||oh(t,c,o,f,c.exact?f:null)}),D6(t.dom,c,u)})},by=function(t,e,o,u,c){Hf(t,c.parentNode,o,u)&&oh(t,e,u,c)||e.merge_with_parents&&t.dom.getParent(c.parentNode,function(f){if(Hf(t,f,o,u))return oh(t,e,u,c),!0})},Ia=hn.each,QA=function(t,e){return $o(t,e)},tT=function(t){return t&&t.nodeType===1&&!Pa(t)&&!Ks(t)&&!vl(t)},nT=function(t,e,o,u){if($S(t)&&Vd(e)){var c=Xe(Xe({},t.schema.getTextBlockElements()),{td:{},th:{},li:{},dt:{},dd:{},figcaption:{},caption:{},details:{},summary:{}}),f=g6(H.fromDom(o),function(p){return Ks(p.dom)});return $o(c,u)&&Za(H.fromDom(o.parentNode),!1)&&!f}else return!1},W4=function(t,e,o,u){var c=t.formatter.get(e),f=c[0],p=!u&&t.selection.isCollapsed(),b=t.dom,y=t.selection,A=function(mt,vt){if(vt=vt||f,mt){if(vt.onformat&&vt.onformat(mt,vt,o,u),Ia(vt.styles,function(Ut,On){b.setStyle(mt,On,Df(Ut,o))}),vt.styles){var Tt=b.getAttrib(mt,"style");Tt&&b.setAttrib(mt,"data-mce-style",Tt)}Ia(vt.attributes,function(Ut,On){b.setAttrib(mt,On,Df(Ut,o))}),Ia(vt.classes,function(Ut){Ut=Df(Ut,o),b.hasClass(mt,Ut)||b.addClass(mt,Ut)})}},N=function(mt,vt){var Tt=!1;return cg(f)?(Ia(mt,function(Ut){if(!("collapsed"in Ut&&Ut.collapsed!==p)&&b.is(vt,Ut.selector)&&!Ks(vt))return A(vt,Ut),Tt=!0,!1}),Tt):!1},B=function(mt,vt,Tt,Ut){var On=[],te=!0,se=f.inline||f.block,Ge=mt.create(se);A(Ge),jd(mt,vt,function(nr){var Ln,Tr=function(Ce){var Je=!1,ie=te,Te=Ce.nodeName.toLowerCase(),je=Ce.parentNode.nodeName.toLowerCase();if(Vr(Ce)&&mt.getContentEditable(Ce)&&(ie=te,te=mt.getContentEditable(Ce)==="true",Je=!0),In(Ce)&&!nT(t,f,Ce,je)){Ln=null,Nc(f)&&mt.remove(Ce);return}if(f.wrapper&&Hf(t,Ce,e,o)){Ln=null;return}if(te&&!Je&&Nc(f)&&!f.wrapper&&ag(t,Te)&&Bl(t,je,se)){var $n=mt.rename(Ce,se);A($n),On.push($n),Ln=null;return}if(cg(f)){var We=N(c,Ce);if(!QA(f,"inline")||We){Ln=null;return}}te&&!Je&&Bl(t,se,Te)&&Bl(t,je,se)&&!(!Ut&&Ce.nodeType===3&&Ce.nodeValue.length===1&&Ce.nodeValue.charCodeAt(0)===65279)&&!Ks(Ce)&&(!QA(f,"inline")||!mt.isBlock(Ce))?(Ln||(Ln=mt.clone(Ge,!1),Ce.parentNode.insertBefore(Ln,Ce),On.push(Ln)),Ln.appendChild(Ce)):(Ln=null,Ia(hn.grep(Ce.childNodes),Tr),Je&&(te=ie),Ln=null)};Ia(nr,Tr)}),f.links===!0&&Ia(On,function(nr){var Ln=function(Tr){Tr.nodeName==="A"&&A(Tr,f),Ia(hn.grep(Tr.childNodes),Ln)};Ln(nr)}),Ia(On,function(nr){var Ln=function(ie){var Te=0;return Ia(ie.childNodes,function(je){!vk(je)&&!Pa(je)&&Te++}),Te},Tr=function(ie){var Te=!1;return Ia(ie.childNodes,function(je){if(tT(je))return Te=je,!1}),Te},Ce=function(ie){var Te,je=Tr(ie);return je&&!Pa(je)&&zA(mt,je,f)&&(Te=mt.clone(je,!1),A(Te),mt.replace(Te,ie,!0),mt.remove(je,!0)),Te||ie},Je=Ln(nr);if((On.length>1||!mt.isBlock(nr))&&Je===0){mt.remove(nr,!0);return}(Vd(f)||f.wrapper)&&(!f.exact&&Je===1&&(nr=Ce(nr)),os(t,c,o,nr),by(t,f,e,o,nr),ZA(mt,f,o,nr),q4(mt,f,o,nr),Nx(mt,f,o,nr),jA(mt,f,o,nr))})};if(b.getContentEditable(y.getNode())==="false"){u=y.getNode();for(var M=0,X=c.length;M<X;M++){var J=c[M];if(J.ceFalseOverride&&cg(J)&&b.is(u,J.selector)){A(u,J);return}}return}if(f){if(u)if(Ds(u)){if(!N(c,u)){var Q=b.createRng();Q.setStartBefore(u),Q.setEndAfter(u),B(b,Ff(t,Q,c),null,!0)}}else B(b,u,null,!0);else if(!p||!Vd(f)||Nl(t).length){var $=y.getNode(),pt=c[0];!t.settings.forced_root_block&&pt.defaultBlock&&!b.getParent($,b.isBlock)&&W4(t,pt.defaultBlock),y.setRng(y4(y.getRng())),Db(y,!0,function(mt){Zs(t,function(vt,Tt){var Ut=Tt?vt:Ff(t,vt,c);B(b,Ut)})}),Ev(b,y,y.getRng()),t.nodeChanged()}else S6(t,e,o);P4(e,t)}},M6=function(t,e){var o=Io({});t.set({}),e.on("NodeChange",function(u){eT(e,u.element,o,t.get())})},eT=function(t,e,o,u){var c=Nr(o.get()),f={},p={},b=An(Hd(t.dom,e),function(A){return A.nodeType===1&&!A.getAttribute("data-mce-bogus")});Or(u,function(A,N){hn.each(b,function(B){if(t.formatter.matchNode(B,N,{},A.similar))return c.indexOf(N)===-1&&(yt(A.callbacks,function(M){M(!0,{node:B,format:N,parents:b})}),f[N]=A.callbacks),p[N]=A.callbacks,!1;if(eh(t,B,N))return!1})});var y=zx(o.get(),p,e,b);o.set(Xe(Xe({},f),y))},zx=function(t,e,o,u){return Pe(t,function(c,f){return Er(e,f)?!0:(yt(c,function(p){p(!1,{node:o,format:f,parents:u})}),!1)}).t},rT=function(t,e,o,u){var c=t.get();yt(e.split(","),function(f){c[f]||(c[f]={similar:u,callbacks:[]}),c[f].callbacks.push(o)}),t.set(c)},oT=function(t,e,o){var u=t.get();yt(e.split(","),function(c){u[c].callbacks=An(u[c].callbacks,function(f){return f!==o}),u[c].callbacks.length===0&&delete u[c]}),t.set(u)},Mx=function(t,e,o,u,c){return e.get()===null&&M6(e,t),rT(e,o,u,c),{unbind:function(){return oT(e,o,u)}}},R6=function(t,e,o,u){var c=t.formatter.get(e);N4(t,e,o,u)&&(!("toggle"in c[0])||c[0].toggle)?JA(t,e,o,u):W4(t,e,o,u)},Y4=function(t,e){var o=e||document,u=o.createDocumentFragment();return yt(t,function(c){u.appendChild(c.dom)}),H.fromDom(u)},$4=function(t,e,o){return{element:t,width:e,rows:o}},iT=function(t,e){return{element:t,cells:e}},P6=function(t,e){return{x:t,y:e}},uT=function(t,e){var o=parseInt(Em(t,e),10);return isNaN(o)?1:o},L6=function(t,e,o,u,c){for(var f=uT(c,"rowspan"),p=uT(c,"colspan"),b=t.rows,y=o;y<o+f;y++){b[y]||(b[y]=iT(uv(u),[]));for(var A=e;A<e+p;A++){var N=b[y].cells;N[A]=y===o&&A===e?c:kd(c)}}},I6=function(t,e,o){var u=t.rows,c=u[o]?u[o].cells:[];return!!c[e]},H6=function(t,e,o){for(;I6(t,e,o);)e++;return e},aT=function(t){return ze(t,function(e,o){return o.cells.length>e?o.cells.length:e},0)},cT=function(t,e){for(var o=t.rows,u=0;u<o.length;u++)for(var c=o[u].cells,f=0;f<c.length;f++)if(Cr(c[f],e))return I.some(P6(f,u));return I.none()},Rx=function(t,e,o,u,c){for(var f=[],p=t.rows,b=o;b<=c;b++){var y=p[b].cells,A=e<u?y.slice(e,u+1):y.slice(u,e+1);f.push(iT(p[b].element,A))}return f},V6=function(t,e,o){var u=e.x,c=e.y,f=o.x,p=o.y,b=c<p?Rx(t,u,c,f,p):Rx(t,u,p,f,c);return $4(t.element,aT(b),b)},a0=function(t,e){var o=kd(t.element),u=H.fromTag("tbody");return ai(u,e),Ji(o,u),o},sT=function(t){return Et(t.rows,function(e){var o=Et(e.cells,function(c){var f=uv(c);return ga(f,"colspan"),ga(f,"rowspan"),f}),u=kd(e.element);return ai(u,o),u})},nu=function(t){var e=$4(kd(t),0,[]);return yt(ya(t,"tr"),function(o,u){yt(ya(o,"td,th"),function(c,f){L6(e,H6(e,f,u),u,o,c)})}),$4(e.element,aT(e.rows),e.rows)},U6=function(t){return a0(t,sT(t))},j6=function(t,e,o){return cT(t,e).bind(function(u){return cT(t,o).map(function(c){return V6(t,u,c)})})},q6=function(t){return Lr(t,function(e){return Mo(e)==="ul"||Mo(e)==="ol"})},W6=function(t,e){return Lr(t,function(o){return Mo(o)==="li"&&Bf(o,e)}).fold(jt([]),function(o){return q6(t).map(function(u){var c=H.fromTag(Mo(u)),f=fe(ef(u),function(p,b){return an(b,"list-style")});return tS(c,f),[H.fromTag("li"),c]}).getOr([])})},tl=function(t,e){var o=ze(e,function(u,c){return Ji(c,u),c},t);return e.length>0?Y4([o]):o},Px=function(t){return oa(t)?iu(t).filter(si).fold(jt([]),function(e){return[t,e]}):si(t)?[t]:[]},yy=function(t,e){var o=H.fromDom(e.commonAncestorContainer),u=No(o,t),c=An(u,function(b){return Hs(b)||o2(b)}),f=W6(u,e),p=c.concat(f.length?f:Px(o));return Et(p,kd)},c0=function(){return Y4([])},X4=function(t,e){return tl(H.fromDom(e.cloneContents()),yy(t,e))},Y6=function(t,e){return uf(e,"table",Qt(Cr,t))},$6=function(t,e){return Y6(t,e[0]).bind(function(o){var u=e[0],c=e[e.length-1],f=nu(o);return j6(f,u,c).map(function(p){return Y4([U6(p)])})}).getOrThunk(c0)},s0=function(t,e){return e.length>0&&e[0].collapsed?c0():X4(t,e[0])},l0=function(t,e){var o=Hu(e,t);return o.length>0?$6(t,o):s0(t,e)},f0=function(t){return t.replace(/^[ \f\n\r\t\v]+/,"")},d0=function(t,e){return e>=0&&e<t.length&&Js(t.charAt(e))},lT=function(t,e){var o=kc(t.innerText);return e?f0(o):o},X6=function(t){return t.map(function(e){return e.nodeName}).getOr("div").toLowerCase()},fT=function(t){return I.from(t.selection.getRng()).map(function(e){var o=I.from(t.dom.getParent(e.commonAncestorContainer,t.dom.isBlock)),u=t.getBody(),c=X6(o),f=Ue.browser.isIE()&&c!=="pre",p=t.dom.add(u,c,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},e.cloneContents()),b=lT(p,f),y=kc(p.textContent);if(t.dom.remove(p),d0(y,0)||d0(y,y.length-1)){var A=o.getOr(u),N=lT(A,f),B=N.indexOf(b);if(B===-1)return b;var M=d0(N,B-1),X=d0(N,B+b.length);return(M?" ":"")+b+(X?" ":"")}else return b}).getOr("")},dT=function(t,e){var o=t.selection.getRng(),u=t.dom.create("body"),c=t.selection.getSel(),f=Pf(t,Ab(c)),p=e.contextual?l0(H.fromDom(t.getBody()),f).dom:o.cloneContents();return p&&u.appendChild(p),t.selection.serializer.serialize(u,e)},G6=function(t,e,o){if(o===void 0&&(o={}),o.get=!0,o.format=e,o.selection=!0,o=t.fire("BeforeGetContent",o),o.isDefaultPrevented())return t.fire("GetContent",o),o.content;if(o.format==="text")return fT(t);o.getInner=!0;var u=dT(t,o);return o.format==="tree"?u:(o.content=t.selection.isCollapsed()?"":u,t.fire("GetContent",o),o.content)},G4=0,K4=1,mT=2,K6=function(t,e){var o=t.length+e.length+2,u=new Array(o),c=new Array(o),f=function(N,B,M){return{start:N,end:B,diag:M}},p=function(N,B,M,X,J){var Q=y(N,B,M,X);if(Q===null||Q.start===B&&Q.diag===B-X||Q.end===N&&Q.diag===N-M)for(var $=N,pt=M;$<B||pt<X;)$<B&&pt<X&&t[$]===e[pt]?(J.push([G4,t[$]]),++$,++pt):B-N>X-M?(J.push([mT,t[$]]),++$):(J.push([K4,e[pt]]),++pt);else{p(N,Q.start,M,Q.start-Q.diag,J);for(var mt=Q.start;mt<Q.end;++mt)J.push([G4,t[mt]]);p(Q.end,B,Q.end-Q.diag,X,J)}},b=function(N,B,M,X){for(var J=N;J-B<X&&J<M&&t[J]===e[J-B];)++J;return f(N,J,B)},y=function(N,B,M,X){var J=B-N,Q=X-M;if(J===0||Q===0)return null;var $=J-Q,pt=Q+J,mt=(pt%2===0?pt:pt+1)/2;u[1+mt]=N,c[1+mt]=B+1;var vt,Tt,Ut,On,te;for(vt=0;vt<=mt;++vt){for(Tt=-vt;Tt<=vt;Tt+=2){for(Ut=Tt+mt,Tt===-vt||Tt!==vt&&u[Ut-1]<u[Ut+1]?u[Ut]=u[Ut+1]:u[Ut]=u[Ut-1]+1,On=u[Ut],te=On-N+M-Tt;On<B&&te<X&&t[On]===e[te];)u[Ut]=++On,++te;if($%2!==0&&$-vt<=Tt&&Tt<=$+vt&&c[Ut-$]<=u[Ut])return b(c[Ut-$],Tt+N-M,B,X)}for(Tt=$-vt;Tt<=$+vt;Tt+=2){for(Ut=Tt+mt-$,Tt===$-vt||Tt!==$+vt&&c[Ut+1]<=c[Ut-1]?c[Ut]=c[Ut+1]-1:c[Ut]=c[Ut-1],On=c[Ut]-1,te=On-N+M-Tt;On>=N&&te>=M&&t[On]===e[te];)c[Ut]=On--,te--;if($%2===0&&-vt<=Tt&&Tt<=vt&&c[Ut]<=u[Ut+$])return b(c[Ut],Tt+N-M,B,X)}}},A=[];return p(0,t.length,0,e.length,A),A},gT=function(t){return Vr(t)?t.outerHTML:z(t)?Ba.encodeRaw(t.data,!1):U(t)?"<!--"+t.data+"-->":""},J6=function(t){var e,o=document.createElement("div"),u=document.createDocumentFragment();for(t&&(o.innerHTML=t);e=o.firstChild;)u.appendChild(e);return u},Z6=function(t,e,o){var u=J6(e);if(t.hasChildNodes()&&o<t.childNodes.length){var c=t.childNodes[o];c.parentNode.insertBefore(u,c)}else t.appendChild(u)},pT=function(t,e){if(t.hasChildNodes()&&e<t.childNodes.length){var o=t.childNodes[e];o.parentNode.removeChild(o)}},Q6=function(t,e){var o=0;yt(t,function(u){u[0]===G4?o++:u[0]===K4?(Z6(e,u[1],o),o++):u[0]===mT&&pT(e,o)})},tF=function(t){return An(Et(ur(t.childNodes),gT),function(e){return e.length>0})},nF=function(t,e){var o=Et(ur(e.childNodes),gT);return Q6(K6(o,t),e),e},m0=Io(I.none()),hT=function(){return m0.get().getOrThunk(function(){var t=document.implementation.createHTMLDocument("undo");return m0.set(I.some(t)),t})},eF=function(t){return t.indexOf("</iframe>")!==-1},vT=function(t){return{type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}},rF=function(t){return{type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}},Lx=function(t){var e=tF(t.getBody()),o=Cn(e,function(c){var f=gx(t.serializer,c);return f.length>0?[f]:[]}),u=o.join("");return eF(u)?vT(o):rF(u)},J4=function(t,e,o){e.type==="fragmented"?nF(e.fragments,t.getBody()):t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(o?e.beforeBookmark:e.bookmark)},Z4=function(t){return t.type==="fragmented"?t.fragments.join(""):t.content},Q4=function(t){var e=H.fromTag("body",hT());return F2(e,Z4(t)),yt(ya(e,"*[data-mce-bogus]"),Cm),AS(e)},bT=function(t,e){return Z4(t)===Z4(e)},yT=function(t,e){return Q4(t)===Q4(e)},wy=function(t,e){return!t||!e?!1:bT(t,e)?!0:yT(t,e)},t3=function(t){return t.get()===0},Ix=function(t,e,o){t3(o)&&(t.typing=e)},wT=function(t,e){t.typing&&(Ix(t,!1,e),t.add())},n3=function(t){t.typing&&(t.typing=!1,t.add())},Hx=function(t,e,o){t3(e)&&o.set(I.some(vp(t.selection)))},xT=function(t,e,o,u,c,f,p){var b=Lx(t);if(f=f||{},f=hn.extend(f,b),t3(u)===!1||t.removed)return null;var y=e.data[o.get()];if(t.fire("BeforeAddUndo",{level:f,lastLevel:y,originalEvent:p}).isDefaultPrevented()||y&&wy(y,f))return null;e.data[o.get()]&&c.get().each(function(M){e.data[o.get()].beforeBookmark=M});var A=rb(t);if(A&&e.data.length>A){for(var N=0;N<e.data.length-1;N++)e.data[N]=e.data[N+1];e.data.length--,o.set(e.data.length)}f.bookmark=vp(t.selection),o.get()<e.data.length-1&&(e.data.length=o.get()+1),e.data.push(f),o.set(e.data.length-1);var B={level:f,lastLevel:y,originalEvent:p};return o.get()>0?(t.setDirty(!0),t.fire("AddUndo",B),t.fire("change",B)):t.fire("AddUndo",B),f},CT=function(t,e,o){e.data=[],o.set(0),e.typing=!1,t.fire("ClearUndos")},Vx=function(t,e,o,u,c){if(e.transact(u)){var f=e.data[o.get()].bookmark,p=e.data[o.get()-1];J4(t,p,!0),e.transact(c)&&(e.data[o.get()-1].beforeBookmark=f)}},oF=function(t,e,o){var u;return e.get()<o.length-1&&(e.set(e.get()+1),u=o[e.get()],J4(t,u,!1),t.setDirty(!0),t.fire("Redo",{level:u})),u},iF=function(t,e,o,u){var c;return e.typing&&(e.add(),e.typing=!1,Ix(e,!1,o)),u.get()>0&&(u.set(u.get()-1),c=e.data[u.get()],J4(t,c,!0),t.setDirty(!0),t.fire("Undo",{level:c})),c},ih=function(t){t.clear(),t.add()},e3=function(t,e,o){return o.get()>0||e.typing&&e.data[0]&&!wy(Lx(t),e.data[0])},ST=function(t,e){return e.get()<t.data.length-1&&!t.typing},r3=function(t,e,o){return wT(t,e),t.beforeChange(),t.ignore(o),t.add()},kT=function(t,e){try{t.set(t.get()+1),e()}finally{t.set(t.get()-1)}},uF=function(t,e){var o=t.dom,u=cn(e)?e:t.getBody();br(t.hasVisual)&&(t.hasVisual=gv(t)),yt(o.select("table,a",u),function(c){switch(c.nodeName){case"TABLE":var f=Bd(t),p=o.getAttrib(c,"border");(!p||p==="0")&&t.hasVisual?o.addClass(c,f):o.removeClass(c,f);break;case"A":if(!o.getAttrib(c,"href")){var b=o.getAttrib(c,"name")||c.id,y=pv(t);b&&t.hasVisual?o.addClass(c,y):o.removeClass(c,y)}break}}),t.fire("VisualAid",{element:e,hasVisual:t.hasVisual})},o3=function(t){return{undoManager:{beforeChange:function(e,o){return Hx(t,e,o)},addUndoLevel:function(e,o,u,c,f,p){return xT(t,e,o,u,c,f,p)},undo:function(e,o,u){return iF(t,e,o,u)},redo:function(e,o){return oF(t,e,o)},clear:function(e,o){return CT(t,e,o)},reset:function(e){return ih(e)},hasUndo:function(e,o){return e3(t,e,o)},hasRedo:function(e,o){return ST(e,o)},transact:function(e,o,u){return r3(e,o,u)},ignore:function(e,o){return kT(e,o)},extra:function(e,o,u,c){return Vx(t,e,o,u,c)}},formatter:{match:function(e,o,u){return N4(t,e,o,u)},matchAll:function(e,o){return h6(t,e,o)},matchNode:function(e,o,u,c){return Hf(t,e,o,u,c)},canApply:function(e){return b6(t,e)},closest:function(e){return v6(t,e)},apply:function(e,o,u){return W4(t,e,o,u)},remove:function(e,o,u,c){return JA(t,e,o,u,c)},toggle:function(e,o,u){return R6(t,e,o,u)},formatChanged:function(e,o,u,c){return Mx(t,e,o,u,c)}},editor:{getContent:function(e,o){return i4(t,e,o)},setContent:function(e,o){return m6(t,e,o)},insertContent:function(e,o){return A4(t,e,o)},addVisual:function(e){return uF(t,e)}},selection:{getContent:function(e,o){return G6(t,e,o)}},raw:{getModel:function(){return I.none()}}}},ET=function(t){var e=function(A){return kn(A)?A:{}},o=S("Unimplemented feature for rtc"),u=t.undoManager,c=t.formatter,f=t.editor,p=t.selection,b=t.raw,y=tt;return{undoManager:{beforeChange:y,addUndoLevel:o,undo:function(){return u.undo()},redo:function(){return u.redo()},clear:function(){return u.clear()},reset:function(){return u.reset()},hasUndo:function(){return u.hasUndo()},hasRedo:function(){return u.hasRedo()},transact:function(A,N,B){return u.transact(B)},ignore:function(A,N){return u.ignore(N)},extra:function(A,N,B,M){return u.extra(B,M)}},formatter:{match:function(A,N,B){return c.match(A,e(N))},matchAll:o,matchNode:o,canApply:function(A){return c.canApply(A)},closest:function(A){return c.closest(A)},apply:function(A,N,B){return c.apply(A,e(N))},remove:function(A,N,B,M){return c.remove(A,e(N))},toggle:function(A,N,B){return c.toggle(A,e(N))},formatChanged:function(A,N,B,M){return c.formatChanged(N,B,M)}},editor:{getContent:function(A,N){return f.getContent(A)},setContent:function(A,N){return f.setContent(A,N)},insertContent:function(A,N){return f.insertContent(A)},addVisual:y},selection:{getContent:function(A,N){return p.getContent(N)}},raw:{getModel:function(){return I.some(b.getRawModel())}}}},aF=function(){var t=jt(null),e=jt("");return{undoManager:{beforeChange:tt,addUndoLevel:t,undo:t,redo:t,clear:tt,reset:tt,hasUndo:ve,hasRedo:ve,transact:t,ignore:tt,extra:tt},formatter:{match:ve,matchAll:jt([]),matchNode:ve,canApply:ve,closest:e,apply:tt,remove:tt,toggle:tt,formatChanged:jt({unbind:tt})},editor:{getContent:e,setContent:e,insertContent:tt,addVisual:tt},selection:{getContent:e},raw:{getModel:jt(I.none())}}},Ux=function(t){return Er(t.plugins,"rtc")},cF=function(t){var e=t;return zr(t.plugins,"rtc").fold(function(){return e.rtcInstance=o3(t),I.none()},function(o){return I.some(o.setup().then(function(u){return e.rtcInstance=ET(u),u.rtc.isRemote},function(u){return e.rtcInstance=aF(),Ri.reject(u)}))})},xy=function(t){return t.rtcInstance?t.rtcInstance:o3(t)},ku=function(t){var e=t.rtcInstance;if(e)return e;throw new Error("Failed to get RTC instance not yet initialized.")},sF=function(t,e,o){ku(t).undoManager.beforeChange(e,o)},jx=function(t,e,o,u,c,f,p){return ku(t).undoManager.addUndoLevel(e,o,u,c,f,p)},AT=function(t,e,o,u){return ku(t).undoManager.undo(e,o,u)},lF=function(t,e,o){return ku(t).undoManager.redo(e,o)},pu=function(t,e,o){ku(t).undoManager.clear(e,o)},fF=function(t,e){ku(t).undoManager.reset(e)},TT=function(t,e,o){return ku(t).undoManager.hasUndo(e,o)},dF=function(t,e,o){return ku(t).undoManager.hasRedo(e,o)},mF=function(t,e,o,u){return ku(t).undoManager.transact(e,o,u)},OT=function(t,e,o){ku(t).undoManager.ignore(e,o)},gF=function(t,e,o,u,c){ku(t).undoManager.extra(e,o,u,c)},i3=function(t,e,o,u){return ku(t).formatter.match(e,o,u)},pF=function(t,e,o){return ku(t).formatter.matchAll(e,o)},DT=function(t,e,o,u,c){return ku(t).formatter.matchNode(e,o,u,c)},hF=function(t,e){return ku(t).formatter.canApply(e)},vF=function(t,e){return ku(t).formatter.closest(e)},bF=function(t,e,o,u){ku(t).formatter.apply(e,o,u)},yF=function(t,e,o,u,c){ku(t).formatter.remove(e,o,u,c)},wF=function(t,e,o,u){ku(t).formatter.toggle(e,o,u)},_T=function(t,e,o,u,c){return c===void 0&&(c=!1),ku(t).formatter.formatChanged(e,o,u,c)},xF=function(t,e,o){return xy(t).editor.getContent(e,o)},u3=function(t,e,o){return xy(t).editor.setContent(e,o)},FT=function(t,e,o){return xy(t).editor.insertContent(e,o)},BT=function(t,e,o){return ku(t).selection.getContent(e,o)},NT=function(t,e){return ku(t).editor.addVisual(e)},zT=function(t,e){e===void 0&&(e={});var o=e.format?e.format:"html";return BT(t,o,e)},a3=function(t){return t.dom.length===0?(Zi(t),I.none()):I.some(t)},MT=function(t,e){return t.filter(function(o){return zp.isBookmarkNode(o.dom)}).bind(e?gc:re)},CF=function(t,e,o,u){var c=t.dom,f=e.dom,p=u?c.length:f.length;u?(um(c,f,!1,!u),o.setStart(f,p)):(um(f,c,!1,!u),o.setEnd(f,p))},c3=function(t,e){iu(t).each(function(o){var u=t.dom;e&&vx(o,wn(u,0))?im(u,0):!e&&bx(o,wn(u,u.length))&&yg(u,u.length)})},RT=function(t,e,o,u){t.bind(function(c){var f=u?yg:im;return f(c.dom,u?c.dom.length:0),e.filter(Ti).map(function(p){return CF(c,p,o,u)})}).orThunk(function(){var c=MT(e,u).or(e).filter(Ti);return c.map(function(f){return c3(f,u)})})},qx=function(t,e){var o=I.from(e.firstChild).map(H.fromDom),u=I.from(e.lastChild).map(H.fromDom);t.deleteContents(),t.insertNode(e);var c=o.bind(re).filter(Ti).bind(a3),f=u.bind(gc).filter(Ti).bind(a3);RT(c,o,t,!0),RT(f,u,t,!1),t.collapse(!1)},SF=function(t,e){return Xe(Xe({format:"html"},t),{set:!0,selection:!0,content:e})},kF=function(t,e){if(e.format!=="raw"){var o=t.selection.getRng(),u=t.dom.getParent(o.commonAncestorContainer,t.dom.isBlock),c=u?{context:u.nodeName.toLowerCase()}:{},f=t.parser.parse(e.content,Xe(Xe({isRootContent:!0,forced_root_block:!1},c),e));return em({validate:t.validate},t.schema).serialize(f)}else return e.content},PT=function(t,e,o){o===void 0&&(o={});var u=SF(o,e);if(!u.no_events&&(u=t.fire("BeforeSetContent",u),u.isDefaultPrevented())){t.fire("SetContent",u);return}o.content=kF(t,u);var c=t.selection.getRng();qx(c,c.createContextualFragment(o.content)),t.selection.setRng(c),jp(t,c),u.no_events||t.fire("SetContent",u)},s3=function(t,e,o){if(t&&t.hasOwnProperty(e)){var u=An(t[e],function(c){return c!==o});u.length===0?delete t[e]:t[e]=u}};function EF(t,e){var o,u;return{selectorChangedWithUnbind:function(c,f){return o||(o={},u={},e.on("NodeChange",function(p){var b=p.element,y=t.getParents(b,null,t.getRoot()),A={};hn.each(o,function(N,B){hn.each(y,function(M){if(t.is(M,B))return u[B]||(hn.each(N,function(X){X(!0,{node:M,selector:B,parents:y})}),u[B]=N),A[B]=N,!1})}),hn.each(u,function(N,B){A[B]||(delete u[B],hn.each(N,function(M){M(!1,{node:b,selector:B,parents:y})}))})})),o[c]||(o[c]=[]),o[c].push(f),{unbind:function(){s3(o,c,f),s3(u,c,f)}}}}}var LT=function(t){return!!t.select},IT=function(t){return!!(t&&t.ownerDocument)&&uo(H.fromDom(t.ownerDocument),H.fromDom(t))},AF=function(t){return t?LT(t)?!0:IT(t.startContainer)&&IT(t.endContainer):!1},HT=function(t,e,o,u){var c,f,p=EF(t,u).selectorChangedWithUnbind,b=function($n,We){var bo=t.createRng();cn($n)&&cn(We)?(bo.setStart($n,We),bo.setEnd($n,We),vt(bo),$(!1)):(Ob(t,bo,u.getBody(),!0),vt(bo))},y=function($n){return zT(u,$n)},A=function($n,We){return PT(u,$n,We)},N=function($n){return Zb(u.getBody(),mt(),$n)},B=function($n){return lx(u.getBody(),mt(),$n)},M=function($n,We){return Te.getBookmark($n,We)},X=function($n){return Te.moveToBookmark($n)},J=function($n,We){return dx(t,$n,We).each(vt),$n},Q=function(){var $n=mt(),We=pt();return!$n||$n.item?!1:$n.compareEndPoints?$n.compareEndPoints("StartToEnd",$n)===0:!We||$n.collapsed},$=function($n){var We=mt();We.collapse(!!$n),vt(We)},pt=function(){return e.getSelection?e.getSelection():e.document.selection},mt=function(){var $n,We,bo,ni=function(Uu,Ye,Ke){try{return Ye.compareBoundaryPoints(Uu,Ke)}catch{return-1}},Vo=e.document;if(u.bookmark!==void 0&&Qd(u)===!1){var _i=Xb(u);if(_i.isSome())return _i.map(function(Uu){return Pf(u,[Uu])[0]}).getOr(Vo.createRange())}try{($n=pt())&&!yc($n.anchorNode)&&($n.rangeCount>0?We=$n.getRangeAt(0):We=$n.createRange?$n.createRange():Vo.createRange(),We=Pf(u,[We])[0])}catch{}return We||(We=Vo.createRange?Vo.createRange():Vo.body.createTextRange()),We.setStart&&We.startContainer.nodeType===9&&We.collapsed&&(bo=t.getRoot(),We.setStart(bo,0),We.setEnd(bo,0)),c&&f&&(ni(We.START_TO_START,We,c)===0&&ni(We.END_TO_END,We,c)===0?We=f:(c=null,f=null)),We},vt=function($n,We){var bo;if(AF($n)){var ni=LT($n)?$n:null;if(ni){f=null;try{ni.select()}catch{}return}var Vo=pt(),_i=u.fire("SetSelectionRange",{range:$n,forward:We});if($n=_i.range,Vo){f=$n;try{Vo.removeAllRanges(),Vo.addRange($n)}catch{}We===!1&&Vo.extend&&(Vo.collapse($n.endContainer,$n.endOffset),Vo.extend($n.startContainer,$n.startOffset)),c=Vo.rangeCount>0?Vo.getRangeAt(0):null}!$n.collapsed&&$n.startContainer===$n.endContainer&&Vo.setBaseAndExtent&&!Ue.ie&&$n.endOffset-$n.startOffset<2&&$n.startContainer.hasChildNodes()&&(bo=$n.startContainer.childNodes[$n.startOffset],bo&&bo.tagName==="IMG"&&(Vo.setBaseAndExtent($n.startContainer,$n.startOffset,$n.endContainer,$n.endOffset),(Vo.anchorNode!==$n.startContainer||Vo.focusNode!==$n.endContainer)&&Vo.setBaseAndExtent(bo,0,bo,1))),u.fire("AfterSetSelectionRange",{range:$n,forward:We})}},Tt=function($n){return A(t.getOuterHTML($n)),$n},Ut=function(){return Qk(u.getBody(),mt())},On=function($n,We){return fx(t,mt(),$n,We)},te=function(){var $n=pt(),We=$n==null?void 0:$n.anchorNode,bo=$n==null?void 0:$n.focusNode;if(!$n||!We||!bo||yc(We)||yc(bo))return!0;var ni=t.createRng();ni.setStart(We,$n.anchorOffset),ni.collapse(!0);var Vo=t.createRng();return Vo.setStart(bo,$n.focusOffset),Vo.collapse(!0),ni.compareBoundaryPoints(ni.START_TO_START,Vo)<=0},se=function(){var $n=mt(),We=pt();if(!bk(We)&&Fv(u)){var bo=Rp(t,$n);return bo.each(function(ni){vt(ni,te())}),bo.getOr($n)}return $n},Ge=function($n,We){return p($n,We),ie},nr=function(){for(var $n,We=t.getRoot();We&&We.nodeName!=="BODY";){if(We.scrollHeight>We.clientHeight){$n=We;break}We=We.parentNode}return $n},Ln=function($n,We){return qw(u,$n,We)},Tr=function($n,We){return vt(Wd($n,We,u.getDoc()))},Ce=function(){var $n=mt();return $n.collapsed?wn.fromRangeStart($n).getClientRects()[0]:$n.getBoundingClientRect()},Je=function(){e=c=f=null,je.destroy()},ie={bookmarkManager:null,controlSelection:null,dom:t,win:e,serializer:o,editor:u,collapse:$,setCursorLocation:b,getContent:y,setContent:A,getBookmark:M,moveToBookmark:X,select:J,isCollapsed:Q,isForward:te,setNode:Tt,getNode:Ut,getSel:pt,setRng:vt,getRng:mt,getStart:N,getEnd:B,getSelectedBlocks:On,normalize:se,selectorChanged:Ge,selectorChangedWithUnbind:p,getScrollContainer:nr,scrollIntoView:Ln,placeCaretAt:Tr,getBoundingClientRect:Ce,destroy:Je},Te=zp(ie),je=zl(ie,u);return ie.bookmarkManager=Te,ie.controlSelection=je,ie},TF=function(t,e){yt(e,function(o){t.attr(o,null)})},OF=function(t,e,o){t.addNodeFilter("font",function(u){yt(u,function(c){var f=e.parse(c.attr("style")),p=c.attr("color"),b=c.attr("face"),y=c.attr("size");p&&(f.color=p),b&&(f["font-family"]=b),y&&(f["font-size"]=o[parseInt(c.attr("size"),10)-1]),c.name="span",c.attr("style",e.serialize(f)),TF(c,["color","face","size"])})})},DF=function(t,e){t.addNodeFilter("strike",function(o){yt(o,function(u){var c=e.parse(u.attr("style"));c["text-decoration"]="line-through",u.name="span",u.attr("style",e.serialize(c))})})},_F=function(t,e){var o=Mm();e.convert_fonts_to_spans&&OF(t,o,hn.explode(e.font_size_legacy_values)),DF(t,o)},FF=function(t,e){e.inline_styles&&_F(t,e)},BF=function(t){return new Ri(function(e,o){var u=function(){o("Cannot convert "+t+" to Blob. Resource might not exist or is inaccessible.")};try{var c=new XMLHttpRequest;c.open("GET",t,!0),c.responseType="blob",c.onload=function(){c.status===200?e(c.response):u()},c.onerror=u,c.send()}catch{u()}})},l3=function(t){var e,o=decodeURIComponent(t).split(","),u=/data:([^;]+)/.exec(o[0]);return u&&(e=u[1]),{type:e,data:o[1]}},VT=function(t,e){var o;try{o=atob(e)}catch{return I.none()}for(var u=new Uint8Array(o.length),c=0;c<u.length;c++)u[c]=o.charCodeAt(c);return I.some(new Blob([u],{type:t}))},NF=function(t){return new Ri(function(e){var o=l3(t),u=o.type,c=o.data;VT(u,c).fold(function(){return e(new Blob([]))},e)})},f3=function(t){return t.indexOf("blob:")===0?BF(t):t.indexOf("data:")===0?NF(t):null},zF=function(t){return new Ri(function(e){var o=new FileReader;o.onloadend=function(){e(o.result)},o.readAsDataURL(t)})},MF=0,d3=function(t){return(t||"blobid")+MF++},RF=function(t,e,o,u){var c,f;if(e.src.indexOf("blob:")===0){f=t.getByUri(e.src),f?o({image:e,blobInfo:f}):f3(e.src).then(function(A){zF(A).then(function(N){c=l3(N).data,f=t.create(d3(),A,c),t.add(f),o({image:e,blobInfo:f})})},function(A){u(A)});return}var p=l3(e.src),b=p.data,y=p.type;c=b,f=t.getByData(c,y),f?o({image:e,blobInfo:f}):f3(e.src).then(function(A){f=t.create(d3(),A,c),t.add(f),o({image:e,blobInfo:f})},function(A){u(A)})},PF=function(t){return t?ur(t.getElementsByTagName("img")):[]},Cy=function(t,e){var o={},u=function(c,f){f||(f=ue);var p=An(PF(c),function(y){var A=y.src;return!Ue.fileApi||y.hasAttribute("data-mce-bogus")||y.hasAttribute("data-mce-placeholder")||!A||A===Ue.transparentSrc?!1:A.indexOf("blob:")===0?!t.isUploaded(A)&&f(y):A.indexOf("data:")===0?f(y):!1}),b=Et(p,function(y){if(o[y.src]!==void 0)return new Ri(function(N){o[y.src].then(function(B){if(typeof B=="string")return B;N({image:y,blobInfo:B.blobInfo})})});var A=new Ri(function(N,B){RF(e,y,N,B)}).then(function(N){return delete o[N.image.src],N}).catch(function(N){return delete o[y.src],N});return o[y.src]=A,A});return Ri.all(b)};return{findAll:u}},UT=function(t,e,o,u){var c=t.padd_empty_with_br||e.insert;c&&o[u.name]?u.empty().append(new es("br",1)).shortEnded=!0:u.empty().append(new es("#text",3)).value=uu},LF=function(t){return m3(t,"#text")&&t.firstChild.value===uu},m3=function(t,e){return t&&t.firstChild&&t.firstChild===t.lastChild&&t.firstChild.name===e},jT=function(t,e){var o=t.getElementRule(e.name);return o&&o.paddEmpty},Sy=function(t,e,o,u){return u.isEmpty(e,o,function(c){return jT(t,c)})},IF=function(t,e){return t&&(e[t.name]||t.name==="br")},HF=function(t){return t.attr("data-mce-bogus")},qT=function(t){return t.attr("src")===Ue.transparentSrc||t.attr("data-mce-placeholder")},nl=function(t,e){if(e.images_dataimg_filter){var o=new Image;return o.src=t.attr("src"),Or(t.attributes.map,function(u,c){o.setAttribute(c,u)}),e.images_dataimg_filter(o)}else return!0},Wx=function(t,e){var o=e.blob_cache,u=function(c){var f=c.attr("src");qT(c)||HF(c)||oy(f).filter(function(){return nl(c,e)}).bind(function(p){var b=p.type,y=p.data;return I.from(o.getByData(y,b)).orThunk(function(){return VT(b,y).map(function(A){var N=o.create(d3(),A,y);return o.add(N),N})})}).each(function(p){c.attr("src",p.blobUri())})};o&&t.addAttributeFilter("src",function(c){return yt(c,u)})},WT=function(t,e){var o=t.schema;e.remove_trailing_brs&&t.addNodeFilter("br",function(u,c,f){var p,b=u.length,y,A=hn.extend({},o.getBlockElements()),N=o.getNonEmptyElements(),B,M,X,J,Q=o.getWhiteSpaceElements(),$,pt;for(A.body=1,p=0;p<b;p++)if(y=u[p],B=y.parent,A[y.parent.name]&&y===B.lastChild){for(X=y.prev;X;){if(J=X.name,J!=="span"||X.attr("data-mce-type")!=="bookmark"){J==="br"&&(y=null);break}X=X.prev}y&&(y.remove(),Sy(o,N,Q,B)&&($=o.getElementRule(B.name),$&&($.removeEmpty?B.remove():$.paddEmpty&&UT(e,f,A,B))))}else{for(M=y;B&&B.firstChild===M&&B.lastChild===M&&(M=B,!A[B.name]);)B=B.parent;M===B&&e.padd_empty_with_br!==!0&&(pt=new es("#text",3),pt.value=uu,y.replace(pt))}}),t.addAttributeFilter("href",function(u){var c=u.length,f=function(y){var A=y.split(" ").filter(function(N){return N.length>0});return A.concat(["noopener"]).sort().join(" ")},p=function(y){var A=y?hn.trim(y):"";return/\b(noopener)\b/g.test(A)?A:f(A)};if(!e.allow_unsafe_link_target)for(;c--;){var b=u[c];b.name==="a"&&b.attr("target")==="_blank"&&b.attr("rel",p(b.attr("rel")))}}),e.allow_html_in_named_anchor||t.addAttributeFilter("id,name",function(u){for(var c=u.length,f,p,b,y;c--;)if(y=u[c],y.name==="a"&&y.firstChild&&!y.attr("href")){b=y.parent,f=y.lastChild;do p=f.prev,b.insert(f,y),f=p;while(f)}}),e.fix_list_elements&&t.addNodeFilter("ul,ol",function(u){for(var c=u.length,f,p;c--;)if(f=u[c],p=f.parent,p.name==="ul"||p.name==="ol")if(f.prev&&f.prev.name==="li")f.prev.append(f);else{var b=new es("li",1);b.attr("style","list-style-type: none"),f.wrap(b)}}),e.validate&&o.getValidClasses()&&t.addAttributeFilter("class",function(u){for(var c=u.length,f,p,b,y,A,N=o.getValidClasses(),B,M;c--;){for(f=u[c],p=f.attr("class").split(" "),A="",b=0;b<p.length;b++)y=p[b],M=!1,B=N["*"],B&&B[y]&&(M=!0),B=N[f.name],!M&&B&&B[y]&&(M=!0),M&&(A&&(A+=" "),A+=y);A.length||(A=null),f.attr("class",A)}}),Wx(t,e)},g0=hn.makeMap,g3=hn.each,p3=hn.explode,VF=hn.extend,Yx=function(t,e){e===void 0&&(e=sf());var o={},u=[],c={},f={};t=t||{},t.validate="validate"in t?t.validate:!0,t.root_name=t.root_name||"body";var p=function(J){var Q,$,pt,mt,vt,Tt,Ut,On,te,se,Ge,nr=g0("tr,td,th,tbody,thead,tfoot,table"),Ln=e.getNonEmptyElements(),Tr=e.getWhiteSpaceElements(),Ce=e.getTextBlockElements(),Je=e.getSpecialElements();for(Q=0;Q<J.length;Q++)if($=J[Q],!(!$.parent||$.fixed)){if(Ce[$.name]&&$.parent.name==="li"){for(se=$.next;se&&Ce[se.name];)se.name="li",se.fixed=!0,$.parent.insert(se,$.parent),se=se.next;$.unwrap($);continue}for(mt=[$],pt=$.parent;pt&&!e.isValidChild(pt.name,$.name)&&!nr[pt.name];pt=pt.parent)mt.push(pt);if(pt&&mt.length>1){for(mt.reverse(),vt=Tt=b(mt[0].clone()),te=0;te<mt.length-1;te++){for(e.isValidChild(Tt.name,mt[te].name)?(Ut=b(mt[te].clone()),Tt.append(Ut)):Ut=Tt,On=mt[te].firstChild;On&&On!==mt[te+1];)Ge=On.next,Ut.append(On),On=Ge;Tt=Ut}Sy(e,Ln,Tr,vt)?pt.insert($,mt[0],!0):(pt.insert(vt,mt[0],!0),pt.insert($,vt)),pt=mt[0],(Sy(e,Ln,Tr,pt)||m3(pt,"br"))&&pt.empty().remove()}else if($.parent){if($.name==="li"){if(se=$.prev,se&&(se.name==="ul"||se.name==="ol")){se.append($);continue}if(se=$.next,se&&(se.name==="ul"||se.name==="ol")){se.insert($,se.firstChild,!0);continue}$.wrap(b(new es("ul",1)));continue}e.isValidChild($.parent.name,"div")&&e.isValidChild("div",$.name)?$.wrap(b(new es("div",1))):Je[$.name]?$.empty().remove():$.unwrap()}}},b=function(J){var Q,$,pt;for($=J.name,($ in o)&&(pt=c[$],pt?pt.push(J):c[$]=[J]),Q=u.length;Q--;)$=u[Q].name,$ in J.attributes.map&&(pt=f[$],pt?pt.push(J):f[$]=[J]);return J},y=function(J,Q){g3(p3(J),function($){var pt=o[$];pt||(o[$]=pt=[]),pt.push(Q)})},A=function(){var J=[];for(var Q in o)o.hasOwnProperty(Q)&&J.push({name:Q,callbacks:o[Q]});return J},N=function(J,Q){g3(p3(J),function($){var pt;for(pt=0;pt<u.length;pt++)if(u[pt].name===$){u[pt].callbacks.push(Q);return}u.push({name:$,callbacks:[Q]})})},B=function(){return[].concat(u)},M=function(J,Q){var $,pt,mt,vt,Tt,Ut,On,te=[],se,Ge,nr=function(pe){return pe===!1?"":pe===!0?"p":pe};Q=Q||{},c={},f={};var Ln=VF(g0("script,style,head,html,body,title,meta,param"),e.getBlockElements()),Tr=e.getNonEmptyElements(),Ce=e.children,Je=t.validate,ie="forced_root_block"in Q?Q.forced_root_block:t.forced_root_block,Te=nr(ie),je=e.getWhiteSpaceElements(),$n=/^[ \t\r\n]+/,We=/[ \t\r\n]+$/,bo=/[ \t\r\n]+/g,ni=/^[ \t\r\n]+$/;se=je.hasOwnProperty(Q.context)||je.hasOwnProperty(t.root_name);var Vo=function(){var pe=De.firstChild,fn,me,Se=function(Pr){Pr&&(pe=Pr.firstChild,pe&&pe.type===3&&(pe.value=pe.value.replace($n,"")),pe=Pr.lastChild,pe&&pe.type===3&&(pe.value=pe.value.replace(We,"")))};if(e.isValidChild(De.name,Te.toLowerCase())){for(;pe;)fn=pe.next,pe.type===3||pe.type===1&&pe.name!=="p"&&!Ln[pe.name]&&!pe.attr("data-mce-type")?(me||(me=_i(Te,1),me.attr(t.forced_root_block_attrs),De.insert(me,pe)),me.append(pe)):(Se(me),me=null),pe=fn;Se(me)}},_i=function(pe,fn){var me=new es(pe,fn),Se;return pe in o&&(Se=c[pe],Se?Se.push(me):c[pe]=[me]),me},Uu=function(pe){var fn,me,Se,Pr,pr=e.getBlockElements();for(fn=pe.prev;fn&&fn.type===3;){if(Se=fn.value.replace(We,""),Se.length>0){fn.value=Se;return}if(me=fn.next,me){if(me.type===3&&me.value.length){fn=fn.prev;continue}if(!pr[me.name]&&me.name!=="script"&&me.name!=="style"){fn=fn.prev;continue}}Pr=fn.prev,fn.remove(),fn=Pr}},Ye=function(pe){var fn,me={};for(fn in pe)fn!=="li"&&fn!=="p"&&(me[fn]=pe[fn]);return me},Ke=Gp({validate:Je,allow_html_data_urls:t.allow_html_data_urls,allow_svg_data_urls:t.allow_svg_data_urls,allow_script_urls:t.allow_script_urls,allow_conditional_comments:t.allow_conditional_comments,preserve_cdata:t.preserve_cdata,self_closing_elements:Ye(e.getSelfClosingElements()),cdata:function(pe){Ge.append(_i("#cdata",4)).value=pe},text:function(pe,fn){var me;se||(pe=pe.replace(bo," "),IF(Ge.lastChild,Ln)&&(pe=pe.replace($n,""))),pe.length!==0&&(me=_i("#text",3),me.raw=!!fn,Ge.append(me).value=pe)},comment:function(pe){Ge.append(_i("#comment",8)).value=pe},pi:function(pe,fn){Ge.append(_i(pe,7)).value=fn,Uu(Ge)},doctype:function(pe){var fn=Ge.append(_i("#doctype",10));fn.value=pe,Uu(Ge)},start:function(pe,fn,me){var Se,Pr,pr,ei,hu=Je?e.getElementRule(pe):{};if(hu){for(Se=_i(hu.outputName||pe,1),Se.attributes=fn,Se.shortEnded=me,Ge.append(Se),ei=Ce[Ge.name],ei&&Ce[Se.name]&&!ei[Se.name]&&te.push(Se),Pr=u.length;Pr--;)pr=u[Pr].name,pr in fn.map&&(Ut=f[pr],Ut?Ut.push(Se):f[pr]=[Se]);Ln[pe]&&Uu(Se),me||(Ge=Se),!se&&je[pe]&&(se=!0)}},end:function(pe){var fn,me,Se,Pr,pr=Je?e.getElementRule(pe):{};if(pr){if(Ln[pe]&&!se){if(fn=Ge.firstChild,fn&&fn.type===3)if(me=fn.value.replace($n,""),me.length>0)fn.value=me,fn=fn.next;else for(Se=fn.next,fn.remove(),fn=Se;fn&&fn.type===3;)me=fn.value,Se=fn.next,(me.length===0||ni.test(me))&&(fn.remove(),fn=Se),fn=Se;if(fn=Ge.lastChild,fn&&fn.type===3)if(me=fn.value.replace(We,""),me.length>0)fn.value=me,fn=fn.prev;else for(Se=fn.prev,fn.remove(),fn=Se;fn&&fn.type===3;)me=fn.value,Se=fn.prev,(me.length===0||ni.test(me))&&(fn.remove(),fn=Se),fn=Se}if(se&&je[pe]&&(se=!1),pr.removeEmpty&&Sy(e,Tr,je,Ge)){Pr=Ge.parent,Ln[Ge.name]?Ge.empty().remove():Ge.unwrap(),Ge=Pr;return}pr.paddEmpty&&(LF(Ge)||Sy(e,Tr,je,Ge))&&UT(t,Q,Ln,Ge),Ge=Ge.parent}}},e),De=Ge=new es(Q.context||t.root_name,11);if(Ke.parse(J,Q.format),Je&&te.length&&(Q.context?Q.invalid=!0:p(te)),Te&&(De.name==="body"||Q.isRootContent)&&Vo(),!Q.invalid){for(On in c)if(c.hasOwnProperty(On)){for(Ut=o[On],$=c[On],vt=$.length;vt--;)$[vt].parent||$.splice(vt,1);for(pt=0,mt=Ut.length;pt<mt;pt++)Ut[pt]($,On,Q)}for(pt=0,mt=u.length;pt<mt;pt++)if(Ut=u[pt],Ut.name in f){for($=f[Ut.name],vt=$.length;vt--;)$[vt].parent||$.splice(vt,1);for(vt=0,Tt=Ut.callbacks.length;vt<Tt;vt++)Ut.callbacks[vt]($,Ut.name,Q)}}return De},X={schema:e,addAttributeFilter:N,getAttributeFilters:B,addNodeFilter:y,getNodeFilters:A,filterNode:b,parse:M};return WT(X,t),FF(X,t),X},UF=function(t,e,o){t.addAttributeFilter("data-mce-tabindex",function(u,c){for(var f=u.length,p;f--;)p=u[f],p.attr("tabindex",p.attr("data-mce-tabindex")),p.attr(c,null)}),t.addAttributeFilter("src,href,style",function(u,c){for(var f=u.length,p,b,y="data-mce-"+c,A=e.url_converter,N=e.url_converter_scope;f--;)p=u[f],b=p.attr(y),b!==void 0?(p.attr(c,b.length>0?b:null),p.attr(y,null)):(b=p.attr(c),c==="style"?b=o.serializeStyle(o.parseStyle(b),p.name):A&&(b=A.call(N,b,c,p.name)),p.attr(c,b.length>0?b:null))}),t.addAttributeFilter("class",function(u){for(var c=u.length,f,p;c--;)f=u[c],p=f.attr("class"),p&&(p=f.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),f.attr("class",p.length>0?p:null))}),t.addAttributeFilter("data-mce-type",function(u,c,f){for(var p=u.length,b;p--;)if(b=u[p],b.attr("data-mce-type")==="bookmark"&&!f.cleanup){var y=I.from(b.firstChild).exists(function(A){return!Sc(A.value)});y?b.unwrap():b.remove()}}),t.addNodeFilter("noscript",function(u){for(var c=u.length,f;c--;)f=u[c].firstChild,f&&(f.value=Ba.decode(f.value))}),t.addNodeFilter("script,style",function(u,c){for(var f=u.length,p,b,y,A=function(N){return N.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};f--;)p=u[f],b=p.firstChild?p.firstChild.value:"",c==="script"?(y=p.attr("type"),y&&p.attr("type",y==="mce-no/type"?null:y.replace(/^mce\-/,"")),e.element_format==="xhtml"&&b.length>0&&(p.firstChild.value=`// <![CDATA[
`+A(b)+`
// ]]>`)):e.element_format==="xhtml"&&b.length>0&&(p.firstChild.value=`<!--
`+A(b)+`
-->`)}),t.addNodeFilter("#comment",function(u){for(var c=u.length,f;c--;)f=u[c],e.preserve_cdata&&f.value.indexOf("[CDATA[")===0?(f.name="#cdata",f.type=4,f.value=o.decode(f.value.replace(/^\[CDATA\[|\]\]$/g,""))):f.value.indexOf("mce:protected ")===0&&(f.name="#text",f.type=3,f.raw=!0,f.value=unescape(f.value).substr(14))}),t.addNodeFilter("xml:namespace,input",function(u,c){for(var f=u.length,p;f--;)p=u[f],p.type===7?p.remove():p.type===1&&c==="input"&&!p.attr("type")&&p.attr("type","text")}),t.addAttributeFilter("data-mce-type",function(u){yt(u,function(c){c.attr("data-mce-type")==="format-caret"&&(c.isEmpty(t.schema.getNonEmptyElements())?c.remove():c.unwrap())})}),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(u,c){for(var f=u.length;f--;)u[f].attr(c,null)})},jF=function(t){var e=function(c){return c&&c.name==="br"},o=t.lastChild;if(e(o)){var u=o.prev;e(u)&&(o.remove(),u.remove())}},qF=function(t,e,o){var u,c,f=t.dom;e=e.cloneNode(!0);var p=document.implementation;return p.createHTMLDocument&&(u=p.createHTMLDocument(""),hn.each(e.nodeName==="BODY"?e.childNodes:[e],function(b){u.body.appendChild(u.importNode(b,!0))}),e.nodeName!=="BODY"?e=u.body.firstChild:e=u.body,c=f.doc,f.doc=u),Ck(t,Xe(Xe({},o),{node:e})),c&&(f.doc=c),e},YT=function(t,e){return t&&t.hasEventListeners("PreProcess")&&!e.no_events},WF=function(t,e,o){return YT(t,o)?qF(t,e,o):e},YF=function(t,e,o){hn.inArray(e,o)===-1&&(t.addAttributeFilter(o,function(u,c){for(var f=u.length;f--;)u[f].attr(c,null)}),e.push(o))},$F=function(t,e,o){if(!e.no_events&&t){var u=Nv(t,Xe(Xe({},e),{content:o}));return u.content}else return o},XF=function(t,e,o){var u=kc(o.getInner?e.innerHTML:t.getOuterHTML(e));return o.selection||Ja(H.fromDom(e))?u:hn.trim(u)},$T=function(t,e,o){var u=o.selection?Xe({forced_root_block:!1},o):o,c=t.parse(e,u);return jF(c),c},GF=function(t,e,o){var u=em(t,e);return u.serialize(o)},KF=function(t,e,o,u,c){var f=GF(e,o,u);return $F(t,c,f)},ky=function(t,e){var o=["data-mce-selected"],u=e&&e.dom?e.dom:Zo.DOM,c=e&&e.schema?e.schema:sf(t);t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs="remove_trailing_brs"in t?t.remove_trailing_brs:!0;var f=Yx(t,c);UF(f,t,u);var p=function(b,y){y===void 0&&(y={});var A=Xe({format:"html"},y),N=WF(e,b,A),B=XF(u,N,A),M=$T(f,B,A);return A.format==="tree"?M:KF(e,t,c,M,A)};return{schema:c,addNodeFilter:f.addNodeFilter,addAttributeFilter:f.addAttributeFilter,serialize:p,addRules:function(b){c.addValidElements(b)},setRules:function(b){c.setValidElements(b)},addTempAttr:Qt(YF,f,o),getTempAttrs:jt(o),getNodeFilters:f.getNodeFilters,getAttributeFilters:f.getAttributeFilters}},h3=function(t,e){var o=ky(t,e);return{schema:o.schema,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:o.serialize,addRules:o.addRules,setRules:o.setRules,addTempAttr:o.addTempAttr,getTempAttrs:o.getTempAttrs,getNodeFilters:o.getNodeFilters,getAttributeFilters:o.getAttributeFilters}},XT="html",JF=function(t,e){e===void 0&&(e={});var o=e.format?e.format:XT;return xF(t,e,o)},v3=function(t,e,o){return o===void 0&&(o={}),u3(t,e,o)},$x=Zo.DOM,GT=function(t){$x.setStyle(t.id,"display",t.orgDisplay)},Xx=function(t){return I.from(t).each(function(e){return e.destroy()})},ZF=function(t){t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null,t.selection&&(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null)},QF=function(t){var e=t.formElement;e&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,e._mceOldSubmit=null),$x.unbind(e,"submit reset",t.formEventDelegate))},tB=function(t){if(!t.removed){var e=t._selectionOverrides,o=t.editorUpload,u=t.getBody(),c=t.getElement();u&&t.save({is_removing:!0}),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&c&&$x.remove(c.nextSibling),Sk(t),t.editorManager.remove(t),!t.inline&&u&&GT(t),kk(t),$x.remove(t.getContainer()),Xx(e),Xx(o),t.destroy()}},nB=function(t,e){var o=t.selection,u=t.dom;if(!t.destroyed){if(!e&&!t.removed){t.remove();return}e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),Xx(o),Xx(u)),QF(t),ZF(t),t.destroyed=!0}},ca=Object.prototype.hasOwnProperty,KT=function(t,e){var o=kn(t)&&kn(e);return o?JT(t,e):e},eB=function(t){return function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];if(e.length===0)throw new Error("Can't merge zero objects");for(var u={},c=0;c<e.length;c++){var f=e[c];for(var p in f)ca.call(f,p)&&(u[p]=t(u[p],f[p]))}return u}},JT=eB(KT),rB=function(t,e){return{sections:jt(t),settings:jt(e)}},b3=lo().deviceType,ko=b3.isTouch(),ZT=b3.isPhone(),oB=b3.isTablet(),iB=["lists","autolink","autosave"],Di={table_grid:!1,object_resizing:!1,resize:!1},Ey=function(t){var e=bn(t)?t.join(" "):t,o=Et($e(e)?e.split(" "):[],Z);return An(o,function(u){return u.length>0})},Ay=function(t){return An(t,Qt(Wt,iB))},uB=function(t,e){var o=Pe(e,function(u,c){return Wt(t,c)});return rB(o.t,o.f)},aB=function(t,e,o){o===void 0&&(o={});var u=t.sections(),c=u.hasOwnProperty(e)?u[e]:{};return hn.extend({},o,c)},Gx=function(t,e){return t.sections().hasOwnProperty(e)},QT=function(t,e,o){var u=t.sections();return Gx(t,e)&&u[e].theme===o},xg=function(t,e){return Gx(t,e)?t.sections()[e]:{}},Mc=function(t,e){return zr(t,"toolbar_mode").orThunk(function(){return zr(t,"toolbar_drawer").map(function(o){return o===!1?"wrap":o})}).getOr(e)},Ty=function(t,e,o,u,c){var f={id:e,theme:"silver",toolbar_mode:Mc(t,"floating"),plugins:"",document_base_url:o,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:c.convertURL,url_converter_scope:c};return Xe(Xe({},f),u?Di:{})},uh=function(t,e){var o={resize:!1,toolbar_mode:Mc(t,"scrolling"),toolbar_sticky:!1},u={menubar:!1};return Xe(Xe(Xe({},Di),o),e?u:{})},Vf=function(t,e){var o=e.external_plugins?e.external_plugins:{};return t&&t.external_plugins?hn.extend({},t.external_plugins,o):o},Oy=function(t,e){return[].concat(Ey(t)).concat(Ey(e))},y3=function(t,e,o,u){return t&&QT(e,"mobile","mobile")?Ay(u):t&&Gx(e,"mobile")?u:o},w3=function(t,e,o,u){var c=Ey(o.forced_plugins),f=Ey(u.plugins),p=xg(e,"mobile"),b=p.plugins?Ey(p.plugins):f,y=y3(t,e,f,b),A=Oy(c,y);if(Ue.browser.isIE()&&Wt(A,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return hn.extend(u,{plugins:A.join(" ")})},tO=function(t,e){return t&&Gx(e,"mobile")},nO=function(t,e,o,u,c){var f=t?{mobile:uh(c.mobile||{},e)}:{},p=uB(["mobile"],JT(f,c)),b=hn.extend(o,u,p.settings(),tO(t,p)?aB(p,"mobile"):{},{validate:!0,external_plugins:Vf(u,p.settings())});return w3(t,p,u,b)},cB=function(t,e,o,u,c){var f=Ty(c,e,o,ko,t);return nO(ZT||oB,ZT,f,u,c)},Cg=function(t,e,o){return I.from(e.settings[o]).filter(t)},eO=function(t){var e={};return typeof t=="string"?yt(t.indexOf("=")>0?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(","),function(o){var u=o.split("=");u.length>1?e[hn.trim(u[0])]=hn.trim(u[1]):e[hn.trim(u[0])]=hn.trim(u[0])}):e=t,e},sB=function(t){return function(e){return bn(e)&&ee(e,t)}},rO=function(t,e,o,u){var c=e in t.settings?t.settings[e]:o;return u==="hash"?eO(c):u==="string"?Cg($e,t,e).getOr(o):u==="number"?Cg(Xn,t,e).getOr(o):u==="boolean"?Cg(Kr,t,e).getOr(o):u==="object"?Cg(kn,t,e).getOr(o):u==="array"?Cg(bn,t,e).getOr(o):u==="string[]"?Cg(sB($e),t,e).getOr(o):u==="function"?Cg(Tn,t,e).getOr(o):c},lB=function(){var t={},e=function(c,f){t[c]=f},o=function(c){return t[c]?t[c]:{icons:{}}},u=function(c){return Er(t,c)};return{add:e,get:o,has:u}},Sg=lB(),x3=function(t,e){var o=e.dom;return o[t]},C3=function(t,e){return parseInt(bl(e,t),10)},oO=Qt(x3,"clientWidth"),S3=Qt(x3,"clientHeight"),fB=Qt(C3,"margin-top"),dB=Qt(C3,"margin-left"),mB=function(t){return t.dom.getBoundingClientRect()},p0=function(t,e,o){var u=oO(t),c=S3(t);return e>=0&&o>=0&&e<=u&&o<=c},gB=function(t,e,o,u){var c=mB(e),f=t?c.left+e.dom.clientLeft+dB(e):0,p=t?c.top+e.dom.clientTop+fB(e):0,b=o-f,y=u-p;return{x:b,y}},iO=function(t,e,o){var u=H.fromDom(t.getBody()),c=t.inline?u:ri(u),f=gB(t.inline,c,e,o);return p0(c,f.x,f.y)},Qu=function(t){return I.from(t).map(H.fromDom)},pB=function(t){var e=t.inline?t.getBody():t.getContentAreaContainer();return Qu(e).map(gl).getOr(!1)},uO=function(){var t=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:t,close:t,reposition:t,getArgs:t}},k3=function(t){var e=[],o=function(){var M=t.theme;return M&&M.getNotificationManagerImpl?M.getNotificationManagerImpl():uO()},u=function(){return I.from(e[0])},c=function(M,X){return M.type===X.type&&M.text===X.text&&!M.progressBar&&!M.timeout&&!X.progressBar&&!X.timeout},f=function(){e.length>0&&o().reposition(e)},p=function(M){e.push(M)},b=function(M){yo(e,function(X){return X===M}).each(function(X){e.splice(X,1)})},y=function(M,X){if(X===void 0&&(X=!0),!(t.removed||!pB(t)))return X&&t.fire("BeforeOpenNotification",{notification:M}),Lr(e,function(J){return c(o().getArgs(J),M)}).getOrThunk(function(){t.editorManager.setActive(t);var J=o().open(M,function(){b(J),f(),u().fold(function(){return t.focus()},function(Q){return Ub(H.fromDom(Q.getEl()))})});return p(J),f(),t.fire("OpenNotification",Xe({},J)),J})},A=function(){u().each(function(M){o().close(M),b(M),f()})},N=function(){return e},B=function(M){M.on("SkinLoaded",function(){var X=aw(M);X&&y({text:X,type:"warning",timeout:0},!1)}),M.on("ResizeEditor ResizeWindow NodeChange",function(){Hr.requestAnimationFrame(f)}),M.on("remove",function(){yt(e.slice(),function(X){o().close(X)})})};return B(t),{open:y,close:A,getNotifications:N}},el=ba.PluginManager,cm=ba.ThemeManager;function E3(){var t=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:t,openUrl:t,alert:t,confirm:t,close:t,getParams:t,setParams:t}}var aO=function(t){var e=[],o=function(){var Q=t.theme;return Q&&Q.getWindowManagerImpl?Q.getWindowManagerImpl():E3()},u=function(Q,$){return function(){for(var pt=[],mt=0;mt<arguments.length;mt++)pt[mt]=arguments[mt];return $?$.apply(Q,pt):void 0}},c=function(Q){t.fire("OpenWindow",{dialog:Q})},f=function(Q){t.fire("CloseWindow",{dialog:Q})},p=function(Q){e.push(Q),c(Q)},b=function(Q){f(Q),e=An(e,function($){return $!==Q}),e.length===0&&t.focus()},y=function(){return I.from(e[e.length-1])},A=function(Q){t.editorManager.setActive(t),Yp(t);var $=Q();return p($),$},N=function(Q,$){return A(function(){return o().open(Q,$,b)})},B=function(Q){return A(function(){return o().openUrl(Q,b)})},M=function(Q,$,pt){var mt=o();mt.alert(Q,u(pt||mt,$))},X=function(Q,$,pt){var mt=o();mt.confirm(Q,u(pt||mt,$))},J=function(){y().each(function(Q){o().close(Q),b(Q)})};return t.on("remove",function(){yt(e,function(Q){o().close(Q)})}),{open:N,openUrl:B,alert:M,confirm:X,close:J}},cO=function(t,e){t.notificationManager.open({type:"error",text:e})},Kx=function(t,e){t._skinLoaded?cO(t,e):t.on("SkinLoaded",function(){cO(t,e)})},hB=function(t,e){Kx(t,Fc.translate(["Failed to upload image: {0}",e]))},A3=function(t,e,o){Iw(t,e,{message:o}),console.error(o)},rl=function(t,e,o){return o?"Failed to load "+t+": "+o+" from url "+e:"Failed to load "+t+" url: "+e},T3=function(t,e,o){A3(t,"PluginLoadError",rl("plugin",e,o))},vB=function(t,e,o){A3(t,"IconsLoadError",rl("icons",e,o))},bB=function(t,e,o){A3(t,"LanguageLoadError",rl("language",e,o))},yB=function(t,e,o){var u=Fc.translate(["Failed to initialize plugin: {0}",e]);Iw(t,"PluginLoadError",{message:u}),Jx(u,o),Kx(t,u)},Jx=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];var u=window.console;u&&(u.error?u.error.apply(u,gi([t],e)):u.log.apply(u,gi([t],e)))},Ii=function(t){return/^[a-z0-9\-]+$/i.test(t)},sO=function(t){return ol(t,tw(t))},lO=function(t){return ol(t,nb(t))},ol=function(t,e){var o=t.editorManager.baseURL+"/skins/content",u=t.editorManager.suffix,c="content"+u+".css",f=t.inline===!0;return Et(e,function(p){return Ii(p)&&!f?o+"/"+p+"/"+c:t.documentBaseURI.toAbsolute(p)})},fO=function(t){t.contentCSS=t.contentCSS.concat(sO(t),lO(t))},dO=function(){var t=1,e=2,o={},u=function(M,X){return{status:M,resultUri:X}},c=function(M){return M in o},f=function(M){var X=o[M];return X?X.resultUri:null},p=function(M){return c(M)?o[M].status===t:!1},b=function(M){return c(M)?o[M].status===e:!1},y=function(M){o[M]=u(t,null)},A=function(M,X){o[M]=u(e,X)},N=function(M){delete o[M]},B=function(){o={}};return{hasBlobUri:c,getResultUri:f,isPending:p,isUploaded:b,markPending:y,markUploaded:A,removeFailed:N,destroy:B}},wB=0,O3=function(){var t=function(){return Math.round(Math.random()*4294967295).toString(36)},e=new Date().getTime();return"s"+e.toString(36)+t()+t()+t()},mO=function(t){return t+wB+++O3()},h0=function(){var t=[],e=function(B){var M={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return M[B.toLowerCase()]||"dat"},o=function(B,M,X,J,Q){if($e(B)){var $=B;return u({id:$,name:J,filename:Q,blob:M,base64:X})}else{if(kn(B))return u(B);throw new Error("Unknown input type")}},u=function(B){if(!B.blob||!B.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var M=B.id||mO("blobid"),X=B.name||M,J=B.blob;return{id:jt(M),name:jt(X),filename:jt(B.filename||X+"."+e(J.type)),blob:jt(J),base64:jt(B.base64),blobUri:jt(B.blobUri||URL.createObjectURL(J)),uri:jt(B.uri)}},c=function(B){p(B.id())||t.push(B)},f=function(B){return Lr(t,B).getOrUndefined()},p=function(B){return f(function(M){return M.id()===B})},b=function(B){return f(function(M){return M.blobUri()===B})},y=function(B,M){return f(function(X){return X.base64()===B&&X.blob().type===M})},A=function(B){t=An(t,function(M){return M.blobUri()===B?(URL.revokeObjectURL(M.blobUri()),!1):!0})},N=function(){yt(t,function(B){URL.revokeObjectURL(B.blobUri())}),t=[]};return{create:o,add:c,get:p,getByUri:b,getByData:y,findFirst:f,removeByUri:A,destroy:N}},xB=function(t,e){var o={},u=function(J,Q){return J?J.replace(/\/$/,"")+"/"+Q.replace(/^\//,""):Q},c=function(J,Q,$,pt){var mt=new XMLHttpRequest;mt.open("POST",e.url),mt.withCredentials=e.credentials,mt.upload.onprogress=function(Tt){pt(Tt.loaded/Tt.total*100)},mt.onerror=function(){$("Image upload failed due to a XHR Transport error. Code: "+mt.status)},mt.onload=function(){if(mt.status<200||mt.status>=300){$("HTTP Error: "+mt.status);return}var Tt=JSON.parse(mt.responseText);if(!Tt||typeof Tt.location!="string"){$("Invalid JSON: "+mt.responseText);return}Q(u(e.basePath,Tt.location))};var vt=new FormData;vt.append("file",J.blob(),J.filename()),mt.send(vt)},f=function(){return new Ri(function(J){J([])})},p=function(J,Q){return{url:Q,blobInfo:J,status:!0}},b=function(J,Q,$){return{url:"",blobInfo:J,status:!1,error:{message:Q,options:$}}},y=function(J,Q){hn.each(o[J],function($){$(Q)}),delete o[J]},A=function(J,Q,$){return t.markPending(J.blobUri()),new Ri(function(pt){var mt,vt;try{var Tt=function(){mt&&(mt.close(),vt=tt)},Ut=function(te){Tt(),t.markUploaded(J.blobUri(),te),y(J.blobUri(),p(J,te)),pt(p(J,te))},On=function(te,se){var Ge=se||{};Tt(),t.removeFailed(J.blobUri()),y(J.blobUri(),b(J,te,Ge)),pt(b(J,te,Ge))};vt=function(te){te<0||te>100||I.from(mt).orThunk(function(){return I.from($).map(ce)}).each(function(se){mt=se,se.progressBar.value(te)})},Q(J,Ut,On,vt)}catch(te){pt(b(J,te.message,{}))}})},N=function(J){return J===c},B=function(J){var Q=J.blobUri();return new Ri(function($){o[Q]=o[Q]||[],o[Q].push($)})},M=function(J,Q){return J=hn.grep(J,function($){return!t.isUploaded($.blobUri())}),Ri.all(hn.map(J,function($){return t.isPending($.blobUri())?B($):A($,e.handler,Q)}))},X=function(J,Q){return!e.url&&N(e.handler)?f():M(J,Q)};return Tn(e.handler)===!1&&(e.handler=c),{upload:X}},D3=function(t){return function(){return t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},_3=function(t,e){return xB(e,{url:Z2(t),basePath:Q1(t),credentials:yp(t),handler:US(t)})},F3=function(t){var e=dO(),o=_3(t,e);return{upload:function(u,c){return c===void 0&&(c=!0),o.upload(u,c?D3(t):void 0)}}},gO=function(t){var e=Io(null);t.on("change AddUndo",function(u){e.set(Xe({},u.level))});var o=function(){var u=t.undoManager.data;Ee(u).filter(function(c){return!wy(e.get(),c)}).each(function(c){t.setDirty(!0),t.fire("change",{level:c,lastLevel:zn(u,u.length-2).getOrNull()})})};return{fireIfChanged:o}},B3=function(t){var e=h0(),o,u,c=dO(),f=[],p=gO(t),b=function(Tt){return function(Ut){return t.selection?Tt(Ut):[]}},y=function(Tt){return Tt+(Tt.indexOf("?")===-1?"?":"&")+new Date().getTime()},A=function(Tt,Ut,On){var te=0;do te=Tt.indexOf(Ut,te),te!==-1&&(Tt=Tt.substring(0,te)+On+Tt.substr(te+Ut.length),te+=On.length-Ut.length+1);while(te!==-1);return Tt},N=function(Tt,Ut,On){var te='src="'+On+'"'+(On===Ue.transparentSrc?' data-mce-placeholder="1"':"");return Tt=A(Tt,'src="'+Ut+'"',te),Tt=A(Tt,'data-mce-src="'+Ut+'"','data-mce-src="'+On+'"'),Tt},B=function(Tt,Ut){yt(t.undoManager.data,function(On){On.type==="fragmented"?On.fragments=Et(On.fragments,function(te){return N(te,Tt,Ut)}):On.content=N(On.content,Tt,Ut)})},M=function(Tt,Ut){var On=t.convertURL(Ut,"src");B(Tt.src,Ut),t.$(Tt).attr({src:VS(t)?y(Ut):Ut,"data-mce-src":On})},X=function(Tt){return o||(o=_3(t,c)),pt().then(b(function(Ut){var On=Et(Ut,function(te){return te.blobInfo});return o.upload(On,D3(t)).then(b(function(te){var se=[],Ge=Et(te,function(nr,Ln){var Tr=Ut[Ln].blobInfo,Ce=Ut[Ln].image;return nr.status&&G2(t)?(e.removeByUri(Ce.src),M(Ce,nr.url)):nr.error&&(nr.error.options.remove&&(B(Ce.getAttribute("src"),Ue.transparentSrc),se.push(Ce)),hB(t,nr.error.message)),{element:Ce,status:nr.status,uploadUri:nr.url,blobInfo:Tr}});return Ge.length>0&&p.fireIfChanged(),se.length>0&&(Ux(t)?console.error("Removing images on failed uploads is currently unsupported for RTC"):t.undoManager.transact(function(){yt(se,function(nr){t.dom.remove(nr),e.removeByUri(nr.src)})})),Tt&&Tt(Ge),Ge}))}))},J=function(Tt){if(Zm(t))return X(Tt)},Q=function(Tt){if(ee(f,function(On){return On(Tt)})===!1)return!1;if(Tt.getAttribute("src").indexOf("data:")===0){var Ut=_l(t);return Ut(Tt)}return!0},$=function(Tt){f.push(Tt)},pt=function(){return u||(u=Cy(c,e)),u.findAll(t.getBody(),Q).then(b(function(Tt){return Tt=An(Tt,function(Ut){return typeof Ut=="string"?(Kx(t,Ut),!1):!0}),yt(Tt,function(Ut){B(Ut.image.src,Ut.blobInfo.blobUri()),Ut.image.src=Ut.blobInfo.blobUri(),Ut.image.removeAttribute("data-mce-src")}),Tt}))},mt=function(){e.destroy(),c.destroy(),u=o=null},vt=function(Tt){return Tt.replace(/src="(blob:[^"]+)"/g,function(Ut,On){var te=c.getResultUri(On);if(te)return'src="'+te+'"';var se=e.getByUri(On);if(se||(se=ze(t.editorManager.get(),function(nr,Ln){return nr||Ln.editorUpload&&Ln.editorUpload.blobCache.getByUri(On)},null)),se){var Ge=se.blob();return'src="data:'+Ge.type+";base64,"+se.base64()+'"'}return Ut})};return t.on("SetContent",function(){Zm(t)?J():pt()}),t.on("RawSaveContent",function(Tt){Tt.content=vt(Tt.content)}),t.on("GetContent",function(Tt){Tt.source_view||Tt.format==="raw"||Tt.format==="tree"||(Tt.content=vt(Tt.content))}),t.on("PostRender",function(){t.parser.addNodeFilter("img",function(Tt){yt(Tt,function(Ut){var On=Ut.attr("src");if(!e.getByUri(On)){var te=c.getResultUri(On);te&&Ut.attr("src",te)}})})}),{blobCache:e,addFilter:$,uploadImages:X,uploadImagesAuto:J,scanForImages:pt,destroy:mt}},CB=function(t){var e={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(o,u,c){return Vr(o)&&o.hasAttribute("href")},onformat:function(o,u,c){hn.each(c,function(f,p){t.setAttrib(o,p,f)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return hn.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(o){e[o]={block:o,remove:"all"}}),e},SB=function(t){var e={},o=function(p){return p?e[p]:e},u=function(p){return Er(e,p)},c=function(p,b){p&&(typeof p!="string"?hn.each(p,function(y,A){c(A,y)}):(bn(b)||(b=[b]),hn.each(b,function(y){typeof y.deep=="undefined"&&(y.deep=!y.selector),typeof y.split=="undefined"&&(y.split=!y.selector||y.inline),typeof y.remove=="undefined"&&y.selector&&!y.inline&&(y.remove="none"),y.selector&&y.inline&&(y.mixed=!0,y.block_expand=!0),typeof y.classes=="string"&&(y.classes=y.classes.split(/\s+/))}),e[p]=b))},f=function(p){return p&&e[p]&&delete e[p],e};return c(CB(t.dom)),c(tg(t)),{get:o,has:u,register:c,unregister:f}},Zx=hn.each,ki=Zo.DOM,pO=function(t,e){var o,u,c,f=e&&e.schema||sf({}),p=function(N,B){B.classes.length&&ki.addClass(N,B.classes.join(" ")),ki.setAttribs(N,B.attrs)},b=function(N){u=typeof N=="string"?{name:N,classes:[],attrs:{}}:N;var B=ki.create(u.name);return p(B,u),B},y=function(N,B){var M=typeof N!="string"?N.nodeName.toLowerCase():N,X=f.getElementRule(M),J=X&&X.parentsRequired;return J&&J.length?B&&hn.inArray(J,B)!==-1?B:J[0]:!1},A=function(N,B,M){var X,J,Q=B.length>0&&B[0],$=Q&&Q.name,pt=y(N,$);if(pt)$===pt?(J=B[0],B=B.slice(1)):J=pt;else if(Q)J=B[0],B=B.slice(1);else if(!M)return N;return J&&(X=b(J),X.appendChild(N)),M&&(X||(X=ki.create("div"),X.appendChild(N)),hn.each(M,function(mt){var vt=b(mt);X.insertBefore(vt,N)})),A(X,B,J&&J.siblings)};return t&&t.length?(u=t[0],o=b(u),c=ki.create("div"),c.appendChild(A(o,t.slice(1),u.siblings)),c):""},kB=function(t){var e,o={classes:[],attrs:{}};return t=o.selector=hn.trim(t),t!=="*"&&(e=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(u,c,f,p,b){switch(c){case"#":o.attrs.id=f;break;case".":o.classes.push(f);break;case":":hn.inArray("checked disabled enabled read-only required".split(" "),f)!==-1&&(o.attrs[f]=f);break}if(p==="["){var y=b.match(/([\w\-]+)(?:\=\"([^\"]+))?/);y&&(o.attrs[y[1]]=y[2])}return""})),o.name=e||"div",o},EB=function(t){return!t||typeof t!="string"?[]:(t=t.split(/\s*,\s*/)[0],t=t.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),hn.map(t.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var o=hn.map(e.split(/(?:~\+|~|\+)/),kB),u=o.pop();return o.length&&(u.siblings=o),u}).reverse())},Dy=function(t,e){var o,u,c="",f,p=YS(t);if(p==="")return"";var b=function(B){return B.replace(/%(\w+)/g,"")};if(typeof e=="string"){if(e=t.formatter.get(e),!e)return;e=e[0]}if("preview"in e){var y=zr(e,"preview");if(y.is(!1))return"";p=y.getOr(p)}o=e.block||e.inline||"span";var A=EB(e.selector);A.length?(A[0].name||(A[0].name=o),o=e.selector,u=pO(A,t)):u=pO([o],t);var N=ki.select(o,u)[0]||u.firstChild;return Zx(e.styles,function(B,M){var X=b(B);X&&ki.setStyle(N,M,X)}),Zx(e.attributes,function(B,M){var X=b(B);X&&ki.setAttrib(N,M,X)}),Zx(e.classes,function(B){var M=b(B);ki.hasClass(N,M)||ki.addClass(N,M)}),t.fire("PreviewFormats"),ki.setStyles(u,{position:"absolute",left:-65535}),t.getBody().appendChild(u),f=ki.getStyle(t.getBody(),"fontSize",!0),f=/px$/.test(f)?parseInt(f,10):0,Zx(p.split(" "),function(B){var M=ki.getStyle(N,B,!0);if(!(B==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(M)&&(M=ki.getStyle(t.getBody(),B,!0),ki.toHex(M).toLowerCase()==="#ffffff"))&&!(B==="color"&&ki.toHex(M).toLowerCase()==="#000000")){if(B==="font-size"&&/em|%$/.test(M)){if(f===0)return;var X=parseFloat(M)/(/%$/.test(M)?100:1);M=X*f+"px"}B==="border"&&M&&(c+="padding:0 2px;"),c+=B+":"+M+";"}}),t.fire("AfterPreviewFormats"),ki.remove(u),c},AB=function(t){t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(var e=1;e<=6;e++)t.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])},N3=function(t){var e=SB(t),o=Io(null);return AB(t),A6(t),{get:e.get,has:e.has,register:e.register,unregister:e.unregister,apply:function(u,c,f){bF(t,u,c,f)},remove:function(u,c,f,p){yF(t,u,c,f,p)},toggle:function(u,c,f){wF(t,u,c,f)},match:function(u,c,f){return i3(t,u,c,f)},closest:function(u){return vF(t,u)},matchAll:function(u,c){return pF(t,u,c)},matchNode:function(u,c,f,p){return DT(t,u,c,f,p)},canApply:function(u){return hF(t,u)},formatChanged:function(u,c,f){return _T(t,o,u,c,f)},getCssText:Qt(Dy,t)}},hO=function(t,e,o){var u=Io(!1),c=function(y){Ix(e,!1,o),e.add({},y)};t.on("init",function(){e.add()}),t.on("BeforeExecCommand",function(y){var A=y.command.toLowerCase();A!=="undo"&&A!=="redo"&&A!=="mcerepaint"&&(wT(e,o),e.beforeChange())}),t.on("ExecCommand",function(y){var A=y.command.toLowerCase();A!=="undo"&&A!=="redo"&&A!=="mcerepaint"&&c(y)}),t.on("ObjectResizeStart cut",function(){e.beforeChange()}),t.on("SaveContent ObjectResized blur",c),t.on("dragend",c),t.on("keyup",function(y){var A=y.keyCode;y.isDefaultPrevented()||((A>=33&&A<=36||A>=37&&A<=40||A===45||y.ctrlKey)&&(c(),t.nodeChanged()),(A===46||A===8)&&t.nodeChanged(),u.get()&&e.typing&&wy(Lx(t),e.data[0])===!1&&(t.isDirty()===!1&&(t.setDirty(!0),t.fire("change",{level:e.data[0],lastLevel:null})),t.fire("TypingUndo"),u.set(!1),t.nodeChanged()))}),t.on("keydown",function(y){var A=y.keyCode;if(!y.isDefaultPrevented()){if(A>=33&&A<=36||A>=37&&A<=40||A===45){e.typing&&c(y);return}var N=y.ctrlKey&&!y.altKey||y.metaKey;(A<16||A>20)&&A!==224&&A!==91&&!e.typing&&!N&&(e.beforeChange(),Ix(e,!0,o),e.add({},y),u.set(!0))}}),t.on("mousedown",function(y){e.typing&&c(y)});var f=function(y){return y.inputType==="insertReplacementText"},p=function(y){return y.inputType==="insertText"&&y.data===null},b=function(y){return y.inputType==="insertFromPaste"||y.inputType==="insertFromDrop"};t.on("input",function(y){y.inputType&&(f(y)||p(y)||b(y))&&c(y)}),t.on("AddUndo Undo Redo ClearUndos",function(y){y.isDefaultPrevented()||t.nodeChanged()})},vO=function(t){t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo")},bO=function(t){var e=Io(I.none()),o=Io(0),u=Io(0),c={data:[],typing:!1,beforeChange:function(){sF(t,o,e)},add:function(f,p){return jx(t,c,u,o,e,f,p)},undo:function(){return AT(t,c,o,u)},redo:function(){return lF(t,u,c.data)},clear:function(){pu(t,c,u)},reset:function(){fF(t,c)},hasUndo:function(){return TT(t,c,u)},hasRedo:function(){return dF(t,c,u)},transact:function(f){return mF(t,c,o,f)},ignore:function(f){OT(t,o,f)},extra:function(f,p){gF(t,c,u,f,p)}};return Ux(t)||hO(t,c,o),vO(t),c},Qx=[9,27,Be.HOME,Be.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,Be.DOWN,Be.UP,Be.LEFT,Be.RIGHT].concat(Ue.browser.isFirefox()?[224]:[]),yO="data-mce-placeholder",wO=function(t){return t.type==="keydown"||t.type==="keyup"},xO=function(t){var e=t.keyCode;return e===Be.BACKSPACE||e===Be.DELETE},CO=function(t){if(wO(t)){var e=t.keyCode;return!xO(t)&&(Be.metaKeyPressed(t)||t.altKey||e>=112&&e<=123||Wt(Qx,e))}else return!1},SO=function(t){return wO(t)&&!(xO(t)||t.type==="keyup"&&t.keyCode===229)},TB=function(t,e,o){if(Za(H.fromDom(e),!1)){var u=o==="",c=e.firstElementChild;return c?t.getStyle(e.firstElementChild,"padding-left")||t.getStyle(e.firstElementChild,"padding-right")?!1:u?!t.isBlock(c):o===c.nodeName.toLowerCase():!0}else return!1},kg=function(t){var e=t.dom,o=du(t),u=iw(t),c=function(f,p){if(!CO(f)){var b=t.getBody(),y=SO(f)?!1:TB(e,b,o),A=e.getAttrib(b,yO)!=="";(A!==y||p)&&(e.setAttrib(b,yO,y?u:null),e.setAttrib(b,"aria-placeholder",y?u:null),Lw(t,y),t.on(y?"keydown":"keyup",c),t.off(y?"keyup":"keydown",c))}};u&&t.on("init",function(f){c(f,!0),t.on("change SetContent ExecCommand",c),t.on("paste",function(p){return Hr.setEditorTimeout(t,function(){return c(p)})})})},OB=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,DB=function(t){return OB.test(t)},v0=function(t,e){return Du(H.fromDom(e),ew(t))},_B=function(t){return Zo.DOM.getStyle(t,"direction",!0)==="rtl"||DB(t.textContent)},FB=function(t,e,o){return An(Zo.DOM.getParents(o.container(),"*",e),t)},Eg=function(t,e,o){var u=FB(t,e,o);return I.from(u[u.length-1])},BB=function(t,e,o){var u=Af(e,t),c=Af(o,t);return u&&u===c},NB=function(t){return Kg(t)||X0(t)},Bs=function(t,e){if(!e)return e;var o=e.container(),u=e.offset();return t?Fm(o)?z(o.nextSibling)?wn(o.nextSibling,0):wn.after(o):Kg(e)?wn(o,u+1):e:Fm(o)?z(o.previousSibling)?wn(o.previousSibling,o.previousSibling.data.length):wn.before(o):X0(e)?wn(o,u-1):e},kO=Qt(Bs,!0),EO=Qt(Bs,!1),zB=function(t){return function(e){return Cr(t,H.fromDom(e.dom.parentNode))}},Ag=function(t,e){return uo(t,e)?ed(e,function(o){return id(o)||oa(o)},zB(t)):I.none()},MB=function(t){var e=t.getBody(),o=e.firstChild&&t.dom.isBlock(e.firstChild)?e.firstChild:e;t.selection.setCursorLocation(o,0)},tC=function(t){t.dom.isEmpty(t.getBody())&&(t.setContent(""),MB(t))},RB=function(t,e,o){return Ma(xa(o),Gs(o),function(u,c){var f=Bs(!0,u),p=Bs(!1,c),b=Bs(!1,e);return t?ts(o,b).exists(function(y){return y.isEqual(p)&&e.isEqual(f)}):Os(o,b).exists(function(y){return y.isEqual(f)&&e.isEqual(p)})}).getOr(!0)},PB=function(t,e){return{block:t,position:e}},LB=function(t,e){return{from:t,to:e}},z3=function(t,e){var o=H.fromDom(t),u=H.fromDom(e.container());return Ag(o,u).map(function(c){return PB(c,e)})},ah=function(t){return Cr(t.from.block,t.to.block)===!1},ch=function(t){return iu(t.from.block).bind(function(e){return iu(t.to.block).filter(function(o){return Cr(e,o)})}).isSome()},nC=function(t){return _r(t.from.block.dom)===!1&&_r(t.to.block.dom)===!1},eC=function(t,e,o){return In(o.position.getNode())&&Za(o.block)===!1?Rd(!1,o.block.dom).bind(function(u){return u.isEqual(o.position)?Bc(e,t,u).bind(function(c){return z3(t,c)}):I.some(o)}).getOr(o):o},sh=function(t,e,o){var u=z3(t,wn.fromRangeStart(o)),c=u.bind(function(f){return Bc(e,t,f.position).bind(function(p){return z3(t,p).map(function(b){return eC(t,e,b)})})});return Ma(u,c,LB).filter(function(f){return ah(f)&&ch(f)&&nC(f)})},lh=function(t,e,o){return o.collapsed?sh(t,e,o):I.none()},rC=function(t){var e=Ki(t);return yo(e,$u).fold(function(){return e},function(o){return e.slice(0,o)})},_y=function(t){var e=rC(t);return yt(e,Zi),e},M3=function(t,e){var o=No(e,t);return Lr(o.reverse(),function(u){return Za(u)}).each(Zi)},R3=function(t){return An(pc(t),function(e){return!Za(e)}).length===0},P3=function(t,e,o,u){if(Za(o))return Bn(o),xa(o.dom);R3(u)&&Za(e)&&Jo(u,H.fromTag("br"));var c=Os(o.dom,wn.before(u.dom));return yt(_y(e),function(f){Jo(u,f)}),M3(t,e),c},AO=function(t,e,o){if(Za(o))return Zi(o),Za(e)&&Bn(e),xa(e.dom);var u=Gs(o.dom);return yt(_y(e),function(c){Ji(o,c)}),M3(t,e),u},TO=function(t,e){var o=No(e,t);return I.from(o[o.length-1])},b0=function(t,e){return uo(e,t)?TO(e,t):I.none()},L3=function(t,e){Rd(t,e.dom).map(function(o){return o.getNode()}).map(H.fromDom).filter(Ka).each(Zi)},I3=function(t,e,o){return L3(!0,e),L3(!1,o),b0(e,o).fold(Qt(AO,t,e,o),Qt(P3,t,e,o))},H3=function(t,e,o,u){return e?I3(t,u,o):I3(t,o,u)},fh=function(t,e){var o=H.fromDom(t.getBody()),u=lh(o.dom,e,t.selection.getRng()).bind(function(c){return H3(o,e,c.from.block,c.to.block)});return u.each(function(c){t.selection.setRng(c.toRange())}),u.isSome()},OO=function(t,e){var o=e.getRng();return Ma(Ag(t,H.fromDom(o.startContainer)),Ag(t,H.fromDom(o.endContainer)),function(u,c){return Cr(u,c)===!1?(o.deleteContents(),H3(t,!0,u,c).each(function(f){e.setRng(f.toRange())}),!0):!1}).getOr(!1)},V3=function(t,e){var o=H.fromDom(e),u=Qt(Cr,t);return of(o,Cc,u).isSome()},DO=function(t,e){return V3(t,e.startContainer)||V3(t,e.endContainer)},_O=function(t,e){var o=Os(t.dom,wn.fromRangeStart(e)).isNone(),u=ts(t.dom,wn.fromRangeEnd(e)).isNone();return!DO(t,e)&&o&&u},sm=function(t){return t.setContent(""),t.selection.setCursorLocation(),!0},FO=function(t){var e=H.fromDom(t.getBody()),o=t.selection.getRng();return _O(e,o)?sm(t):OO(e,t.selection)},Fy=function(t,e){return t.selection.isCollapsed()?!1:FO(t)},Tg=Br,il=_r,lm=function(t,e,o,u,c){return I.from(e._selectionOverrides.showCaret(t,o,u,c))},IB=function(t){var e=t.ownerDocument.createRange();return e.selectNode(t),e},y0=function(t,e){var o=t.fire("BeforeObjectSelected",{target:e});return o.isDefaultPrevented()?I.none():I.some(IB(e))},BO=function(t,e,o){var u=Ep(1,t.getBody(),e),c=wn.fromRangeStart(u),f=c.getNode();if(og(f))return lm(1,t,f,!c.isAtEnd(),!1);var p=c.getNode(!0);if(og(p))return lm(1,t,p,!1,!1);var b=t.dom.getParent(c.getNode(),function(y){return il(y)||Tg(y)});return og(b)?lm(1,t,b,!1,o):I.none()},U3=function(t,e,o){return e.collapsed?BO(t,e,o).getOr(e):e},HB=function(t){return En(t)||V(t)},VB=function(t){return _n(t)||ct(t)},UB=function(t,e){z(e)&&e.data.length===0&&t.remove(e)},NO=function(t,e,o,u,c,f){return lm(u,t,f.getNode(!c),c,!0).each(function(p){if(e.collapsed){var b=e.cloneRange();c?b.setEnd(p.startContainer,p.startOffset):b.setStart(p.endContainer,p.endOffset),b.deleteContents()}else e.deleteContents();t.selection.setRng(p)}),UB(t.dom,o),!0},jB=function(t,e){var o=t.selection.getRng();if(!z(o.commonAncestorContainer))return!1;var u=e?Qi.Forwards:Qi.Backwards,c=Ts(t.getBody()),f=Qt(fb,e?c.next:c.prev),p=e?HB:VB,b=Md(u,t.getBody(),o),y=Bs(e,f(b));if(!y||!Tp(b,y))return!1;if(p(y))return NO(t,o,b.getNode(),u,e,y);var A=f(y);return A&&p(A)&&Tp(y,A)?NO(t,o,b.getNode(),u,e,A):!1},oC=function(t,e){return jB(t,e)},qB=function(t){return Cc(H.fromDom(t))||oa(H.fromDom(t))},Rc=xc.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),j3=function(t,e){var o=e.getNode(t===!1),u=t?"after":"before";return Vr(o)&&o.getAttribute("data-mce-caret")===u},zO=function(t,e,o,u){var c=function(f){return Hs(H.fromDom(f))&&!$s(o,u,t)};return vw(!e,o).fold(function(){return vw(e,u).fold(ve,c)},c)},WB=function(t,e,o,u){var c=u.getNode(e===!1);return Ag(H.fromDom(t),H.fromDom(o.getNode())).map(function(f){return Za(f)?Rc.remove(f.dom):Rc.moveToElement(c)}).orThunk(function(){return I.some(Rc.moveToElement(c))})},MO=function(t,e,o){return Bc(e,t,o).bind(function(u){return qB(u.getNode())||zO(t,e,o,u)?I.none():e&&_r(u.getNode())||e===!1&&_r(u.getNode(!0))?WB(t,e,o,u):e&&_n(o)||e===!1&&En(o)?I.some(Rc.moveToPosition(u)):I.none()})},RO=function(t,e){return t&&_r(e.nextSibling)?I.some(Rc.moveToElement(e.nextSibling)):t===!1&&_r(e.previousSibling)?I.some(Rc.moveToElement(e.previousSibling)):I.none()},PO=function(t,e,o){return o.fold(function(u){return I.some(Rc.remove(u))},function(u){return I.some(Rc.moveToElement(u))},function(u){return $s(e,u,t)?I.none():I.some(Rc.moveToPosition(u))})},q3=function(t,e,o){return j3(e,o)?RO(e,o.getNode(e===!1)).fold(function(){return MO(t,e,o)},I.some):MO(t,e,o).bind(function(u){return PO(t,o,u)})},LO=function(t,e,o){var u=Ep(e?1:-1,t,o),c=wn.fromRangeStart(u),f=H.fromDom(t);return e===!1&&_n(c)?I.some(Rc.remove(c.getNode(!0))):e&&En(c)?I.some(Rc.remove(c.getNode())):e===!1&&En(c)&&Fs(f,c)?rm(f,c).map(function(p){return Rc.remove(p.getNode())}):e&&_n(c)&&gu(f,c)?om(f,c).map(function(p){return Rc.remove(p.getNode())}):q3(t,e,c)},IO=function(t,e){return function(o){return t._selectionOverrides.hideFakeCaret(),nh(t,e,H.fromDom(o)),!0}},W3=function(t,e){return function(o){var u=e?wn.before(o):wn.after(o);return t.selection.setRng(u.toRange()),!0}},YB=function(t){return function(e){return t.selection.setRng(e.toRange()),!0}},HO=function(t,e){return I.from(qd(t.getBody(),e))},Uf=function(t,e){var o=t.selection.getNode();return HO(t,o).filter(_r).fold(function(){return LO(t.getBody(),e,t.selection.getRng()).exists(function(u){return u.fold(IO(t,e),W3(t,e),YB(t))})},ue)},ul=function(t){yt(ya(t,".mce-offscreen-selection"),Zi)},iC=function(t,e){var o=t.selection.getNode();if(_r(o)){var u=HO(t,o.parentNode).filter(_r);return u.fold(function(){return ul(H.fromDom(t.getBody())),nh(t,e,H.fromDom(t.selection.getNode())),tC(t),!0},ue)}return!1},Y3=function(t){var e=t.dom,o=t.selection,u=qd(t.getBody(),o.getNode());if(Br(u)&&e.isBlock(u)&&e.isEmpty(u)){var c=e.create("br",{"data-mce-bogus":"1"});e.setHTML(u,""),u.appendChild(c),o.setRng(wn.before(c).toRange())}return!0},dh=function(t,e){return t.selection.isCollapsed()?Uf(t,e):iC(t,e)},VO=function(t,e){var o=wn.fromRangeStart(t.selection.getRng());return Bc(e,t.getBody(),o).filter(function(u){return e?D(u):j(u)}).bind(function(u){return I.from(yv(e?0:-1,u))}).exists(function(u){return t.selection.select(u),!0})},By=function(t,e){return t.selection.isCollapsed()?VO(t,e):!1},mh=z,$3=function(t){return mh(t)&&t.data[0]===Bu},X3=function(t){return mh(t)&&t.data[t.data.length-1]===Bu},G3=function(t){return t.ownerDocument.createTextNode(Bu)},uC=function(t){if(mh(t.previousSibling))return X3(t.previousSibling)||t.previousSibling.appendData(Bu),t.previousSibling;if(mh(t))return $3(t)||t.insertData(0,Bu),t;var e=G3(t);return t.parentNode.insertBefore(e,t),e},aC=function(t){if(mh(t.nextSibling))return $3(t.nextSibling)||t.nextSibling.insertData(0,Bu),t.nextSibling;if(mh(t))return X3(t)||t.appendData(Bu),t;var e=G3(t);return t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e},w0=function(t,e){return t?uC(e):aC(e)},$B=Qt(w0,!0),XB=Qt(w0,!1),UO=function(t,e){return z(t.container())?w0(e,t.container()):w0(e,t.getNode())},jO=function(t,e){var o=e.get();return o&&t.container()===o&&Fm(o)},K3=function(t,e){return e.fold(function(o){Ws(t.get());var u=$B(o);return t.set(u),I.some(wn(u,u.length-1))},function(o){return xa(o).map(function(u){if(jO(u,t))return wn(t.get(),1);Ws(t.get());var c=UO(u,!0);return t.set(c),wn(c,1)})},function(o){return Gs(o).map(function(u){if(jO(u,t))return wn(t.get(),t.get().length-1);Ws(t.get());var c=UO(u,!1);return t.set(c),wn(c,c.length-1)})},function(o){Ws(t.get());var u=XB(o);return t.set(u),I.some(wn(u,1))})},qO=function(t,e){for(var o=0;o<t.length;o++){var u=t[o].apply(null,e);if(u.isSome())return u}return I.none()},Ha=xc.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),cC=function(t,e){var o=Af(e,t);return o||t},GB=function(t,e,o){var u=kO(o),c=cC(e,u.container());return Eg(t,c,u).fold(function(){return ts(c,u).bind(Qt(Eg,t,c)).map(function(f){return Ha.before(f)})},I.none)},KB=function(t,e){return Pd(t,e)===null},WO=function(t,e,o){return Eg(t,e,o).filter(Qt(KB,e))},JB=function(t,e,o){var u=EO(o);return WO(t,e,u).bind(function(c){var f=Os(c,u);return f.isNone()?I.some(Ha.start(c)):I.none()})},ZB=function(t,e,o){var u=kO(o);return WO(t,e,u).bind(function(c){var f=ts(c,u);return f.isNone()?I.some(Ha.end(c)):I.none()})},QB=function(t,e,o){var u=EO(o),c=cC(e,u.container());return Eg(t,c,u).fold(function(){return Os(c,u).bind(Qt(Eg,t,c)).map(function(f){return Ha.after(f)})},I.none)},YO=function(t){return _B(x0(t))===!1},al=function(t,e,o){var u=qO([GB,JB,ZB,QB],[t,e,o]);return u.filter(YO)},x0=function(t){return t.fold(le,le,le,le)},sC=function(t){return t.fold(jt("before"),jt("start"),jt("end"),jt("after"))},J3=function(t){return t.fold(Ha.before,Ha.before,Ha.after,Ha.after)},Z3=function(t){return t.fold(Ha.start,Ha.start,Ha.end,Ha.end)},t8=function(t,e){return sC(t)===sC(e)&&x0(t)===x0(e)},n8=function(t,e,o,u,c,f){return Ma(Eg(e,o,u),Eg(e,o,c),function(p,b){return p!==b&&BB(o,p,b)?Ha.after(t?p:b):f}).getOr(f)},$O=function(t,e){return t.fold(ue,function(o){return!t8(o,e)})},e8=function(t,e,o,u,c){var f=Bs(t,c),p=Bc(t,o,f).map(Qt(Bs,t)),b=p.fold(function(){return u.map(J3)},function(y){return al(e,o,y).map(Qt(n8,t,e,o,f,y)).filter(Qt($O,u))});return b.filter(YO)},r8=function(t,e){return t?e.fold(ln(I.some,Ha.start),I.none,ln(I.some,Ha.after),I.none):e.fold(I.none,ln(I.some,Ha.before),I.none,ln(I.some,Ha.end))},Ny=function(t,e,o,u){var c=Bs(t,u),f=al(e,o,c);return al(e,o,c).bind(Qt(r8,t)).orThunk(function(){return e8(t,e,o,f,u)})};Qt(Ny,!1),Qt(Ny,!0);var o8=function(t){return Tn(t.selection.getSel().modify)},XO=function(t,e,o){var u=t?1:-1;return e.setRng(wn(o.container(),o.offset()+u).toRange()),e.getSel().modify("move",t?"forward":"backward","word"),!0},i8=function(t,e){var o=e.selection.getRng(),u=t?wn.fromRangeEnd(o):wn.fromRangeStart(o);return o8(e)?t&&Kg(u)?XO(!0,e.selection,u):!t&&X0(u)?XO(!1,e.selection,u):!1:!1},Q3=function(t,e){var o=t.dom.createRng();o.setStart(e.container(),e.offset()),o.setEnd(e.container(),e.offset()),t.selection.setRng(o)},GO=function(t,e){t?e.setAttribute("data-mce-selected","inline-boundary"):e.removeAttribute("data-mce-selected")},KO=function(t,e,o){return K3(e,o).map(function(u){return Q3(t,u),o})},u8=function(t,e,o){var u=t.getBody(),c=wn.fromRangeStart(t.selection.getRng()),f=Qt(v0,t),p=Ny(o,f,u,c);return p.bind(function(b){return KO(t,e,b)})},lC=function(t,e,o){var u=Et(ya(H.fromDom(e.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(p){return p.dom}),c=An(u,t),f=An(o,t);yt(Qn(c,f),Qt(GO,!1)),yt(Qn(f,c),Qt(GO,!0))},fC=function(t,e){if(t.selection.isCollapsed()&&t.composing!==!0&&e.get()){var o=wn.fromRangeStart(t.selection.getRng());wn.isTextPosition(o)&&NB(o)===!1&&(Q3(t,ek(e.get(),o)),e.set(null))}},a8=function(t,e,o,u){if(e.selection.isCollapsed()){var c=An(u,t);yt(c,function(f){var p=wn.fromRangeStart(e.selection.getRng());al(t,e.getBody(),p).bind(function(b){return KO(e,o,b)})})}},JO=function(t,e,o){return xp(t)?u8(t,e,o).isSome():!1},zy=function(t,e,o){return xp(e)?i8(t,e):!1},c8=function(t){var e=Io(null),o=Qt(v0,t);return t.on("NodeChange",function(u){xp(t)&&!(Ue.browser.isIE()&&u.initial)&&(lC(o,t.dom,u.parents),fC(t,e),a8(o,t,e,u.parents))}),e},s8=Qt(zy,!0),l8=Qt(zy,!1),f8=function(t,e){var o=document.createRange();return o.setStart(t.container(),t.offset()),o.setEnd(e.container(),e.offset()),o},d8=function(t){return Ma(xa(t),Gs(t),function(e,o){var u=Bs(!0,e),c=Bs(!1,o);return ts(t,u).forall(function(f){return f.isEqual(c)})}).getOr(!0)},ZO=function(t,e){return function(o){return K3(e,o).exists(function(u){return Q3(t,u),!0})}},QO=function(t,e,o,u){var c=t.getBody(),f=Qt(v0,t);t.undoManager.ignore(function(){t.selection.setRng(f8(o,u)),t.execCommand("Delete"),al(f,c,wn.fromRangeStart(t.selection.getRng())).map(Z3).map(ZO(t,e))}),t.nodeChanged()},m8=function(t,e){var o=Af(e,t);return o||t},g8=function(t,e,o,u){var c=m8(t.getBody(),u.container()),f=Qt(v0,t),p=al(f,c,u);return p.bind(function(b){return o?b.fold(jt(I.some(Z3(b))),I.none,jt(I.some(J3(b))),I.none):b.fold(I.none,jt(I.some(J3(b))),I.none,jt(I.some(Z3(b))))}).map(ZO(t,e)).getOrThunk(function(){var b=Cv(o,c,u),y=b.bind(function(A){return al(f,c,A)});return Ma(p,y,function(){return Eg(f,c,u).exists(function(A){return d8(A)?(nh(t,o,H.fromDom(A)),!0):!1})}).orThunk(function(){return y.bind(function(A){return b.map(function(N){return o?QO(t,e,u,N):QO(t,e,N,u),!0})})}).getOr(!1)})},dC=function(t,e,o){if(t.selection.isCollapsed()&&xp(t)){var u=wn.fromRangeStart(t.selection.getRng());return g8(t,e,o,u)}return!1},p8=function(t,e){var o=No(e,t);return yo(o,$u).fold(jt(o),function(u){return o.slice(0,u)})},h8=function(t){return Ki(t).length===1},jf=function(t,e,o,u){var c=Qt(LA,e),f=Et(An(u,c),function(b){return b.dom});if(f.length===0)nh(e,t,o);else{var p=T6(o.dom,f);e.selection.setRng(p.toRange())}},v8=function(t,e){var o=H.fromDom(t.getBody()),u=H.fromDom(t.selection.getStart()),c=An(p8(o,u),h8);return Ee(c).exists(function(f){var p=wn.fromRangeStart(t.selection.getRng());return RB(e,p,f.dom)&&!O6(f)?(jf(e,t,f,c),!0):!1})},My=function(t,e){return t.selection.isCollapsed()?v8(t,e):!1},tE=function(t,e,o){return t._selectionOverrides.hideFakeCaret(),nh(t,e,H.fromDom(o)),!0},tD=function(t,e){var o=e?V:ct,u=e?Qi.Forwards:Qi.Backwards,c=Md(u,t.getBody(),t.selection.getRng());return o(c)?tE(t,e,c.getNode(!e)):I.from(Bs(e,c)).filter(function(f){return o(f)&&Tp(c,f)}).exists(function(f){return tE(t,e,f.getNode(!e))})},b8=function(t,e){var o=t.selection.getNode();return Ur(o)?tE(t,e,o):!1},mC=function(t,e){return t.selection.isCollapsed()?tD(t,e):b8(t,e)},y8=function(t){return ed(t,function(e){return Br(e.dom)||_r(e.dom)}).exists(function(e){return Br(e.dom)})},Og=function(t){var e=parseInt(t,10);return isNaN(e)?0:e},nE=function(t,e){var o=t||Mh(e)?"margin":"padding",u=bl(e,"direction")==="rtl"?"-right":"-left";return o+u},nD=function(t,e,o,u,c,f){var p=nE(o,H.fromDom(f));if(e==="outdent"){var b=Math.max(0,Og(f.style[p])-u);t.setStyle(f,p,b?b+c:"")}else{var b=Og(f.style[p])+u+c;t.setStyle(f,p,b)}},eD=function(t,e){return ee(e,function(o){var u=nE(Q2(t),o),c=Yu(o,u).map(Og).getOr(0),f=t.dom.getContentEditable(o.dom);return f!=="false"&&c>0})},gC=function(t){var e=oD(t);return!t.mode.isReadOnly()&&(e.length>1||eD(t,e))},rD=function(t){return si(t)||oa(t)},w8=function(t){return iu(t).map(rD).getOr(!1)},oD=function(t){return An(Et(t.selection.getSelectedBlocks(),H.fromDom),function(e){return!rD(e)&&!w8(e)&&y8(e)})},iD=function(t,e){var o=t.dom,u=t.selection,c=t.formatter,f=Qm(t),p=/[a-z%]+$/i.exec(f)[0],b=parseInt(f,10),y=Q2(t),A=du(t);!t.queryCommandState("InsertUnorderedList")&&!t.queryCommandState("InsertOrderedList")&&A===""&&!o.getParent(u.getNode(),o.isBlock)&&c.apply("div"),yt(oD(t),function(N){nD(o,e,y,b,p,N.dom)})},uD=function(t,e){if(t.selection.isCollapsed()&&gC(t)){var o=t.dom,u=t.selection.getRng(),c=wn.fromRangeStart(u),f=o.getParent(u.startContainer,o.isBlock);if(f!==null&&vo(H.fromDom(f),c))return iD(t,"outdent"),!0}return!1},aD=function(t,e){t.getDoc().execCommand(e,!1,null)},Vl=function(t,e){if(!uD(t)){if(dh(t,!1)||oC(t,!1)||dC(t,e,!1)||fh(t,!1)||kx(t)||By(t,!1)||mC(t,!1)||Fy(t)||My(t,!1))return;aD(t,"Delete"),tC(t)}},x8=function(t,e){if(!dh(t,!0)){if(oC(t,!0)||dC(t,e,!0)||fh(t,!0)||kx(t)||By(t,!0)||mC(t,!0)||Fy(t)||My(t,!0))return;aD(t,"ForwardDelete")}},C8=function(t,e){t.addCommand("delete",function(){Vl(t,e)}),t.addCommand("forwardDelete",function(){x8(t,e)})},cD=5,S8=400,sD=function(t){return t.touches===void 0||t.touches.length!==1?I.none():I.some(t.touches[0])},k8=function(t,e){var o=Math.abs(t.clientX-e.x),u=Math.abs(t.clientY-e.y);return o>cD||u>cD},E8=function(t){var e=Io(I.none()),o=Io(!1),u=_1(function(c){t.fire("longpress",Xe(Xe({},c),{type:"longpress"})),o.set(!0)},S8);t.on("touchstart",function(c){sD(c).each(function(f){u.cancel();var p={x:f.clientX,y:f.clientY,target:c.target};u.throttle(c),o.set(!1),e.set(I.some(p))})},!0),t.on("touchmove",function(c){u.cancel(),sD(c).each(function(f){e.get().each(function(p){k8(f,p)&&(e.set(I.none()),o.set(!1),t.fire("longpresscancel"))})})},!0),t.on("touchend touchcancel",function(c){u.cancel(),c.type!=="touchcancel"&&e.get().filter(function(f){return f.target.isEqualNode(c.target)}).each(function(){o.get()?c.preventDefault():t.fire("tap",Xe(Xe({},c),{type:"tap"}))})},!0)},ta=function(t,e){return t.hasOwnProperty(e.nodeName)},A8=function(t,e){return z(e)?!0:Vr(e)?!ta(t,e)&&!Pa(e):!1},T8=function(t,e,o){return nt(so(H.fromDom(o),H.fromDom(e)),function(u){return ta(t,u.dom)})},lD=function(t,e){return!!(z(e)&&(e.nodeValue.length===0||/^\s+$/.test(e.nodeValue)&&(!e.nextSibling||ta(t,e.nextSibling))))},eE=function(t){var e=t.dom,o=t.selection,u=t.schema,c=u.getBlockElements(),f=o.getStart(),p=t.getBody(),b,y,A,N=du(t);if(!(!f||!Vr(f)||!N)){var B=p.nodeName.toLowerCase();if(!(!u.isValidChild(B,N.toLowerCase())||T8(c,p,f))){var M=o.getRng(),X=M.startContainer,J=M.startOffset,Q=M.endContainer,$=M.endOffset,pt=Qd(t);for(f=p.firstChild;f;)if(A8(c,f)){if(lD(c,f)){y=f,f=f.nextSibling,e.remove(y);continue}b||(b=e.create(N,Cf(t)),f.parentNode.insertBefore(b,f),A=!0),y=f,f=f.nextSibling,b.appendChild(y)}else b=null,f=f.nextSibling;A&&pt&&(M.setStart(X,J),M.setEnd(Q,$),o.setRng(M),t.nodeChanged())}}},O8=function(t){du(t)&&t.on("NodeChange",Qt(eE,t))},D8=function(t){return Sl(H.fromDom(t.getBody()),"*[data-mce-caret]").fold(jt(null),function(e){return e.dom})},_8=function(t){t.selection.setRng(t.selection.getRng())},Dg=function(t,e){e.hasAttribute("data-mce-caret")&&(J0(e),_8(t),t.selection.scrollIntoView(e))},F8=function(t,e){var o=D8(t);if(o){if(e.type==="compositionstart"){e.preventDefault(),e.stopPropagation(),Dg(t,o);return}Gg(o)&&(Dg(t,o),t.undoManager.add())}},B8=function(t){t.on("keyup compositionstart",Qt(F8,t))},qf;(function(t){t[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol"})(qf||(qf={}));var pC=function(t,e){return t===Qi.Backwards?Zn(e):e},rE=function(t,e,o){return t===Qi.Forwards?e.next(o):e.prev(o)},oE=function(t,e,o,u){return In(u.getNode(e===Qi.Forwards))?qf.Br:$s(o,u)===!1?qf.Block:qf.Wrap},iE=function(t,e,o,u){for(var c=Ts(o),f=u,p,b=[];f&&(p=rE(e,c,f),!!p);){if(In(p.getNode(!1)))return e===Qi.Forwards?{positions:pC(e,b).concat([p]),breakType:qf.Br,breakAt:I.some(p)}:{positions:pC(e,b),breakType:qf.Br,breakAt:I.some(p)};if(!p.isVisible()){f=p;continue}if(t(f,p)){var y=oE(o,e,f,p);return{positions:pC(e,b),breakType:y,breakAt:I.some(p)}}b.push(p),f=p}return{positions:pC(e,b),breakType:qf.Eol,breakAt:I.none()}},uE=function(t,e,o,u){return e(o,u).breakAt.map(function(c){var f=e(o,c).positions;return t===Qi.Backwards?f.concat(c):[c].concat(f)}).getOr([])},hC=function(t,e){return ze(t,function(o,u){return o.fold(function(){return I.some(u)},function(c){return Ma(gn(c.getClientRects()),gn(u.getClientRects()),function(f,p){var b=Math.abs(e-f.left),y=Math.abs(e-p.left);return y<=b?u:c}).or(o)})},I.none())},fD=function(t,e){return gn(e.getClientRects()).bind(function(o){return hC(t,o.left)})},fm=Qt(iE,wn.isAbove,-1),Ry=Qt(iE,wn.isBelow,1),N8=function(t,e){return fm(t,e).breakAt.isNone()},z8=function(t,e){return Ry(t,e).breakAt.isNone()},C0=Qt(uE,-1,fm),M8=Qt(uE,1,Ry),dm=function(t){return xa(t).map(function(e){return[e].concat(Ry(t,e).positions)}).getOr([])},dD=function(t){return Gs(t).map(function(e){return fm(t,e).positions.concat(e)}).getOr([])},aE=function(t){var e=function(u){return Et(u,function(c){return c=Ed(c),c.node=t,c})};if(Vr(t))return e(t.getClientRects());if(z(t)){var o=t.ownerDocument.createRange();return o.setStart(t,0),o.setEnd(t,t.data.length),e(o.getClientRects())}},Py=function(t){return Cn(t,aE)},gh;(function(t){t[t.Up=-1]="Up",t[t.Down=1]="Down"})(gh||(gh={}));var ph=function(t,e,o,u){for(;u=zd(u,t,Bm,e);)if(o(u))return},mD=function(t,e,o,u,c,f){var p=0,b=[],y=function(B){var M,X,J;for(J=Py([B]),t===-1&&(J=J.reverse()),M=0;M<J.length;M++)if(X=J[M],!o(X,A)){if(b.length>0&&e(X,Ko(b))&&p++,X.line=p,c(X))return!0;b.push(X)}},A=Ko(f.getClientRects());if(!A)return b;var N=f.getNode();return y(N),ph(t,u,y,N),b},R8=function(t,e){return e.line>t},P8=function(t,e){return e.line===t},gD=Qt(mD,gh.Up,Ad,Lu),L8=Qt(mD,gh.Down,Lu,Ad),I8=function(t,e,o,u){var c=Ts(e),f,p,b,y,A=[],N=0,B,M=function(J){return Ko(J.getClientRects())};t===1?(f=c.next,p=Lu,b=Ad,y=wn.after(u)):(f=c.prev,p=Ad,b=Lu,y=wn.before(u));var X=M(y);do if(!!y.isVisible()&&(B=M(y),!b(B,X))){if(A.length>0&&p(B,Ko(A))&&N++,B=Ed(B),B.position=y,B.line=N,o(B))return A;A.push(B)}while(y=f(y));return A},pD=function(t){return function(e){return R8(t,e)}},cE=function(t){return function(e){return P8(t,e)}},hD=_r,vD=zd,mm=function(t,e){return Math.abs(t.left-e)},sE=function(t,e){return Math.abs(t.right-e)},S0=function(t,e){return t>=e.left&&t<=e.right},bD=function(t,e){return t>=e.top&&t<=e.bottom},k0=function(t,e){return ao(t,function(o,u){var c=Math.min(mm(o,e),sE(o,e)),f=Math.min(mm(u,e),sE(u,e));return S0(e,u)?u:S0(e,o)?o:f===c&&hD(u.node)||f<c?u:o})},vC=function(t,e,o,u,c){var f=vD(u,t,Bm,e,!c);do if(!f||o(f))return;while(f=vD(f,t,Bm,e))},H8=function(t,e,o){o===void 0&&(o=!0);var u=[],c=function(f,p){var b=An(Py([p]),function(y){return!f(y,e)});return u=u.concat(b),b.length===0};return u.push(e),vC(gh.Up,t,Qt(c,Ad),e.node,o),vC(gh.Down,t,Qt(c,Lu),e.node,o),u},V8=function(t){return An(ur(t.getElementsByTagName("*")),Fl)},U8=function(t,e){return{node:t.node,before:mm(t,e)<sE(t,e)}},lE=function(t,e,o){var u=Py(V8(t)),c=An(u,Qt(bD,o)),f=k0(c,e);if(f){var p=!nf(f.node)&&!Ur(f.node);if(f=k0(H8(t,f,p),e),f&&Fl(f.node))return U8(f,e)}return null},gm=function(t,e){t.selection.setRng(e),jp(t,t.selection.getRng())},yD=function(t,e,o){return I.some(U3(t,e,o))},wD=function(t,e,o,u,c,f){var p=e===Qi.Forwards,b=Ts(t.getBody()),y=Qt(fb,p?b.next:b.prev),A=p?u:c;if(!o.collapsed){var N=jm(o);if(f(N))return lm(e,t,N,e===Qi.Backwards,!1)}var B=Md(e,t.getBody(),o);if(A(B))return y0(t,B.getNode(!p));var M=Bs(p,y(B)),X=u2(o);if(!M)return X?I.some(o):I.none();if(A(M))return lm(e,t,M.getNode(!p),p,!1);var J=y(M);return J&&A(J)&&Tp(M,J)?lm(e,t,J.getNode(!p),p,!1):X?yD(t,M.toRange(),!1):I.none()},xD=function(t,e,o,u,c,f){var p=Md(e,t.getBody(),o),b=Ko(p.getClientRects()),y=e===gh.Down;if(!b)return I.none();var A=y?L8:gD,N=A(t.getBody(),pD(1),p),B=An(N,cE(1)),M=b.left,X=k0(B,M);if(X&&f(X.node)){var J=Math.abs(M-X.left),Q=Math.abs(M-X.right);return lm(e,t,X.node,J<Q,!1)}var $;if(u(p)?$=p.getNode():c(p)?$=p.getNode(!0):$=jm(o),$){var pt=I8(e,t.getBody(),pD(1),$),mt=k0(An(pt,cE(1)),M);if(mt||(mt=Ko(An(pt,cE(0))),mt))return yD(t,mt.position.toRange(),!1)}return B.length===0?fE(t,y).filter(y?c:u).map(function(vt){return U3(t,vt.toRange(),!1)}):I.none()},fE=function(t,e){var o=t.selection.getRng(),u=t.getBody();if(e){var c=wn.fromRangeEnd(o),f=Ry(u,c);return Ee(f.positions)}else{var c=wn.fromRangeStart(o),f=fm(u,c);return gn(f.positions)}},CD=function(t,e,o){return fE(t,e).filter(o).exists(function(u){return t.selection.setRng(u.toRange()),!0})},SD=_r,j8=function(t,e,o){return wD(e,t,o,En,_n,SD)},q8=function(t,e,o){var u=function(f){return En(f)||kt(f)},c=function(f){return _n(f)||Dn(f)};return xD(e,t,o,u,c,SD)},W8=function(t){var e=t.dom.create(du(t));return(!Ue.ie||Ue.ie>=11)&&(e.innerHTML='<br data-mce-bogus="1">'),e},kD=function(t,e,o){var u=Ts(t.getBody()),c=Qt(fb,e===1?u.next:u.prev);if(o.collapsed&&ng(t)){var f=t.dom.getParent(o.startContainer,"PRE");if(!f)return;var p=c(wn.fromRangeStart(o));if(!p){var b=W8(t);e===1?t.$(f).after(b):t.$(f).before(b),t.selection.select(b,!0),t.selection.collapse()}}},Y8=function(t,e){var o=e?Qi.Forwards:Qi.Backwards,u=t.selection.getRng();return j8(o,t,u).orThunk(function(){return kD(t,o,u),I.none()})},$8=function(t,e){var o=e?1:-1,u=t.selection.getRng();return q8(o,t,u).orThunk(function(){return kD(t,o,u),I.none()})},dE=function(t,e){return Y8(t,e).exists(function(o){return gm(t,o),!0})},ED=function(t,e){return $8(t,e).exists(function(o){return gm(t,o),!0})},AD=function(t,e){var o=e?_n:En;return CD(t,e,o)},X8=function(t){return Wt(["figcaption"],Mo(t))},TD=function(t){var e=document.createRange();return e.setStartBefore(t.dom),e.setEndBefore(t.dom),e},OD=function(t,e,o){o?Ji(t,e):Oh(t,e)},G8=function(t,e){var o=H.fromTag("br");return OD(t,o,e),TD(o)},K8=function(t,e,o,u){var c=H.fromTag(o),f=H.fromTag("br");return ms(c,u),Ji(c,f),OD(t,c,e),TD(f)},J8=function(t,e,o,u){return e===""?G8(t,u):K8(t,u,e,o)},Z8=function(t,e){var o=Qt(Cr,e);return ed(H.fromDom(t.container()),$u,o).filter(X8)},Q8=function(t,e,o){return e?z8(t.dom,o):N8(t.dom,o)},t7=function(t,e){var o=H.fromDom(t.getBody()),u=wn.fromRangeStart(t.selection.getRng()),c=du(t),f=Cf(t);return Z8(u,o).exists(function(){if(Q8(o,e,u)){var p=J8(o,c,f,e);return t.selection.setRng(p),!0}else return!1})},DD=function(t,e){return t.selection.isCollapsed()?t7(t,e):!1},n7=function(t){return Et(t,function(e){return Xe({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:tt},e)})},e7=function(t,e){return e.keyCode===t.keyCode&&e.shiftKey===t.shiftKey&&e.altKey===t.altKey&&e.ctrlKey===t.ctrlKey&&e.metaKey===t.metaKey},_D=function(t,e){return Cn(n7(t),function(o){return e7(o,e)?[o]:[]})},Ao=function(t){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return function(){return t.apply(null,e)}},Ly=function(t,e){return Lr(_D(t,e),function(o){return o.action()})},mE=function(t,e){var o=e?Qi.Forwards:Qi.Backwards,u=t.selection.getRng();return wD(t,o,u,V,ct,Ur).exists(function(c){return gm(t,c),!0})},gE=function(t,e){var o=e?1:-1,u=t.selection.getRng();return xD(t,o,u,V,ct,Ur).exists(function(c){return gm(t,c),!0})},Iy=function(t,e){var o=e?ct:V;return CD(t,e,o)},FD=function(t,e){return{left:t.left-e,top:t.top-e,right:t.right+e*2,bottom:t.bottom+e*2,width:t.width+e,height:t.height+e}},pE=function(t,e){return Cn(e,function(o){var u=FD(Ed(o.getBoundingClientRect()),-1);return[{x:u.left,y:t(u),cell:o},{x:u.right,y:t(u),cell:o}]})},hE=function(t,e,o){return ze(t,function(u,c){return u.fold(function(){return I.some(c)},function(f){var p=Math.sqrt(Math.abs(f.x-e)+Math.abs(f.y-o)),b=Math.sqrt(Math.abs(c.x-e)+Math.abs(c.y-o));return I.some(b<p?c:f)})},I.none())},vE=function(t,e,o,u,c){var f=ya(H.fromDom(o),"td,th,caption").map(function(b){return b.dom}),p=An(pE(t,f),function(b){return e(b,c)});return hE(p,u,c).map(function(b){return b.cell})},r7=function(t){return t.bottom},BD=function(t){return t.top},E0=function(t,e){return t.y<e},ND=function(t,e){return t.y>e},bE=Qt(vE,r7,E0),o7=Qt(vE,BD,ND),yE=function(t,e){return gn(e.getClientRects()).bind(function(o){return bE(t,o.left,o.top)}).bind(function(o){return fD(dD(o),e)})},i7=function(t,e){return Ee(e.getClientRects()).bind(function(o){return o7(t,o.left,o.top)}).bind(function(o){return fD(dm(o),e)})},u7=function(t,e,o){return o.breakAt.exists(function(u){return t(e,u).breakAt.isSome()})},a7=function(t){return t.breakType===qf.Wrap&&t.positions.length===0},c7=function(t){return t.breakType===qf.Br&&t.positions.length===1},zD=function(t,e,o){var u=t(e,o);return a7(u)||!In(o.getNode())&&c7(u)?!u7(t,e,u):u.breakAt.isNone()},s7=Qt(zD,fm),MD=Qt(zD,Ry),A0=function(t,e,o){var u=wn.fromRangeStart(e);return Rd(!t,o).exists(function(c){return c.isEqual(u)})},l7=function(t,e,o,u){var c=t.selection.getRng(),f=e?1:-1;return vv()&&A0(e,c,o)?(lm(f,t,o,!e,!1).each(function(p){gm(t,p)}),!0):!1},wE=function(t,e,o){return yE(e,o).orThunk(function(){return gn(o.getClientRects()).bind(function(u){return hC(C0(t,wn.before(e)),u.left)})}).getOr(wn.before(e))},f7=function(t,e,o){return i7(e,o).orThunk(function(){return gn(o.getClientRects()).bind(function(u){return hC(M8(t,wn.after(e)),u.left)})}).getOr(wn.after(e))},RD=function(t,e){var o=e.getNode(t);return Vr(o)&&o.nodeName==="TABLE"?I.some(o):I.none()},PD=function(t,e,o,u){var c=du(e);c?e.undoManager.transact(function(){var f=H.fromTag(c);ms(f,Cf(e)),Ji(f,H.fromTag("br")),t?Uc(H.fromDom(o),f):Jo(H.fromDom(o),f);var p=e.dom.createRng();p.setStart(f.dom,0),p.setEnd(f.dom,0),gm(e,p)}):gm(e,u.toRange())},xE=function(t,e,o){var u=RD(!!e,o),c=e===!1;u.fold(function(){return gm(t,o.toRange())},function(f){return Rd(c,t.getBody()).filter(function(p){return p.isEqual(o)}).fold(function(){return gm(t,o.toRange())},function(p){return PD(e,t,f,o)})})},LD=function(t,e,o,u){var c=t.selection.getRng(),f=wn.fromRangeStart(c),p=t.getBody();if(!e&&s7(u,f)){var b=wE(p,o,f);return xE(t,e,b),!0}else if(e&&MD(u,f)){var b=f7(p,o,f);return xE(t,e,b),!0}else return!1},bC=function(t,e,o){return I.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind(function(u){return I.from(t.dom.getParent(u,"table")).map(function(c){return o(t,e,c,u)})}).getOr(!1)},CE=function(t,e){return bC(t,e,l7)},ID=function(t,e){return bC(t,e,LD)},d7=function(t,e,o){var u=lo().os;Ly([{keyCode:Be.RIGHT,action:Ao(dE,t,!0)},{keyCode:Be.LEFT,action:Ao(dE,t,!1)},{keyCode:Be.UP,action:Ao(ED,t,!1)},{keyCode:Be.DOWN,action:Ao(ED,t,!0)},{keyCode:Be.RIGHT,action:Ao(CE,t,!0)},{keyCode:Be.LEFT,action:Ao(CE,t,!1)},{keyCode:Be.UP,action:Ao(ID,t,!1)},{keyCode:Be.DOWN,action:Ao(ID,t,!0)},{keyCode:Be.RIGHT,action:Ao(mE,t,!0)},{keyCode:Be.LEFT,action:Ao(mE,t,!1)},{keyCode:Be.UP,action:Ao(gE,t,!1)},{keyCode:Be.DOWN,action:Ao(gE,t,!0)},{keyCode:Be.RIGHT,action:Ao(JO,t,e,!0)},{keyCode:Be.LEFT,action:Ao(JO,t,e,!1)},{keyCode:Be.RIGHT,ctrlKey:!u.isOSX(),altKey:u.isOSX(),action:Ao(s8,t,e)},{keyCode:Be.LEFT,ctrlKey:!u.isOSX(),altKey:u.isOSX(),action:Ao(l8,t,e)},{keyCode:Be.UP,action:Ao(DD,t,!1)},{keyCode:Be.DOWN,action:Ao(DD,t,!0)}],o).each(function(c){o.preventDefault()})},yC=function(t,e){t.on("keydown",function(o){o.isDefaultPrevented()===!1&&d7(t,e,o)})},m7=function(t,e,o){Ly([{keyCode:Be.BACKSPACE,action:Ao(uD,t,!1)},{keyCode:Be.BACKSPACE,action:Ao(dh,t,!1)},{keyCode:Be.DELETE,action:Ao(dh,t,!0)},{keyCode:Be.BACKSPACE,action:Ao(oC,t,!1)},{keyCode:Be.DELETE,action:Ao(oC,t,!0)},{keyCode:Be.BACKSPACE,action:Ao(dC,t,e,!1)},{keyCode:Be.DELETE,action:Ao(dC,t,e,!0)},{keyCode:Be.BACKSPACE,action:Ao(kx,t,!1)},{keyCode:Be.DELETE,action:Ao(kx,t,!0)},{keyCode:Be.BACKSPACE,action:Ao(By,t,!1)},{keyCode:Be.DELETE,action:Ao(By,t,!0)},{keyCode:Be.BACKSPACE,action:Ao(mC,t,!1)},{keyCode:Be.DELETE,action:Ao(mC,t,!0)},{keyCode:Be.BACKSPACE,action:Ao(Fy,t,!1)},{keyCode:Be.DELETE,action:Ao(Fy,t,!0)},{keyCode:Be.BACKSPACE,action:Ao(fh,t,!1)},{keyCode:Be.DELETE,action:Ao(fh,t,!0)},{keyCode:Be.BACKSPACE,action:Ao(My,t,!1)},{keyCode:Be.DELETE,action:Ao(My,t,!0)}],o).each(function(u){o.preventDefault()})},g7=function(t,e){Ly([{keyCode:Be.BACKSPACE,action:Ao(Y3,t)},{keyCode:Be.DELETE,action:Ao(Y3,t)}],e)},p7=function(t,e){t.on("keydown",function(o){o.isDefaultPrevented()===!1&&m7(t,e,o)}),t.on("keyup",function(o){o.isDefaultPrevented()===!1&&g7(t,o)})},HD=function(t){for(;t;){if(t.nodeType===1||t.nodeType===3&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}},Hy=function(t,e){var o,u=e,c=t.dom,f=t.schema.getMoveCaretBeforeOnEnterElements();if(e){if(/^(LI|DT|DD)$/.test(e.nodeName)){var p=HD(e.firstChild);p&&/^(UL|OL|DL)$/.test(p.nodeName)&&e.insertBefore(c.doc.createTextNode(uu),e.firstChild)}var b=c.createRng();if(e.normalize(),e.hasChildNodes()){for(var y=new Wi(e,e);o=y.current();){if(z(o)){b.setStart(o,0),b.setEnd(o,0);break}if(f[o.nodeName.toLowerCase()]){b.setStartBefore(o),b.setEndBefore(o);break}u=o,o=y.next()}o||(b.setStart(u,0),b.setEnd(u,0))}else In(e)?e.nextSibling&&c.isBlock(e.nextSibling)?(b.setStartBefore(e),b.setEndBefore(e)):(b.setStartAfter(e),b.setEndAfter(e)):(b.setStart(e,0),b.setEnd(e,0));t.selection.setRng(b),jp(t,b)}},h7=function(t,e){var o=t.getRoot(),u,c;for(u=e;u!==o&&t.getContentEditable(u)!=="false";)t.getContentEditable(u)==="true"&&(c=u),u=u.parentNode;return u!==o?c:o},sc=function(t){return I.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock))},v7=function(t){return sc(t).fold(jt(""),function(e){return e.nodeName.toUpperCase()})},SE=function(t){return sc(t).filter(function(e){return oa(H.fromDom(e))}).isSome()},VD=function(t,e){return t.firstChild&&t.firstChild.nodeName===e},kE=function(t){var e;return((e=t.parentNode)===null||e===void 0?void 0:e.firstChild)===t},UD=function(t,e){return t&&t.parentNode&&t.parentNode.nodeName===e},jD=function(t){return t&&/^(OL|UL|LI)$/.test(t.nodeName)},qD=function(t){return jD(t)&&jD(t.parentNode)},wC=function(t){var e=t.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:t},xC=function(t,e,o){for(var u=t[o?"firstChild":"lastChild"];u&&!Vr(u);)u=u[o?"nextSibling":"previousSibling"];return u===e},b7=function(t,e,o,u,c){var f=t.dom,p=t.selection.getRng();if(o!==t.getBody()){qD(o)&&(c="LI");var b=c?e(c):f.create("BR");if(xC(o,u,!0)&&xC(o,u,!1))if(UD(o,"LI")){var y=wC(o);f.insertAfter(b,y),kE(o)?f.remove(y):f.remove(o)}else f.replace(b,o);else if(xC(o,u,!0))UD(o,"LI")?(f.insertAfter(b,wC(o)),b.appendChild(f.doc.createTextNode(" ")),b.appendChild(o)):o.parentNode.insertBefore(b,o),f.remove(u);else if(xC(o,u,!1))f.insertAfter(b,wC(o)),f.remove(u);else{o=wC(o);var A=p.cloneRange();A.setStartAfter(u),A.setEndAfter(o);var N=A.extractContents();c==="LI"&&VD(N,"LI")?(b=N.firstChild,f.insertAfter(N,o)):(f.insertAfter(N,o),f.insertAfter(b,o)),f.remove(u)}Hy(t,b)}},y7=function(t){yt(N1(H.fromDom(t),Ti),function(e){var o=e.dom;o.nodeValue=kc(o.nodeValue)})},w7=function(t,e){return e&&e.nodeName==="A"&&t.isEmpty(e)},x7=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},EE=function(t){t.innerHTML='<br data-mce-bogus="1">'},AE=function(t,e){return t.nodeName===e||t.previousSibling&&t.previousSibling.nodeName===e},WD=function(t,e){return e&&t.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&t.getContentEditable(e)!=="true"},sa=function(t,e,o){var u=o,c=[],f;if(u){for(;u=u.firstChild;){if(t.isBlock(u))return;Vr(u)&&!e[u.nodeName.toLowerCase()]&&c.push(u)}for(f=c.length;f--;)u=c[f],(!u.hasChildNodes()||u.firstChild===u.lastChild&&u.firstChild.nodeValue===""||w7(t,u))&&t.remove(u)}},TE=function(t,e,o){return z(e)===!1?o:t?o===1&&e.data.charAt(o-1)===Bu?0:o:o===e.data.length-1&&e.data.charAt(o)===Bu?e.data.length:o},C7=function(t){var e=t.cloneRange();return e.setStart(t.startContainer,TE(!0,t.startContainer,t.startOffset)),e.setEnd(t.endContainer,TE(!1,t.endContainer,t.endOffset)),e},S7=function(t){do z(t)&&(t.nodeValue=t.nodeValue.replace(/^[\r\n]+/,"")),t=t.firstChild;while(t)},Va=function(t,e){var o=t.getRoot(),u,c;for(u=e;u!==o&&t.getContentEditable(u)!=="false";)t.getContentEditable(u)==="true"&&(c=u),u=u.parentNode;return u!==o?c:o},k7=function(t,e,o){var u=t.dom;I.from(o.style).map(u.parseStyle).each(function(y){var A=ef(H.fromDom(e)),N=Xe(Xe({},A),y);u.setStyles(e,N)});var c=I.from(o.class).map(function(y){return y.split(/\s+/)}),f=I.from(e.className).map(function(y){return An(y.split(/\s+/),function(A){return A!==""})});Ma(c,f,function(y,A){var N=An(A,function(M){return!Wt(y,M)}),B=gi(y,N);u.setAttrib(e,"class",B.join(" "))});var p=["style","class"],b=fe(o,function(y,A){return!Wt(p,A)});u.setAttribs(e,b)},T0=function(t,e){var o=du(t);if(o&&o.toLowerCase()===e.tagName.toLowerCase()){var u=Cf(t);k7(t,e,u)}},Pc=function(t,e,o,u,c){var f,p,b,y,A,N,B=e||"P",M=t.dom,X=Va(M,u);if(p=M.getParent(u,M.isBlock),!p||!WD(M,p)){if(p=p||X,p===t.getBody()||x7(p)?N=p.nodeName.toLowerCase():N=p.parentNode.nodeName.toLowerCase(),!p.hasChildNodes())return f=M.create(B),T0(t,f),p.appendChild(f),o.setStart(f,0),o.setEnd(f,0),f;for(y=u;y.parentNode!==p;)y=y.parentNode;for(;y&&!M.isBlock(y);)b=y,y=y.previousSibling;if(b&&t.schema.isValidChild(N,B.toLowerCase())){for(f=M.create(B),T0(t,f),b.parentNode.insertBefore(f,b),y=b;y&&!M.isBlock(y);)A=y.nextSibling,f.appendChild(y),y=A;o.setStart(u,c),o.setEnd(u,c)}}return u},E7=function(t,e){e.normalize();var o=e.lastChild;(!o||/^(left|right)$/gi.test(t.getStyle(o,"float",!0)))&&t.add(e,"br")},O0=function(t,e){var o,u,c,f,p,b,y,A,N,B,M=t.dom,X=t.schema,J=X.getNonEmptyElements(),Q=t.selection.getRng(),$=function(te){var se=u,Ge,nr,Ln,Tr=X.getTextInlineElements();if(te||A==="TABLE"||A==="HR"?Ge=M.create(te||N):Ge=f.cloneNode(!1),Ln=Ge,X2(t)===!1)M.setAttrib(Ge,"style",null),M.setAttrib(Ge,"class",null);else do if(Tr[se.nodeName]){if(Ks(se)||Pa(se))continue;nr=se.cloneNode(!1),M.setAttrib(nr,"id",""),Ge.hasChildNodes()?(nr.appendChild(Ge.firstChild),Ge.appendChild(nr)):(Ln=nr,Ge.appendChild(nr))}while((se=se.parentNode)&&se!==Ut);return T0(t,Ge),EE(Ln),Ge},pt=function(te){var se,Ge,nr=TE(te,u,c);if(z(u)&&(te?nr>0:nr<u.nodeValue.length))return!1;if(u.parentNode===f&&B&&!te||te&&Vr(u)&&u===f.firstChild)return!0;if(AE(u,"TABLE")||AE(u,"HR"))return B&&!te||!B&&te;var Ln=new Wi(u,f);for(z(u)&&(te&&nr===0?Ln.prev():!te&&nr===u.nodeValue.length&&Ln.next());se=Ln.current();){if(Vr(se)){if(!se.getAttribute("data-mce-bogus")&&(Ge=se.nodeName.toLowerCase(),J[Ge]&&Ge!=="br"))return!1}else if(z(se)&&!sd(se.nodeValue))return!1;te?Ln.prev():Ln.next()}return!0},mt=function(){/^(H[1-6]|PRE|FIGURE)$/.test(A)&&On!=="HGROUP"?p=$(N):p=$(),LS(t)&&WD(M,y)&&M.isEmpty(f)?p=M.split(y,f):M.insertAfter(p,f),Hy(t,p)};Rp(M,Q).each(function(te){Q.setStart(te.startContainer,te.startOffset),Q.setEnd(te.endContainer,te.endOffset)}),u=Q.startContainer,c=Q.startOffset,N=du(t);var vt=!!(e&&e.shiftKey),Tt=!!(e&&e.ctrlKey);Vr(u)&&u.hasChildNodes()&&(B=c>u.childNodes.length-1,u=u.childNodes[Math.min(c,u.childNodes.length-1)]||u,B&&z(u)?c=u.nodeValue.length:c=0);var Ut=Va(M,u);if(Ut){(N&&!vt||!N&&vt)&&(u=Pc(t,N,Q,u,c)),f=M.getParent(u,M.isBlock),y=f?M.getParent(f.parentNode,M.isBlock):null,A=f?f.nodeName.toUpperCase():"";var On=y?y.nodeName.toUpperCase():"";if(On==="LI"&&!Tt&&(f=y,y=y.parentNode,A=On),/^(LI|DT|DD)$/.test(A)&&M.isEmpty(f)){b7(t,$,y,f,N);return}N&&f===t.getBody()||(N=N||"P",yu(f)?(p=J0(f),M.isEmpty(f)&&EE(f),T0(t,p),Hy(t,p)):pt()?mt():pt(!0)?(p=f.parentNode.insertBefore($(),f),Hy(t,AE(f,"HR")?p:f)):(o=C7(Q).cloneRange(),o.setEndAfter(f),b=o.extractContents(),y7(b),S7(b),p=b.firstChild,M.insertAfter(b,f),sa(M,J,p),E7(M,f),M.isEmpty(f)&&EE(f),p.normalize(),M.isEmpty(p)?(M.remove(p),mt()):(T0(t,p),Hy(t,p))),M.setAttrib(p,"id",""),t.fire("NewBlock",{newBlock:p}))}},A7=function(t,e,o){for(var u=new Wi(e,o),c,f=t.getNonEmptyElements();c=u.next();)if(f[c.nodeName.toLowerCase()]||c.length>0)return!0},CC=function(t,e,o){var u=t.dom.createRng();o?(u.setStartBefore(e),u.setEndBefore(e)):(u.setStartAfter(e),u.setEndAfter(e)),t.selection.setRng(u),jp(t,u)},T7=function(t,e){var o=t.selection,u=t.dom,c=o.getRng(),f,p;Rp(u,c).each(function(J){c.setStart(J.startContainer,J.startOffset),c.setEnd(J.endContainer,J.endOffset)});var b=c.startOffset,y=c.startContainer;if(y.nodeType===1&&y.hasChildNodes()){var A=b>y.childNodes.length-1;y=y.childNodes[Math.min(b,y.childNodes.length-1)]||y,A&&y.nodeType===3?b=y.nodeValue.length:b=0}var N=u.getParent(y,u.isBlock),B=N?u.getParent(N.parentNode,u.isBlock):null,M=B?B.nodeName.toUpperCase():"",X=!!(e&&e.ctrlKey);M==="LI"&&!X&&(N=B),y&&y.nodeType===3&&b>=y.nodeValue.length&&(A7(t.schema,y,N)||(f=u.create("br"),c.insertNode(f),c.setStartAfter(f),c.setEndAfter(f),p=!0)),f=u.create("br"),pp(u,c,f),CC(t,f,p),t.undoManager.add()},O7=function(t,e){var o=H.fromTag("br");Jo(H.fromDom(e),o),t.undoManager.add()},D7=function(t,e){F7(t.getBody(),e)||Uc(H.fromDom(e),H.fromTag("br"));var o=H.fromTag("br");Uc(H.fromDom(e),o),CC(t,o.dom,!1),t.undoManager.add()},_7=function(t){return In(t.getNode())},F7=function(t,e){return _7(wn.after(e))?!0:ts(t,wn.after(e)).map(function(o){return In(o.getNode())}).getOr(!1)},YD=function(t){return t&&t.nodeName==="A"&&"href"in t},SC=function(t){return t.fold(ve,YD,YD,ve)},$D=function(t){var e=Qt(v0,t),o=wn.fromRangeStart(t.selection.getRng());return al(e,t.getBody(),o).filter(SC)},B7=function(t,e){e.fold(tt,Qt(O7,t),Qt(D7,t),tt)},XD=function(t,e){var o=$D(t);o.isSome()?o.each(Qt(B7,t)):T7(t,e)},GD=function(t,e){return sc(t).filter(function(o){return e.length>0&&Du(H.fromDom(o),e)}).isSome()},N7=function(t){return GD(t,$2(t))},z7=function(t){return GD(t,PS(t))},lc=xc.generate([{br:[]},{block:[]},{none:[]}]),KD=function(t,e){return z7(t)},kC=function(t){return function(e,o){var u=du(e)==="";return u===t}},OE=function(t){return function(e,o){return SE(e)===t}},JD=function(t,e){return function(o,u){var c=v7(o)===t.toUpperCase();return c===e}},EC=function(t){return JD("pre",t)},M7=function(){return JD("summary",!0)},AC=function(t){return function(e,o){return RS(e)===t}},R7=function(t,e){return N7(t)},Vy=function(t,e){return e},DE=function(t){var e=du(t),o=h7(t.dom,t.selection.getStart());return o&&t.schema.isValidChild(o.nodeName,e||"P")},Ns=function(t,e){return function(o,u){var c=ze(t,function(f,p){return f&&p(o,u)},!0);return c?I.some(e):I.none()}},P7=function(t,e){return qO([Ns([KD],lc.none()),Ns([M7()],lc.br()),Ns([EC(!0),AC(!1),Vy],lc.br()),Ns([EC(!0),AC(!1)],lc.block()),Ns([EC(!0),AC(!0),Vy],lc.block()),Ns([EC(!0),AC(!0)],lc.br()),Ns([OE(!0),Vy],lc.br()),Ns([OE(!0)],lc.block()),Ns([kC(!0),Vy,DE],lc.block()),Ns([kC(!0)],lc.br()),Ns([R7],lc.br()),Ns([kC(!1),Vy],lc.br()),Ns([DE],lc.block())],[t,!!(e&&e.shiftKey)]).getOr(lc.none())},ZD=function(t,e){P7(t,e).fold(function(){XD(t,e)},function(){O0(t,e)},tt)},L7=function(t,e){e.isDefaultPrevented()||(e.preventDefault(),n3(t.undoManager),t.undoManager.transact(function(){t.selection.isCollapsed()===!1&&t.execCommand("Delete"),ZD(t,e)}))},QD=function(t){t.on("keydown",function(e){e.keyCode===Be.ENTER&&L7(t,e)})},I7=function(t,e){Ly([{keyCode:Be.END,action:Ao(AD,t,!0)},{keyCode:Be.HOME,action:Ao(AD,t,!1)},{keyCode:Be.END,action:Ao(Iy,t,!0)},{keyCode:Be.HOME,action:Ao(Iy,t,!1)}],e).each(function(o){e.preventDefault()})},H7=function(t){t.on("keydown",function(e){e.isDefaultPrevented()===!1&&I7(t,e)})},V7=lo().browser,U7=function(t){var e=rv(function(){t.composing||c4(t)},0);V7.isIE()&&(t.on("keypress",function(o){e.throttle()}),t.on("remove",function(o){e.cancel()}))},t_=function(t){U7(t),t.on("input",function(e){e.isComposing===!1&&c4(t)})},Uy=function(t,e){var o=e.container(),u=e.offset();return z(o)?(o.insertData(u,t),I.some(wn(o,u+t.length))):Ap(e).map(function(c){var f=H.fromText(t);return e.isAtEnd()?Uc(c,f):Jo(c,f),wn(f.dom,t.length)})},n_=Qt(Uy,uu),e_=Qt(Uy," "),j7=function(t){return function(e){return e.fold(function(o){return Os(t.dom,wn.before(o))},function(o){return xa(o)},function(o){return Gs(o)},function(o){return ts(t.dom,wn.after(o))})}},q7=function(t,e){return function(o){return Qv(t,o)?n_(e):e_(e)}},_E=function(t){return function(e){return t.selection.setRng(e.toRange()),t.nodeChanged(),!0}},W7=function(t){var e=wn.fromRangeStart(t.selection.getRng()),o=H.fromDom(t.getBody());if(t.selection.isCollapsed()){var u=Qt(v0,t),c=wn.fromRangeStart(t.selection.getRng());return al(u,t.getBody(),c).bind(j7(o)).bind(q7(o,e)).exists(_E(t))}else return!1},Y7=function(t,e){Ly([{keyCode:Be.SPACEBAR,action:Ao(W7,t)}],e).each(function(o){e.preventDefault()})},$7=function(t){t.on("keydown",function(e){e.isDefaultPrevented()===!1&&Y7(t,e)})},X7=function(t){var e=c8(t);return B8(t),yC(t,e),p7(t,e),QD(t),$7(t),t_(t),H7(t),e},cl=function(t){return Ux(t)?Io(null):X7(t)},r_=function(){function t(e){this.lastPath=[],this.editor=e;var o,u=this;"onselectionchange"in e.getDoc()||e.on("NodeChange click mouseup keyup focus",function(c){var f=e.selection.getRng(),p={startContainer:f.startContainer,startOffset:f.startOffset,endContainer:f.endContainer,endOffset:f.endOffset};(c.type==="nodechange"||!Ml(p,o))&&e.fire("SelectionChange"),o=p}),e.on("contextmenu",function(){e.fire("SelectionChange")}),e.on("SelectionChange",function(){var c=e.selection.getStart(!0);!c||!Ue.range&&e.selection.isCollapsed()||Fv(e)&&!u.isSameElementPath(c)&&e.dom.isChildOf(c,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on("mouseup",function(c){!c.isDefaultPrevented()&&Fv(e)&&(e.selection.getNode().nodeName==="IMG"?Hr.setEditorTimeout(e,function(){e.nodeChanged()}):e.nodeChanged())})}return t.prototype.nodeChanged=function(e){var o=this.editor.selection,u,c,f;this.editor.initialized&&o&&!lw(this.editor)&&!this.editor.mode.isReadOnly()&&(f=this.editor.getBody(),u=o.getStart(!0)||f,(u.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(u,f))&&(u=f),c=[],this.editor.dom.getParent(u,function(p){if(p===f)return!0;c.push(p)}),e=e||{},e.element=u,e.parents=c,this.editor.fire("NodeChange",e))},t.prototype.isSameElementPath=function(e){var o,u=this.editor.$(e).parentsUntil(this.editor.getBody()).add(e);if(u.length===this.lastPath.length){for(o=u.length;o>=0&&u[o]===this.lastPath[o];o--);if(o===-1)return this.lastPath=u,!0}return this.lastPath=u,!1},t}(),o_=function(t){t.on("click",function(e){t.dom.getParent(e.target,"details")&&e.preventDefault()})},G7=function(t){t.parser.addNodeFilter("details",function(e){yt(e,function(o){o.attr("data-mce-open",o.attr("open")),o.attr("open","open")})}),t.serializer.addNodeFilter("details",function(e){yt(e,function(o){var u=o.attr("data-mce-open");o.attr("open",$e(u)?u:null),o.attr("data-mce-open",null)})})},K7=function(t){o_(t),G7(t)},i_=function(t){return Vr(t)&&id(H.fromDom(t))},J7=function(t){var e=t.selection.getRng(),o=wn.fromRangeStart(e),u=wn.fromRangeEnd(e);if(wn.isElementPosition(o)){var c=o.container();i_(c)&&xa(c).each(function(f){return e.setStart(f.container(),f.offset())})}if(wn.isElementPosition(u)){var c=o.container();i_(c)&&Gs(c).each(function(p){return e.setEnd(p.container(),p.offset())})}t.selection.setRng(y4(e))},Z7=function(t){t.on("click",function(e){e.detail>=3&&J7(t)})},Q7=function(){var t=Io(I.none()),e=function(){return t.set(I.none())},o=function(f){return t.set(I.some(f))},u=function(){return t.get().isSome()},c=function(f){return t.get().each(f)};return{clear:e,set:o,isSet:u,on:c}},u_=function(t){var e=t.getBoundingClientRect(),o=t.ownerDocument,u=o.documentElement,c=o.defaultView;return{top:e.top+c.pageYOffset-u.clientTop,left:e.left+c.pageXOffset-u.clientLeft}},FE=function(t){return t.inline?u_(t.getBody()):{left:0,top:0}},tN=function(t){var e=t.getBody();return t.inline?{left:e.scrollLeft,top:e.scrollTop}:{left:0,top:0}},nN=function(t){var e=t.getBody(),o=t.getDoc().documentElement,u={left:e.scrollLeft,top:e.scrollTop},c={left:e.scrollLeft||o.scrollLeft,top:e.scrollTop||o.scrollTop};return t.inline?u:c},a_=function(t,e){if(e.target.ownerDocument!==t.getDoc()){var o=u_(t.getContentAreaContainer()),u=nN(t);return{left:e.pageX-o.left+u.left,top:e.pageY-o.top+u.top}}return{left:e.pageX,top:e.pageY}},eN=function(t,e,o){return{pageX:o.left-t.left+e.left,pageY:o.top-t.top+e.top}},rN=function(t,e){return eN(FE(t),tN(t),a_(t,e))},TC=_r,oN=Br,iN=function(t,e){return TC(e)&&e!==t},uN=function(t,e,o){return e===o||t.dom.isChildOf(e,o)?!1:!TC(e)},BE=function(t){var e=t.cloneNode(!0);return e.removeAttribute("data-mce-selected"),e},aN=function(t,e,o,u){var c=t.dom,f=e.cloneNode(!0);c.setStyles(f,{width:o,height:u}),c.setAttrib(f,"data-mce-selected",null);var p=c.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return c.setStyles(p,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:o,height:u}),c.setStyles(f,{margin:0,boxSizing:"border-box"}),p.appendChild(f),p},c_=function(t,e){t.parentNode!==e&&e.appendChild(t)},cN=function(t,e,o,u,c,f){var p=0,b=0;t.style.left=e.pageX+"px",t.style.top=e.pageY+"px",e.pageX+o>c&&(p=e.pageX+o-c),e.pageY+u>f&&(b=e.pageY+u-f),t.style.width=o-p+"px",t.style.height=u-b+"px"},s_=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},sN=function(t){return t.button===0},lN=function(t,e){return{pageX:e.pageX-t.relX,pageY:e.pageY+5}},Eu=function(t,e){return function(o){if(sN(o)){var u=Lr(e.dom.getParents(o.target),j1(TC,oN)).getOr(null);if(iN(e.getBody(),u)){var c=e.dom.getPos(u),f=e.getBody(),p=e.getDoc().documentElement;t.set({element:u,dragging:!1,screenX:o.screenX,screenY:o.screenY,maxX:(e.inline?f.scrollWidth:p.offsetWidth)-2,maxY:(e.inline?f.scrollHeight:p.offsetHeight)-2,relX:o.pageX-c.x,relY:o.pageY-c.y,width:u.offsetWidth,height:u.offsetHeight,ghost:aN(e,u,u.offsetWidth,u.offsetHeight)})}}}},fN=function(t,e){var o=Hr.throttle(function(u,c){e._selectionOverrides.hideFakeCaret(),e.selection.placeCaretAt(u,c)},0);return e.on("remove",o.stop),function(u){return t.on(function(c){var f=Math.max(Math.abs(u.screenX-c.screenX),Math.abs(u.screenY-c.screenY));if(!c.dragging&&f>10){var p=e.fire("dragstart",{target:c.element});if(p.isDefaultPrevented())return;c.dragging=!0,e.focus()}if(c.dragging){var b=lN(c,rN(e,u));c_(c.ghost,e.getBody()),cN(c.ghost,b,c.width,c.height,c.maxX,c.maxY),o(u.clientX,u.clientY)}})}},dN=function(t){var e=t.getSel().getRangeAt(0),o=e.startContainer;return o.nodeType===3?o.parentNode:o},mN=function(t,e){return function(o){t.on(function(u){if(u.dragging&&uN(e,dN(e.selection),u.element)){var c=BE(u.element),f=e.fire("drop",{clientX:o.clientX,clientY:o.clientY});f.isDefaultPrevented()||e.undoManager.transact(function(){s_(u.element),e.insertContent(e.dom.getOuterHTML(c)),e._selectionOverrides.hideFakeCaret()})}}),OC(t)}},l_=function(t,e){return function(){t.on(function(o){o.dragging&&e.fire("dragend")}),OC(t)}},OC=function(t){t.on(function(e){s_(e.ghost)}),t.clear()},gN=function(t){var e=Q7(),o=Zo.DOM,u=document,c=Eu(e,t),f=fN(e,t),p=mN(e,t),b=l_(e,t);t.on("mousedown",c),t.on("mousemove",f),t.on("mouseup",p),o.bind(u,"mousemove",f),o.bind(u,"mouseup",b),t.on("remove",function(){o.unbind(u,"mousemove",f),o.unbind(u,"mouseup",b)})},pN=function(t){t.on("drop",function(e){var o=typeof e.clientX!="undefined"?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;(TC(o)||t.dom.getContentEditableParent(o)==="false")&&e.preventDefault()})},hN=function(t){var e=function(c){if(!c.isDefaultPrevented()){var f=c.dataTransfer;f&&(Wt(f.types,"Files")||f.files.length>0)&&(c.preventDefault(),c.type==="drop"&&Kx(t,"Dropped file type is not supported"))}},o=function(c){Xp(t,c.target)&&e(c)},u=function(){var c=Zo.DOM,f=t.dom,p=document,b=t.inline?t.getBody():t.getDoc(),y=["drop","dragover"];yt(y,function(A){c.bind(p,A,o),f.bind(b,A,e)}),t.on("remove",function(){yt(y,function(A){c.unbind(p,A,o),f.unbind(b,A,e)})})};t.on("init",function(){Hr.setEditorTimeout(t,u,0)})},vN=function(t){gN(t),pN(t),Sf(t)&&hN(t)},bN=function(t){var e=rv(function(){if(!t.removed&&t.getBody().contains(document.activeElement)){var o=t.selection.getRng();if(o.collapsed){var u=U3(t,o,!1);t.selection.setRng(u)}}},0);t.on("focus",function(){e.throttle()}),t.on("blur",function(){e.cancel()})},yN=function(t){t.on("init",function(){t.on("focusin",function(e){var o=e.target;if(Ur(o)){var u=qd(t.getBody(),o),c=_r(u)?u:o;t.selection.getNode()!==c&&y0(t,c).each(function(f){return t.selection.setRng(f)})}})})},f_=Br,hh=_r,DC=function(t,e){return qd(t.getBody(),e)},wN=function(t){var e=t.selection,o=t.dom,u=o.isBlock,c=t.getBody(),f=rg(t,c,u,function(){return Qd(t)}),p="sel-"+o.uniqueId(),b="data-mce-selected",y,A=function(Ln){return o.hasClass(Ln,"mce-offscreen-selection")},N=function(Ln){return Ln!==c&&(hh(Ln)||Ur(Ln))&&o.isChildOf(Ln,c)},B=function(Ln){return En(Ln)||_n(Ln)||V(Ln)||ct(Ln)},M=function(){var Ln=o.get(p);return Ln&&Ln.getElementsByTagName("*")[0]},X=function(Ln){Ln&&e.setRng(Ln)},J=e.getRng,Q=function(Ln,Tr,Ce,Je){Je===void 0&&(Je=!0);var ie=t.fire("ShowCaret",{target:Tr,direction:Ln,before:Ce});return ie.isDefaultPrevented()?null:(Je&&e.scrollIntoView(Tr,Ln===-1),f.show(Ce,Tr))},$=function(Ln){Ln.hasAttribute("data-mce-caret")&&(J0(Ln),X(J()),e.scrollIntoView(Ln))},pt=function(){t.on("mouseup",function(ie){var Te=J();Te.collapsed&&iO(t,ie.clientX,ie.clientY)&&BO(t,Te,!1).each(X)}),t.on("click",function(ie){var Te=DC(t,ie.target);Te&&(hh(Te)&&(ie.preventDefault(),t.focus()),f_(Te)&&o.isChildOf(Te,e.getNode())&&se())}),t.on("blur NewBlock",se),t.on("ResizeWindow FullscreenStateChanged",f.reposition);var Ln=function(ie){var Te=Ts(ie);if(!ie.firstChild)return!1;var je=wn.before(ie.firstChild),$n=Te.next(je);return $n&&!B($n)},Tr=function(ie,Te){var je=o.getParent(ie,u),$n=o.getParent(Te,u);return je===$n},Ce=function(ie,Te){var je=o.getParent(ie,u),$n=o.getParent(Te,u);return je&&ie!==$n&&o.isChildOf(je,$n)&&hh(DC(t,je))===!1?!0:je&&!Tr(je,$n)&&Ln(je)};t.on("tap",function(ie){var Te=ie.target,je=DC(t,Te);hh(je)?(ie.preventDefault(),y0(t,je).each(te)):N(Te)&&y0(t,Te).each(te)},!0),t.on("mousedown",function(ie){var Te=ie.target;if(!(Te!==c&&Te.nodeName!=="HTML"&&!o.isChildOf(Te,c))&&iO(t,ie.clientX,ie.clientY)!==!1){var je=DC(t,Te);if(je)hh(je)?(ie.preventDefault(),y0(t,je).each(te)):(se(),!(f_(je)&&ie.shiftKey)&&!Mp(ie.clientX,ie.clientY,e.getRng())&&(nr(),e.placeCaretAt(ie.clientX,ie.clientY)));else if(N(Te))y0(t,Te).each(te);else if(Fl(Te)===!1){se(),nr();var $n=lE(c,ie.clientX,ie.clientY);if($n&&!Ce(Te,$n.node)){ie.preventDefault();var We=Q(1,$n.node,$n.before,!1);t.getBody().focus(),X(We)}}}}),t.on("keypress",function(ie){Be.modifierPressed(ie)||hh(e.getNode())&&ie.preventDefault()}),t.on("GetSelectionRange",function(ie){var Te=ie.range;if(y){if(!y.parentNode){y=null;return}Te=Te.cloneRange(),Te.selectNode(y),ie.range=Te}}),t.on("SetSelectionRange",function(ie){ie.range=Tt(ie.range);var Te=te(ie.range,ie.forward);Te&&(ie.range=Te)});var Je=function(ie){return ie.id==="mcepastebin"};t.on("AfterSetSelectionRange",function(ie){var Te=ie.range,je=Te.startContainer.parentNode;!vt(Te)&&!Je(je)&&nr(),A(je)||se()}),t.on("copy",function(ie){var Te=ie.clipboardData;if(!ie.isDefaultPrevented()&&ie.clipboardData&&!Ue.ie){var je=M();je&&(ie.preventDefault(),Te.clearData(),Te.setData("text/html",je.outerHTML),Te.setData("text/plain",je.outerText||je.innerText))}}),vN(t),bN(t),yN(t)},mt=function(Ln){return pa(Ln)||Rh(Ln)||Yi(Ln)},vt=function(Ln){return mt(Ln.startContainer)||mt(Ln.endContainer)},Tt=function(Ln){var Tr=t.schema.getShortEndedElements(),Ce=o.createRng(),Je=Ln.startContainer,ie=Ln.startOffset,Te=Ln.endContainer,je=Ln.endOffset;return Er(Tr,Je.nodeName.toLowerCase())?ie===0?Ce.setStartBefore(Je):Ce.setStartAfter(Je):Ce.setStart(Je,ie),Er(Tr,Te.nodeName.toLowerCase())?je===0?Ce.setEndBefore(Te):Ce.setEndAfter(Te):Ce.setEnd(Te,je),Ce},Ut=function(Ln,Tr,Ce){var Je=t.$,ie=Sl(H.fromDom(t.getBody()),"#"+p).fold(function(){return Je([])},function($n){return Je([$n.dom])});ie.length===0&&(ie=Je('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",p),ie.appendTo(t.getBody()));var Te=o.createRng();Tr===Ce&&Ue.ie?(ie.empty().append('<p style="font-size: 0" data-mce-bogus="all">\xA0</p>').append(Tr),Te.setStartAfter(ie[0].firstChild.firstChild),Te.setEndAfter(Tr)):(ie.empty().append(uu).append(Tr).append(uu),Te.setStart(ie[0].firstChild,1),Te.setEnd(ie[0].lastChild,0)),ie.css({top:o.getPos(Ln,t.getBody()).y}),ie[0].focus();var je=e.getSel();return je.removeAllRanges(),je.addRange(Te),Te},On=function(Ln){var Tr=Ln.cloneNode(!0),Ce=t.fire("ObjectSelected",{target:Ln,targetClone:Tr});if(Ce.isDefaultPrevented())return null;var Je=Ut(Ln,Ce.targetClone,Tr),ie=H.fromDom(Ln);return yt(ya(H.fromDom(t.getBody()),"*[data-mce-selected]"),function(Te){Cr(ie,Te)||ga(Te,b)}),o.getAttrib(Ln,b)||Ln.setAttribute(b,"1"),y=Ln,nr(),Je},te=function(Ln,Tr){if(!Ln)return null;if(Ln.collapsed){if(!vt(Ln)){var Ce=Tr?1:-1,Je=Md(Ce,c,Ln),ie=Je.getNode(!Tr);if(Fl(ie))return Q(Ce,ie,Tr?!Je.isAtEnd():!1,!1);var Te=Je.getNode(Tr);if(Fl(Te))return Q(Ce,Te,Tr?!1:!Je.isAtEnd(),!1)}return null}var je=Ln.startContainer,$n=Ln.startOffset,We=Ln.endOffset;if(je.nodeType===3&&$n===0&&hh(je.parentNode)&&(je=je.parentNode,$n=o.nodeIndex(je),je=je.parentNode),je.nodeType!==1)return null;if(We===$n+1&&je===Ln.endContainer){var bo=je.childNodes[$n];if(N(bo))return On(bo)}return null},se=function(){y&&y.removeAttribute(b),Sl(H.fromDom(t.getBody()),"#"+p).each(Zi),y=null},Ge=function(){f.destroy(),y=null},nr=function(){f.hide()};return Ue.ceFalse&&pt(),{showCaret:Q,showBlockCaretContainer:$,hideFakeCaret:nr,destroy:Ge}},xN=function(t){var e=hn.each,o=Be.BACKSPACE,u=Be.DELETE,c=t.dom,f=t.selection,p=t.parser,b=Ue.gecko,y=Ue.ie,A=Ue.webkit,N="data:text/mce-internal,",B=y?"Text":"URL",M=function(Ye,Ke){try{t.getDoc().execCommand(Ye,!1,Ke)}catch{}},X=function(Ye){return Ye.isDefaultPrevented()},J=function(Ye){var Ke,De;Ye.dataTransfer&&(t.selection.isCollapsed()&&Ye.target.tagName==="IMG"&&f.select(Ye.target),Ke=t.selection.getContent(),Ke.length>0&&(De=N+escape(t.id)+","+escape(Ke),Ye.dataTransfer.setData(B,De)))},Q=function(Ye){var Ke;return Ye.dataTransfer&&(Ke=Ye.dataTransfer.getData(B),Ke&&Ke.indexOf(N)>=0)?(Ke=Ke.substr(N.length).split(","),{id:unescape(Ke[0]),html:unescape(Ke[1])}):null},$=function(Ye,Ke){t.queryCommandSupported("mceInsertClipboardContent")?t.execCommand("mceInsertClipboardContent",!1,{content:Ye,internal:Ke}):t.execCommand("mceInsertContent",!1,Ye)},pt=function(){var Ye=function(De){var pe=c.create("body"),fn=De.cloneContents();return pe.appendChild(fn),f.serializer.serialize(pe,{format:"html"})},Ke=function(De){var pe=Ye(De),fn=c.createRng();fn.selectNode(t.getBody());var me=Ye(fn);return pe===me};t.on("keydown",function(De){var pe=De.keyCode,fn,me;if(!X(De)&&(pe===u||pe===o)){if(fn=t.selection.isCollapsed(),me=t.getBody(),fn&&!c.isEmpty(me)||!fn&&!Ke(t.selection.getRng()))return;De.preventDefault(),t.setContent(""),me.firstChild&&c.isBlock(me.firstChild)?t.selection.setCursorLocation(me.firstChild,0):t.selection.setCursorLocation(me,0),t.nodeChanged()}})},mt=function(){t.shortcuts.add("meta+a",null,"SelectAll")},vt=function(){t.inline||c.bind(t.getDoc(),"mousedown mouseup",function(Ye){var Ke;if(Ye.target===t.getDoc().documentElement)if(Ke=f.getRng(),t.getBody().focus(),Ye.type==="mousedown"){if(pa(Ke.startContainer))return;f.placeCaretAt(Ye.clientX,Ye.clientY)}else f.setRng(Ke)})},Tt=function(){t.on("keydown",function(Ye){if(!X(Ye)&&Ye.keyCode===o){if(!t.getBody().getElementsByTagName("hr").length)return;if(f.isCollapsed()&&f.getRng().startOffset===0){var Ke=f.getNode(),De=Ke.previousSibling;if(Ke.nodeName==="HR"){c.remove(Ke),Ye.preventDefault();return}De&&De.nodeName&&De.nodeName.toLowerCase()==="hr"&&(c.remove(De),Ye.preventDefault())}}})},Ut=function(){Range.prototype.getClientRects||t.on("mousedown",function(Ye){if(!X(Ye)&&Ye.target.nodeName==="HTML"){var Ke=t.getBody();Ke.blur(),Hr.setEditorTimeout(t,function(){Ke.focus()})}})},On=function(){t.on("click",function(Ye){var Ke=Ye.target;/^(IMG|HR)$/.test(Ke.nodeName)&&c.getContentEditableParent(Ke)!=="false"&&(Ye.preventDefault(),t.selection.select(Ke),t.nodeChanged()),Ke.nodeName==="A"&&c.hasClass(Ke,"mce-item-anchor")&&(Ye.preventDefault(),f.select(Ke))})},te=function(){var Ye=function(){var De=c.getAttribs(f.getStart().cloneNode(!1));return function(){var pe=f.getStart();pe!==t.getBody()&&(c.setAttrib(pe,"style",null),e(De,function(fn){pe.setAttributeNode(fn.cloneNode(!0))}))}},Ke=function(){return!f.isCollapsed()&&c.getParent(f.getStart(),c.isBlock)!==c.getParent(f.getEnd(),c.isBlock)};t.on("keypress",function(De){var pe;if(!X(De)&&(De.keyCode===8||De.keyCode===46)&&Ke())return pe=Ye(),t.getDoc().execCommand("delete",!1,null),pe(),De.preventDefault(),!1}),c.bind(t.getDoc(),"cut",function(De){var pe;!X(De)&&Ke()&&(pe=Ye(),Hr.setEditorTimeout(t,function(){pe()}))})},se=function(){t.on("keydown",function(Ye){if(!X(Ye)&&Ye.keyCode===o&&f.isCollapsed()&&f.getRng().startOffset===0){var Ke=f.getNode().previousSibling;if(Ke&&Ke.nodeName&&Ke.nodeName.toLowerCase()==="table")return Ye.preventDefault(),!1}})},Ge=function(){t.on("keydown",function(Ye){var Ke,De;if(!(X(Ye)||Ye.keyCode!==Be.BACKSPACE)){Ke=f.getRng();var pe=Ke.startContainer,fn=Ke.startOffset,me=c.getRoot();if(De=pe,!(!Ke.collapsed||fn!==0)){for(;De&&De.parentNode&&De.parentNode.firstChild===De&&De.parentNode!==me;)De=De.parentNode;De.tagName==="BLOCKQUOTE"&&(t.formatter.toggle("blockquote",null,De),Ke=c.createRng(),Ke.setStart(pe,0),Ke.setEnd(pe,0),f.setRng(Ke))}}})},nr=function(){var Ye=function(){M("StyleWithCSS",!1),M("enableInlineTableEditing",!1),rw(t)||M("enableObjectResizing",!1)};fw(t)||t.on("BeforeExecCommand mousedown",Ye)},Ln=function(){var Ye=function(){e(c.select("a"),function(Ke){var De=Ke.parentNode,pe=c.getRoot();if(De.lastChild===Ke){for(;De&&!c.isBlock(De);){if(De.parentNode.lastChild!==De||De===pe)return;De=De.parentNode}c.add(De,"br",{"data-mce-bogus":1})}})};t.on("SetContent ExecCommand",function(Ke){(Ke.type==="setcontent"||Ke.command==="mceInsertLink")&&Ye()})},Tr=function(){du(t)&&t.on("init",function(){M("DefaultParagraphSeparator",du(t))})},Ce=function(){t.on("keyup focusin mouseup",function(Ye){Be.modifierPressed(Ye)||f.normalize()},!0)},Je=function(){t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},ie=function(){t.inline||t.on("keydown",function(){document.activeElement===document.body&&t.getWin().focus()})},Te=function(){t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",function(Ye){var Ke;if(Ye.target.nodeName==="HTML"){if(Ue.ie>11){t.getBody().focus();return}Ke=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(Ke),t.selection.normalize(),t.nodeChanged()}}))},je=function(){Ue.mac&&t.on("keydown",function(Ye){if(Be.metaKeyPressed(Ye)&&!Ye.shiftKey&&(Ye.keyCode===37||Ye.keyCode===39)){Ye.preventDefault();var Ke=t.selection.getSel();Ke.modify("move",Ye.keyCode===37?"backward":"forward","lineboundary")}})},$n=function(){M("AutoUrlDetect",!1)},We=function(){t.on("click",function(Ye){var Ke=Ye.target;do if(Ke.tagName==="A"){Ye.preventDefault();return}while(Ke=Ke.parentNode)}),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},bo=function(){t.on("init",function(){t.dom.bind(t.getBody(),"submit",function(Ye){Ye.preventDefault()})})},ni=function(){p.addNodeFilter("br",function(Ye){for(var Ke=Ye.length;Ke--;)Ye[Ke].attr("class")==="Apple-interchange-newline"&&Ye[Ke].remove()})},Vo=function(){t.on("dragstart",function(Ye){J(Ye)}),t.on("drop",function(Ye){if(!X(Ye)){var Ke=Q(Ye);if(Ke&&Ke.id!==t.id){Ye.preventDefault();var De=Wd(Ye.x,Ye.y,t.getDoc());f.setRng(De),$(Ke.html,!0)}}})},_i=tt,Uu=function(){if(!b||t.removed)return!1;var Ye=t.selection.getSel();return!Ye||!Ye.rangeCount||Ye.rangeCount===0};return Ge(),pt(),Ue.windowsPhone||Ce(),A&&(vt(),On(),Tr(),bo(),se(),ni(),Ue.iOS?(ie(),Te(),We()):mt()),Ue.ie>=11&&(Te(),se()),Ue.ie&&(mt(),$n(),Vo()),b&&(Tt(),Ut(),te(),nr(),Ln(),Je(),je(),se()),{refreshContentEditable:_i,isHidden:Uu}},NE=Zo.DOM,CN=function(t,e){var o=H.fromDom(t.getBody()),u=wm(Ta(o)),c=H.fromTag("style");jc(c,"type","text/css"),Ji(c,H.fromText(e)),Ji(u,c),t.on("remove",function(){Zi(c)})},SN=function(t){return t.inline?t.getElement().nodeName.toLowerCase():void 0},d_=function(t){return fe(t,function(e){return br(e)===!1})},zE=function(t){var e=t.settings,o=t.editorUpload.blobCache;return d_({allow_conditional_comments:e.allow_conditional_comments,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_html_in_named_anchor:e.allow_html_in_named_anchor,allow_script_urls:e.allow_script_urls,allow_unsafe_link_target:e.allow_unsafe_link_target,convert_fonts_to_spans:e.convert_fonts_to_spans,fix_list_elements:e.fix_list_elements,font_size_legacy_values:e.font_size_legacy_values,forced_root_block:e.forced_root_block,forced_root_block_attrs:e.forced_root_block_attrs,padd_empty_with_br:e.padd_empty_with_br,preserve_cdata:e.preserve_cdata,remove_trailing_brs:e.remove_trailing_brs,inline_styles:e.inline_styles,root_name:SN(t),validate:!0,blob_cache:o,images_dataimg_filter:e.images_dataimg_filter})},kN=function(t){var e=t.settings;return Xe(Xe({},zE(t)),d_({url_converter:e.url_converter,url_converter_scope:e.url_converter_scope,element_format:e.element_format,entities:e.entities,entity_encoding:e.entity_encoding,indent:e.indent,indent_after:e.indent_after,indent_before:e.indent_before,block_elements:e.block_elements,boolean_attributes:e.boolean_attributes,custom_elements:e.custom_elements,extended_valid_elements:e.extended_valid_elements,invalid_elements:e.invalid_elements,invalid_styles:e.invalid_styles,move_caret_before_on_enter_elements:e.move_caret_before_on_enter_elements,non_empty_elements:e.non_empty_elements,schema:e.schema,self_closing_elements:e.self_closing_elements,short_ended_elements:e.short_ended_elements,special:e.special,text_block_elements:e.text_block_elements,text_inline_elements:e.text_inline_elements,valid_children:e.valid_children,valid_classes:e.valid_classes,valid_elements:e.valid_elements,valid_styles:e.valid_styles,verify_html:e.verify_html,whitespace_elements:e.whitespace_elements}))},EN=function(t){var e=Yx(zE(t),t.schema);return e.addAttributeFilter("src,href,style,tabindex",function(o,u){for(var c=o.length,f,p,b=t.dom,y="data-mce-"+u;c--;)if(f=o[c],p=f.attr(u),p&&!f.attr(y)){if(p.indexOf("data:")===0||p.indexOf("blob:")===0)continue;u==="style"?(p=b.serializeStyle(b.parseStyle(p),f.name),p.length||(p=null),f.attr(y,p),f.attr(u,p)):u==="tabindex"?(f.attr(y,p),f.attr(u,null)):f.attr(y,t.convertURL(p,u,f.name))}}),e.addNodeFilter("script",function(o){for(var u=o.length;u--;){var c=o[u],f=c.attr("type")||"no/type";f.indexOf("mce-")!==0&&c.attr("type","mce-"+f)}}),t.settings.preserve_cdata&&e.addNodeFilter("#cdata",function(o){for(var u=o.length;u--;){var c=o[u];c.type=8,c.name="#comment",c.value="[CDATA["+t.dom.encode(c.value)+"]]"}}),e.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(o){for(var u=o.length,c=t.schema.getNonEmptyElements();u--;){var f=o[u];f.isEmpty(c)&&f.getAll("br").length===0&&(f.append(new es("br",1)).shortEnded=!0)}}),e},AN=function(t){t.settings.auto_focus&&Hr.setEditorTimeout(t,function(){var e;t.settings.auto_focus===!0?e=t:e=t.editorManager.get(t.settings.auto_focus),e.destroyed||e.focus()},100)},TN=function(t){var e=t.dom.getRoot();!t.inline&&(!Fv(t)||t.selection.getStart(!0)===e)&&xa(e).each(function(o){var u=o.getNode(),c=nf(u)?xa(u).getOr(o):o;Ue.browser.isIE()?Qw(t,c.toRange()):t.selection.setRng(c.toRange())})},m_=function(t){t.bindPendingEventDelegates(),t.initialized=!0,Nb(t),t.focus(!0),TN(t),t.nodeChanged({initial:!0}),t.execCallback("init_instance_callback",t),AN(t)},g_=function(t){return t.inline?t.ui.styleSheetLoader:t.dom.styleSheetLoader},p_=function(t,e,o){var u=[new Ri(function(c,f){return g_(t).loadAll(e,c,f)})];return t.inline?u:u.concat([new Ri(function(c,f){return t.ui.styleSheetLoader.loadAll(o,c,f)})])},h_=function(t,e){var o=g_(t),u=nb(t),c=function(){o.unloadAll(e),t.inline||t.ui.styleSheetLoader.unloadAll(u)},f=function(){t.removed?c():(t.on("remove",c),m_(t))};Ri.all(p_(t,e,u)).then(f).catch(f)},_C=function(t,e){var o=t.settings,u=t.getDoc(),c=t.getBody();!o.browser_spellcheck&&!o.gecko_spellcheck&&(u.body.spellcheck=!1,NE.setAttrib(c,"spellcheck","false")),t.quirks=xN(t),Ek(t);var f=nw(t);if(f!==void 0&&(c.dir=f),o.protect&&t.on("BeforeSetContent",function(b){hn.each(o.protect,function(y){b.content=b.content.replace(y,function(A){return"<!--mce:protected "+escape(A)+"-->"})})}),t.on("SetContent",function(){t.addVisual(t.getBody())}),e===!1&&t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),t.on("compositionstart compositionend",function(b){t.composing=b.type==="compositionstart"}),t.contentStyles.length>0){var p="";hn.each(t.contentStyles,function(b){p+=b+`\r
`}),t.dom.addStyle(p)}h_(t,t.contentCSS),o.content_style&&CN(t,o.content_style)},ME=function(t,e){var o=t.settings,u=t.getElement(),c=t.getDoc();o.inline||(t.getElement().style.visibility=t.orgVisibility),!e&&!t.inline&&(c.open(),c.write(t.iframeHTML),c.close()),t.inline&&(NE.addClass(u,"mce-content-body"),t.contentDocument=c=document,t.contentWindow=window,t.bodyElement=u,t.contentAreaContainer=u);var f=t.getBody();f.disabled=!0,t.readonly=!!o.readonly,t.readonly||(t.inline&&NE.getStyle(f,"position",!0)==="static"&&(f.style.position="relative"),f.contentEditable=t.getParam("content_editable_state",!0)),f.disabled=!1,t.editorUpload=B3(t),t.schema=sf(o),t.dom=Zo(c,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:o.force_hex_style_colors,update_styles:!0,root_element:t.inline?t.getBody():null,collect:function(){return t.inline},schema:t.schema,contentCssCors:jS(t),referrerPolicy:Fd(t),onSetAttrib:function(b){t.fire("SetAttrib",b)}}),t.parser=EN(t),t.serializer=h3(kN(t),t),t.selection=HT(t.dom,t.getWin(),t.serializer,t),t.annotator=dg(t),t.formatter=N3(t),t.undoManager=bO(t),t._nodeChangeDispatcher=new r_(t),t._selectionOverrides=wN(t),E8(t),K7(t),Ux(t)||Z7(t);var p=cl(t);C8(t,p),O8(t),kg(t),Pw(t),cF(t).fold(function(){_C(t,!1)},function(b){t.setProgressState(!0),b.then(function(y){t.setProgressState(!1),_C(t,y)},function(y){t.notificationManager.open({type:"error",text:String(y)}),_C(t,!0)})})},jy=Zo.DOM,ON=function(t,e){if(document.domain!==window.location.hostname&&Ue.browser.isIE()){var o=mO("mce");t[o]=function(){ME(t)};var u='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+t.id+'");document.write(ed.iframeHTML);document.close();ed.'+o+"(true);})()";return jy.setAttrib(e,"src",u),!0}return!1},v_=function(t,e,o,u){var c=H.fromTag("iframe");return ms(c,u),ms(c,{id:t+"_ifr",frameBorder:"0",allowTransparency:"true",title:e}),lp(c,"tox-edit-area__iframe"),c},DN=function(t){var e=dv(t)+"<html><head>";zS(t)!==t.documentBaseUrl&&(e+='<base href="'+t.documentBaseURI.getURI()+'" />'),e+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var o=MS(t),u=xf(t);return bp(t)&&(e+='<meta http-equiv="Content-Security-Policy" content="'+bp(t)+'" />'),e+='</head><body id="'+o+'" class="mce-content-body '+u+'" data-id="'+t.id+'"><br></body></html>',e},_N=function(t,e){var o=t.editorManager.translate("Rich Text Area. Press ALT-0 for help."),u=v_(t.id,o,e.height,Y2(t)).dom;u.onload=function(){u.onload=null,t.fire("load")};var c=ON(t,u);return t.contentAreaContainer=e.iframeContainer,t.iframeElement=u,t.iframeHTML=DN(t),jy.add(e.iframeContainer,u),c},b_=function(t,e){var o=_N(t,e);e.editorContainer&&(jy.get(e.editorContainer).style.display=t.orgDisplay,t.hidden=jy.isHidden(e.editorContainer)),t.getElement().style.display="none",jy.setAttrib(t.id,"aria-hidden","true"),o||ME(t)},y_=Zo.DOM,w_=function(t,e,o){var u=el.get(o),c=el.urls[o]||t.documentBaseUrl.replace(/\/$/,"");if(o=hn.trim(o),u&&hn.inArray(e,o)===-1){if(hn.each(el.dependencies(o),function(p){w_(t,e,p)}),t.plugins[o])return;try{var f=new u(t,c,t.$);t.plugins[o]=f,f.init&&(f.init(t,c),e.push(o))}catch(p){yB(t,o,p)}}},RE=function(t){return t.replace(/^\-/,"")},FN=function(t){var e=[];hn.each(mv(t).split(/[ ,]/),function(o){w_(t,e,RE(o))})},BN=function(t){var e=hn.trim(K2(t)),o=t.ui.registry.getAll().icons,u=Xe(Xe({},Sg.get("default").icons),Sg.get(e).icons);Or(u,function(c,f){Er(o,f)||t.ui.registry.addIcon(f,c)})},NN=function(t){var e=wp(t);if($e(e)){t.settings.theme=RE(e);var o=cm.get(e);t.theme=new o(t,cm.urls[e]),t.theme.init&&t.theme.init(t,cm.urls[e]||t.documentBaseUrl.replace(/\/$/,""),t.$)}else t.theme={}},x_=function(t){return t.theme.renderUI()},C_=function(t){var e=t.getElement(),o=wp(t),u=o(t,e);return u.editorContainer.nodeType&&(u.editorContainer.id=u.editorContainer.id||t.id+"_parent"),u.iframeContainer&&u.iframeContainer.nodeType&&(u.iframeContainer.id=u.iframeContainer.id||t.id+"_iframecontainer"),u.height=u.iframeHeight?u.iframeHeight:e.offsetHeight,u},S_=function(t){return{editorContainer:t,iframeContainer:t,api:{}}},zN=function(t){var e=y_.create("div");return y_.insertAfter(e,t),S_(e)},MN=function(t){var e=t.getElement();return t.inline?S_(null):zN(e)},RN=function(t){var e=t.getElement();return t.orgDisplay=e.style.display,$e(wp(t))?x_(t):Tn(wp(t))?C_(t):MN(t)},PN=function(t,e){var o={show:I.from(e.show).getOr(tt),hide:I.from(e.hide).getOr(tt),disable:I.from(e.disable).getOr(tt),isDisabled:I.from(e.isDisabled).getOr(ve),enable:function(){t.mode.isReadOnly()||I.from(e.enable).map(Ne)}};t.ui=Xe(Xe({},t.ui),o)},k_=function(t){t.fire("ScriptsLoaded"),BN(t),NN(t),FN(t);var e=RN(t);PN(t,I.from(e.api).getOr({}));var o={editorContainer:e.editorContainer,iframeContainer:e.iframeContainer};return t.editorContainer=o.editorContainer?o.editorContainer:null,fO(t),t.inline?ME(t):b_(t,o)},vh=Zo.DOM,E_=function(t){return t.charAt(0)==="-"},LN=function(t,e){var o=tb(e),u=qS(e);if(Fc.hasCode(o)===!1&&o!=="en"){var c=u!==""?u:e.editorManager.baseURL+"/langs/"+o+".js";t.add(c,tt,void 0,function(){bB(e,c,o)})}},IN=function(t,e,o,u){var c=wp(e);if($e(c)){if(!E_(c)&&!cm.urls.hasOwnProperty(c)){var f=cw(e);f?cm.load(c,e.documentBaseURI.toAbsolute(f)):cm.load(c,"themes/"+c+"/theme"+o+".js")}t.loadQueue(function(){cm.waitFor(c,u)})}else u()},FC=function(t){return I.from(J2(t)).filter(function(e){return e.length>0}).map(function(e){return{url:e,name:I.none()}})},PE=function(t,e,o){return I.from(e).filter(function(u){return u.length>0&&!Sg.has(u)}).map(function(u){return{url:t.editorManager.baseURL+"/icons/"+u+"/icons"+o+".js",name:I.some(u)}})},A_=function(t,e,o){var u=PE(e,"default",o),c=FC(e).orThunk(function(){return PE(e,K2(e),"")});yt(TS([u,c]),function(f){t.add(f.url,tt,void 0,function(){vB(e,f.url,f.name.getOrUndefined())})})},HN=function(t,e){hn.each(Qc(t),function(o,u){el.load(u,o,tt,void 0,function(){T3(t,o,u)}),t.settings.plugins+=" "+u}),hn.each(mv(t).split(/[ ,]/),function(o){if(o=hn.trim(o),o&&!el.urls[o])if(E_(o)){o=o.substr(1,o.length);var u=el.dependencies(o);hn.each(u,function(f){var p={prefix:"plugins/",resource:f,suffix:"/plugin"+e+".js"},b=el.createUrl(p,f);el.load(b.resource,b,tt,void 0,function(){T3(t,b.prefix+b.resource+b.suffix,b.resource)})})}else{var c={prefix:"plugins/",resource:o,suffix:"/plugin"+e+".js"};el.load(o,c,tt,void 0,function(){T3(t,c.prefix+c.resource+c.suffix,o)})}})},T_=function(t,e){var o=to.ScriptLoader;IN(o,t,e,function(){LN(o,t),A_(o,t,e),HN(t,e),o.loadQueue(function(){t.removed||k_(t)},t,function(){t.removed||k_(t)})})},O_=function(t,e){return Xg.forElement(t,{contentCssCors:JS(e),referrerPolicy:Fd(e)})},VN=function(t){var e=t.id;Fc.setCode(tb(t));var o=function(){vh.unbind(window,"ready",o),t.render()};if(!lf.Event.domLoaded){vh.bind(window,"ready",o);return}if(!!t.getElement()&&!!Ue.contentEditable){var u=H.fromDom(t.getElement()),c=H0(u);t.on("remove",function(){Nn(u.dom.attributes,function(p){return ga(u,p.name)}),ms(u,c)}),t.ui.styleSheetLoader=O_(u,t),XS(t)?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");var f=t.getElement().form||vh.getParent(e,"form");f&&(t.formElement=f,Ra(t)&&!T(t.getElement())&&(vh.insertAfter(vh.create("input",{type:"hidden",name:e}),e),t.hasHiddenInput=!0),t.formEventDelegate=function(p){t.fire(p.type,p)},vh.bind(f,"submit reset",t.formEventDelegate),t.on("reset",function(){t.resetContent()}),sw(t)&&!f.submit.nodeType&&!f.submit.length&&!f._mceOldSubmit&&(f._mceOldSubmit=f.submit,f.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),f._mceOldSubmit(f)})),t.windowManager=aO(t),t.notificationManager=k3(t),GS(t)&&t.on("GetContent",function(p){p.save&&(p.content=vh.encode(p.content))}),KS(t)&&t.on("submit",function(){t.initialized&&t.save()}),eb(t)&&(t._beforeUnload=function(){t.initialized&&!t.destroyed&&!t.isHidden()&&t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),T_(t,t.suffix)}},UN=function(t,e){return NT(t,e)},jN={"font-size":"size","font-family":"face"},LE=function(t,e,o){var u=function(f){return Yu(f,t).orThunk(function(){return Mo(f)==="font"?zr(jN,t).bind(function(p){return Am(f,p)}):I.none()})},c=function(f){return Cr(H.fromDom(e),f)};return Tx(H.fromDom(o),function(f){return u(f)},c)},qN=function(t){return t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},IE=function(t,e){return I.from(Zo.DOM.getStyle(e,t,!0))},D_=function(t){return function(e,o){return I.from(o).map(H.fromDom).filter(It).bind(function(u){return LE(t,e,u.dom).or(IE(t,u.dom))}).getOr("")}},WN=D_("font-size"),YN=ln(qN,D_("font-family")),__=function(t){return xa(t.getBody()).map(function(e){var o=e.container();return z(o)?o.parentNode:o})},$N=function(t){return I.from(t.selection.getRng()).bind(function(e){var o=t.getBody(),u=e.startContainer===o&&e.startOffset===0;return u?I.none():I.from(t.selection.getStart(!0))})},HE=function(t,e){return $N(t).orThunk(Qt(__,t)).map(H.fromDom).filter(It).map(e)},F_=function(t,e){if(/^[0-9.]+$/.test(e)){var o=parseInt(e,10);if(o>=1&&o<=7){var u=IS(t),c=HS(t);return c?c[o-1]||e:u[o-1]||e}else return e}else return e},XN=function(t){var e=t.split(/\s*,\s*/);return Et(e,function(o){return o.indexOf(" ")!==-1&&!(an(o,'"')||an(o,"'"))?"'"+o+"'":o}).join(",")},VE=function(t,e){var o=F_(t,e);t.formatter.toggle("fontname",{value:XN(o)}),t.nodeChanged()},GN=function(t){return HE(t,function(e){return YN(t.getBody(),e.dom)}).getOr("")},B_=function(t,e){t.formatter.toggle("fontsize",{value:F_(t,e)}),t.nodeChanged()},D0=function(t){return HE(t,function(e){return WN(t.getBody(),e.dom)}).getOr("")},KN=function(t){return HE(t,function(e){var o=H.fromDom(t.getBody()),u=Tx(e,function(f){return Yu(f,"line-height")},Qt(Cr,o)),c=function(){var f=parseFloat(bl(e,"line-height")),p=parseFloat(bl(e,"font-size"));return String(f/p)};return u.getOrThunk(c)}).getOr("")},JN=function(t,e){t.undoManager.transact(function(){t.formatter.toggle("lineheight",{value:String(e)}),t.nodeChanged()})},ZN=function(t){var e;return typeof t!="string"?(e=hn.extend({paste:t.paste,data:{paste:t.paste}},t),{content:t.content,details:e}):{content:t,details:{}}},Ul=function(t,e){var o=ZN(e);FT(t,o.content,o.details)},BC=hn.each,UE=hn.map,N_=hn.inArray,qy=function(){function t(e){this.commands={state:{},exec:{},value:{}},this.editor=e,this.setupCommands(e)}return t.prototype.execCommand=function(e,o,u,c){var f,p=!1,b=this;if(!b.editor.removed){if(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)&&(!c||!c.skip_focus)?b.editor.focus():Wv(b.editor),c=b.editor.fire("BeforeExecCommand",{command:e,ui:o,value:u}),c.isDefaultPrevented())return!1;var y=e.toLowerCase();if(f=b.commands.exec[y])return f(y,o,u),b.editor.fire("ExecCommand",{command:e,ui:o,value:u}),!0;if(BC(this.editor.plugins,function(A){if(A.execCommand&&A.execCommand(e,o,u))return b.editor.fire("ExecCommand",{command:e,ui:o,value:u}),p=!0,!1}),p)return p;if(b.editor.theme&&b.editor.theme.execCommand&&b.editor.theme.execCommand(e,o,u))return b.editor.fire("ExecCommand",{command:e,ui:o,value:u}),!0;try{p=b.editor.getDoc().execCommand(e,o,u)}catch{}return p?(b.editor.fire("ExecCommand",{command:e,ui:o,value:u}),!0):!1}},t.prototype.queryCommandState=function(e){var o;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(e=e.toLowerCase(),o=this.commands.state[e])return o(e);try{return this.editor.getDoc().queryCommandState(e)}catch{}return!1}},t.prototype.queryCommandValue=function(e){var o;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(e=e.toLowerCase(),o=this.commands.value[e])return o(e);try{return this.editor.getDoc().queryCommandValue(e)}catch{}}},t.prototype.addCommands=function(e,o){o===void 0&&(o="exec");var u=this;BC(e,function(c,f){BC(f.toLowerCase().split(","),function(p){u.commands[o][p]=c})})},t.prototype.addCommand=function(e,o,u){var c=this;e=e.toLowerCase(),this.commands.exec[e]=function(f,p,b,y){return o.call(u||c.editor,p,b,y)}},t.prototype.queryCommandSupported=function(e){if(e=e.toLowerCase(),this.commands.exec[e])return!0;try{return this.editor.getDoc().queryCommandSupported(e)}catch{}return!1},t.prototype.addQueryStateHandler=function(e,o,u){var c=this;e=e.toLowerCase(),this.commands.state[e]=function(){return o.call(u||c.editor)}},t.prototype.addQueryValueHandler=function(e,o,u){var c=this;e=e.toLowerCase(),this.commands.value[e]=function(){return o.call(u||c.editor)}},t.prototype.hasCustomCommand=function(e){return e=e.toLowerCase(),!!this.commands.exec[e]},t.prototype.execNativeCommand=function(e,o,u){return o===void 0&&(o=!1),u===void 0&&(u=null),this.editor.getDoc().execCommand(e,o,u)},t.prototype.isFormatMatch=function(e){return this.editor.formatter.match(e)},t.prototype.toggleFormat=function(e,o){this.editor.formatter.toggle(e,o?{value:o}:void 0),this.editor.nodeChanged()},t.prototype.storeSelection=function(e){this.selectionBookmark=this.editor.selection.getBookmark(e)},t.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},t.prototype.setupCommands=function(e){var o=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":tt,"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(c){var f=e.getDoc(),p;try{o.execNativeCommand(c)}catch{p=!0}if(c==="paste"&&!f.queryCommandEnabled(c)&&(p=!0),p||!f.queryCommandSupported(c)){var b=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Ue.mac&&(b=b.replace(/Ctrl\+/g,"\u2318+")),e.notificationManager.open({text:b,type:"error"})}},unlink:function(){if(e.selection.isCollapsed()){var c=e.dom.getParent(e.selection.getStart(),"a");c&&e.dom.remove(c,!0);return}e.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(c){var f=c.substring(7);f==="full"&&(f="justify"),BC("left,center,right,justify".split(","),function(p){f!==p&&e.formatter.remove("align"+p)}),f!=="none"&&o.toggleFormat("align"+f)},"InsertUnorderedList,InsertOrderedList":function(c){var f;o.execNativeCommand(c);var p=e.dom.getParent(e.selection.getNode(),"ol,ul");p&&(f=p.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(f.nodeName)&&(o.storeSelection(),e.dom.split(f,p),o.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(c){o.toggleFormat(c)},"ForeColor,HiliteColor":function(c,f,p){o.toggleFormat(c,p)},FontName:function(c,f,p){VE(e,p)},FontSize:function(c,f,p){B_(e,p)},LineHeight:function(c,f,p){JN(e,p)},RemoveFormat:function(c){e.formatter.remove(c)},mceBlockQuote:function(){o.toggleFormat("blockquote")},FormatBlock:function(c,f,p){return o.toggleFormat(p||"p")},mceCleanup:function(){var c=e.selection.getBookmark();e.setContent(e.getContent()),e.selection.moveToBookmark(c)},mceRemoveNode:function(c,f,p){var b=p||e.selection.getNode();b!==e.getBody()&&(o.storeSelection(),e.dom.remove(b,!0),o.restoreSelection())},mceSelectNodeDepth:function(c,f,p){var b=0;e.dom.getParent(e.selection.getNode(),function(y){if(y.nodeType===1&&b++===p)return e.selection.select(y),!1},e.getBody())},mceSelectNode:function(c,f,p){e.selection.select(p)},mceInsertContent:function(c,f,p){Ul(e,p)},mceInsertRawHTML:function(c,f,p){e.selection.setContent("tiny_mce_marker");var b=e.getContent();e.setContent(b.replace(/tiny_mce_marker/g,function(){return p}))},mceInsertNewLine:function(c,f,p){ZD(e,p)},mceToggleFormat:function(c,f,p){o.toggleFormat(p)},mceSetContent:function(c,f,p){e.setContent(p)},"Indent,Outdent":function(c){iD(e,c)},mceRepaint:tt,InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(c,f,p){e.execCommand("mceInsertContent",!1,p.replace(/\{\$selection\}/g,e.selection.getContent({format:"text"})))},mceInsertLink:function(c,f,p){typeof p=="string"&&(p={href:p});var b=e.dom.getParent(e.selection.getNode(),"a");p.href=p.href.replace(/ /g,"%20"),(!b||!p.href)&&e.formatter.remove("link"),p.href&&e.formatter.apply("link",p,b)},selectAll:function(){var c=e.dom.getParent(e.selection.getStart(),Br);if(c){var f=e.dom.createRng();f.selectNodeContents(c),e.selection.setRng(f)}},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(c,f,p){return XD(e,p),!0}});var u=function(c){return function(){var f=e.selection,p=f.isCollapsed()?[e.dom.getParent(f.getNode(),e.dom.isBlock)]:f.getSelectedBlocks(),b=UE(p,function(y){return!!e.formatter.matchNode(y,c)});return N_(b,!0)!==-1}};o.addCommands({JustifyLeft:u("alignleft"),JustifyCenter:u("aligncenter"),JustifyRight:u("alignright"),JustifyFull:u("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(c){return o.isFormatMatch(c)},mceBlockQuote:function(){return o.isFormatMatch("blockquote")},Outdent:function(){return gC(e)},"InsertUnorderedList,InsertOrderedList":function(c){var f=e.dom.getParent(e.selection.getNode(),"ul,ol");return f&&(c==="insertunorderedlist"&&f.tagName==="UL"||c==="insertorderedlist"&&f.tagName==="OL")}},"state"),o.addCommands({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),o.addQueryValueHandler("FontName",function(){return GN(e)},this),o.addQueryValueHandler("FontSize",function(){return D0(e)},this),o.addQueryValueHandler("LineHeight",function(){return KN(e)},this)},t}(),bh="data-mce-contenteditable",QN=function(t,e,o){iv(t,e)&&o===!1?fp(t,e):o&&lp(t,e)},jE=function(t,e,o){try{t.getDoc().execCommand(e,!1,String(o))}catch{}},NC=function(t,e){t.dom.contentEditable=e?"true":"false"},tz=function(t){yt(ya(t,'*[contenteditable="true"]'),function(e){jc(e,bh,"true"),NC(e,!1)})},z_=function(t){yt(ya(t,"*["+bh+'="true"]'),function(e){ga(e,bh),NC(e,!0)})},nz=function(t){I.from(t.selection.getNode()).each(function(e){e.removeAttribute("data-mce-selected")})},M_=function(t){t.selection.setRng(t.selection.getRng())},R_=function(t,e){var o=H.fromDom(t.getBody());QN(o,"mce-content-readonly",e),e?(t.selection.controlSelection.hideResizeRect(),t._selectionOverrides.hideFakeCaret(),nz(t),t.readonly=!0,NC(o,!1),tz(o)):(t.readonly=!1,NC(o,!0),z_(o),jE(t,"StyleWithCSS",!1),jE(t,"enableInlineTableEditing",!1),jE(t,"enableObjectResizing",!1),Jk(t)&&t.focus(),M_(t),t.nodeChanged())},yh=function(t){return t.readonly},P_=function(t){t.parser.addAttributeFilter("contenteditable",function(e){yh(t)&&yt(e,function(o){o.attr(bh,o.attr("contenteditable")),o.attr("contenteditable","false")})}),t.serializer.addAttributeFilter(bh,function(e){yh(t)&&yt(e,function(o){o.attr("contenteditable",o.attr(bh))})}),t.serializer.addTempAttr(bh)},ez=function(t){t.serializer?P_(t):t.on("PreInit",function(){P_(t)})},rz=function(t){return t.type==="click"},L_=function(t,e){var o=function(u){return Cr(u,H.fromDom(t.getBody()))};return kl(e,"a",o).bind(function(u){return Am(u,"href")})},qE=function(t,e){if(rz(e)&&!Be.metaKeyPressed(e)){var o=H.fromDom(e.target);L_(t,o).each(function(u){if(e.preventDefault(),/^#/.test(u)){var c=t.dom.select(u+',[name="'+_t(u,"#")+'"]');c.length&&t.selection.scrollIntoView(c[0],!0)}else window.open(u,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},I_=function(t){t.on("ShowCaret",function(e){yh(t)&&e.preventDefault()}),t.on("ObjectSelected",function(e){yh(t)&&e.preventDefault()})},oz=hn.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),WE=function(){function t(e){this.bindings={},this.settings=e||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||ve}return t.isNative=function(e){return!!oz[e.toLowerCase()]},t.prototype.fire=function(e,o){var u=e.toLowerCase(),c=o||{};c.type=u,c.target||(c.target=this.scope),c.preventDefault||(c.preventDefault=function(){c.isDefaultPrevented=ue},c.stopPropagation=function(){c.isPropagationStopped=ue},c.stopImmediatePropagation=function(){c.isImmediatePropagationStopped=ue},c.isDefaultPrevented=ve,c.isPropagationStopped=ve,c.isImmediatePropagationStopped=ve),this.settings.beforeFire&&this.settings.beforeFire(c);var f=this.bindings[u];if(f)for(var p=0,b=f.length;p<b;p++){var y=f[p];if(y.once&&this.off(u,y.func),c.isImmediatePropagationStopped())return c.stopPropagation(),c;if(y.func.call(this.scope,c)===!1)return c.preventDefault(),c}return c},t.prototype.on=function(e,o,u,c){if(o===!1&&(o=ve),o){var f={func:o};c&&hn.extend(f,c);for(var p=e.toLowerCase().split(" "),b=p.length;b--;){var y=p[b],A=this.bindings[y];A||(A=this.bindings[y]=[],this.toggleEvent(y,!0)),u?A.unshift(f):A.push(f)}}return this},t.prototype.off=function(e,o){var u=this;if(e)for(var c=e.toLowerCase().split(" "),f=c.length;f--;){var p=c[f],b=this.bindings[p];if(!p)return Or(this.bindings,function(A,N){u.toggleEvent(N,!1),delete u.bindings[N]}),this;if(b){if(!o)b.length=0;else for(var y=b.length;y--;)b[y].func===o&&(b=b.slice(0,y).concat(b.slice(y+1)),this.bindings[p]=b);b.length||(this.toggleEvent(e,!1),delete this.bindings[p])}}else Or(this.bindings,function(A,N){u.toggleEvent(N,!1)}),this.bindings={};return this},t.prototype.once=function(e,o,u){return this.on(e,o,u,{once:!0})},t.prototype.has=function(e){return e=e.toLowerCase(),!(!this.bindings[e]||this.bindings[e].length===0)},t}(),jl=function(t){return t._eventDispatcher||(t._eventDispatcher=new WE({scope:t,toggleEvent:function(e,o){WE.isNative(e)&&t.toggleNativeEvent&&t.toggleNativeEvent(e,o)}})),t._eventDispatcher},zC={fire:function(t,e,o){var u=this;if(u.removed&&t!=="remove"&&t!=="detach")return e;var c=jl(u).fire(t,e);if(o!==!1&&u.parent)for(var f=u.parent();f&&!c.isPropagationStopped();)f.fire(t,c,!1),f=f.parent();return c},on:function(t,e,o){return jl(this).on(t,e,o)},off:function(t,e){return jl(this).off(t,e)},once:function(t,e){return jl(this).once(t,e)},hasEventListeners:function(t){return jl(this).has(t)}},MC=Zo.DOM,wh,xh=function(t,e){if(e==="selectionchange")return t.getDoc();if(!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(e))return t.getDoc().documentElement;var o=uw(t);return o?(t.eventRoot||(t.eventRoot=MC.select(o)[0]),t.eventRoot):t.getBody()},H_=function(t){return!t.hidden&&!yh(t)},YE=function(t,e,o){H_(t)?t.fire(e,o):yh(t)&&qE(t,o)},V_=function(t,e){var o;if(t.delegates||(t.delegates={}),!(t.delegates[e]||t.removed)){var u=xh(t,e);if(uw(t)){if(wh||(wh={},t.editorManager.on("removeEditor",function(){t.editorManager.activeEditor||wh&&(Or(wh,function(c,f){t.dom.unbind(xh(t,f))}),wh=null)})),wh[e])return;o=function(c){for(var f=c.target,p=t.editorManager.get(),b=p.length;b--;){var y=p[b].getBody();(y===f||MC.isChildOf(f,y))&&YE(p[b],e,c)}},wh[e]=o,MC.bind(u,e,o)}else o=function(c){YE(t,e,c)},MC.bind(u,e,o),t.delegates[e]=o}},$E=Xe(Xe({},zC),{bindPendingEventDelegates:function(){var t=this;hn.each(t._pendingNativeEvents,function(e){V_(t,e)})},toggleNativeEvent:function(t,e){var o=this;t==="focus"||t==="blur"||(e?o.initialized?V_(o,t):o._pendingNativeEvents?o._pendingNativeEvents.push(t):o._pendingNativeEvents=[t]:o.initialized&&(o.dom.unbind(xh(o,t),t,o.delegates[t]),delete o.delegates[t]))},unbindAllNativeEvents:function(){var t=this,e=t.getBody(),o=t.dom;t.delegates&&(Or(t.delegates,function(u,c){t.dom.unbind(xh(t,c),c,u)}),delete t.delegates),!t.inline&&e&&o&&(e.onload=null,o.unbind(t.getWin()),o.unbind(t.getDoc())),o&&(o.unbind(e),o.unbind(t.getContainer()))}}),Wy=["design","readonly"],pm=function(t,e,o,u){var c=o[e.get()],f=o[u];try{f.activate()}catch(p){console.error("problem while activating editor mode "+u+":",p);return}c.deactivate(),c.editorReadOnly!==f.editorReadOnly&&R_(t,f.editorReadOnly),e.set(u),Mw(t,u)},_0=function(t,e,o,u){if(u!==o.get()){if(!Er(e,u))throw new Error("Editor mode '"+u+"' is invalid");t.initialized?pm(t,o,e,u):t.on("init",function(){return pm(t,o,e,u)})}},XE=function(t,e,o){var u;if(Wt(Wy,e))throw new Error("Cannot override default mode "+e);return Xe(Xe({},t),(u={},u[e]=Xe(Xe({},o),{deactivate:function(){try{o.deactivate()}catch(c){console.error("problem while deactivating editor mode "+e+":",c)}}}),u))},GE=function(t){var e=Io("design"),o=Io({design:{activate:tt,deactivate:tt,editorReadOnly:!1},readonly:{activate:tt,deactivate:tt,editorReadOnly:!0}});return ez(t),I_(t),{isReadOnly:function(){return yh(t)},set:function(u){return _0(t,o.get(),e,u)},get:function(){return e.get()},register:function(u,c){o.set(XE(o.get(),u,c))}}},RC=hn.each,PC=hn.explode,iz={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},KE=hn.makeMap("alt,ctrl,shift,meta,access"),U_=function(t){var e,o={};RC(PC(t.toLowerCase(),"+"),function(c){c in KE?o[c]=!0:/^[0-9]{2,}$/.test(c)?o.keyCode=parseInt(c,10):(o.charCode=c.charCodeAt(0),o.keyCode=iz[c]||c.toUpperCase().charCodeAt(0))});var u=[o.keyCode];for(e in KE)o[e]?u.push(e):o[e]=!1;return o.id=u.join(","),o.access&&(o.alt=!0,Ue.mac?o.ctrl=!0:o.shift=!0),o.meta&&(Ue.mac?o.meta=!0:(o.ctrl=!0,o.meta=!1)),o},j_=function(){function t(e){this.shortcuts={},this.pendingPatterns=[],this.editor=e;var o=this;e.on("keyup keypress keydown",function(u){(o.hasModifier(u)||o.isFunctionKey(u))&&!u.isDefaultPrevented()&&(RC(o.shortcuts,function(c){if(o.matchShortcut(u,c))return o.pendingPatterns=c.subpatterns.slice(0),u.type==="keydown"&&o.executeShortcutAction(c),!0}),o.matchShortcut(u,o.pendingPatterns[0])&&(o.pendingPatterns.length===1&&u.type==="keydown"&&o.executeShortcutAction(o.pendingPatterns[0]),o.pendingPatterns.shift()))})}return t.prototype.add=function(e,o,u,c){var f=this,p=f.normalizeCommandFunc(u);return RC(PC(hn.trim(e)),function(b){var y=f.createShortcut(b,o,p,c);f.shortcuts[y.id]=y}),!0},t.prototype.remove=function(e){var o=this.createShortcut(e);return this.shortcuts[o.id]?(delete this.shortcuts[o.id],!0):!1},t.prototype.normalizeCommandFunc=function(e){var o=this,u=e;return typeof u=="string"?function(){o.editor.execCommand(u,!1,null)}:hn.isArray(u)?function(){o.editor.execCommand(u[0],u[1],u[2])}:u},t.prototype.createShortcut=function(e,o,u,c){var f=hn.map(PC(e,">"),U_);return f[f.length-1]=hn.extend(f[f.length-1],{func:u,scope:c||this.editor}),hn.extend(f[0],{desc:this.editor.translate(o),subpatterns:f.slice(1)})},t.prototype.hasModifier=function(e){return e.altKey||e.ctrlKey||e.metaKey},t.prototype.isFunctionKey=function(e){return e.type==="keydown"&&e.keyCode>=112&&e.keyCode<=123},t.prototype.matchShortcut=function(e,o){return!o||o.ctrl!==e.ctrlKey||o.meta!==e.metaKey||o.alt!==e.altKey||o.shift!==e.shiftKey?!1:e.keyCode===o.keyCode||e.charCode&&e.charCode===o.charCode?(e.preventDefault(),!0):!1},t.prototype.executeShortcutAction=function(e){return e.func?e.func.call(e.scope):null},t}(),uz=function(){var t={},e={},o={},u={},c={},f={},p={},b=function(A,N){return function(B,M){return A[B.toLowerCase()]=Xe(Xe({},M),{type:N})}},y=function(A,N){return u[A.toLowerCase()]=N};return{addButton:b(t,"button"),addGroupToolbarButton:b(t,"grouptoolbarbutton"),addToggleButton:b(t,"togglebutton"),addMenuButton:b(t,"menubutton"),addSplitButton:b(t,"splitbutton"),addMenuItem:b(e,"menuitem"),addNestedMenuItem:b(e,"nestedmenuitem"),addToggleMenuItem:b(e,"togglemenuitem"),addAutocompleter:b(o,"autocompleter"),addContextMenu:b(c,"contextmenu"),addContextToolbar:b(f,"contexttoolbar"),addContextForm:b(f,"contextform"),addSidebar:b(p,"sidebar"),addIcon:y,getAll:function(){return{buttons:t,menuItems:e,icons:u,popups:o,contextMenus:c,contextToolbars:f,sidebars:p}}}},az=function(){var t=uz();return{addAutocompleter:t.addAutocompleter,addButton:t.addButton,addContextForm:t.addContextForm,addContextMenu:t.addContextMenu,addContextToolbar:t.addContextToolbar,addIcon:t.addIcon,addMenuButton:t.addMenuButton,addMenuItem:t.addMenuItem,addNestedMenuItem:t.addNestedMenuItem,addSidebar:t.addSidebar,addSplitButton:t.addSplitButton,addToggleButton:t.addToggleButton,addGroupToolbarButton:t.addGroupToolbarButton,addToggleMenuItem:t.addToggleMenuItem,getAll:t.getAll}},q_=hn.each,cz=hn.trim,sz="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),W_={ftp:21,http:80,https:443,mailto:25},_g=function(){function t(e,o){e=cz(e),this.settings=o||{};var u=this.settings.base_uri,c=this;if(/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e)){c.source=e;return}var f=e.indexOf("//")===0;if(e.indexOf("/")===0&&!f&&(e=(u&&u.protocol||"http")+"://mce_host"+e),!/^[\w\-]*:?\/\//.test(e)){var p=this.settings.base_uri?this.settings.base_uri.path:new t(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")e="//mce_host"+c.toAbsPath(p,e);else{var b=/([^#?]*)([#?]?.*)/.exec(e);e=(u&&u.protocol||"http")+"://mce_host"+c.toAbsPath(p,b[1])+b[2]}}e=e.replace(/@@/g,"(mce_at)");var y=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e);q_(sz,function(A,N){var B=y[N];B&&(B=B.replace(/\(mce_at\)/g,"@@")),c[A]=B}),u&&(c.protocol||(c.protocol=u.protocol),c.userInfo||(c.userInfo=u.userInfo),!c.port&&c.host==="mce_host"&&(c.port=u.port),(!c.host||c.host==="mce_host")&&(c.host=u.host),c.source=""),f&&(c.protocol="")}return t.parseDataUri=function(e){var o,u=decodeURIComponent(e).split(","),c=/data:([^;]+)/.exec(u[0]);return c&&(o=c[1]),{type:o,data:u[1]}},t.getDocumentBaseUrl=function(e){var o;return e.protocol.indexOf("http")!==0&&e.protocol!=="file:"?o=e.href:o=e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(o)&&(o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(o)||(o+="/")),o},t.prototype.setPath=function(e){var o=/^(.*?)\/?(\w+)?$/.exec(e);this.path=o[0],this.directory=o[1],this.file=o[2],this.source="",this.getURI()},t.prototype.toRelative=function(e){var o;if(e==="./")return e;var u=new t(e,{base_uri:this});if(u.host!=="mce_host"&&this.host!==u.host&&u.host||this.port!==u.port||this.protocol!==u.protocol&&u.protocol!=="")return u.getURI();var c=this.getURI(),f=u.getURI();return c===f||c.charAt(c.length-1)==="/"&&c.substr(0,c.length-1)===f?c:(o=this.toRelPath(this.path,u.path),u.query&&(o+="?"+u.query),u.anchor&&(o+="#"+u.anchor),o)},t.prototype.toAbsolute=function(e,o){var u=new t(e,{base_uri:this});return u.getURI(o&&this.isSameOrigin(u))},t.prototype.isSameOrigin=function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var o=W_[this.protocol];if(o&&(this.port||o)==(e.port||o))return!0}return!1},t.prototype.toRelPath=function(e,o){var u=0,c="",f,p,b=e.substring(0,e.lastIndexOf("/")).split("/"),y=o.split("/");if(b.length>=y.length){for(f=0,p=b.length;f<p;f++)if(f>=y.length||b[f]!==y[f]){u=f+1;break}}if(b.length<y.length){for(f=0,p=y.length;f<p;f++)if(f>=b.length||b[f]!==y[f]){u=f+1;break}}if(u===1)return o;for(f=0,p=b.length-(u-1);f<p;f++)c+="../";for(f=u-1,p=y.length;f<p;f++)f!==u-1?c+="/"+y[f]:c+=y[f];return c},t.prototype.toAbsPath=function(e,o){var u,c=0,f=[],p,b=/\/$/.test(o)?"/":"",y=e.split("/"),A=o.split("/");for(q_(y,function(N){N&&f.push(N)}),y=f,u=A.length-1,f=[];u>=0;u--)if(!(A[u].length===0||A[u]===".")){if(A[u]===".."){c++;continue}if(c>0){c--;continue}f.push(A[u])}return u=y.length-c,u<=0?p=Zn(f).join("/"):p=y.slice(0,u).join("/")+"/"+Zn(f).join("/"),p.indexOf("/")!==0&&(p="/"+p),b&&p.lastIndexOf("/")!==p.length-1&&(p+=b),p},t.prototype.getURI=function(e){e===void 0&&(e=!1);var o;return(!this.source||e)&&(o="",e||(this.protocol?o+=this.protocol+"://":o+="//",this.userInfo&&(o+=this.userInfo+"@"),this.host&&(o+=this.host),this.port&&(o+=":"+this.port)),this.path&&(o+=this.path),this.query&&(o+="?"+this.query),this.anchor&&(o+="#"+this.anchor),this.source=o),this.source},t}(),Ch=Zo.DOM,Y_=hn.extend,lz=hn.each,$_=hn.resolve,fz=Ue.ie,LC=function(){function t(e,o,u){var c=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=u,this.documentBaseUrl=u.documentBaseURL,Y_(this,$E),this.settings=cB(this,e,this.documentBaseUrl,u.defaultSettings,o),this.settings.suffix&&(u.suffix=this.settings.suffix),this.suffix=u.suffix,this.settings.base_url&&u._setBaseUrl(this.settings.base_url),this.baseUri=u.baseURI,this.settings.referrer_policy&&(to.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),Zo.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),ba.languageLoad=this.settings.language_load,ba.baseURL=u.baseURL,this.id=e,this.setDirty(!1),this.documentBaseURI=new _g(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new j_(this),this.editorCommands=new qy(this),this.settings.cache_suffix&&(Ue.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:az(),styleSheetLoader:void 0,show:tt,hide:tt,enable:tt,disable:tt,isDisabled:ve};var f=this,p=GE(f);this.mode=p,this.setMode=p.set,u.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=jr.overrideDefaults(function(){return{context:c.inline?c.getBody():c.getDoc(),element:c.getBody()}})}return t.prototype.render=function(){VN(this)},t.prototype.focus=function(e){Zk(this,e)},t.prototype.hasFocus=function(){return Qd(this)},t.prototype.execCallback=function(e){for(var o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];var c=this,f=c.settings[e],p;if(f)return c.callbackLookup&&(p=c.callbackLookup[e])&&(f=p.func,p=p.scope),typeof f=="string"&&(p=f.replace(/\.\w+$/,""),p=p?$_(p):0,f=$_(f),c.callbackLookup=c.callbackLookup||{},c.callbackLookup[e]={func:f,scope:p}),f.apply(p||c,o)},t.prototype.translate=function(e){return Fc.translate(e)},t.prototype.getParam=function(e,o,u){return rO(this,e,o,u)},t.prototype.hasPlugin=function(e,o){var u=Wt(mv(this).split(/[ ,]/),e);return u?o?el.get(e)!==void 0:!0:!1},t.prototype.nodeChanged=function(e){this._nodeChangeDispatcher.nodeChanged(e)},t.prototype.addCommand=function(e,o,u){this.editorCommands.addCommand(e,o,u)},t.prototype.addQueryStateHandler=function(e,o,u){this.editorCommands.addQueryStateHandler(e,o,u)},t.prototype.addQueryValueHandler=function(e,o,u){this.editorCommands.addQueryValueHandler(e,o,u)},t.prototype.addShortcut=function(e,o,u,c){this.shortcuts.add(e,o,u,c)},t.prototype.execCommand=function(e,o,u,c){return this.editorCommands.execCommand(e,o,u,c)},t.prototype.queryCommandState=function(e){return this.editorCommands.queryCommandState(e)},t.prototype.queryCommandValue=function(e){return this.editorCommands.queryCommandValue(e)},t.prototype.queryCommandSupported=function(e){return this.editorCommands.queryCommandSupported(e)},t.prototype.show=function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable="true":(Ch.show(e.getContainer()),Ch.hide(e.id)),e.load(),e.fire("show"))},t.prototype.hide=function(){var e=this,o=e.getDoc();e.hidden||(fz&&o&&!e.inline&&o.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable="false",e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(Ch.hide(e.getContainer()),Ch.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},t.prototype.isHidden=function(){return!!this.hidden},t.prototype.setProgressState=function(e,o){this.fire("ProgressState",{state:e,time:o})},t.prototype.load=function(e){var o=this,u=o.getElement(),c;if(o.removed)return"";if(u){e=e||{},e.load=!0;var f=T(u)?u.value:u.innerHTML;return c=o.setContent(f,e),e.element=u,e.no_events||o.fire("LoadContent",e),e.element=u=null,c}},t.prototype.save=function(e){var o=this,u=o.getElement(),c,f;if(!(!u||!o.initialized||o.removed))return e=e||{},e.save=!0,e.element=u,c=e.content=o.getContent(e),e.no_events||o.fire("SaveContent",e),e.format==="raw"&&o.fire("RawSaveContent",e),c=e.content,T(u)?u.value=c:((e.is_removing||!o.inline)&&(u.innerHTML=c),(f=Ch.getParent(o.id,"form"))&&lz(f.elements,function(p){if(p.name===o.id)return p.value=c,!1})),e.element=u=null,e.set_dirty!==!1&&o.setDirty(!1),c},t.prototype.setContent=function(e,o){return v3(this,e,o)},t.prototype.getContent=function(e){return JF(this,e)},t.prototype.insertContent=function(e,o){o&&(e=Y_({content:e},o)),this.execCommand("mceInsertContent",!1,e)},t.prototype.resetContent=function(e){e===void 0?v3(this,this.startContent,{format:"raw"}):v3(this,e),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},t.prototype.isDirty=function(){return!this.isNotDirty},t.prototype.setDirty=function(e){var o=!this.isNotDirty;this.isNotDirty=!e,e&&e!==o&&this.fire("dirty")},t.prototype.getContainer=function(){var e=this;return e.container||(e.container=Ch.get(e.editorContainer||e.id+"_parent")),e.container},t.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},t.prototype.getElement=function(){return this.targetElm||(this.targetElm=Ch.get(this.id)),this.targetElm},t.prototype.getWin=function(){var e=this,o;return e.contentWindow||(o=e.iframeElement,o&&(e.contentWindow=o.contentWindow)),e.contentWindow},t.prototype.getDoc=function(){var e=this,o;return e.contentDocument||(o=e.getWin(),o&&(e.contentDocument=o.document)),e.contentDocument},t.prototype.getBody=function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},t.prototype.convertURL=function(e,o,u){var c=this,f=c.settings;return f.urlconverter_callback?c.execCallback("urlconverter_callback",e,u,!0,o):!f.convert_urls||u&&u.nodeName==="LINK"||e.indexOf("file:")===0||e.length===0?e:f.relative_urls?c.documentBaseURI.toRelative(e):(e=c.documentBaseURI.toAbsolute(e,f.remove_script_host),e)},t.prototype.addVisual=function(e){UN(this,e)},t.prototype.remove=function(){tB(this)},t.prototype.destroy=function(e){nB(this,e)},t.prototype.uploadImages=function(e){return this.editorUpload.uploadImages(e)},t.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},t.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},t.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},t.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},t.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},t}(),sl=Zo.DOM,dz=hn.explode,Wf=hn.each,ql=hn.extend,mz=0,X_=!1,IC,hm=[],ka=[],gz=function(t){return t!=="length"},HC=function(t){var e=t.type;Wf(vm.get(),function(o){switch(e){case"scroll":o.fire("ScrollWindow",t);break;case"resize":o.fire("ResizeWindow",t);break}})},VC=function(t){t!==X_&&(t?jr(window).on("resize scroll",HC):jr(window).off("resize scroll",HC),X_=t)},JE=function(t){var e=ka;delete hm[t.id];for(var o=0;o<hm.length;o++)if(hm[o]===t){hm.splice(o,1);break}return ka=An(ka,function(u){return t!==u}),vm.activeEditor===t&&(vm.activeEditor=ka.length>0?ka[0]:null),vm.focusedEditor===t&&(vm.focusedEditor=null),e.length!==ka.length},UC=function(t){return t&&t.initialized&&!(t.getContainer()||t.getBody()).parentNode&&(JE(t),t.unbindAllNativeEvents(),t.destroy(!0),t.removed=!0,t=null),t},G_=document.compatMode!=="CSS1Compat",vm=Xe(Xe({},zC),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:jr,majorVersion:"5",minorVersion:"7.0",releaseDate:"2021-02-10",editors:hm,i18n:Fc,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var t=this,e,o,u="";o=_g.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(o)&&(o=o.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(o)||(o+="/"));var c=window.tinymce||window.tinyMCEPreInit;if(c)e=c.base||c.baseURL,u=c.suffix;else{for(var f=document.getElementsByTagName("script"),p=0;p<f.length;p++){var b=f[p].src||"";if(b!==""){var y=b.substring(b.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(b)){y.indexOf(".min")!==-1&&(u=".min"),e=b.substring(0,b.lastIndexOf("/"));break}}}if(!e&&document.currentScript){var b=document.currentScript.src;b.indexOf(".min")!==-1&&(u=".min"),e=b.substring(0,b.lastIndexOf("/"))}}t.baseURL=new _g(o).toAbsolute(e),t.documentBaseURL=o,t.baseURI=new _g(t.baseURL),t.suffix=u,Xk(t)},overrideDefaults:function(t){var e=t.base_url;e&&this._setBaseUrl(e);var o=t.suffix;t.suffix&&(this.suffix=o),this.defaultSettings=t;var u=t.plugin_base_urls;u!==void 0&&Or(u,function(c,f){ba.PluginManager.urls[f]=c})},init:function(t){var e=this,o,u=hn.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),c=function(B,M){return B.inline&&M.tagName.toLowerCase()in u},f=function(B){var M=B.id;return M||(M=zr(B,"name").filter(function(X){return!sl.get(X)}).getOrThunk(sl.uniqueId),B.setAttribute("id",M)),M},p=function(B){var M=t[B];if(M)return M.apply(e,[])},b=function(B,M){return M.constructor===RegExp?M.test(B.className):sl.hasClass(B,M)},y=function(B){var M=[];if(Ue.browser.isIE()&&Ue.browser.version.major<11)return Jx("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(G_)return Jx("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(B.types)return Wf(B.types,function(J){M=M.concat(sl.select(J.selector))}),M;if(B.selector)return sl.select(B.selector);if(B.target)return[B.target];switch(B.mode){case"exact":var X=B.elements||"";X.length>0&&Wf(dz(X),function(J){var Q=sl.get(J);Q?M.push(Q):Wf(document.forms,function($){Wf($.elements,function(pt){pt.name===J&&(J="mce_editor_"+mz++,sl.setAttrib(pt,"id",J),M.push(pt))})})});break;case"textareas":case"specific_textareas":Wf(sl.select("textarea"),function(J){B.editor_deselector&&b(J,B.editor_deselector)||(!B.editor_selector||b(J,B.editor_selector))&&M.push(J)});break}return M},A=function(B){o=B},N=function(){var B=0,M=[],X,J=function(Q,$,pt){var mt=new LC(Q,$,e);M.push(mt),mt.on("init",function(){++B===X.length&&A(M)}),mt.targetElm=mt.targetElm||pt,mt.render()};if(sl.unbind(window,"ready",N),p("onpageload"),X=jr.unique(y(t)),t.types){Wf(t.types,function(Q){hn.each(X,function($){return sl.is($,Q.selector)?(J(f($),ql({},t,Q),$),!1):!0})});return}hn.each(X,function(Q){UC(e.get(Q.id))}),X=hn.grep(X,function(Q){return!e.get(Q.id)}),X.length===0?A([]):Wf(X,function(Q){c(t,Q)?Jx("Could not initialize inline editor on invalid inline target element",Q):J(f(Q),t,Q)})};return e.settings=t,sl.bind(window,"ready",N),new Ri(function(B){o?B(o):A=function(M){B(M)}})},get:function(t){return arguments.length===0?ka.slice(0):$e(t)?Lr(ka,function(e){return e.id===t}).getOr(null):Xn(t)&&ka[t]?ka[t]:null},add:function(t){var e=this,o=hm[t.id];return o===t||(e.get(t.id)===null&&(gz(t.id)&&(hm[t.id]=t),hm.push(t),ka.push(t)),VC(!0),e.activeEditor=t,e.fire("AddEditor",{editor:t}),IC||(IC=function(u){var c=e.fire("BeforeUnload");if(c.returnValue)return u.preventDefault(),u.returnValue=c.returnValue,c.returnValue},window.addEventListener("beforeunload",IC))),t},createEditor:function(t,e){return this.add(new LC(t,e,this))},remove:function(t){var e=this,o,u;if(!t){for(o=ka.length-1;o>=0;o--)e.remove(ka[o]);return}if($e(t)){Wf(sl.select(t),function(c){u=e.get(c.id),u&&e.remove(u)});return}return u=t,he(e.get(u.id))?null:(JE(u)&&e.fire("RemoveEditor",{editor:u}),ka.length===0&&window.removeEventListener("beforeunload",IC),u.remove(),VC(ka.length>0),u)},execCommand:function(t,e,o){var u=this,c=u.get(o);switch(t){case"mceAddEditor":return u.get(o)||new LC(o,u.settings,u).render(),!0;case"mceRemoveEditor":return c&&c.remove(),!0;case"mceToggleEditor":return c?(c.isHidden()?c.show():c.hide(),!0):(u.execCommand("mceAddEditor",!1,o),!0)}return u.activeEditor?u.activeEditor.execCommand(t,e,o):!1},triggerSave:function(){Wf(ka,function(t){t.save()})},addI18n:function(t,e){Fc.add(t,e)},translate:function(t){return Fc.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!==t&&(e&&e.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:e})),this.activeEditor=t},_setBaseUrl:function(t){this.baseURL=new _g(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new _g(this.baseURL)}});vm.setup();var K_=Math.min,F0=Math.max,Sh=Math.round,J_=function(t,e,o){var u=e.x,c=e.y,f=t.w,p=t.h,b=e.w,y=e.h,A=(o||"").split("");return A[0]==="b"&&(c+=y),A[1]==="r"&&(u+=b),A[0]==="c"&&(c+=Sh(y/2)),A[1]==="c"&&(u+=Sh(b/2)),A[3]==="b"&&(c-=p),A[4]==="r"&&(u-=f),A[3]==="c"&&(c-=Sh(p/2)),A[4]==="c"&&(u-=Sh(f/2)),B0(u,c,f,p)},pz=function(t,e,o,u){var c,f;for(f=0;f<u.length;f++)if(c=J_(t,e,u[f]),c.x>=o.x&&c.x+c.w<=o.w+o.x&&c.y>=o.y&&c.y+c.h<=o.h+o.y)return u[f];return null},hz=function(t,e,o){return B0(t.x-e,t.y-o,t.w+e*2,t.h+o*2)},vz=function(t,e){var o=F0(t.x,e.x),u=F0(t.y,e.y),c=K_(t.x+t.w,e.x+e.w),f=K_(t.y+t.h,e.y+e.h);return c-o<0||f-u<0?null:B0(o,u,c-o,f-u)},Z_=function(t,e,o){var u=t.x,c=t.y,f=t.x+t.w,p=t.y+t.h,b=e.x+e.w,y=e.y+e.h,A=F0(0,e.x-u),N=F0(0,e.y-c),B=F0(0,f-b),M=F0(0,p-y);return u+=A,c+=N,o&&(f+=A,p+=N,u-=B,c-=M),f-=B,p-=M,B0(u,c,f-u,p-c)},B0=function(t,e,o,u){return{x:t,y:e,w:o,h:u}},bz=function(t){return B0(t.left,t.top,t.width,t.height)},yz={inflate:hz,relativePosition:J_,findBestRelativePosition:pz,intersect:vz,clamp:Z_,create:B0,fromClientRect:bz},wz=function(t,e,o){o===void 0&&(o=1e3);var u=!1,c=null,f=function(A){return function(){for(var N=[],B=0;B<arguments.length;B++)N[B]=arguments[B];u||(u=!0,c!==null&&(clearTimeout(c),c=null),A.apply(null,N))}},p=f(t),b=f(e),y=function(){for(var A=[],N=0;N<arguments.length;N++)A[N]=arguments[N];!u&&c===null&&(c=setTimeout(function(){return b.apply(null,A)},o))};return{start:y,resolve:p,reject:b}},xz=function(){var t={},e={},o=function(c,f){var p='Script at URL "'+f+'" failed to load',b='Script at URL "'+f+"\" did not call `tinymce.Resource.add('"+c+"', data)` within 1 second";if(t[c]!==void 0)return t[c];var y=new Ri(function(A,N){var B=wz(A,N);e[c]=B.resolve,to.ScriptLoader.loadScript(f,function(){return B.start(b)},function(){return B.reject(p)})});return t[c]=y,y},u=function(c,f){e[c]!==void 0&&(e[c](f),delete e[c]),t[c]=Ri.resolve(f)};return{load:o,add:u}},Cz=xz(),jC=hn.each,Sz=hn.extend,Q_,Ua,t5=function(){};t5.extend=Q_=function(t){var e=this,o=e.prototype,u=function(){var b,y,A,N=this;if(!Ua&&(N.init&&N.init.apply(N,arguments),y=N.Mixins,y))for(b=y.length;b--;)A=y[b],A.init&&A.init.apply(N,arguments)},c=function(){return this},f=function(b,y){return function(){var A=this,N=A._super;A._super=o[b];var B=y.apply(A,arguments);return A._super=N,B}};Ua=!0;var p=new e;return Ua=!1,t.Mixins&&(jC(t.Mixins,function(b){for(var y in b)y!=="init"&&(t[y]=b[y])}),o.Mixins&&(t.Mixins=o.Mixins.concat(t.Mixins))),t.Methods&&jC(t.Methods.split(","),function(b){t[b]=c}),t.Properties&&jC(t.Properties.split(","),function(b){var y="_"+b;t[b]=function(A){var N=this;return A!==void 0?(N[y]=A,N):N[y]}}),t.Statics&&jC(t.Statics,function(b,y){u[y]=b}),t.Defaults&&o.Defaults&&(t.Defaults=Sz({},o.Defaults,t.Defaults)),Or(t,function(b,y){typeof b=="function"&&o[y]?p[y]=f(y,b):p[y]=b}),u.prototype=p,u.constructor=u,u.extend=Q_,u};var qC=Math.min,WC=Math.max,kh=Math.round,kz=function(t){var e={},o=0,u=0,c=0,f=function(B,M,X){var J,Q,$;J=0,Q=0,$=0,B=B/255,M=M/255,X=X/255;var pt=qC(B,qC(M,X)),mt=WC(B,WC(M,X));if(pt===mt)return $=pt,{h:0,s:0,v:$*100};var vt=B===pt?M-X:X===pt?B-M:X-B;return J=B===pt?3:X===pt?1:5,J=60*(J-vt/(mt-pt)),Q=(mt-pt)/mt,$=mt,{h:kh(J),s:kh(Q*100),v:kh($*100)}},p=function(B,M,X){if(B=(parseInt(B,10)||0)%360,M=parseInt(M,10)/100,X=parseInt(X,10)/100,M=WC(0,qC(M,1)),X=WC(0,qC(X,1)),M===0){o=u=c=kh(255*X);return}var J=B/60,Q=X*M,$=Q*(1-Math.abs(J%2-1)),pt=X-Q;switch(Math.floor(J)){case 0:o=Q,u=$,c=0;break;case 1:o=$,u=Q,c=0;break;case 2:o=0,u=Q,c=$;break;case 3:o=0,u=$,c=Q;break;case 4:o=$,u=0,c=Q;break;case 5:o=Q,u=0,c=$;break;default:o=u=c=0}o=kh(255*(o+pt)),u=kh(255*(u+pt)),c=kh(255*(c+pt))},b=function(){var B=function(M){return M=parseInt(M,10).toString(16),M.length>1?M:"0"+M};return"#"+B(o)+B(u)+B(c)},y=function(){return{r:o,g:u,b:c}},A=function(){return f(o,u,c)},N=function(B){var M;return typeof B=="object"?"r"in B?(o=B.r,u=B.g,c=B.b):"v"in B&&p(B.h,B.s,B.v):(M=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(B))?(o=parseInt(M[1],10),u=parseInt(M[2],10),c=parseInt(M[3],10)):(M=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(B))?(o=parseInt(M[1],16),u=parseInt(M[2],16),c=parseInt(M[3],16)):(M=/#([0-F])([0-F])([0-F])/gi.exec(B))&&(o=parseInt(M[1]+M[1],16),u=parseInt(M[2]+M[2],16),c=parseInt(M[3]+M[3],16)),o=o<0?0:o>255?255:o,u=u<0?0:u>255?255:u,c=c<0?0:c>255?255:c,e};return t&&N(t),e.toRgb=y,e.toHsv=A,e.toHex=b,e.parse=N,e},YC=function(t){var e=JSON.stringify(t);return $e(e)?e.replace(/[\u0080-\uFFFF]/g,function(o){var u=o.charCodeAt(0).toString(16);return"\\u"+"0000".substring(u.length)+u}):e},ZE={serialize:YC,parse:function(t){try{return JSON.parse(t)}catch{}}},Ez={callbacks:{},count:0,send:function(t){var e=this,o=Zo.DOM,u=t.count!==void 0?t.count:e.count,c="tinymce_jsonp_"+u;e.callbacks[u]=function(f){o.remove(c),delete e.callbacks[u],t.callback(f)},o.add(o.doc.body,"script",{id:c,src:t.url,type:"text/javascript"}),e.count++}},Yy=Xe(Xe({},zC),{send:function(t){var e,o=0,u=function(){!t.async||e.readyState===4||o++>1e4?(t.success&&o<1e4&&e.status===200?t.success.call(t.success_scope,""+e.responseText,e,t):t.error&&t.error.call(t.error_scope,o>1e4?"TIMED_OUT":"GENERAL",e,t),e=null):Hr.setTimeout(u,10)};if(t.scope=t.scope||this,t.success_scope=t.success_scope||t.scope,t.error_scope=t.error_scope||t.scope,t.async=t.async!==!1,t.data=t.data||"",Yy.fire("beforeInitialize",{settings:t}),e=new XMLHttpRequest,e.overrideMimeType&&e.overrideMimeType(t.content_type),e.open(t.type||(t.data?"POST":"GET"),t.url,t.async),t.crossDomain&&(e.withCredentials=!0),t.content_type&&e.setRequestHeader("Content-Type",t.content_type),t.requestheaders&&hn.each(t.requestheaders,function(c){e.setRequestHeader(c.key,c.value)}),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e=Yy.fire("beforeSend",{xhr:e,settings:t}).xhr,e.send(t.data),!t.async)return u();Hr.setTimeout(u,10)}}),QE=hn.extend,Az=function(){function t(e){this.settings=QE({},e),this.count=0}return t.sendRPC=function(e){return new t().send(e)},t.prototype.send=function(e){var o=e.error,u=e.success,c=QE(this.settings,e);c.success=function(f,p){f=ZE.parse(f),typeof f=="undefined"&&(f={error:"JSON Parse error."}),f.error?o.call(c.error_scope||c.scope,f.error,p):u.call(c.success_scope||c.scope,f.result)},c.error=function(f,p){o&&o.call(c.error_scope||c.scope,f,p)},c.data=ZE.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),c.content_type="application/json",Yy.send(c)},t}(),Tz=function(){return function(){var t={},e=[],o={getItem:function(u){var c=t[u];return c||null},setItem:function(u,c){e.push(u),t[u]=String(c)},key:function(u){return e[u]},removeItem:function(u){e=e.filter(function(c){return c===u}),delete t[u]},clear:function(){e=[],t={}},length:0};return Object.defineProperty(o,"length",{get:function(){return e.length},configurable:!1,enumerable:!1}),o}()},Eh;try{var tA="__storage_test__";Eh=window.localStorage,Eh.setItem(tA,tA),Eh.removeItem(tA)}catch{Eh=Tz()}var n5=Eh,Oz={geom:{Rect:yz},util:{Promise:Ri,Delay:Hr,Tools:hn,VK:Be,URI:_g,Class:t5,EventDispatcher:WE,Observable:zC,I18n:Fc,XHR:Yy,JSON:ZE,JSONRequest:Az,JSONP:Ez,LocalStorage:n5,Color:kz,ImageUploader:F3},dom:{EventUtils:lf,Sizzle:Po,DomQuery:jr,TreeWalker:Wi,TextSeeker:N2,DOMUtils:Zo,ScriptLoader:to,RangeUtils:mg,Serializer:h3,StyleSheetLoader:Sr,ControlSelection:zl,BookmarkManager:zp,Selection:HT,Event:lf.Event},html:{Styles:Mm,Entities:Ba,Node:es,Schema:sf,SaxParser:Gp,DomParser:Yx,Writer:ay,Serializer:em},Env:Ue,AddOnManager:ba,Annotator:dg,Formatter:N3,UndoManager:bO,EditorCommands:qy,WindowManager:aO,NotificationManager:k3,EditorObservable:$E,Shortcuts:j_,Editor:LC,FocusManager:Gb,EditorManager:vm,DOM:Zo.DOM,ScriptLoader:to.ScriptLoader,PluginManager:el,ThemeManager:cm,IconManager:Sg,Resource:Cz,trim:hn.trim,isArray:hn.isArray,is:hn.is,toArray:hn.toArray,makeMap:hn.makeMap,each:hn.each,map:hn.map,grep:hn.grep,inArray:hn.inArray,extend:hn.extend,create:hn.create,walk:hn.walk,createNS:hn.createNS,resolve:hn.resolve,explode:hn.explode,_addCacheSuffix:hn._addCacheSuffix,isOpera:Ue.opera,isWebKit:Ue.webkit,isIE:Ue.ie,isGecko:Ue.gecko,isMac:Ue.mac},nA=hn.extend(vm,Oz),Dz=function(t){try{ft.exports=t}catch{}},e5=function(t){window.tinymce=t,window.tinyMCE=t};e5(nA),Dz(nA)})()})(mP);var y5=mP.exports;(function(){var ft=function(){},jn=function(n){return function(){return n()}},on=function(n,r){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return n(r.apply(null,i))}},nn=function(n,r){return function(i){return n(r(i))}},st=function(n){return function(){return n}},Xt=function(n){return n};function Kn(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];return function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];var g=r.concat(s);return n.apply(null,g)}}var qn=function(n){return function(r){return!n(r)}},Jt=function(n){return function(){throw new Error(n)}},yn=st(!1),Zt=st(!0),Kt=tinymce.util.Tools.resolve("tinymce.ThemeManager"),tt=function(){return tt=Object.assign||function(n){for(var r,i=1,s=arguments.length;i<s;i++){r=arguments[i];for(var d in r)Object.prototype.hasOwnProperty.call(r,d)&&(n[d]=r[d])}return n},tt.apply(this,arguments)};function ln(n,r){var i={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&r.indexOf(s)<0&&(i[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,s=Object.getOwnPropertySymbols(n);d<s.length;d++)r.indexOf(s[d])<0&&Object.prototype.propertyIsEnumerable.call(n,s[d])&&(i[s[d]]=n[s[d]]);return i}function Y(){for(var n=0,r=0,i=arguments.length;r<i;r++)n+=arguments[r].length;for(var s=Array(n),d=0,r=0;r<i;r++)for(var g=arguments[r],v=0,w=g.length;v<w;v++,d++)s[d]=g[v];return s}var jt=function(){return le},le=function(){var n=function(d){return d.isNone()},r=function(d){return d()},i=function(d){return d},s={fold:function(d,g){return d()},is:yn,isSome:yn,isNone:Zt,getOr:i,getOrThunk:r,getOrDie:function(d){throw new Error(d||"error: getOrDie called on none.")},getOrNull:st(null),getOrUndefined:st(void 0),or:i,orThunk:r,map:jt,each:ft,bind:jt,exists:yn,forall:Zt,filter:jt,equals:n,equals_:n,toArray:function(){return[]},toString:st("none()")};return s}(),Qt=function(n){var r=st(n),i=function(){return d},s=function(g){return g(n)},d={fold:function(g,v){return v(n)},is:function(g){return n===g},isSome:Zt,isNone:yn,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:i,orThunk:i,map:function(g){return Qt(g(n))},each:function(g){g(n)},bind:s,exists:s,forall:s,filter:function(g){return g(n)?d:le},toArray:function(){return[n]},toString:function(){return"some("+n+")"},equals:function(g){return g.is(n)},equals_:function(g,v){return g.fold(yn,function(w){return v(n,w)})}};return d},Le=function(n){return n==null?le:Qt(n)},S={some:Qt,none:jt,from:Le},ce=function(n){var r=typeof n;return n===null?"null":r==="object"&&(Array.prototype.isPrototypeOf(n)||n.constructor&&n.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(n)||n.constructor&&n.constructor.name==="String")?"string":r},Ne=function(n){return function(r){return ce(r)===n}},ve=function(n){return function(r){return typeof r===n}},ue=function(n){return function(r){return n===r}},Ie=Ne("string"),wr=Ne("object"),sr=Ne("array"),Pt=ve("boolean"),I=ue(void 0),ne=function(n){return n==null},Hn=function(n){return!ne(n)},He=ve("function"),Ve=ve("number"),$e=function(n,r){if(sr(n)){for(var i=0,s=n.length;i<s;++i)if(!r(n[i]))return!1;return!0}return!1},kn=Array.prototype.slice,bn=Array.prototype.indexOf,he=Array.prototype.push,Kr=function(n,r){return bn.call(n,r)},br=function(n,r){var i=Kr(n,r);return i===-1?S.none():S.some(i)},Ft=function(n,r){return Kr(n,r)>-1},cn=function(n,r){for(var i=0,s=n.length;i<s;i++){var d=n[i];if(r(d,i))return!0}return!1},Tn=function(n,r){for(var i=[],s=0;s<n;s++)i.push(r(s));return i},Xn=function(n,r){for(var i=[],s=0;s<n.length;s+=r){var d=kn.call(n,s,s+r);i.push(d)}return i},wt=function(n,r){for(var i=n.length,s=new Array(i),d=0;d<i;d++){var g=n[d];s[d]=r(g,d)}return s},tn=function(n,r){for(var i=0,s=n.length;i<s;i++){var d=n[i];r(d,i)}},ae=function(n,r){for(var i=n.length-1;i>=0;i--){var s=n[i];r(s,i)}},qt=function(n,r){for(var i=[],s=[],d=0,g=n.length;d<g;d++){var v=n[d],w=r(v,d)?i:s;w.push(v)}return{pass:i,fail:s}},gt=function(n,r){for(var i=[],s=0,d=n.length;s<d;s++){var g=n[s];r(g,s)&&i.push(g)}return i},Wt=function(n,r,i){return ae(n,function(s){i=r(i,s)}),i},nt=function(n,r,i){return tn(n,function(s){i=r(i,s)}),i},Et=function(n,r,i){for(var s=0,d=n.length;s<d;s++){var g=n[s];if(r(g,s))return S.some(g);if(i(g,s))break}return S.none()},yt=function(n,r){return Et(n,r,yn)},Nn=function(n,r){for(var i=0,s=n.length;i<s;i++){var d=n[i];if(r(d,i))return S.some(i)}return S.none()},be=function(n){for(var r=[],i=0,s=n.length;i<s;++i){if(!sr(n[i]))throw new Error("Arr.flatten item "+i+" was not an array, input: "+n);he.apply(r,n[i])}return r},An=function(n,r){return be(wt(n,r))},ar=function(n,r){for(var i=0,s=n.length;i<s;++i){var d=n[i];if(r(d,i)!==!0)return!1}return!0},ze=function(n){var r=kn.call(n,0);return r.reverse(),r},Zr=function(n,r){return gt(n,function(i){return!Ft(r,i)})},Lr=function(n,r){for(var i={},s=0,d=n.length;s<d;s++){var g=n[s];i[String(g)]=r(g,s)}return i},yo=function(n,r){var i=kn.call(n,0);return i.sort(r),i},Vn=function(n,r){return r>=0&&r<n.length?S.some(n[r]):S.none()},Cn=function(n){return Vn(n,0)},ee=function(n){return Vn(n,n.length-1)},Zn=He(Array.from)?Array.from:function(n){return kn.call(n)},Qn=function(n,r){for(var i=0;i<n.length;i++){var s=r(n[i],i);if(s.isSome())return s}return S.none()},Me=function(n){var r=function(R){return n===R},i=function(R){return Me(n)},s=function(R){return Me(n)},d=function(R){return Me(R(n))},g=function(R){return Me(n)},v=function(R){R(n)},w=function(R){return R(n)},C=function(R,G){return G(n)},E=function(R){return R(n)},O=function(R){return R(n)},_=function(){return S.some(n)};return{is:r,isValue:Zt,isError:yn,getOr:st(n),getOrThunk:st(n),getOrDie:st(n),or:i,orThunk:s,fold:C,map:d,mapError:g,each:v,bind:w,exists:E,forall:O,toOptional:_}},dr=function(n){var r=function(E){return E()},i=function(){return Jt(String(n))()},s=function(E){return E},d=function(E){return E()},g=function(E){return dr(n)},v=function(E){return dr(E(n))},w=function(E){return dr(n)},C=function(E,O){return E(n)};return{is:yn,isValue:yn,isError:Zt,getOr:Xt,getOrThunk:r,getOrDie:i,or:s,orThunk:d,fold:C,map:g,mapError:v,each:ft,bind:w,exists:yn,forall:Zt,toOptional:S.none}},zn=function(n,r){return n.fold(function(){return dr(r)},Me)},gn={value:Me,error:dr,fromOption:zn},Ee;(function(n){n[n.Error=0]="Error",n[n.Value=1]="Value"})(Ee||(Ee={}));var ur=function(n,r,i){return n.stype===Ee.Error?r(n.serror):i(n.svalue)},Ir=function(n){var r=[],i=[];return tn(n,function(s){ur(s,function(d){return i.push(d)},function(d){return r.push(d)})}),{values:r,errors:i}},Nr=function(n,r){return n.stype===Ee.Error?{stype:Ee.Error,serror:r(n.serror)}:n},eo=function(n,r){return n.stype===Ee.Value?{stype:Ee.Value,svalue:r(n.svalue)}:n},Or=function(n,r){return n.stype===Ee.Value?r(n.svalue):n},So=function(n,r){return n.stype===Ee.Error?r(n.serror):n},Ct=function(n){return{stype:Ee.Value,svalue:n}},rn=function(n){return{stype:Ee.Error,serror:n}},Yn=function(n){return ur(n,gn.error,gn.value)},Pe=function(n){return n.fold(rn,Ct)},fe={fromResult:Pe,toResult:Yn,svalue:Ct,partition:Ir,serror:rn,bind:Or,bindError:So,map:eo,mapError:Nr,fold:ur},lr=Object.keys,wo=Object.hasOwnProperty,zr=function(n,r){for(var i=lr(n),s=0,d=i.length;s<d;s++){var g=i[s],v=n[g];r(v,g)}},Er=function(n,r){return $o(n,function(i,s){return{k:s,v:r(i,s)}})},$o=function(n,r){var i={};return zr(n,function(s,d){var g=r(s,d);i[g.k]=g.v}),i},Bi=function(n){return function(r,i){n[i]=r}},Eo=function(n,r,i,s){var d={};return zr(n,function(g,v){(r(g,v)?i:s)(g,v)}),d},Xi=function(n,r){var i={};return Eo(n,r,Bi(i),ft),i},Oo=function(n,r){var i=[];return zr(n,function(s,d){i.push(r(s,d))}),i},hi=function(n,r){for(var i=lr(n),s=0,d=i.length;s<d;s++){var g=i[s],v=n[g];if(r(v,g,n))return S.some(v)}return S.none()},ii=function(n){return Oo(n,function(r){return r})},cr=function(n,r){return ao(n,r)?S.from(n[r]):S.none()},ao=function(n,r){return wo.call(n,r)},zo=function(n,r){return ao(n,r)&&n[r]!==void 0&&n[r]!==null},Ko=function(n){if(!sr(n))throw new Error("cases must be an array");if(n.length===0)throw new Error("there must be at least one case");var r=[],i={};return tn(n,function(s,d){var g=lr(s);if(g.length!==1)throw new Error("one and only one name per case");var v=g[0],w=s[v];if(i[v]!==void 0)throw new Error("duplicate key detected:"+v);if(v==="cata")throw new Error("cannot have a case named cata (sorry)");if(!sr(w))throw new Error("case arguments must be an array");r.push(v),i[v]=function(){for(var C=[],E=0;E<arguments.length;E++)C[E]=arguments[E];var O=C.length;if(O!==w.length)throw new Error("Wrong number of arguments to case "+v+". Expected "+w.length+" ("+w+"), got "+O);var _=function(R){var G=lr(R);if(r.length!==G.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+G.join(","));var ot=ar(r,function(et){return Ft(G,et)});if(!ot)throw new Error("Not all branches were specified when using match. Specified: "+G.join(", ")+`
Required: `+r.join(", "));return R[v].apply(null,C)};return{fold:function(){for(var R=[],G=0;G<arguments.length;G++)R[G]=arguments[G];if(R.length!==n.length)throw new Error("Wrong number of arguments to fold. Expected "+n.length+", got "+R.length);var ot=R[d];return ot.apply(null,C)},match:_,log:function(R){console.log(R,{constructors:r,constructor:v,params:C})}}}}),i},Xe={generate:Ko},ui=Object.prototype.hasOwnProperty,gi=function(n,r){return r},Ni=function(n,r){var i=wr(n)&&wr(r);return i?$r(n,r):r},yi=function(n){return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(r.length===0)throw new Error("Can't merge zero objects");for(var s={},d=0;d<r.length;d++){var g=r[d];for(var v in g)ui.call(g,v)&&(s[v]=n(s[v],g[v]))}return s}},$r=yi(Ni),wi=yi(gi),fi=function(n){var r=!1,i;return function(){for(var s=[],d=0;d<arguments.length;d++)s[d]=arguments[d];return r||(r=!0,i=n.apply(null,s)),i}},vi=Xe.generate([{strict:[]},{defaultedThunk:["fallbackThunk"]},{asOption:[]},{asDefaultedOptionThunk:["fallbackThunk"]},{mergeWithThunk:["baseThunk"]}]),Vi=function(n){return vi.defaultedThunk(st(n))},Ui=function(n){return vi.mergeWithThunk(st(n))},Wo=vi.strict,zi=vi.asOption,lt=vi.defaultedThunk;vi.asDefaultedOptionThunk;var L=vi.mergeWithThunk;Xe.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var q=function(n){var r=[],i=[];return tn(n,function(s){s.fold(function(d){r.push(d)},function(d){i.push(d)})}),{errors:r,values:i}},dt=function(n,r){var i={};return zr(n,function(s,d){Ft(r,d)||(i[d]=s)}),i},_t=function(n,r){var i;return i={},i[n]=r,i},zt=function(n){var r={};return tn(n,function(i){r[i.key]=i.value}),r},an=function(n,r){return dt(n,r)},P=function(n,r){return _t(n,r)},Z=function(n){return zt(n)},xt=function(n,r){return n.length===0?gn.value(r):gn.value($r(r,wi.apply(void 0,n)))},at=function(n){return gn.error(be(n))},$t=function(n,r){var i=q(n);return i.errors.length>0?at(i.errors):xt(i.values,r)},en=function(n,r){return n.length>0?fe.svalue($r(r,wi.apply(void 0,n))):fe.svalue(r)},we=function(n){return on(fe.serror,be)(n)},Ze=function(n,r){var i=fe.partition(n);return i.errors.length>0?we(i.errors):en(i.values,r)},Pn=function(n){var r=fe.partition(n);return r.errors.length>0?we(r.errors):fe.svalue(r.values)},Qe={consolidateObj:Ze,consolidateArr:Pn},K=function(n){return wr(n)&&lr(n).length>100?" removed due to size":JSON.stringify(n,null,2)},St=function(n){var r=n.length>10?n.slice(0,10).concat([{path:[],getErrorInfo:function(){return"... (only showing first ten failures)"}}]):n;return wt(r,function(i){return"Failed path: ("+i.path.join(" > ")+`)
`+i.getErrorInfo()})},Ot=function(n,r){return fe.serror([{path:n,getErrorInfo:r}])},sn=function(n,r,i){return Ot(n,function(){return'Could not find valid *strict* value for "'+r+'" in '+K(i)})},Ae=function(n,r){return Ot(n,function(){return'Choice schema did not contain choice key: "'+r+'"'})},_e=function(n,r,i){return Ot(n,function(){return'The chosen schema: "'+i+'" did not exist in branches: '+K(r)})},rt=function(n,r){return Ot(n,function(){return"There are unsupported fields: ["+r.join(", ")+"] specified"})},Bt=function(n,r){return Ot(n,function(){return r})},mn=Xe.generate([{field:["key","okey","presence","prop"]},{state:["okey","instantiator"]}]),oe=function(n,r,i){return cr(r,i).fold(function(){return sn(n,i,r)},fe.svalue)},ke=function(n,r,i){var s=cr(n,r).fold(function(){return i(n)},Xt);return fe.svalue(s)},Wn=function(n,r){return fe.svalue(cr(n,r))},fr=function(n,r,i){var s=cr(n,r).map(function(d){return d===!0?i(n):d});return fe.svalue(s)},mr=function(n,r,i,s){return i.fold(function(d,g,v,w){var C=function(O){var _=w.extract(n.concat([d]),s,O);return fe.map(_,function(R){return _t(g,s(R))})},E=function(O){return O.fold(function(){var _=_t(g,s(S.none()));return fe.svalue(_)},function(_){var R=w.extract(n.concat([d]),s,_);return fe.map(R,function(G){return _t(g,s(S.some(G)))})})};return function(){return v.fold(function(){return fe.bind(oe(n,r,d),C)},function(O){return fe.bind(ke(r,d,O),C)},function(){return fe.bind(Wn(r,d),E)},function(O){return fe.bind(fr(r,d,O),E)},function(O){var _=O(r),R=fe.map(ke(r,d,st({})),function(G){return $r(_,G)});return fe.bind(R,C)})}()},function(d,g){var v=g(r);return fe.svalue(_t(d,s(v)))})},Rr=function(n,r,i,s){var d=wt(i,function(g){return mr(n,r,g,s)});return Qe.consolidateObj(d,{})},xo=function(n){var r=function(s,d,g){return n().extract(s,d,g)},i=function(){return n().toString()};return{extract:r,toString:i}},W=function(n){var r=function(s,d,g){return fe.bindError(n(g,d),function(v){return Bt(s,v)})},i=function(){return"val"};return{extract:r,toString:i}},Mt=function(n){return lr(Xi(n,function(r){return r!=null}))},Ht=function(n){var r=Nt(n),i=Wt(n,function(d,g){return g.fold(function(v){return $r(d,P(v,!0))},st(d))},{}),s=function(d,g,v){var w=Pt(v)?[]:Mt(v),C=gt(w,function(E){return!zo(i,E)});return C.length===0?r.extract(d,g,v):rt(d,C)};return{extract:s,toString:r.toString}},Nt=function(n){var r=function(s,d,g){return Rr(s,g,n,d)},i=function(){var s=wt(n,function(d){return d.fold(function(g,v,w,C){return g+" -> "+C.toString()},function(g,v){return"state("+g+")"})});return`obj{
`+s.join(`
`)+"}"};return{extract:r,toString:i}},Gn=function(n){var r=function(s,d,g){var v=wt(g,function(w,C){return n.extract(s.concat(["["+C+"]"]),d,w)});return Qe.consolidateArr(v)},i=function(){return"array("+n.toString()+")"};return{extract:r,toString:i}},xr=function(n){var r=function(s,d,g){for(var v=[],w=0,C=n;w<C.length;w++){var E=C[w],O=E.extract(s,d,g);if(O.stype===Ee.Value)return O;v.push(O)}return Qe.consolidateArr(v)},i=function(){return"oneOf("+wt(n,function(s){return s.toString()}).join(", ")+")"};return{extract:r,toString:i}},co=function(n,r){var i=function(g,v){return Gn(W(n)).extract(g,Xt,v)},s=function(g,v,w){var C=lr(w),E=i(g,C);return fe.bind(E,function(O){var _=wt(O,function(R){return mn.field(R,R,Wo(),r)});return Nt(_).extract(g,v,w)})},d=function(){return"setOf("+r.toString()+")"};return{extract:s,toString:d}},lo=function(n,r){var i=fi(function(){return r()}),s=function(g,v,w){return i().extract(g,v,w)},d=function(){return i().toString()};return{extract:s,toString:d}},Qr=st(W(fe.svalue)),ci=on(Gn,Nt),io=mn.state,ro=mn.field,vu=function(n,r,i,s,d){var g=cr(s,d);return g.fold(function(){return _e(n,s,d)},function(v){return v.extract(n.concat(["branch: "+d]),r,i)})},Gl=function(n,r){var i=function(d,g,v){var w=cr(v,n);return w.fold(function(){return Ae(d,n)},function(C){return vu(d,g,v,r,C)})},s=function(){return"chooseOn("+n+"). Possible values: "+lr(r)};return{extract:i,toString:s}},Kl=W(fe.svalue),bm=function(n){return ci(n)},Ue=function(){return Gn(Kl)},Xf=xo,Tu=function(n){return W(function(r){return n(r).fold(fe.serror,fe.svalue)})},Jl=function(n,r){return co(function(i){return fe.fromResult(n(i))},r)},Hc=function(n,r,i,s){var d=r.extract([n],i,s);return fe.mapError(d,function(g){return{input:s,errors:g}})},Bo=function(n,r,i){return fe.toResult(Hc(n,r,Xt,i))},Wa=function(n){return n.fold(function(r){throw new Error(dc(r))},Xt)},ji=function(n,r,i){return Wa(Bo(n,r,i))},dc=function(n){return`Errors: 
`+St(n.errors).join(`
`)+`

Input object: `+K(n.input)},fa=function(n,r){return Gl(n,r)},bu=function(n,r){return Gl(n,Er(r,Nt))},Rg=function(n,r){return lo(n,r)},Ou=st(Kl),hn=function(n,r){return W(function(i){var s=typeof i;return n(i)?fe.svalue(i):fe.serror("Expected type: "+r+" but got: "+s)})},Gf=hn(Ve,"number"),bi=hn(Ie,"string"),ls=hn(Pt,"boolean"),F=hn(He,"function"),it=function(n){var r=function(i,s){for(var d=i.next();!d.done;){if(!s(d.value))return!1;d=i.next()}return!0};if(Object(n)!==n)return!0;switch({}.toString.call(n).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(n).every(function(i){return it(n[i])});case"Map":return r(n.keys(),it)&&r(n.values(),it);case"Set":return r(n.keys(),it);default:return!1}},H=W(function(n){return it(n)?fe.svalue(n):fe.serror("Expected value to be acceptable for sending via postMessage")}),pn=function(n){return Tu(function(r){return Ft(n,r)?gn.value(r):gn.error('Unsupported value: "'+r+'", choose one of "'+n.join(", ")+'".')})},At=function(n){return ro(n,n,Wo(),Qr())},gr=function(n,r){return ro(n,n,Wo(),r)},Do=function(n){return gr(n,Gf)},rr=function(n){return gr(n,bi)},ru=function(n,r){return ro(n,n,Wo(),pn(r))},da=function(n){return gr(n,ls)},Ai=function(n){return gr(n,F)},Du=function(n,r){return ro(n,n,zi(),W(function(i){return fe.serror("The field: "+n+" is forbidden. "+r)}))},mc=function(n,r){return ro(n,n,Wo(),Nt(r))},Kf=function(n,r){return ro(n,n,Wo(),ci(r))},ma=function(n,r){return ro(n,n,Wo(),Gn(r))},Cr=function(n){return ro(n,n,zi(),Qr())},ou=function(n,r){return ro(n,n,zi(),r)},zs=function(n){return ou(n,Gf)},uo=function(n){return ou(n,bi)},Mo=function(n){return ou(n,F)},Pg=function(n,r){return ou(n,Gn(r))},Gi=function(n,r){return ou(n,Nt(r))},ym=function(n,r){return ou(n,Ht(r))},It=function(n,r){return ro(n,n,Vi(r),Qr())},Ti=function(n,r,i){return ro(n,n,Vi(r),i)},fs=function(n,r){return Ti(n,r,Gf)},dl=function(n,r){return Ti(n,r,bi)},Aa=function(n,r,i){return Ti(n,r,pn(i))},fo=function(n,r){return Ti(n,r,ls)},ri=function(n,r){return Ti(n,r,F)},Mi=function(n,r){return Ti(n,r,H)},iu=function(n,r,i){return Ti(n,r,Gn(i))},Ya=function(n,r,i){return Ti(n,r,Nt(i))},xi=function(n,r){return io(n,r)},re=function(n){var r=n,i=function(){return r},s=function(d){r=d};return{get:i,set:s}},gc=function(n,r){var i=r||document,s=i.createElement("div");if(s.innerHTML=n,!s.hasChildNodes()||s.childNodes.length>1)throw console.error("HTML does not have a single root node",n),new Error("HTML must have a single root node");return Ki(s.childNodes[0])},pc=function(n,r){var i=r||document,s=i.createElement(n);return Ki(s)},ml=function(n,r){var i=r||document,s=i.createTextNode(n);return Ki(s)},Ki=function(n){if(n==null)throw new Error("Node cannot be null or undefined");return{dom:n}},Oi=function(n,r,i){return S.from(n.dom.elementFromPoint(r,i)).map(Ki)},Fe={fromHtml:gc,fromTag:pc,fromText:ml,fromDom:Ki,fromPoint:Oi},hc=function(n,r,i,s){var d=n.isiOS()&&/ipad/i.test(i)===!0,g=n.isiOS()&&!d,v=n.isiOS()||n.isAndroid(),w=v||s("(pointer:coarse)"),C=d||!g&&v&&s("(min-device-width:768px)"),E=g||v&&!C,O=r.isSafari()&&n.isiOS()&&/safari/i.test(i)===!1,_=!E&&!C&&!O;return{isiPad:st(d),isiPhone:st(g),isTablet:st(C),isPhone:st(E),isTouch:st(w),isAndroid:n.isAndroid,isiOS:n.isiOS,isWebView:st(O),isDesktop:st(_)}},Lg=function(n,r){for(var i=0;i<n.length;i++){var s=n[i];if(s.test(r))return s}},Vc=function(n,r){var i=Lg(n,r);if(!i)return{major:0,minor:0};var s=function(d){return Number(r.replace(i,"$"+d))};return vc(s(1),s(2))},$a=function(n,r){var i=String(r).toLowerCase();return n.length===0?Ig():Vc(n,i)},Ig=function(){return vc(0,0)},vc=function(n,r){return{major:n,minor:r}},Ta={nu:vc,detect:$a,unknown:Ig},wm=function(n,r){var i=String(r).toLowerCase();return yt(n,function(s){return s.search(i)})},Hg=function(n,r){return wm(n,r).map(function(i){var s=Ta.detect(i.versionRegexes,r);return{current:i.name,version:s}})},xm=function(n,r){return wm(n,r).map(function(i){var s=Ta.detect(i.versionRegexes,r);return{current:i.name,version:s}})},Zl={detectBrowser:Hg,detectOs:xm},Vg=function(n,r,i){return r===""||n.length>=r.length&&n.substr(i,i+r.length)===r},Jo=function(n,r){return n.indexOf(r)!==-1},Uc=function(n,r){return Vg(n,r,n.length-r.length)},Oh=function(n){return function(r){return r.replace(n,"")}},Ji=Oh(/^\s+|\s+$/g),ds=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,bc=function(n){return function(r){return Jo(r,n)}},ai=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(n){return Jo(n,"edge/")&&Jo(n,"chrome")&&Jo(n,"safari")&&Jo(n,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ds],search:function(n){return Jo(n,"chrome")&&!Jo(n,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(n){return Jo(n,"msie")||Jo(n,"trident")}},{name:"Opera",versionRegexes:[ds,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:bc("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:bc("firefox")},{name:"Safari",versionRegexes:[ds,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(n){return(Jo(n,"safari")||Jo(n,"mobile/"))&&Jo(n,"applewebkit")}}],Ql=[{name:"Windows",search:bc("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(n){return Jo(n,"iphone")||Jo(n,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:bc("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:bc("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:bc("linux"),versionRegexes:[]},{name:"Solaris",search:bc("sunos"),versionRegexes:[]},{name:"FreeBSD",search:bc("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:bc("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Zi={browsers:st(ai),oses:st(Ql)},Cm="Edge",gl="Chrome",Jf="IE",pl="Opera",Sm="Firefox",Ms="Safari",Zf=function(){return Qf({current:void 0,version:Ta.unknown()})},Qf=function(n){var r=n.current,i=n.version,s=function(d){return function(){return r===d}};return{current:r,version:i,isEdge:s(Cm),isChrome:s(gl),isIE:s(Jf),isOpera:s(pl),isFirefox:s(Sm),isSafari:s(Ms)}},td={unknown:Zf,nu:Qf,edge:st(Cm),chrome:st(gl),ie:st(Jf),opera:st(pl),firefox:st(Sm),safari:st(Ms)},Oa="Windows",qu="iOS",Da="Android",_u="Linux",tf="OSX",Rs="Solaris",yc="FreeBSD",Vr="ChromeOS",Xa=function(){return hl({current:void 0,version:Ta.unknown()})},hl=function(n){var r=n.current,i=n.version,s=function(d){return function(){return r===d}};return{current:r,version:i,isWindows:s(Oa),isiOS:s(qu),isAndroid:s(Da),isOSX:s(tf),isLinux:s(_u),isSolaris:s(Rs),isFreeBSD:s(yc),isChromeOS:s(Vr)}},km={unknown:Xa,nu:hl,windows:st(Oa),ios:st(qu),android:st(Da),linux:st(_u),osx:st(tf),solaris:st(Rs),freebsd:st(yc),chromeos:st(Vr)},L0=function(n,r){var i=Zi.browsers(),s=Zi.oses(),d=Zl.detectBrowser(i,n).fold(td.unknown,td.nu),g=Zl.detectOs(s,n).fold(km.unknown,km.nu),v=hc(g,d,n,r);return{browser:d,os:g,deviceType:v}},vl={detect:L0},I0=function(n){return window.matchMedia(n).matches},nf=fi(function(){return vl.detect(navigator.userAgent,I0)}),Ga=function(){return nf()},T=function(n,r,i){return(n.compareDocumentPosition(r)&i)!==0},z=function(n,r){return T(n,r,Node.DOCUMENT_POSITION_CONTAINED_BY)},U=9,ht=11,Vt=1,In=3,ir=function(n,r){var i=n.dom;if(i.nodeType!==Vt)return!1;var s=i;if(s.matches!==void 0)return s.matches(r);if(s.msMatchesSelector!==void 0)return s.msMatchesSelector(r);if(s.webkitMatchesSelector!==void 0)return s.webkitMatchesSelector(r);if(s.mozMatchesSelector!==void 0)return s.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")},Br=function(n){return n.nodeType!==Vt&&n.nodeType!==U&&n.nodeType!==ht||n.childElementCount===0},_r=function(n,r){var i=r===void 0?document:r.dom;return Br(i)?[]:wt(i.querySelectorAll(n),Fe.fromDom)},To=function(n,r){var i=r===void 0?document:r.dom;return Br(i)?S.none():S.from(i.querySelector(n)).map(Fe.fromDom)},Ur=function(n,r){return n.dom===r.dom},Wu=function(n,r){var i=n.dom,s=r.dom;return i===s?!1:i.contains(s)},Dh=function(n,r){return z(n.dom,r.dom)},jc=function(n,r){return Ga().browser.isIE()?Dh(n,r):Wu(n,r)},ms=function(n){return He(n)?n:yn},Em=function(n,r,i){for(var s=n.dom,d=ms(i);s.parentNode;){s=s.parentNode;var g=Fe.fromDom(s),v=r(g);if(v.isSome())return v;if(d(g))break}return S.none()},Am=function(n,r,i){var s=r(n),d=ms(i);return s.orThunk(function(){return d(n)?S.none():Em(n,r,d)})},Ug=function(n,r){return Ur(n.element,r.event.target)},ga=function(n){if(!zo(n,"can")&&!zo(n,"abort")&&!zo(n,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(n,null,2)+" does not have can, abort, or run!");return ji("Extracting event.handler",Ht([It("can",Zt),It("abort",yn),It("run",ft)]),n)},H0=function(n,r){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return nt(n,function(d,g){return d&&r(g).apply(void 0,i)},!0)}},qi=function(n,r){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return nt(n,function(d,g){return d||r(g).apply(void 0,i)},!1)}},tS=function(n){return He(n)?{can:Zt,abort:yn,run:n}:n},bl=function(n){var r=H0(n,function(d){return d.can}),i=qi(n,function(d){return d.abort}),s=function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];tn(n,function(v){v.run.apply(void 0,d)})};return ga({can:r,abort:i,run:s})},Fu=st,Yu=Fu("touchstart"),ef=Fu("touchmove"),ea=Fu("touchend"),Zy=Fu("touchcancel"),wc=Fu("mousedown"),Tm=Fu("mousemove"),nd=Fu("mouseout"),_h=Fu("mouseup"),yl=Fu("mouseover"),wl=Fu("focusin"),jg=Fu("focusout"),Om=Fu("keydown"),nS=Fu("keyup"),Dm=Fu("input"),qg=Fu("change"),Ps=Fu("click"),V0=Fu("transitionend"),eS=Fu("selectstart"),Ci=function(n){return st("alloy."+n)},Qy={tap:Ci("tap")},Ls=Ci("focus"),rf=Ci("blur.post"),xl=Ci("paste.post"),Is=Ci("receive"),ra=Ci("execute"),Wg=Ci("focus.item"),xc=Qy.tap,t2=Ci("longpress"),Yg=Ci("sandbox.close"),of=Ci("typeahead.cancel"),ed=Ci("system.init"),rS=Ci("system.touchmove"),Cl=Ci("system.touchend"),uf=Ci("system.scroll"),Sl=Ci("system.resize"),kl=Ci("system.attached"),$g=Ci("system.detached"),Ri=Ci("system.dismissRequested"),Fh=Ci("system.repositionRequested"),n2=Ci("focusmanager.shifted"),_m=Ci("slotcontainer.visibility"),Bh=Ci("change.tab"),rd=Ci("dismiss.tab"),e2=Ci("highlight"),Nh=Ci("dehighlight"),Hr=function(n,r){Wi(n,n.element,r,{})},Sr=function(n,r,i){Wi(n,n.element,r,i)},od=function(n){Hr(n,ra())},Xg=function(n,r,i){Wi(n,r,i,{})},Wi=function(n,r,i,s){var d=tt({target:r},s);n.getSystem().triggerEvent(i,r,d)},U0=function(n,r,i,s){n.getSystem().triggerEvent(i,r,s.event)},po=function(n){return Z(n)},zh=function(n,r){return{key:n,value:ga({abort:r})}},j0=function(n,r){return{key:n,value:ga({can:r})}},q0=function(n){return{key:n,value:ga({run:function(r,i){i.event.prevent()}})}},Fn=function(n,r){return{key:n,value:ga({run:r})}},W0=function(n,r,i){return{key:n,value:ga({run:function(s,d){r.apply(void 0,[s,d].concat(i))}})}},r2=function(n){return function(r){return Fn(n,r)}},gs=function(n){return function(r){return{key:n,value:ga({run:function(i,s){Ug(i,s)&&r(i,s)}})}}},o2=function(n,r){return Fn(n,function(i,s){i.getSystem().getByUid(r).each(function(d){U0(d,d.element,n,s)})})},$u=function(n,r,i){var s=r.partUids[i];return o2(n,s)},Mh=function(n,r){return Fn(n,function(i,s){var d=s.event,g=i.getSystem().getByDom(d.target).fold(function(){var v=Am(d.target,function(w){return i.getSystem().getByDom(w).toOptional()},yn);return v.getOr(i)},function(v){return v});r(i,g,s)})},Hs=function(n){return Fn(n,function(r,i){i.cut()})},Ka=function(n){return Fn(n,function(r,i){i.stop()})},id=function(n,r){return gs(n)(r)},si=gs(kl()),oa=gs($g()),oS=gs(ed()),Cc=r2(ra());typeof window!="undefined"||Function("return this;")();var Ja=function(n){var r=n.dom.nodeName;return r.toLowerCase()},i2=function(n){return n.dom.nodeType},ud=function(n){return function(r){return i2(r)===n}},uu=ud(Vt),ad=ud(In),Y0=ud(U),Bu=ud(ht),Sc=function(n){return Fe.fromDom(n.dom.ownerDocument)},kc=function(n){return Y0(n)?n:Sc(n)},$0=function(n){return Fe.fromDom(kc(n).dom.documentElement)},ps=function(n){return Fe.fromDom(kc(n).dom.defaultView)},yu=function(n){return S.from(n.dom.parentNode).map(Fe.fromDom)},Fm=function(n){return yu(n)},pa=function(n){return S.from(n.dom.offsetParent).map(Fe.fromDom)},Gg=function(n){return S.from(n.dom.nextSibling).map(Fe.fromDom)},hs=function(n){return wt(n.dom.childNodes,Fe.fromDom)},Kg=function(n,r){var i=n.dom.childNodes;return S.from(i[r]).map(Fe.fromDom)},X0=function(n){return Kg(n,0)},G0=function(n){return Bu(n)&&Hn(n.dom.host)},K0=He(Element.prototype.attachShadow)&&He(Node.prototype.getRootNode),Rh=st(K0),Yi=K0?function(n){return Fe.fromDom(n.dom.getRootNode())}:kc,Ph=function(n){return G0(n)?n:Fe.fromDom(kc(n).dom.body)},J0=function(n){return u2(n).isSome()},u2=function(n){var r=Yi(n);return G0(r)?S.some(r):S.none()},Lh=function(n){return Fe.fromDom(n.dom.host)},Ih=function(n){if(Rh()&&Hn(n.target)){var r=Fe.fromDom(n.target);if(uu(r)&&Z0(r)&&n.composed&&n.composedPath){var i=n.composedPath();if(i)return Cn(i)}}return S.from(n.target)},Z0=function(n){return Hn(n.dom.shadowRoot)},Hh=function(n,r){var i=yu(n);i.each(function(s){s.dom.insertBefore(r.dom,n.dom)})},a2=function(n,r){var i=Gg(n);i.fold(function(){var s=yu(n);s.each(function(d){_a(d,r)})},function(s){Hh(s,r)})},Q0=function(n,r){var i=X0(n);i.fold(function(){_a(n,r)},function(s){n.dom.insertBefore(r.dom,s.dom)})},_a=function(n,r){n.dom.appendChild(r.dom)},iS=function(n,r,i){Kg(n,i).fold(function(){_a(n,r)},function(s){Hh(s,r)})},Vs=function(n,r){tn(r,function(i){Hh(n,i)})},c2=function(n,r){tn(r,function(i){_a(n,i)})},Jg=function(n){n.dom.textContent="",tn(hs(n),function(r){af(r)})},af=function(n){var r=n.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},cd=function(n){var r=hs(n);r.length>0&&Vs(n,r),af(n)},s2=function(n,r){var i=r||document,s=i.createElement("div");return s.innerHTML=n,hs(Fe.fromDom(s))},Bm=function(n){return n.dom.innerHTML},Zg=function(n,r){var i=Sc(n),s=i.dom,d=Fe.fromDom(s.createDocumentFragment()),g=s2(r,s);c2(d,g),Jg(n),_a(n,d)},sd=function(n){var r=Fe.fromTag("div"),i=Fe.fromDom(n.dom.cloneNode(!0));return _a(r,i),Bm(r)},l2=function(n,r,i){if(Ie(i)||Pt(i)||Ve(i))n.setAttribute(r,i+"");else throw console.error("Invalid call to Attribute.set. Key ",r,":: Value ",i,":: Element ",n),new Error("Attribute value was not simple")},ho=function(n,r,i){l2(n.dom,r,i)},f2=function(n,r){var i=n.dom;zr(r,function(s,d){l2(i,d,s)})},wu=function(n,r){var i=n.dom.getAttribute(r);return i===null?void 0:i},ld=function(n,r){return S.from(wu(n,r))},d2=function(n,r){var i=n.dom;return i&&i.hasAttribute?i.hasAttribute(r):!1},Fa=function(n,r){n.dom.removeAttribute(r)},uS=function(n,r){return Fe.fromDom(n.dom.cloneNode(r))},Za=function(n){return uS(n,!1)},aS=function(n){if(G0(n))return"#shadow-root";var r=Za(n);return sd(r)},El=function(n){return aS(n)},cS=function(n,r,i){return Ur(r,n.element)&&!Ur(r,i)},t1=po([j0(Ls(),function(n,r){var i=r.event,s=i.originator,d=i.target;return cS(n,s,d)?(console.warn(Ls()+` did not get interpreted by the desired target. 
Originator: `+El(s)+`
Target: `+El(d)+`
Check the `+Ls()+" event handlers"),!1):!0})]),m2=Object.freeze({__proto__:null,events:t1}),g2=0,tr=function(n){var r=new Date,i=r.getTime(),s=Math.floor(Math.random()*1e9);return g2++,n+"_"+s+g2+String(i)},n1=st("alloy-id-"),p2=st("data-alloy-id"),Vh=n1(),fd=p2(),e1=function(n,r){var i=tr(Vh+n);return Uh(r,i),i},Uh=function(n,r){Object.defineProperty(n.dom,fd,{value:r,writable:!0})},Qg=function(n){var r=uu(n)?n.dom[fd]:null;return S.from(r)},vs=function(n){return tr(n)},r1=Xt,tp=function(n){var r=function(i){return function(){throw new Error("The component must be in a context to send: "+i+(n?`
`+El(n().element)+" is not in context.":""))}};return{debugInfo:st("fake"),triggerEvent:r("triggerEvent"),triggerFocus:r("triggerFocus"),triggerEscape:r("triggerEscape"),build:r("build"),addToWorld:r("addToWorld"),removeFromWorld:r("removeFromWorld"),addToGui:r("addToGui"),removeFromGui:r("removeFromGui"),getByUid:r("getByUid"),getByDom:r("getByDom"),broadcast:r("broadcast"),broadcastOn:r("broadcastOn"),broadcastEvent:r("broadcastEvent"),isConnected:yn}},h2=tp(),o1=function(n,r,i){var s=i.toString(),d=s.indexOf(")")+1,g=s.indexOf("("),v=s.substring(g+1,d-1).split(/,\s*/);return n.toFunctionAnnotation=function(){return{name:r,parameters:ha(v.slice(0,1).concat(v.slice(3)))}},n},ha=function(n){return wt(n,function(r){return Uc(r,"/*")?r.substring(0,r.length-2):r})},jh=function(n,r){var i=n.toString(),s=i.indexOf(")")+1,d=i.indexOf("("),g=i.substring(d+1,s-1).split(/,\s*/);return n.toFunctionAnnotation=function(){return{name:r,parameters:ha(g)}},n},i1=function(n,r){var i=r.toString(),s=i.indexOf(")")+1,d=i.indexOf("("),g=i.substring(d+1,s-1).split(/,\s*/);return n.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:ha(g.slice(1))}},n},Nm=tr("alloy-premade"),v2=function(n){return P(Nm,n)},sS=function(n){return cr(n,Nm)},Ba=function(n){return i1(function(r){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return n.apply(void 0,Y([r.getApis(),r],i))},n)},Xu={init:function(){return Ec({readState:function(){return"No State required"}})}},Ec=function(n){return n},zm=function(n,r){var i=wt(r,function(d){return Gi(d.name(),[At("config"),It("state",Xu)])}),s=Bo("component.behaviours",Nt(i),n.behaviours).fold(function(d){throw new Error(dc(d)+`
Complete spec:
`+JSON.stringify(n,null,2))},function(d){return d});return{list:r,data:Er(s,function(d){var g=d.map(function(v){return{config:v.config,state:v.state.init(v.config)}});return function(){return g}})}},ia=function(n){return n.list},u1=function(n){return n.data},a1=function(n,r){var i={};return zr(n,function(s,d){zr(s,function(g,v){var w=cr(i,v).getOr([]);i[v]=w.concat([r(d,g)])})}),i},bs=function(n){return{classes:n.classes!==void 0?n.classes:[],attributes:n.attributes!==void 0?n.attributes:{},styles:n.styles!==void 0?n.styles:{}}},xu=function(n,r){return tt(tt({},n),{attributes:tt(tt({},n.attributes),r.attributes),styles:tt(tt({},n.styles),r.styles),classes:n.classes.concat(r.classes)})},cf=function(n,r,i,s){var d=tt({},r);tn(i,function(O){d[O.name()]=O.exhibit(n,s)});var g=a1(d,function(O,_){return{name:O,modification:_}}),v=function(O){return Wt(O,function(_,R){return tt(tt({},R.modification),_)},{})},w=Wt(g.classes,function(O,_){return _.modification.concat(O)},[]),C=v(g.attributes),E=v(g.styles);return bs({classes:w,attributes:C,styles:E})},c1=function(n,r,i,s){try{var d=yo(i,function(g,v){var w=g[r],C=v[r],E=s.indexOf(w),O=s.indexOf(C);if(E===-1)throw new Error("The ordering for "+n+" does not have an entry for "+w+`.
Order specified: `+JSON.stringify(s,null,2));if(O===-1)throw new Error("The ordering for "+n+" does not have an entry for "+C+`.
Order specified: `+JSON.stringify(s,null,2));return E<O?-1:O<E?1:0});return gn.value(d)}catch(g){return gn.error([g])}},sf=function(n,r){return{handler:n,purpose:r}},s1=function(n,r){return{cHandler:n,purpose:r}},Mm=function(n,r){return s1(Kn.apply(void 0,[n.handler].concat(r)),n.purpose)},np=function(n){return n.cHandler},lS=function(n,r){return{name:n,handler:r}},fS=function(n,r){var i={};return tn(n,function(s){i[s.name()]=s.handlers(r)}),i},l1=function(n,r,i){var s=tt(tt({},i),fS(r,n));return a1(s,lS)},qh=function(n,r,i,s){var d=l1(n,i,s);return b2(d,r)},dd=function(n){var r=tS(n);return function(i,s){for(var d=[],g=2;g<arguments.length;g++)d[g-2]=arguments[g];var v=[i,s].concat(d);r.abort.apply(void 0,v)?s.stop():r.can.apply(void 0,v)&&r.run.apply(void 0,v)}},f1=function(n,r){return gn.error(["The event ("+n+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(wt(r,function(i){return i.name}),null,2)])},Wh=function(n,r,i){var s=r[i];return s?c1("Event: "+i,"name",n,s).map(function(d){var g=wt(d,function(v){return v.handler});return bl(g)}):f1(i,n)},b2=function(n,r){var i=Oo(n,function(s,d){var g=s.length===1?gn.value(s[0].handler):Wh(s,r,d);return g.map(function(v){var w=dd(v),C=s.length>1?gt(r[d],function(E){return cn(s,function(O){return O.name===E})}).join(" > "):s[0].name;return P(d,sf(w,C))})});return $t(i,{})},qc="alloy.base.behaviour",dS=function(n){var r;return Bo("custom.definition",Nt([ro("dom","dom",Wo(),Nt([At("tag"),It("styles",{}),It("classes",[]),It("attributes",{}),Cr("value"),Cr("innerHtml")])),At("components"),At("uid"),It("events",{}),It("apis",{}),ro("eventOrder","eventOrder",Ui((r={},r[ra()]=["disabling",qc,"toggling","typeaheadevents"],r[Ls()]=[qc,"focusing","keying"],r[ed()]=[qc,"disabling","toggling","representing"],r[Dm()]=[qc,"representing","streaming","invalidating"],r[$g()]=[qc,"representing","item-events","tooltipping"],r[wc()]=["focusing",qc,"item-type-events"],r[Yu()]=["focusing",qc,"item-type-events"],r[yl()]=["item-type-events","tooltipping"],r[Is()]=["receiving","reflecting","tooltipping"],r)),Ou()),Cr("domModification")]),n)},lf=function(n){return tt(tt({},n.dom),{uid:n.uid,domChildren:wt(n.components,function(r){return r.element})})},au=function(n){return n.domModification.fold(function(){return bs({})},bs)},oi=function(n){return n.events},md=function(n,r){var i=wu(n,r);return i===void 0||i===""?[]:i.split(" ")},gd=function(n,r,i){var s=md(n,r),d=s.concat([i]);return ho(n,r,d.join(" ")),!0},ys=function(n,r,i){var s=gt(md(n,r),function(d){return d!==i});return s.length>0?ho(n,r,s.join(" ")):Fa(n,r),!1},pd=function(n){return n.dom.classList!==void 0},d1=function(n){return md(n,"class")},Rm=function(n,r){return gd(n,"class",r)},ff=function(n,r){return ys(n,"class",r)},Yo=function(n,r){pd(n)?n.dom.classList.add(r):Rm(n,r)},Qa=function(n){var r=pd(n)?n.dom.classList:d1(n);r.length===0&&Fa(n,"class")},jo=function(n,r){if(pd(n)){var i=n.dom.classList;i.remove(r)}else ff(n,r);Qa(n)},tc=function(n,r){return pd(n)&&n.dom.classList.contains(r)},nc=function(n,r){tn(r,function(i){Yo(n,i)})},pi=function(n,r){tn(r,function(i){jo(n,i)})},Ac=function(n){return n.style!==void 0&&He(n.style.getPropertyValue)},ws=function(n){var r=ad(n)?n.dom.parentNode:n.dom;if(r==null||r.ownerDocument===null)return!1;var i=r.ownerDocument;return u2(Fe.fromDom(r)).fold(function(){return i.body.contains(r)},nn(ws,Lh))},Tc=function(){return cu(Fe.fromDom(document))},cu=function(n){var r=n.dom.body;if(r==null)throw new Error("Body is not available yet");return Fe.fromDom(r)},Oc=function(n,r,i){if(!Ie(i))throw console.error("Invalid call to CSS.set. Property ",r,":: Value ",i,":: Element ",n),new Error("CSS value must be a string: "+i);Ac(n)&&n.style.setProperty(r,i)},xs=function(n,r){Ac(n)&&n.style.removeProperty(r)},Xr=function(n,r,i){var s=n.dom;Oc(s,r,i)},hd=function(n,r){var i=n.dom;zr(r,function(s,d){Oc(i,d,s)})},Pm=function(n,r){var i=n.dom;zr(r,function(s,d){s.fold(function(){xs(i,d)},function(g){Oc(i,d,g)})})},Dc=function(n,r){var i=n.dom,s=window.getComputedStyle(i),d=s.getPropertyValue(r);return d===""&&!ws(n)?Yh(i,r):d},Yh=function(n,r){return Ac(n)?n.style.getPropertyValue(r):""},di=function(n,r){var i=n.dom,s=Yh(i,r);return S.from(s).filter(function(d){return d.length>0})},m1=function(n){var r={},i=n.dom;if(Ac(i))for(var s=0;s<i.style.length;s++){var d=i.style.item(s);r[d]=i.style[d]}return r},Lm=function(n,r,i){var s=Fe.fromTag(n);Xr(s,r,i);var d=di(s,r);return d.isSome()},Ro=function(n,r){var i=n.dom;xs(i,r),ld(n,"style").map(Ji).is("")&&Fa(n,"style")},ep=function(n){return n.dom.offsetWidth},df=function(n){return n.dom.value},Wc=function(n,r){if(r===void 0)throw new Error("Value.set was undefined");n.dom.value=r},y2=function(n){var r=Fe.fromTag(n.tag);f2(r,n.attributes),nc(r,n.classes),hd(r,n.styles),n.innerHtml.each(function(s){return Zg(r,s)});var i=n.domChildren;if(c2(r,i),n.value.each(function(s){Wc(r,s)}),!n.uid)debugger;return Uh(r,n.uid),r},vd=function(n){var r=cr(n,"behaviours").getOr({}),i=gt(lr(r),function(s){return r[s]!==void 0});return wt(i,function(s){return r[s].me})},mS=function(n,r){return zm(n,r)},mi=function(n){var r=vd(n);return mS(n,r)},bd=function(n,r,i){var s=lf(n),d=au(n),g={"alloy.base.modification":d},v=r.length>0?cf(i,g,r,s):d;return xu(s,v)},w2=function(n,r,i){var s={"alloy.base.behaviour":oi(n)};return qh(i,n.eventOrder,r,s).getOrDie()},g1=function(n){var r=function(){return Dt},i=re(h2),s=Wa(dS(n)),d=mi(n),g=ia(d),v=u1(d),w=bd(s,g,v),C=y2(w),E=w2(s,g,v),O=re(s.components),_=function(Lt){i.set(Lt)},R=function(){i.set(tp(r))},G=function(){var Lt=hs(C),Yt=An(Lt,function(xn){return i.get().getByDom(xn).fold(function(){return[]},function(Mn){return[Mn]})});O.set(Yt)},ot=function(Lt){var Yt=v,xn=He(Yt[Lt.name()])?Yt[Lt.name()]:function(){throw new Error("Could not find "+Lt.name()+" in "+JSON.stringify(n,null,2))};return xn()},et=function(Lt){return He(v[Lt.name()])},bt=function(){return s.apis},ut=function(Lt){return v[Lt]().map(function(Yt){return Yt.state.readState()}).getOr("not enabled")},Dt={getSystem:i.get,config:ot,hasConfigured:et,spec:n,readState:ut,getApis:bt,connect:_,disconnect:R,element:C,syncComponents:G,components:O.get,events:E};return Dt},$h=function(n){var r=cr(n,"components").getOr([]);return wt(r,ua)},gS=function(n){var r=r1(n),i=r.events,s=ln(r,["events"]),d=$h(s),g=tt(tt({},s),{events:tt(tt({},m2),i),components:d});return gn.value(g1(g))},mf=function(n){var r=Fe.fromText(n);return p1({element:r})},p1=function(n){var r=ji("external.component",Ht([At("element"),Cr("uid")]),n),i=re(tp()),s=function(v){i.set(v)},d=function(){i.set(tp(function(){return g}))};r.uid.each(function(v){Uh(r.element,v)});var g={getSystem:i.get,config:S.none,hasConfigured:yn,connect:s,disconnect:d,getApis:function(){return{}},element:r.element,spec:n,readState:st("No state"),syncComponents:ft,components:st([]),events:{}};return v2(g)},pS=vs,ua=function(n){return sS(n).fold(function(){var r=n.hasOwnProperty("uid")?n:tt({uid:pS("")},n);return gS(r).getOrDie()},function(r){return r})},Nu=v2,h1=function(n,r){var i=function(w,C){if(!Ve(C)&&!C.match(/^[0-9]+$/))throw new Error(n+".set accepts only positive integer values. Value was "+C);var E=w.dom;Ac(E)&&(E.style[n]=C+"px")},s=function(w){var C=r(w);if(C<=0||C===null){var E=Dc(w,n);return parseFloat(E)||0}return C},d=s,g=function(w,C){return nt(C,function(E,O){var _=Dc(w,O),R=_===void 0?0:parseInt(_,10);return isNaN(R)?E:E+R},0)},v=function(w,C,E){var O=g(w,E),_=C>O?C-O:0;return _};return{set:i,get:s,getOuter:d,aggregate:g,max:v}},v1=h1("height",function(n){var r=n.dom;return ws(n)?r.getBoundingClientRect().height:r.offsetHeight}),zu=function(n){return v1.get(n)},yd=function(n){return v1.getOuter(n)},Im=function(n,r){var i=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],s=v1.max(n,r,i);Xr(n,"max-height",s+"px")},b1=function(n,r){var i=function(s,d){return b1(n+s,r+d)};return{left:n,top:r,translate:i}},Xo=b1,Cs=function(n){var r=n.getBoundingClientRect();return Xo(r.left,r.top)},Po=function(n,r){return n!==void 0?n:r!==void 0?r:0},Ss=function(n){var r=n.dom.ownerDocument,i=r.body,s=r.defaultView,d=r.documentElement;if(i===n.dom)return Xo(i.offsetLeft,i.offsetTop);var g=Po(s==null?void 0:s.pageYOffset,d.scrollTop),v=Po(s==null?void 0:s.pageXOffset,d.scrollLeft),w=Po(d.clientTop,i.clientTop),C=Po(d.clientLeft,i.clientLeft);return Na(n).translate(v-C,g-w)},Na=function(n){var r=n.dom,i=r.ownerDocument,s=i.body;return s===r?Xo(s.offsetLeft,s.offsetTop):ws(n)?Cs(r):Xo(0,0)},rp=h1("width",function(n){return n.dom.offsetWidth}),hS=function(n,r){return rp.set(n,r)},va=function(n){return rp.get(n)},_c=function(n){return rp.getOuter(n)},wd=function(n,r){var i=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],s=rp.max(n,r,i);Xr(n,"max-width",s+"px")},y1=function(n,r,i,s,d,g,v){return{target:n,x:r,y:i,stop:s,prevent:d,kill:g,raw:v}},op=function(n){var r=Fe.fromDom(Ih(n).getOr(n.target)),i=function(){return n.stopPropagation()},s=function(){return n.preventDefault()},d=on(s,i);return y1(r,n.clientX,n.clientY,i,s,d,n)},Al=function(n,r){return function(i){n(i)&&r(op(i))}},Xh=function(n,r,i,s,d){var g=Al(i,s);return n.dom.addEventListener(r,g,d),{unbind:Kn(w1,n,r,g,d)}},vS=function(n,r,i,s){return Xh(n,r,i,s,!1)},Gh=function(n,r,i,s){return Xh(n,r,i,s,!0)},w1=function(n,r,i,s){n.dom.removeEventListener(r,i,s)},Yc=function(n){var r=n!==void 0?n.dom:document,i=r.body.scrollLeft||r.documentElement.scrollLeft,s=r.body.scrollTop||r.documentElement.scrollTop;return Xo(i,s)},Kh=function(n,r,i){var s=i!==void 0?i.dom:document,d=s.defaultView;d&&d.scrollTo(n,r)},x2=function(n){var r=n===void 0?window:n;return S.from(r.visualViewport)},Jh=function(n,r,i,s){return{x:n,y:r,width:i,height:s,right:n+i,bottom:r+s}},C2=function(n){var r=n===void 0?window:n,i=r.document,s=Yc(Fe.fromDom(i));return x2(r).fold(function(){var d=r.document.documentElement,g=d.clientWidth,v=d.clientHeight;return Jh(s.left,s.top,g,v)},function(d){return Jh(Math.max(d.pageLeft,s.left),Math.max(d.pageTop,s.top),d.width,d.height)})},S2=function(n,r){var i=n.view(r);return i.fold(st([]),function(s){var d=n.owner(s),g=S2(n,d);return[s].concat(g)})},ip=function(n,r){var i=r.owner(n),s=S2(r,i);return S.some(s)},bS=function(n){var r,i=n.dom===document?S.none():S.from((r=n.dom.defaultView)===null||r===void 0?void 0:r.frameElement);return i.map(Fe.fromDom)},up=function(n){return Sc(n)},Zh=Object.freeze({__proto__:null,view:bS,owner:up}),Qh=function(n){var r=Fe.fromDom(document),i=Yc(r),s=ip(n,Zh);return s.fold(Kn(Ss,n),function(d){var g=Na(n),v=Wt(d,function(w,C){var E=Na(C);return{left:w.left+E.left,top:w.top+E.top}},{left:0,top:0});return Xo(v.left+g.left+i.left,v.top+g.top+i.top)})},x1=function(n,r,i){return{point:n,width:r,height:i}},xd=function(n,r,i,s){return{x:n,y:r,width:i,height:s}},ec=function(n,r,i,s){return{x:n,y:r,width:i,height:s,right:n+i,bottom:r+s}},rc=function(n){var r=Ss(n),i=_c(n),s=yd(n);return ec(r.left,r.top,i,s)},gf=function(n){var r=Qh(n),i=_c(n),s=yd(n);return ec(r.left,r.top,i,s)},Mu=function(){return C2(window)};function pf(n,r,i,s,d){return n(i,s)?S.some(i):He(d)&&d(i)?S.none():r(i,s,d)}var k2=function(n,r,i){for(var s=n.dom,d=He(i)?i:yn;s.parentNode;){s=s.parentNode;var g=Fe.fromDom(s);if(r(g))return S.some(g);if(d(g))break}return S.none()},hf=function(n,r,i){var s=function(d,g){return g(d)};return pf(s,k2,n,r,i)},C1=function(n,r){var i=function(s){for(var d=0;d<s.childNodes.length;d++){var g=Fe.fromDom(s.childNodes[d]);if(r(g))return S.some(g);var v=i(s.childNodes[d]);if(v.isSome())return v}return S.none()};return i(n.dom)},oc=function(n,r,i){return hf(n,r,i).isSome()},tv=function(n,r,i){return k2(n,function(s){return ir(s,r)},i)},Ru=function(n,r){return To(r,n)},$c=function(n,r,i){var s=function(d,g){return ir(d,g)};return pf(s,tv,n,r,i)},Tl=function(n){var r=hf(n,function(i){if(!uu(i))return!1;var s=wu(i,"id");return s!==void 0&&s.indexOf("aria-owns")>-1});return r.bind(function(i){var s=wu(i,"id"),d=Yi(i);return Ru(d,'[aria-owns="'+s+'"]')})},S1=function(){var n=tr("aria-owns"),r=function(s){ho(s,"aria-owns",n)},i=function(s){Fa(s,"aria-owns")};return{id:n,link:r,unlink:i}},k1=function(n,r){return Tl(r).exists(function(i){return Us(n,i)})},Us=function(n,r){return oc(r,function(i){return Ur(i,n.element)},yn)||k1(n,r)},nv="unknown",Cd;(function(n){n[n.STOP=0]="STOP",n[n.NORMAL=1]="NORMAL",n[n.LOGGING=2]="LOGGING"})(Cd||(Cd={}));var jr=re({}),ap=function(n,r){var i=[],s=new Date().getTime();return{logEventCut:function(d,g,v){i.push({outcome:"cut",target:g,purpose:v})},logEventStopped:function(d,g,v){i.push({outcome:"stopped",target:g,purpose:v})},logNoParent:function(d,g,v){i.push({outcome:"no-parent",target:g,purpose:v})},logEventNoHandlers:function(d,g){i.push({outcome:"no-handlers-left",target:g})},logEventResponse:function(d,g,v){i.push({outcome:"response",purpose:v,target:g})},write:function(){var d=new Date().getTime();Ft(["mousemove","mouseover","mouseout",ed()],n)||console.log(n,{event:n,time:d-s,target:r.dom,sequence:wt(i,function(g){return Ft(["cut","stopped","response"],g.outcome)?"{"+g.purpose+"} "+g.outcome+" at ("+El(g.target)+")":g.outcome})})}}},yS=function(n,r,i){var s=cr(jr.get(),n).orThunk(function(){var v=lr(jr.get());return Qn(v,function(w){return n.indexOf(w)>-1?S.some(jr.get()[w]):S.none()})}).getOr(Cd.NORMAL);switch(s){case Cd.NORMAL:return i(Hm());case Cd.LOGGING:{var d=ap(n,r),g=i(d);return d.write(),g}case Cd.STOP:return!0}},E2=["alloy/data/Fields","alloy/debugging/Debugging"],wS=function(){var n=new Error;if(n.stack!==void 0){var r=n.stack.split(`
`);return yt(r,function(i){return i.indexOf("alloy")>0&&!cn(E2,function(s){return i.indexOf(s)>-1})}).getOr(nv)}else return nv},xS={logEventCut:ft,logEventStopped:ft,logNoParent:ft,logEventNoHandlers:ft,logEventResponse:ft,write:ft},cp=function(n,r,i){return yS(n,r,i)},Hm=st(xS),Zo=st([At("menu"),At("selectedMenu")]),E1=st([At("item"),At("selectedItem")]);st(Nt(E1().concat(Zo())));var A1=st(Nt(E1())),CS=mc("initSize",[At("numColumns"),At("numRows")]),Vm=function(){return gr("markers",A1())},Ol=function(){return mc("markers",[At("backgroundMenu")].concat(Zo()).concat(E1()))},Xc=function(n){return mc("markers",wt(n,At))},sp=function(n,r,i){return wS(),ro(r,r,i,Tu(function(s){return gn.value(function(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];return s.apply(void 0,d)})}))},to=function(n){return sp("onHandler",n,Vi(ft))},Io=function(n){return sp("onKeyboardHandler",n,Vi(S.none))},Sd=function(n){return sp("onHandler",n,Wo())},T1=function(n){return sp("onKeyboardHandler",n,Wo())},Ho=function(n,r){return xi(n,st(r))},Gc=function(n){return xi(n,Xt)},O1=st(CS),Gu=function(n,r,i,s,d,g){return{x:n,y:r,bubble:i,direction:s,boundsRestriction:d,label:g}},js=Xe.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),A2=function(n,r,i,s,d,g,v,w,C){return n.fold(r,i,s,d,g,v,w,C)},SS=function(n,r,i,s){return n.fold(r,r,s,s,r,s,i,i)},T2=function(n,r,i,s){return n.fold(r,s,r,s,i,i,r,s)},ev=js.southeast,D1=js.southwest,Fc=js.northeast,ba=js.northwest,rv=js.south,_1=js.north,F1=js.east,kS=js.west,ES=function(n,r){switch(r){case 1:return n.x;case 0:return n.x+n.width;case 2:return n.y;case 3:return n.y+n.height}},su=function(n,r){return Lr(["left","right","top","bottom"],function(i){return cr(r,i).map(function(s){return ES(n,s)})})},ov=function(n,r,i){var s=function(C,E){var O=C==="top"||C==="bottom"?i.top:i.left;return cr(r,C).bind(Xt).bind(function(_){return C==="left"||C==="top"?_>=E?S.some(_):S.none():_<=E?S.some(_):S.none()}).map(function(_){return _+O}).getOr(E)},d=s("left",n.x),g=s("top",n.y),v=s("right",n.right),w=s("bottom",n.bottom);return ec(d,g,v-d,w-g)},O2=function(n){return n.x},D2=function(n,r){return n.x+n.width/2-r.width/2},lp=function(n,r){return n.x+n.width-r.width},B1=function(n,r){return n.y-r.height},fp=function(n){return n.y+n.height},iv=function(n,r){return n.y+n.height/2-r.height/2},N1=function(n){return n.x+n.width},ya=function(n,r){return n.x-r.width},lu=function(n,r,i){return Gu(O2(n),fp(n),i.southeast(),ev(),su(n,{left:1,top:3}),"layout-se")},$i=function(n,r,i){return Gu(lp(n,r),fp(n),i.southwest(),D1(),su(n,{right:0,top:3}),"layout-sw")},fu=function(n,r,i){return Gu(O2(n),B1(n,r),i.northeast(),Fc(),su(n,{left:1,bottom:2}),"layout-ne")},Ku=function(n,r,i){return Gu(lp(n,r),B1(n,r),i.northwest(),ba(),su(n,{right:0,bottom:2}),"layout-nw")},za=function(n,r,i){return Gu(D2(n,r),B1(n,r),i.north(),_1(),su(n,{bottom:2}),"layout-n")},Pu=function(n,r,i){return Gu(D2(n,r),fp(n),i.south(),rv(),su(n,{top:3}),"layout-s")},z1=function(n,r,i){return Gu(N1(n),iv(n,r),i.east(),F1(),su(n,{left:0}),"layout-e")},Um=function(n,r,i){return Gu(ya(n,r),iv(n,r),i.west(),kS(),su(n,{right:1}),"layout-w")},M1=function(){return[lu,$i,fu,Ku,Pu,za,z1,Um]},_2=function(){return[$i,lu,Ku,fu,Pu,za,z1,Um]},R1=function(){return[fu,Ku,lu,$i,za,Pu]},P1=function(){return[Ku,fu,$i,lu,za,Pu]},L1=function(){return[lu,$i,fu,Ku,Pu,za]},I1=function(){return[$i,lu,Ku,fu,Pu,za]},AS=function(n,r){return r.universal?n:gt(n,function(i){return Ft(r.channels,i)})},F2=function(n){return po([Fn(Is(),function(r,i){var s=n.channels,d=lr(s),g=i,v=AS(d,g);tn(v,function(w){var C=s[w],E=C.schema,O=ji("channel["+w+`] data
Receiver: `+El(r.element),E,g.data);C.onReceive(r,O)})})])},B2=Object.freeze({__proto__:null,events:F2}),kd=[gr("channels",Jl(gn.value,Ht([Sd("onReceive"),It("schema",Ou())])))],uv=function(n,r,i){return Cc(function(s){i(s,n,r)})},av=function(n,r,i){return oS(function(s,d){i(s,n,r)})},N2=function(n,r,i,s,d,g){var v=Ht(n),w=Gi(r,[ym("config",n)]);return H1(v,w,r,i,s,d,g)},TS=function(n,r,i,s,d,g){var v=n,w=Gi(r,[ou("config",n)]);return H1(v,w,r,i,s,d,g)},Ma=function(n,r,i){var s=function(d){for(var g=[],v=1;v<arguments.length;v++)g[v-1]=arguments[v];var w=[d].concat(g);return d.config({name:st(n)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+n+". Using API: "+i)},function(C){var E=Array.prototype.slice.call(w,1);return r.apply(void 0,[d,C.config,C.state].concat(E))})};return o1(s,i,r)},vf=function(n){return{key:n,value:void 0}},H1=function(n,r,i,s,d,g,v){var w=function(_){return zo(_,i)?_[i]():S.none()},C=Er(d,function(_,R){return Ma(i,_,R)}),E=Er(g,function(_,R){return jh(_,R)}),O=tt(tt(tt({},E),C),{revoke:Kn(vf,i),config:function(_){var R=ji(i+"-config",n,_);return{key:i,value:{config:R,me:O,configAsRaw:fi(function(){return ji(i+"-config",n,_)}),initialConfig:_,state:v}}},schema:st(r),exhibit:function(_,R){return w(_).bind(function(G){return cr(s,"exhibit").map(function(ot){return ot(R,G.config,G.state)})}).getOr(bs({}))},name:st(i),handlers:function(_){return w(_).map(function(R){var G=cr(s,"events").getOr(function(){return{}});return G(R.config,R.state)}).getOr({})}});return O},Un=function(n){return Z(n)},Ed=Ht([At("fields"),At("name"),It("active",{}),It("apis",{}),It("state",Xu),It("extra",{})]),Pi=function(n){var r=ji("Creating behaviour: "+n.name,Ed,n);return N2(r.fields,r.name,r.active,r.apis,r.extra,r.state)},OS=Ht([At("branchKey"),At("branches"),At("name"),It("active",{}),It("apis",{}),It("state",Xu),It("extra",{})]),V1=function(n){var r=ji("Creating behaviour: "+n.name,OS,n);return TS(bu(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},Ad=st(void 0),Lu=Pi({fields:kd,name:"receiving",active:B2}),U1=function(n,r){return bs({classes:[],styles:r.useFixed()?{}:{position:"relative"}})},jm=Object.freeze({__proto__:null,exhibit:U1}),bf=function(){return Fe.fromDom(document)},yf=function(n){return n.dom.focus()},z2=function(n){return n.dom.blur()},j1=function(n){var r=Yi(n).dom;return n.dom===r.activeElement},ks=function(n){return n===void 0&&(n=bf()),S.from(n.dom.activeElement).map(Fe.fromDom)},Ju=function(n){return ks(Yi(n)).filter(function(r){return n.dom.contains(r.dom)})},M2=function(n,r){var i=Yi(r),s=ks(i).bind(function(g){var v=function(w){return Ur(g,w)};return v(r)?S.some(r):C1(r,v)}),d=n(r);return s.each(function(g){ks(i).filter(function(v){return Ur(v,g)}).fold(function(){yf(g)},ft)}),d},Kc=function(n,r,i,s,d){return{position:n,left:r,top:i,right:s,bottom:d}},qm=function(n,r){var i=function(s){return s+"px"};Pm(n,{position:S.some(r.position),left:r.left.map(i),top:r.top.map(i),right:r.right.map(i),bottom:r.bottom.map(i)})},Td=Xe.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),R2=function(n,r,i,s,d,g){var v=r.x-i,w=r.y-s,C=r.width,E=r.height,O=d-(v+C),_=g-(w+E),R=S.some(v),G=S.some(w),ot=S.some(O),et=S.some(_),bt=S.none();return A2(r.direction,function(){return Kc(n,R,G,bt,bt)},function(){return Kc(n,bt,G,ot,bt)},function(){return Kc(n,R,bt,bt,et)},function(){return Kc(n,bt,bt,ot,et)},function(){return Kc(n,R,G,bt,bt)},function(){return Kc(n,R,bt,bt,et)},function(){return Kc(n,R,G,bt,bt)},function(){return Kc(n,bt,G,ot,bt)})},dp=function(n,r){return n.fold(function(){return Kc("absolute",S.some(r.x),S.some(r.y),S.none(),S.none())},function(i,s,d,g){return R2("absolute",r,i,s,d,g)},function(i,s,d,g){return R2("fixed",r,i,s,d,g)})},Od=function(n,r){var i=Kn(Qh,r),s=n.fold(i,i,function(){var v=Yc();return Qh(r).translate(-v.left,-v.top)}),d=_c(r),g=yd(r);return ec(s.left,s.top,d,g)},Wm=function(n,r){return r.fold(function(){return n.fold(Mu,Mu,ec)},function(i){return n.fold(i,i,function(){var s=i(),d=wf(n,s.x,s.y);return ec(d.left,d.top,s.width,s.height)})})},wf=function(n,r,i){var s=Xo(r,i),d=function(){var g=Yc();return s.translate(-g.left,-g.top)};return n.fold(st(s),st(s),d)},q1=function(n,r,i,s){return n.fold(r,i,s)};Td.none;var W1=Td.relative,Y1=Td.fixed,mp=function(n,r){return{anchorBox:n,origin:r}},P2=function(n,r){return mp(n,r)},Dd=function(n,r,i,s){var d=n+r;return d>s?i:d<i?s:d},Es=function(n,r,i){return Math.min(Math.max(n,r),i)},ic=Xe.generate([{fit:["reposition"]},{nofit:["reposition","deltaW","deltaH"]}]),qs=function(n,r,i,s,d){var g=d.x,v=d.y,w=d.width,C=d.height,E=n>=g,O=r>=v,_=E&&O,R=n+i<=g+w,G=r+s<=v+C,ot=R&&G,et=Math.abs(Math.min(i,E?g+w-n:g-(n+i))),bt=Math.abs(Math.min(s,O?v+C-r:v-(r+s))),ut=Math.max(d.x,d.right-i),Dt=Math.max(d.y,d.bottom-s),Lt=Es(n,d.x,ut),Yt=Es(r,d.y,Dt);return{originInBounds:_,sizeInBounds:ot,limitX:Lt,limitY:Yt,deltaW:et,deltaH:bt}},cv=function(n,r,i,s){var d=n.x,g=n.y,v=n.bubble.offset,w=v.left,C=v.top,E=ov(s,n.boundsRestriction,v),O=E.y,_=E.bottom,R=E.x,G=E.right,ot=d+w,et=g+C,bt=qs(ot,et,r,i,E),ut=bt.originInBounds,Dt=bt.sizeInBounds,Lt=bt.limitX,Yt=bt.limitY,xn=bt.deltaW,Mn=bt.deltaH,vn=st(Yt+Mn-O),ge=st(_-Yt),Ar=SS(n.direction,ge,ge,vn),Oe=st(Lt+xn-R),Sn=st(G-Lt),Rn=T2(n.direction,Sn,Sn,Oe),qe={x:Lt,y:Yt,width:xn,height:Mn,maxHeight:Ar,maxWidth:Rn,direction:n.direction,classes:{on:n.bubble.classesOn,off:n.bubble.classesOff},label:n.label,candidateYforTest:et};return ut&&Dt?ic.fit(qe):ic.nofit(qe,xn,Mn)},wn=function(n,r,i,s,d){var g=i.width,v=i.height,w=function(E,O,_,R){var G=E(r,i,s),ot=cv(G,g,v,d);return ot.fold(ic.fit,function(et,bt,ut){var Dt=ut>R||bt>_;return Dt?ic.nofit(et,bt,ut):ic.nofit(O,_,R)})},C=nt(n,function(E,O){var _=Kn(w,O);return E.fold(ic.fit,_)},ic.nofit({x:r.x,y:r.y,width:i.width,height:i.height,maxHeight:i.height,maxWidth:i.width,direction:ev(),classes:{on:[],off:[]},label:"none",candidateYforTest:r.y},-1,-1));return C.fold(Xt,Xt)},sv=function(n){return{width:_c(n),height:yd(n)}},DS=function(n,r,i,s){Ro(r,"max-height"),Ro(r,"max-width");var d=sv(r);return wn(s.preference,n,d,i,s.bounds)},gp=function(n,r){var i=r.classes;pi(n,i.off),nc(n,i.on)},pp=function(n,r,i){var s=i.maxHeightFunction;s(n,r.maxHeight)},Jc=function(n,r,i){var s=i.maxWidthFunction;s(n,r.maxWidth)},L2=function(n,r,i){qm(n,dp(i.origin,r))},$1=function(n,r){Im(n,Math.floor(r))},I2=st(function(n,r){$1(n,r),hd(n,{"overflow-x":"hidden","overflow-y":"auto"})}),Ym=st(function(n,r){$1(n,r)}),lv=function(n,r,i){return n[r]===void 0?i:n[r]},X1=function(n,r,i,s,d,g){var v=lv(g,"maxHeightFunction",I2()),w=lv(g,"maxWidthFunction",ft),C=n.anchorBox,E=n.origin,O={bounds:Wm(E,d),origin:E,preference:s,maxHeightFunction:v,maxWidthFunction:w};_S(C,r,i,O)},_S=function(n,r,i,s){var d=DS(n,r,i,s);L2(r,d,s),gp(r,d),pp(r,d,s),Jc(r,d,s)},$m=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right"],Xm=function(n,r,i){var s=function(g){return cr(i,g).getOr([])},d=function(g,v,w){var C=Zr($m,w);return{offset:Xo(g,v),classesOn:An(w,s),classesOff:An(C,s)}};return{southeast:function(){return d(-n,r,["top","alignLeft"])},southwest:function(){return d(n,r,["top","alignRight"])},south:function(){return d(-n/2,r,["top","alignCentre"])},northeast:function(){return d(-n,-r,["bottom","alignLeft"])},northwest:function(){return d(n,-r,["bottom","alignRight"])},north:function(){return d(-n/2,-r,["bottom","alignCentre"])},east:function(){return d(n,-r/2,["valignCentre","left"])},west:function(){return d(-n,-r/2,["valignCentre","right"])},innerNorthwest:function(){return d(-n,r,["top","alignRight"])},innerNortheast:function(){return d(n,r,["top","alignLeft"])},innerNorth:function(){return d(-n/2,r,["top","alignCentre"])},innerSouthwest:function(){return d(-n,-r,["bottom","alignRight"])},innerSoutheast:function(){return d(n,-r,["bottom","alignLeft"])},innerSouth:function(){return d(-n/2,-r,["bottom","alignCentre"])},innerWest:function(){return d(n,-r/2,["valignCentre","right"])},innerEast:function(){return d(-n,-r/2,["valignCentre","left"])}}},Gm=function(){return Xm(0,0,{})},hp=function(n){return n},G1=function(n,r){return function(i){return H2(i)==="rtl"?r:n}},H2=function(n){return Dc(n,"direction")==="rtl"?"rtl":"ltr"},Zc;(function(n){n.TopToBottom="toptobottom",n.BottomToTop="bottomtotop"})(Zc||(Zc={}));var K1="data-alloy-vertical-dir",Km=function(n){return oc(n,function(r){return uu(r)&&wu(r,"data-alloy-vertical-dir")===Zc.BottomToTop})},Dl=function(){return Gi("layouts",[At("onLtr"),At("onRtl"),Cr("onBottomLtr"),Cr("onBottomRtl")])},Jm=function(n,r,i,s,d,g,v){var w=v.map(Km).getOr(!1),C=r.layouts.map(function(G){return G.onLtr(n)}),E=r.layouts.map(function(G){return G.onRtl(n)}),O=w?r.layouts.bind(function(G){return G.onBottomLtr.map(function(ot){return ot(n)})}).or(C).getOr(d):C.getOr(i),_=w?r.layouts.bind(function(G){return G.onBottomRtl.map(function(ot){return ot(n)})}).or(E).getOr(g):E.getOr(s),R=G1(O,_);return R(n)},V2=function(n,r,i){var s=r.hotspot,d=Od(i,s.element),g=Jm(n.element,r,L1(),I1(),R1(),P1(),S.some(r.hotspot.element));return S.some(hp({anchorBox:d,bubble:r.bubble.getOr(Gm()),overrides:r.overrides,layouts:g,placer:S.none()}))},U2=[At("hotspot"),Cr("bubble"),It("overrides",{}),Dl(),Ho("placement",V2)],j2=function(n,r,i){var s=wf(i,r.x,r.y),d=ec(s.left,s.top,r.width,r.height),g=Jm(n.element,r,M1(),_2(),M1(),_2(),S.none());return S.some(hp({anchorBox:d,bubble:r.bubble,overrides:r.overrides,layouts:g,placer:S.none()}))},FS=[At("x"),At("y"),It("height",0),It("width",0),It("bubble",Gm()),It("overrides",{}),Dl(),Ho("placement",j2)],fv=Xe.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),BS=function(n){return n.fold(Xt,function(r,i,s){return r.translate(-i,-s)})},NS=function(n){return n.fold(Xt,Xt)},_d=function(n){return nt(n,function(r,i){return r.translate(i.left,i.top)},Xo(0,0))},q2=function(n){var r=wt(n,BS);return _d(r)},W2=function(n){var r=wt(n,NS);return _d(r)},vp=fv.screen,J1=fv.absolute,Z1=function(n,r,i){var s=ps(i.root).dom,d=function(g){var v=Sc(g),w=Sc(n.element);return Ur(v,w)};return S.from(s.frameElement).map(Fe.fromDom).filter(d).map(Ss)},aa=function(n,r,i){var s=Sc(n.element),d=Yc(s),g=Z1(n,r,i).getOr(d);return J1(g,d.left,d.top)},Y2=function(n,r,i,s){var d=n,g=r,v=i,w=s;n<0&&(d=0,v=i+n),r<0&&(g=0,w=s+r);var C=vp(Xo(d,g));return S.some(x1(C,v,w))},dv=function(n,r,i,s,d){return n.map(function(g){var v=[r,g.point],w=q1(s,function(){return W2(v)},function(){return W2(v)},function(){return q2(v)}),C=xd(w.left,w.top,g.width,g.height),E=i.showAbove?R1():L1(),O=i.showAbove?P1():I1(),_=Jm(d,i,E,O,E,O,S.none());return hp({anchorBox:C,bubble:i.bubble.getOr(Gm()),overrides:i.overrides,layouts:_,placer:S.none()})})},zS=function(n,r,i){var s=aa(n,i,r);return r.node.filter(ws).bind(function(d){var g=d.dom.getBoundingClientRect(),v=Y2(g.left,g.top,g.width,g.height),w=r.node.getOr(n.element);return dv(v,s,r,i,w)})},MS=[At("node"),At("root"),Cr("bubble"),Dl(),It("overrides",{}),It("showAbove",!1),Ho("placement",zS)],xf="\uFEFF",bp="\xA0",RS=function(n,r,i,s){return{start:n,soffset:r,finish:i,foffset:s}},du={create:RS},Cf=Xe.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),$2=function(n,r,i,s){return n.fold(r,i,s)},PS=function(n){return n.fold(Xt,Xt,Xt)},X2=Cf.before,LS=Cf.on,IS=Cf.after,HS={before:X2,on:LS,after:IS,cata:$2,getStart:PS},_l=Xe.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Zm=function(n){return _l.exact(n.start,n.soffset,n.finish,n.foffset)},VS=function(n){return n.match({domRange:function(r){return Fe.fromDom(r.startContainer)},relative:function(r,i){return HS.getStart(r)},exact:function(r,i,s,d){return r}})},G2=_l.domRange,K2=_l.relative,J2=_l.exact,Z2=function(n){var r=VS(n);return ps(r)},Q1=du.create,yp={domRange:G2,relative:K2,exact:J2,exactFromRange:Zm,getWin:Z2,range:Q1},US=function(n,r){r.fold(function(i){n.setStartBefore(i.dom)},function(i,s){n.setStart(i.dom,s)},function(i){n.setStartAfter(i.dom)})},jS=function(n,r){r.fold(function(i){n.setEndBefore(i.dom)},function(i,s){n.setEnd(i.dom,s)},function(i){n.setEndAfter(i.dom)})},Fd=function(n,r,i){var s=n.document.createRange();return US(s,r),jS(s,i),s},tb=function(n,r,i,s,d){var g=n.document.createRange();return g.setStart(r.dom,i),g.setEnd(s.dom,d),g},qS=function(n){return{left:n.left,top:n.top,right:n.right,bottom:n.bottom,width:n.width,height:n.height}},Q2=function(n){var r=n.getClientRects(),i=r.length>0?r[0]:n.getBoundingClientRect();return i.width>0||i.height>0?S.some(i).map(qS):S.none()},Qm=Xe.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),tw=function(n,r,i){return r(Fe.fromDom(i.startContainer),i.startOffset,Fe.fromDom(i.endContainer),i.endOffset)},nb=function(n,r){return r.match({domRange:function(i){return{ltr:st(i),rtl:S.none}},relative:function(i,s){return{ltr:fi(function(){return Fd(n,i,s)}),rtl:fi(function(){return S.some(Fd(n,s,i))})}},exact:function(i,s,d,g){return{ltr:fi(function(){return tb(n,i,s,d,g)}),rtl:fi(function(){return S.some(tb(n,d,g,i,s))})}}})},nw=function(n,r){var i=r.ltr();if(i.collapsed){var s=r.rtl().filter(function(d){return d.collapsed===!1});return s.map(function(d){return Qm.rtl(Fe.fromDom(d.endContainer),d.endOffset,Fe.fromDom(d.startContainer),d.startOffset)}).getOrThunk(function(){return tw(n,Qm.ltr,i)})}else return tw(n,Qm.ltr,i)},ew=function(n,r){var i=nb(n,r);return nw(n,i)},rw=function(n,r){var i=ew(n,r);return i.match({ltr:function(s,d,g,v){var w=n.document.createRange();return w.setStart(s.dom,d),w.setEnd(g.dom,v),w},rtl:function(s,d,g,v){var w=n.document.createRange();return w.setStart(g.dom,v),w.setEnd(s.dom,d),w}})};Qm.ltr,Qm.rtl;var ow=function(n,r){var i=function(g){if(!n(g))throw new Error("Can only get "+r+" value of a "+r+" node");return s(g).getOr("")},s=function(g){return n(g)?S.from(g.dom.nodeValue):S.none()},d=function(g,v){if(!n(g))throw new Error("Can only set raw "+r+" value of a "+r+" node");g.dom.nodeValue=v};return{get:i,getOption:s,set:d}},iw=ow(ad,"text"),uw=function(n){return iw.get(n)},aw=function(n){return iw.getOption(n)},wp=function(n){return Ja(n)==="img"?1:aw(n).fold(function(){return hs(n).length},function(r){return r.length})},WS=function(n){return aw(n).filter(function(r){return r.trim().length!==0||r.indexOf(bp)>-1}).isSome()},xp=["img","br"],tg=function(n){var r=WS(n);return r||Ft(xp,Ja(n))},YS=function(n){return $S(n,tg)},$S=function(n,r){var i=function(s){for(var d=hs(s),g=d.length-1;g>=0;g--){var v=d[g];if(r(v))return S.some(v);var w=i(v);if(w.isSome())return w}return S.none()};return i(n)},wa=function(n,r){return _r(r,n)},cw=function(n,r,i,s){var d=Sc(n),g=d.dom.createRange();return g.setStart(n.dom,r),g.setEnd(i.dom,s),g},XS=function(n,r,i,s){var d=cw(n,r,i,s),g=Ur(n,i)&&r===s;return d.collapsed&&!g},Ra=function(n){return S.from(n.getSelection())},sw=function(n){if(n.rangeCount>0){var r=n.getRangeAt(0),i=n.getRangeAt(n.rangeCount-1);return S.some(du.create(Fe.fromDom(r.startContainer),r.startOffset,Fe.fromDom(i.endContainer),i.endOffset))}else return S.none()},GS=function(n){if(n.anchorNode===null||n.focusNode===null)return sw(n);var r=Fe.fromDom(n.anchorNode),i=Fe.fromDom(n.focusNode);return XS(r,n.anchorOffset,i,n.focusOffset)?S.some(du.create(r,n.anchorOffset,i,n.focusOffset)):sw(n)},KS=function(n){return Ra(n).filter(function(r){return r.rangeCount>0}).bind(GS)},eb=function(n,r){var i=rw(n,r);return Q2(i)},ng=function(n,r){return{element:n,offset:r}},rb=function(n,r){var i=hs(n);if(i.length===0)return ng(n,r);if(r<i.length)return ng(i[r],0);var s=i[i.length-1],d=ad(s)?uw(s).length:hs(s).length;return ng(s,d)},lw=function(n,r){return ad(n)?ng(n,r):rb(n,r)},fw=function(n,r){var i=r.getSelection.getOrThunk(function(){return function(){return KS(n)}});return i().map(function(s){var d=lw(s.start,s.soffset),g=lw(s.finish,s.foffset);return yp.range(d.element,d.offset,g.element,g.offset)})},JS=function(n,r,i){var s=ps(r.root).dom,d=aa(n,i,r),g=fw(s,r).bind(function(C){var E=eb(s,yp.exactFromRange(C)).orThunk(function(){var O=Fe.fromText(xf);return Hh(C.start,O),eb(s,yp.exact(O,0,O,1)).map(function(_){return af(O),_})});return E.bind(function(O){return Y2(O.left,O.top,O.width,O.height)})}),v=fw(s,r).bind(function(C){return uu(C.start)?S.some(C.start):Fm(C.start)}),w=v.getOr(n.element);return dv(g,d,r,i,w)},mv=[Cr("getSelection"),At("root"),Cr("bubble"),Dl(),It("overrides",{}),It("showAbove",!1),Ho("placement",JS)],Qc=function(n){return n.x+n.width},Sf=function(n,r){return n.x-r.width},gv=function(n,r){return n.y-r.height+n.height},Bd=function(n){return n.y},pv=function(n,r,i){return Gu(Qc(n),Bd(n),i.southeast(),ev(),su(n,{left:0,top:2}),"link-layout-se")},dw=function(n,r,i){return Gu(Sf(n,r),Bd(n),i.southwest(),D1(),su(n,{right:1,top:2}),"link-layout-sw")},ob=function(n,r,i){return Gu(Qc(n),gv(n,r),i.northeast(),Fc(),su(n,{left:0,bottom:3}),"link-layout-ne")},ib=function(n,r,i){return Gu(Sf(n,r),gv(n,r),i.northwest(),ba(),su(n,{right:1,bottom:3}),"link-layout-nw")},ub=function(){return[pv,dw,ob,ib]},ab=function(){return[dw,pv,ib,ob]},mw=function(n,r,i){var s=Od(i,r.item.element),d=Jm(n.element,r,ub(),ab(),ub(),ab(),S.none());return S.some(hp({anchorBox:s,bubble:Gm(),overrides:r.overrides,layouts:d,placer:S.none()}))},ZS=[At("item"),Dl(),It("overrides",{}),Ho("placement",mw)],QS=bu("anchor",{selection:mv,node:MS,hotspot:U2,submenu:ZS,makeshift:FS}),tk=function(){var n=document.documentElement;return Y1(0,0,n.clientWidth,n.clientHeight)},nk=function(n){var r=Ss(n.element),i=n.element.dom.getBoundingClientRect();return W1(r.left,r.top,i.width,i.height)},ek=function(n,r,i,s,d){var g=P2(i.anchorBox,r);X1(g,d.element,i.bubble,i.layouts,s,i.overrides)},Ws=function(n,r,i,s,d){hv(n,r,i,s,d,S.none())},hv=function(n,r,i,s,d,g){var v=g.map(rc);return gw(n,r,i,s,d,v)},gw=function(n,r,i,s,d,g){var v=ji("positioning anchor.info",QS,s);M2(function(){Xr(d.element,"position","fixed");var w=di(d.element,"visibility");Xr(d.element,"visibility","hidden");var C=r.useFixed()?tk():nk(n),E=v.placement,O=g.map(st).or(r.getBounds);E(n,v,C).each(function(_){var R=_.placer.getOr(ek);R(n,C,_,O,d)}),w.fold(function(){Ro(d.element,"visibility")},function(_){Xr(d.element,"visibility",_)}),di(d.element,"left").isNone()&&di(d.element,"top").isNone()&&di(d.element,"right").isNone()&&di(d.element,"bottom").isNone()&&di(d.element,"position").is("fixed")&&Ro(d.element,"position")},d.element)},rk=function(n,r,i){return r.useFixed()?"fixed":"absolute"},ok=Object.freeze({__proto__:null,position:Ws,positionWithin:hv,positionWithinBounds:gw,getMode:rk}),ik=[It("useFixed",yn),Cr("getBounds")],Zu=Pi({fields:ik,name:"positioning",active:jm,apis:ok}),eg=function(n){Hr(n,$g());var r=n.components();tn(r,eg)},rg=function(n){var r=n.components();tn(r,rg),Hr(n,kl())},vv=function(n,r){_a(n.element,r.element)},og=function(n){tn(n.components(),function(r){return af(r.element)}),Jg(n.element),n.syncComponents()},Fl=function(n,r){var i=n.components();og(n);var s=Zr(i,r);tn(s,function(d){eg(d),n.getSystem().removeFromWorld(d)}),tn(r,function(d){d.getSystem().isConnected()?vv(n,d):(n.getSystem().addToWorld(d),vv(n,d),ws(n.element)&&rg(d)),n.syncComponents()})},Ys=function(n,r){pw(n,r,_a)},pw=function(n,r,i){n.getSystem().addToWorld(r),i(n.element,r.element),ws(n.element)&&rg(r),n.syncComponents()},cb=function(n){eg(n),af(n.element),n.getSystem().removeFromWorld(n)},kf=function(n){var r=yu(n.element).bind(function(i){return n.getSystem().getByDom(i).toOptional()});cb(n),r.each(function(i){i.syncComponents()})},sb=function(n){var r=n.components();tn(r,cb),Jg(n.element),n.syncComponents()},bv=function(n,r){Nd(n,r,_a)},uk=function(n,r){Nd(n,r,a2)},Nd=function(n,r,i){i(n,r.element);var s=hs(r.element);tn(s,function(d){r.getByDom(d).each(rg)})},Ef=function(n){var r=hs(n.element);tn(r,function(i){n.getByDom(i).each(eg)}),af(n.element)},Cp=function(n,r,i,s){i.get().each(function(v){sb(n)});var d=r.getAttachPoint(n);Ys(d,n);var g=n.getSystem().build(s);return Ys(n,g),i.set(g),g},zd=function(n,r,i,s){var d=Cp(n,r,i,s);return r.onOpen(n,d),d},Af=function(n,r,i,s){return i.get().map(function(){return Cp(n,r,i,s)})},$s=function(n,r,i,s,d){Ep(n,r),zd(n,r,i,s),d(),Md(n,r)},yv=function(n,r,i){i.get().each(function(s){sb(n),kf(n),r.onClose(n,s),i.clear()})},lb=function(n,r,i){return i.isOpen()},ak=function(n,r,i,s){return lb(n,r,i)&&i.get().exists(function(d){return r.isPartOf(n,d,s)})},hw=function(n,r,i){return i.get()},Sp=function(n,r,i,s){di(n.element,r).fold(function(){Fa(n.element,i)},function(d){ho(n.element,i,d)}),Xr(n.element,r,s)},kp=function(n,r,i){ld(n.element,i).fold(function(){return Ro(n.element,r)},function(s){return Xr(n.element,r,s)})},Ep=function(n,r,i){var s=r.getAttachPoint(n);Xr(n.element,"position",Zu.getMode(s)),Sp(n,"visibility",r.cloakVisibilityAttr,"hidden")},vw=function(n){return cn(["top","left","right","bottom"],function(r){return di(n,r).isSome()})},Md=function(n,r,i){vw(n.element)||Ro(n.element,"position"),kp(n,"visibility",r.cloakVisibilityAttr)},Ap=Object.freeze({__proto__:null,cloak:Ep,decloak:Md,open:zd,openWhileCloaked:$s,close:yv,isOpen:lb,isPartOf:ak,getState:hw,setContent:Af}),bw=function(n,r){return po([Fn(Yg(),function(i,s){yv(i,n,r)})])},fb=Object.freeze({__proto__:null,events:bw}),Tp=[to("onOpen"),to("onClose"),At("isPartOf"),At("getAttachPoint"),It("cloakVisibilityAttr","data-precloak-visibility")],Qi=function(){var n=re(S.none()),r=st("not-implemented"),i=function(){return n.get().isSome()},s=function(v){n.set(S.some(v))},d=function(){return n.get()},g=function(){n.set(S.none())};return Ec({readState:r,isOpen:i,clear:g,set:s,get:d})},yw=Object.freeze({__proto__:null,init:Qi}),Wr=Pi({fields:Tp,name:"sandboxing",active:fb,apis:Ap,state:yw}),Tf=st("dismiss.popups"),As=st("reposition.popups"),Xs=st("mouse.released"),Op=Ht([It("isExtraPart",yn),Gi("fireEventInstead",[It("event",Ri())])]),Of=function(n){var r,i=ji("Dismissal",Op,n);return r={},r[Tf()]={schema:Ht([At("target")]),onReceive:function(s,d){if(Wr.isOpen(s)){var g=Wr.isPartOf(s,d.target)||i.isExtraPart(s,d.target);g||i.fireEventInstead.fold(function(){return Wr.close(s)},function(v){return Hr(s,v.event)})}}},r},ck=Ht([Gi("fireEventInstead",[It("event",Fh())]),Ai("doReposition")]),wv=function(n){var r,i=ji("Reposition",ck,n);return r={},r[As()]={onReceive:function(s){Wr.isOpen(s)&&i.fireEventInstead.fold(function(){return i.doReposition(s)},function(d){return Hr(s,d.event)})}},r},xv=function(n,r,i){r.store.manager.onLoad(n,r,i)},ww=function(n,r,i){r.store.manager.onUnload(n,r,i)},db=function(n,r,i,s){r.store.manager.setValue(n,r,i,s)},Ts=function(n,r,i){return r.store.manager.getValue(n,r,i)},sk=function(n,r,i){return i},xw=Object.freeze({__proto__:null,onLoad:xv,onUnload:ww,setValue:db,getValue:Ts,getState:sk}),Cw=function(n,r){var i=n.resetOnDom?[si(function(s,d){xv(s,n,r)}),oa(function(s,d){ww(s,n,r)})]:[av(n,r,xv)];return po(i)},Sw=Object.freeze({__proto__:null,events:Cw}),mb=function(){var n=re(null),r=function(){return{mode:"memory",value:n.get()}},i=function(){return n.get()===null},s=function(){n.set(null)};return Ec({set:n.set,get:n.get,isNotSet:i,clear:s,readState:r})},lk=function(){var n=ft;return Ec({readState:n})},kw=function(){var n=re({}),r=re({}),i=function(){return{mode:"dataset",dataByValue:n.get(),dataByText:r.get()}},s=function(){n.set({}),r.set({})},d=function(v){return cr(n.get(),v).orThunk(function(){return cr(r.get(),v)})},g=function(v){var w=n.get(),C=r.get(),E={},O={};tn(v,function(_){E[_.value]=_,cr(_,"meta").each(function(R){cr(R,"text").each(function(G){O[G]=_})})}),n.set(tt(tt({},w),E)),r.set(tt(tt({},C),O))};return Ec({readState:i,lookup:d,update:g,clear:s})},Bc=function(n){return n.store.manager.state(n)},Cv=Object.freeze({__proto__:null,memory:mb,dataset:kw,manual:lk,init:Bc}),Sv=function(n,r,i,s){var d=r.store;i.update([s]),d.setValue(n,s),r.onSetValue(n,s)},Rd=function(n,r,i){var s=r.store,d=s.getDataKey(n);return i.lookup(d).fold(function(){return s.getFallbackEntry(d)},function(g){return g})},ts=function(n,r,i){var s=r.store;s.initialValue.each(function(d){Sv(n,r,i,d)})},Os=function(n,r,i){i.clear()},xa=[Cr("initialValue"),At("getFallbackEntry"),At("getDataKey"),At("setValue"),Ho("manager",{setValue:Sv,getValue:Rd,onLoad:ts,onUnload:Os,state:kw})],Gs=function(n,r,i){return r.store.getValue(n)},gb=function(n,r,i,s){r.store.setValue(n,s),r.onSetValue(n,s)},Ks=function(n,r,i){r.store.initialValue.each(function(s){r.store.setValue(n,s)})},Pd=[At("getValue"),It("setValue",ft),Cr("initialValue"),Ho("manager",{setValue:gb,getValue:Gs,onLoad:Ks,onUnload:ft,state:Xu.init})],fk=function(n,r,i,s){i.set(s),r.onSetValue(n,s)},dk=function(n,r,i){return i.get()},Ew=function(n,r,i){r.store.initialValue.each(function(s){i.isNotSet()&&i.set(s)})},pb=function(n,r,i){i.clear()},hb=[Cr("initialValue"),Ho("manager",{setValue:fk,getValue:dk,onLoad:Ew,onUnload:pb,state:mb})],Aw=[Ti("store",{mode:"memory"},bu("mode",{memory:hb,manual:Pd,dataset:xa})),to("onSetValue"),It("resetOnDom",!1)],xe=Pi({fields:Aw,name:"representing",active:Sw,apis:xw,extra:{setValueFrom:function(n,r){var i=xe.getValue(r);xe.setValue(n,i)}},state:Cv}),tu=function(n,r){return Ya(n,{},wt(r,function(i){return Du(i.name(),"Cannot configure "+i.name()+" for "+n)}).concat([xi("dump",Xt)]))},kv=function(n){return n.dump},Li=function(n,r){return tt(tt({},n.dump),Un(r))},Ca={field:tu,augment:Li,get:kv},Dp="placeholder",Ld=Xe.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),ig=function(n){return ao(n,"uiType")},Tw=function(n,r,i,s){return n.exists(function(d){return d!==i.owner})?Ld.single(!0,st(i)):cr(s,i.name).fold(function(){throw new Error("Unknown placeholder component: "+i.name+`
Known: [`+lr(s)+`]
Namespace: `+n.getOr("none")+`
Spec: `+JSON.stringify(i,null,2))},function(d){return d.replace()})},vb=function(n,r,i,s){return ig(i)&&i.uiType===Dp?Tw(n,r,i,s):Ld.single(!1,st(i))},Ow=function(n,r,i,s){var d=vb(n,r,i,s);return d.fold(function(g,v){var w=ig(i)?v(r,i.config,i.validated):v(r),C=cr(w,"components").getOr([]),E=An(C,function(O){return Ow(n,r,O,s)});return[tt(tt({},w),{components:E})]},function(g,v){if(ig(i)){var w=v(r,i.config,i.validated),C=i.validated.preprocess.getOr(Xt);return C(w)}else return v(r)})},mk=function(n,r,i,s){return An(i,function(d){return Ow(n,r,d,s)})},gk=function(n,r){var i=!1,s=function(){return i},d=function(){if(i)throw new Error("Trying to use the same placeholder more than once: "+n);return i=!0,r},g=function(){return r.fold(function(v,w){return v},function(v,w){return v})};return{name:st(n),required:g,used:s,replace:d}},pk=function(n,r,i,s){var d=Er(s,function(v,w){return gk(w,v)}),g=mk(n,r,i,d);return zr(d,function(v){if(v.used()===!1&&v.required())throw new Error("Placeholder: "+v.name()+` was not found in components list
Namespace: `+n.getOr("none")+`
Components: `+JSON.stringify(r.components,null,2))}),g},Pa=Ld.single,hk=Ld.multiple,ug=st(Dp),Js=Xe.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),Id=It("factory",{sketch:Xt}),Ds=It("schema",[]),_p=At("name"),Ev=ro("pname","pname",lt(function(n){return"<alloy."+tr(n.name)+">"}),Ou()),bb=xi("schema",function(){return[Cr("preprocess")]}),ag=It("defaults",st({})),Bl=It("overrides",st({})),yb=Nt([Id,Ds,_p,Ev,ag,Bl]),vk=Nt([Id,Ds,_p,ag,Bl]),Df=Nt([Id,Ds,_p,Ev,ag,Bl]),wb=Nt([Id,bb,_p,At("unit"),Ev,ag,Bl]),Fp=function(n){return n.fold(S.some,S.none,S.some,S.some)},Bp=function(n){var r=function(i){return i.name};return n.fold(r,r,r,r)},Dw=function(n){return n.fold(Xt,Xt,Xt,Xt)},Hd=function(n,r){return function(i){var s=ji("Converting part type",r,i);return n(s)}},Iu=Hd(Js.required,yb),ns=Hd(Js.external,vk),Nc=Hd(Js.optional,Df),cg=Hd(Js.group,wb),Vd=st("entirety"),sg=Object.freeze({__proto__:null,required:Iu,external:ns,optional:Nc,group:cg,asNamedPart:Fp,name:Bp,asCommon:Dw,original:Vd}),Av=function(n,r,i,s){return $r(r.defaults(n,i,s),i,{uid:n.partUids[r.name]},r.overrides(n,i,s))},xb=function(n,r,i){var s={},d={};return tn(i,function(g){g.fold(function(v){s[v.pname]=Pa(!0,function(w,C,E){return v.factory.sketch(Av(w,v,C,E))})},function(v){var w=r.parts[v.name];d[v.name]=st(v.factory.sketch(Av(r,v,w[Vd()]),w))},function(v){s[v.pname]=Pa(!1,function(w,C,E){return v.factory.sketch(Av(w,v,C,E))})},function(v){s[v.pname]=hk(!0,function(w,C,E){var O=w[v.name];return wt(O,function(_){return v.factory.sketch($r(v.defaults(w,_,E),_,v.overrides(w,_)))})})})}),{internals:st(s),externals:st(d)}},Tv=function(n,r){var i={};return tn(r,function(s){Fp(s).each(function(d){var g=Ov(n,d.pname);i[d.name]=function(v){var w=ji("Part: "+d.name+" in "+n,Nt(d.schema),v);return tt(tt({},g),{config:v,validated:w})}})}),i},Ov=function(n,r){return{uiType:ug(),owner:n,name:r}},Dv=function(n,r,i){return{uiType:ug(),owner:n,name:r,config:i,validated:{}}},Cb=function(n){return An(n,function(r){return r.fold(S.none,S.some,S.none,S.none).map(function(i){return mc(i.name,i.schema.concat([Gc(Vd())]))}).toArray()})},_w=function(n){return wt(n,Bp)},Sb=function(n,r,i){return xb(n,r,i)},_v=function(n,r,i){return pk(S.some(n),r,r.components,i)},Lo=function(n,r,i){var s=r.partUids[i];return n.getSystem().getByUid(s).toOptional()},_s=function(n,r,i){return Lo(n,r,i).getOrDie("Could not find part: "+i)},_f=function(n,r,i){var s={},d=r.partUids,g=n.getSystem();return tn(i,function(v){s[v]=st(g.getByUid(d[v]))}),s},lg=function(n,r){var i=n.getSystem();return Er(r.partUids,function(s,d){return st(i.getByUid(s))})},kb=function(n){return lr(n.partUids)},Ff=function(n,r,i){var s={},d=r.partUids,g=n.getSystem();return tn(i,function(v){s[v]=st(g.getByUid(d[v]).getOrDie())}),s},Eb=function(n,r){var i=_w(r);return Z(wt(i,function(s){return{key:s,value:n+"-"+s}}))},Ud=function(n){return ro("partUids","partUids",L(function(r){return Eb(r.uid,n)}),Ou())},jd=Object.freeze({__proto__:null,generate:Tv,generateOne:Dv,schemas:Cb,names:_w,substitutes:Sb,components:_v,defaultUids:Eb,defaultUidsSchema:Ud,getAllParts:lg,getAllPartNames:kb,getPart:Lo,getPartOrDie:_s,getParts:_f,getPartsOrDie:Ff}),Ab=function(n,r){var i=n.length>0?[mc("parts",n)]:[];return i.concat([At("uid"),It("dom",{}),It("components",[]),Gc("originalSpec"),It("debug.sketcher",{})]).concat(r)},Fw=function(n,r,i,s,d){var g=Ab(s,d);return ji(n+" [SpecSchema]",Ht(g.concat(r)),i)},bk=function(n,r,i,s){var d=Hu(s),g=Fw(n,r,d,[],[]);return i(g,d)},Tb=function(n,r,i,s,d){var g=Hu(d),v=Cb(i),w=Ud(i),C=Fw(n,r,g,v,[w]),E=Sb(n,C,i),O=_v(n,C,E.internals());return s(C,O,g,E.externals())},yk=function(n){return ao(n,"uid")},Hu=function(n){return yk(n)?n:tt(tt({},n),{uid:vs("uid")})},Nl=function(n){return n.uid!==void 0},wk=Ht([At("name"),At("factory"),At("configFields"),It("apis",{}),It("extraApis",{})]),xk=Ht([At("name"),At("factory"),At("configFields"),At("partFields"),It("apis",{}),It("extraApis",{})]),uc=function(n){var r=ji("Sketcher for "+n.name,wk,n),i=function(g){return bk(r.name,r.configFields,r.factory,g)},s=Er(r.apis,Ba),d=Er(r.extraApis,function(g,v){return jh(g,v)});return tt(tt({name:r.name,configFields:r.configFields,sketch:i},s),d)},Vu=function(n){var r=ji("Sketcher for "+n.name,xk,n),i=function(v){return Tb(r.name,r.configFields,r.partFields,r.factory,v)},s=Tv(r.name,r.partFields),d=Er(r.apis,Ba),g=Er(r.extraApis,function(v,w){return jh(v,w)});return tt(tt({name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:i,parts:s},d),g)},Bf=function(n){for(var r=[],i=function(d){r.push(d)},s=0;s<n.length;s++)n[s].each(i);return r},Ob=function(n){for(var r=[],i=0;i<n.length;i++){var s=n[i];if(s.isSome())r.push(s.getOrDie());else return S.none()}return S.some(r)},Fv=function(n,r,i){return n.isSome()&&r.isSome()?S.some(i(n.getOrDie(),r.getOrDie())):S.none()},Zs=function(n,r,i,s){return n.isSome()&&r.isSome()&&i.isSome()?S.some(s(n.getOrDie(),r.getOrDie(),i.getOrDie())):S.none()},Db=function(n,r){return n!=null?S.some(r(n)):S.none()},Bw=function(n,r){return n?S.some(r):S.none()},fg=function(n){return Ja(n)==="input"&&wu(n,"type")!=="radio"||Ja(n)==="textarea"},_b=function(n,r,i){return r.find(n)},Nw=Object.freeze({__proto__:null,getCurrent:_b}),Bv=[At("find")],mo=Pi({fields:Bv,name:"composing",apis:Nw}),Fb=function(n,r,i,s){var d=wa(n.element,"."+r.highlightClass);tn(d,function(g){cn(s,function(v){return v.element===g})||(jo(g,r.highlightClass),n.getSystem().getByDom(g).each(function(v){r.onDehighlight(n,v),Hr(v,Nh())}))})},Np=function(n,r,i){return Fb(n,r,i,[])},zw=function(n,r,i,s){Nv(n,r,i,s)&&(jo(s.element,r.highlightClass),r.onDehighlight(n,s),Hr(s,Nh()))},dg=function(n,r,i,s){Fb(n,r,i,[s]),Nv(n,r,i,s)||(Yo(s.element,r.highlightClass),r.onHighlight(n,s),Hr(s,e2()))},zp=function(n,r,i){Mw(n,r).each(function(s){dg(n,r,i,s)})},qd=function(n,r,i){Bb(n,r).each(function(s){dg(n,r,i,s)})},Mp=function(n,r,i,s){kk(n,r,i,s).fold(function(d){throw d},function(d){dg(n,r,i,d)})},Ck=function(n,r,i,s){var d=Nb(n,r),g=yt(d,s);g.each(function(v){dg(n,r,i,v)})},Nv=function(n,r,i,s){return tc(s.element,r.highlightClass)},Sk=function(n,r,i){return Ru(n.element,"."+r.highlightClass).bind(function(s){return n.getSystem().getByDom(s).toOptional()})},kk=function(n,r,i,s){var d=wa(n.element,"."+r.itemClass);return S.from(d[s]).fold(function(){return gn.error(new Error("No element found with index "+s))},n.getSystem().getByDom)},Mw=function(n,r,i){return Ru(n.element,"."+r.itemClass).bind(function(s){return n.getSystem().getByDom(s).toOptional()})},Bb=function(n,r,i){var s=wa(n.element,"."+r.itemClass),d=s.length>0?S.some(s[s.length-1]):S.none();return d.bind(function(g){return n.getSystem().getByDom(g).toOptional()})},Rw=function(n,r,i,s){var d=wa(n.element,"."+r.itemClass),g=Nn(d,function(v){return tc(v,r.highlightClass)});return g.bind(function(v){var w=Dd(v,s,0,d.length-1);return n.getSystem().getByDom(d[w]).toOptional()})},Pw=function(n,r,i){return Rw(n,r,i,-1)},Ek=function(n,r,i){return Rw(n,r,i,1)},Nb=function(n,r,i){var s=wa(n.element,"."+r.itemClass);return Bf(wt(s,function(d){return n.getSystem().getByDom(d).toOptional()}))},Lw=Object.freeze({__proto__:null,dehighlightAll:Np,dehighlight:zw,highlight:dg,highlightFirst:zp,highlightLast:qd,highlightAt:Mp,highlightBy:Ck,isHighlighted:Nv,getHighlighted:Sk,getFirst:Mw,getLast:Bb,getPrevious:Pw,getNext:Ek,getCandidates:Nb}),Iw=[At("highlightClass"),At("itemClass"),to("onHighlight"),to("onDehighlight")],Be=Pi({fields:Iw,name:"highlighting",apis:Lw}),Ak=[8],zl=[9],Qs=[13],zv=[27],La=[32],Mv=[37],Wd=[38],Ml=[39],Yd=[40],Rv=function(n,r,i){var s=ze(n.slice(0,r)),d=ze(n.slice(r+1));return yt(s.concat(d),i)},Tk=function(n,r,i){var s=ze(n.slice(0,r));return yt(s,i)},zb=function(n,r,i){var s=n.slice(0,r),d=n.slice(r+1);return yt(d.concat(s),i)},Ok=function(n,r,i){var s=n.slice(r+1);return yt(s,i)},Jr=function(n){return function(r){var i=r.raw;return Ft(n,i.which)}},zc=function(n){return function(r){return ar(n,function(i){return i(r)})}},Nf=function(n){var r=n.raw;return r.shiftKey===!0},Dk=function(n){var r=n.raw;return r.ctrlKey===!0},zf=qn(Nf),oo=function(n,r){return{matches:n,classification:r}},Rp=function(n,r){var i=yt(n,function(s){return s.matches(r)});return i.map(function(s){return s.classification})},Pp=function(n,r,i){var s=r.exists(function(d){return i.exists(function(g){return Ur(g,d)})});s||Sr(n,n2(),{prevFocus:r,newFocus:i})},Mf=function(){var n=function(i){return Ju(i.element)},r=function(i,s){var d=n(i);i.getSystem().triggerFocus(s,i.element);var g=n(i);Pp(i,d,g)};return{get:n,set:r}},mg=function(){var n=function(i){return Be.getHighlighted(i).map(function(s){return s.element})},r=function(i,s){var d=n(i);i.getSystem().getByDom(s).fold(ft,function(v){Be.highlight(i,v)});var g=n(i);Pp(i,d,g)};return{get:n,set:r}},Pv;(function(n){n.OnFocusMode="onFocus",n.OnEnterOrSpaceMode="onEnterOrSpace",n.OnApiMode="onApi"})(Pv||(Pv={}));var $d=function(n,r,i,s,d){var g=function(){return n.concat([It("focusManager",Mf()),Ti("focusInside","onFocus",Tu(function(E){return Ft(["onFocus","onEnterOrSpace","onApi"],E)?gn.value(E):gn.error("Invalid value for focusInside")})),Ho("handler",C),Ho("state",r),Ho("sendFocusIn",d)])},v=function(E,O,_,R,G){var ot=_(E,O,R,G);return Rp(ot,O.event).bind(function(et){return et(E,O,R,G)})},w=function(E,O){var _=E.focusInside!==Pv.OnFocusMode?S.none():d(E).map(function(ot){return Fn(Ls(),function(et,bt){ot(et,E,O),bt.stop()})}),R=function(ot,et){var bt=Jr(La.concat(Qs))(et.event);E.focusInside===Pv.OnEnterOrSpaceMode&&bt&&Ug(ot,et)&&d(E).each(function(ut){ut(ot,E,O),et.stop()})},G=[Fn(Om(),function(ot,et){v(ot,et,i,E,O).fold(function(){R(ot,et)},function(bt){et.stop()})}),Fn(nS(),function(ot,et){v(ot,et,s,E,O).each(function(bt){et.stop()})})];return po(_.toArray().concat(G))},C={schema:g,processKey:v,toEvents:w};return C},Mb=function(n){var r=[Cr("onEscape"),Cr("onEnter"),It("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),It("firstTabstop",0),It("useTabstopAt",Zt),Cr("visibilitySelector")].concat([n]),i=function(et,bt){var ut=et.visibilitySelector.bind(function(Dt){return $c(bt,Dt)}).getOr(bt);return zu(ut)>0},s=function(et,bt){var ut=wa(et.element,bt.selector),Dt=gt(ut,function(Lt){return i(bt,Lt)});return S.from(Dt[bt.firstTabstop])},d=function(et,bt){return bt.focusManager.get(et).bind(function(ut){return $c(ut,bt.selector)})},g=function(et,bt){return i(et,bt)&&et.useTabstopAt(bt)},v=function(et,bt,ut){s(et,bt).each(function(Dt){bt.focusManager.set(et,Dt)})},w=function(et,bt,ut,Dt,Lt){return Lt(bt,ut,function(Yt){return g(Dt,Yt)}).fold(function(){return Dt.cyclic?S.some(!0):S.none()},function(Yt){return Dt.focusManager.set(et,Yt),S.some(!0)})},C=function(et,bt,ut,Dt){var Lt=wa(et.element,ut.selector);return d(et,ut).bind(function(Yt){var xn=Nn(Lt,Kn(Ur,Yt));return xn.bind(function(Mn){return w(et,Lt,Mn,ut,Dt)})})},E=function(et,bt,ut){var Dt=ut.cyclic?Rv:Tk;return C(et,bt,ut,Dt)},O=function(et,bt,ut){var Dt=ut.cyclic?zb:Ok;return C(et,bt,ut,Dt)},_=function(et,bt,ut){return ut.onEnter.bind(function(Dt){return Dt(et,bt)})},R=function(et,bt,ut){return ut.onEscape.bind(function(Dt){return Dt(et,bt)})},G=st([oo(zc([Nf,Jr(zl)]),E),oo(Jr(zl),O),oo(Jr(zv),R),oo(zc([zf,Jr(Qs)]),_)]),ot=st([]);return $d(r,Xu.init,G,ot,function(){return S.some(v)})},Hw=Mb(xi("cyclic",yn)),_k=Mb(xi("cyclic",Zt)),Fk=function(n,r,i){return Xg(n,i,ra()),S.some(!0)},Lp=function(n,r,i){var s=fg(i)&&Jr(La)(r.event);return s?S.none():Fk(n,r,i)},gg=function(n,r){return S.some(!0)},Bk=[It("execute",Lp),It("useSpace",!1),It("useEnter",!0),It("useControlEnter",!1),It("useDown",!1)],Ip=function(n,r,i){return i.execute(n,r,n.element)},Nk=function(n,r,i,s){var d=i.useSpace&&!fg(n.element)?La:[],g=i.useEnter?Qs:[],v=i.useDown?Yd:[],w=d.concat(g).concat(v);return[oo(Jr(w),Ip)].concat(i.useControlEnter?[oo(zc([Dk,Jr(Qs)]),Ip)]:[])},Vw=function(n,r,i,s){return i.useSpace&&!fg(n.element)?[oo(Jr(La),gg)]:[]},zk=$d(Bk,Xu.init,Nk,Vw,function(){return S.none()}),Rb=function(){var n=re(S.none()),r=function(d,g){n.set(S.some({numRows:d,numColumns:g}))},i=function(){return n.get().map(function(d){return d.numRows})},s=function(){return n.get().map(function(d){return d.numColumns})};return Ec({readState:function(){return n.get().map(function(d){return{numRows:String(d.numRows),numColumns:String(d.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:r,getNumRows:i,getNumColumns:s})},Mk=function(n){return n.state(n)},pg=Object.freeze({__proto__:null,flatgrid:Rb,init:Mk}),Pb=function(n){return function(r,i,s,d){var g=n(r.element);return Uw(g,r,i,s,d)}},Hp=function(n,r){var i=G1(n,r);return Pb(i)},Lv=function(n,r){var i=G1(r,n);return Pb(i)},Xd=function(n){return function(r,i,s,d){return Uw(n,r,i,s,d)}},Uw=function(n,r,i,s,d){var g=s.focusManager.get(r).bind(function(v){return n(r.element,v,s,d)});return g.map(function(v){return s.focusManager.set(r,v),!0})},Vp=Xd,Lb=Xd,Gd=Xd,Ib=function(n){return n.offsetWidth<=0&&n.offsetHeight<=0},Kd=function(n){return!Ib(n.dom)},Up=function(n,r){return Nn(n,r).map(function(i){return{index:i,candidates:n}})},jw=function(n,r,i){var s=function(v){return Ur(v,r)},d=wa(n,i),g=gt(d,Kd);return Up(g,s)},Hb=function(n,r){return Nn(n,function(i){return Ur(r,i)})},qw=function(n,r,i,s){var d=Math.floor(r/i),g=r%i;return s(d,g).bind(function(v){var w=v.row*i+v.column;return w>=0&&w<n.length?S.some(n[w]):S.none()})},jp=function(n,r,i,s,d){return qw(n,r,s,function(g,v){var w=g===i-1,C=w?n.length-g*s:s,E=Dd(v,d,0,C-1);return S.some({row:g,column:E})})},Vb=function(n,r,i,s,d){return qw(n,r,s,function(g,v){var w=Dd(g,d,0,i-1),C=w===i-1,E=C?n.length-w*s:s,O=Es(v,0,E-1);return S.some({row:w,column:O})})},Ub=function(n,r,i,s){return jp(n,r,i,s,1)},Ww=function(n,r,i,s){return jp(n,r,i,s,-1)},jb=function(n,r,i,s){return Vb(n,r,i,s,-1)},Yw=function(n,r,i,s){return Vb(n,r,i,s,1)},Rk=[At("selector"),It("execute",Lp),Io("onEscape"),It("captureTab",!1),O1()],Pk=function(n,r,i){Ru(n.element,r.selector).each(function(s){r.focusManager.set(n,s)})},Iv=function(n,r){return r.focusManager.get(n).bind(function(i){return $c(i,r.selector)})},$w=function(n,r,i,s){return Iv(n,i).bind(function(d){return i.execute(n,r,d)})},Jd=function(n){return function(r,i,s,d){return jw(r,i,s.selector).bind(function(g){return n(g.candidates,g.index,d.getNumRows().getOr(s.initSize.numRows),d.getNumColumns().getOr(s.initSize.numColumns))})}},qb=function(n,r,i){return i.captureTab?S.some(!0):S.none()},Xw=function(n,r,i){return i.onEscape(n,r)},Gw=Jd(Ww),Kw=Jd(Ub),Hv=Jd(jb),Vv=Jd(Yw),Lk=st([oo(Jr(Mv),Hp(Gw,Kw)),oo(Jr(Ml),Lv(Gw,Kw)),oo(Jr(Wd),Vp(Hv)),oo(Jr(Yd),Lb(Vv)),oo(zc([Nf,Jr(zl)]),qb),oo(zc([zf,Jr(zl)]),qb),oo(Jr(zv),Xw),oo(Jr(La.concat(Qs)),$w)]),Ik=st([oo(Jr(La),gg)]),Hk=$d(Rk,Rb,Lk,Ik,function(){return S.some(Pk)}),Uv=function(n,r,i,s){var d=function(v){return Ja(v)==="button"&&wu(v,"disabled")==="disabled"},g=function(v,w,C){var E=Dd(w,s,0,C.length-1);return E===v?S.none():d(C[E])?g(v,E,C):S.from(C[E])};return jw(n,i,r).bind(function(v){var w=v.index,C=v.candidates;return g(w,w,C)})},hg=[At("selector"),It("getInitial",S.none),It("execute",Lp),Io("onEscape"),It("executeOnMove",!1),It("allowVertical",!0)],Vk=function(n,r){return r.focusManager.get(n).bind(function(i){return $c(i,r.selector)})},jv=function(n,r,i){return Vk(n,i).bind(function(s){return i.execute(n,r,s)})},Uk=function(n,r,i){r.getInitial(n).orThunk(function(){return Ru(n.element,r.selector)}).each(function(s){r.focusManager.set(n,s)})},qp=function(n,r,i){return Uv(n,i.selector,r,-1)},qv=function(n,r,i){return Uv(n,i.selector,r,1)},Wb=function(n){return function(r,i,s,d){return n(r,i,s,d).bind(function(){return s.executeOnMove?jv(r,i,s):S.some(!0)})}},Yb=function(n,r,i){return i.onEscape(n,r)},Jw=function(n,r,i,s){var d=Mv.concat(i.allowVertical?Wd:[]),g=Ml.concat(i.allowVertical?Yd:[]);return[oo(Jr(d),Wb(Hp(qp,qv))),oo(Jr(g),Wb(Lv(qp,qv))),oo(Jr(Qs),jv),oo(Jr(La),jv),oo(Jr(zv),Yb)]},Zw=st([oo(Jr(La),gg)]),jk=$d(hg,Xu.init,Jw,Zw,function(){return S.some(Uk)}),Zd=function(n,r,i){return S.from(n[r]).bind(function(s){return S.from(s[i]).map(function(d){return{rowIndex:r,columnIndex:i,cell:d}})})},Wp=function(n,r,i,s){var d=n[r],g=d.length,v=Dd(i,s,0,g-1);return Zd(n,r,v)},$b=function(n,r,i,s){var d=Dd(i,s,0,n.length-1),g=n[d].length,v=Es(r,0,g-1);return Zd(n,d,v)},Yp=function(n,r,i,s){var d=n[r],g=d.length,v=Es(i+s,0,g-1);return Zd(n,r,v)},Qw=function(n,r,i,s){var d=Es(i+s,0,n.length-1),g=n[d].length,v=Es(r,0,g-1);return Zd(n,d,v)},Xb=function(n,r,i){return Wp(n,r,i,1)},Wv=function(n,r,i){return Wp(n,r,i,-1)},tx=function(n,r,i){return $b(n,i,r,-1)},Gb=function(n,r,i){return $b(n,i,r,1)},nx=function(n,r,i){return Yp(n,r,i,-1)},Rl=function(n,r,i){return Yp(n,r,i,1)},qk=function(n,r,i){return Qw(n,i,r,-1)},Rf=function(n,r,i){return Qw(n,i,r,1)},Wk=[mc("selectors",[At("row"),At("cell")]),It("cycles",!0),It("previousSelector",S.none),It("execute",Lp)],ex=function(n,r,i){var s=r.previousSelector(n).orThunk(function(){var d=r.selectors;return Ru(n.element,d.cell)});s.each(function(d){r.focusManager.set(n,d)})},$p=function(n,r,i){return Ju(n.element).bind(function(s){return i.execute(n,r,s)})},Kb=function(n,r){return wt(n,function(i){return wa(i,r.selectors.cell)})},Yv=function(n,r){return function(i,s,d){var g=d.cycles?n:r;return $c(s,d.selectors.row).bind(function(v){var w=wa(v,d.selectors.cell);return Hb(w,s).bind(function(C){var E=wa(i,d.selectors.row);return Hb(E,v).bind(function(O){var _=Kb(E,d);return g(_,O,C).map(function(R){return R.cell})})})})}},rx=Yv(Wv,nx),Xp=Yv(Xb,Rl),Yk=Yv(tx,qk),Jb=Yv(Gb,Rf),$k=st([oo(Jr(Mv),Hp(rx,Xp)),oo(Jr(Ml),Lv(rx,Xp)),oo(Jr(Wd),Vp(Yk)),oo(Jr(Yd),Lb(Jb)),oo(Jr(La.concat(Qs)),$p)]),Xk=st([oo(Jr(La),gg)]),Gk=$d(Wk,Xu.init,$k,Xk,function(){return S.some(ex)}),ox=[At("selector"),It("execute",Lp),It("moveOnTab",!1)],vg=function(n,r,i){return i.focusManager.get(n).bind(function(s){return i.execute(n,r,s)})},ix=function(n,r,i){Ru(n.element,r.selector).each(function(s){r.focusManager.set(n,s)})},$v=function(n,r,i){return Uv(n,i.selector,r,-1)},Xv=function(n,r,i){return Uv(n,i.selector,r,1)},ux=function(n,r,i,s){return i.moveOnTab?Gd($v)(n,r,i,s):S.none()},ax=function(n,r,i,s){return i.moveOnTab?Gd(Xv)(n,r,i,s):S.none()},Kk=st([oo(Jr(Wd),Gd($v)),oo(Jr(Yd),Gd(Xv)),oo(zc([Nf,Jr(zl)]),ux),oo(zc([zf,Jr(zl)]),ax),oo(Jr(Qs),vg),oo(Jr(La),vg)]),Qd=st([oo(Jr(La),gg)]),Jk=$d(ox,Xu.init,Kk,Qd,function(){return S.some(ix)}),cx=[Io("onSpace"),Io("onEnter"),Io("onShiftEnter"),Io("onLeft"),Io("onRight"),Io("onTab"),Io("onShiftTab"),Io("onUp"),Io("onDown"),Io("onEscape"),It("stopSpaceKeyup",!1),Cr("focusIn")],Gv=function(n,r,i){return[oo(Jr(La),i.onSpace),oo(zc([zf,Jr(Qs)]),i.onEnter),oo(zc([Nf,Jr(Qs)]),i.onShiftEnter),oo(zc([Nf,Jr(zl)]),i.onShiftTab),oo(zc([zf,Jr(zl)]),i.onTab),oo(Jr(Wd),i.onUp),oo(Jr(Yd),i.onDown),oo(Jr(Mv),i.onLeft),oo(Jr(Ml),i.onRight),oo(Jr(La),i.onSpace),oo(Jr(zv),i.onEscape)]},Zk=function(n,r,i){return i.stopSpaceKeyup?[oo(Jr(La),gg)]:[]},sx=$d(cx,Xu.init,Gv,Zk,function(n){return n.focusIn}),Zb=Hw.schema(),lx=_k.schema(),Qb=jk.schema(),Qk=Hk.schema(),fx=Gk.schema(),dx=zk.schema(),Pf=Jk.schema(),ty=sx.schema(),tm=Object.freeze({__proto__:null,acyclic:Zb,cyclic:lx,flow:Qb,flatgrid:Qk,matrix:fx,execution:dx,menu:Pf,special:ty}),ny=function(n){return zo(n,"setGridSize")},vr=V1({branchKey:"mode",branches:tm,name:"keying",active:{events:function(n,r){var i=n.handler;return i.toEvents(n,r)}},apis:{focusIn:function(n,r,i){r.sendFocusIn(r).fold(function(){n.getSystem().triggerFocus(n.element,n.element)},function(s){s(n,r,i)})},setGridSize:function(n,r,i,s,d){ny(i)?i.setGridSize(s,d):console.error("Layout does not support setGridSize")}},state:pg}),es=function(n,r,i,s){M2(function(){var d=wt(s,n.getSystem().build);Fl(n,d)},n.element)},ey=function(n,r,i,s){var d=n.getSystem().build(s);pw(n,d,i)},ry=function(n,r,i,s){ey(n,r,_a,s)},oy=function(n,r,i,s){ey(n,r,Q0,s)},nm=function(n,r,i,s){var d=Kv(n),g=yt(d,function(v){return Ur(s.element,v.element)});g.each(kf)},Kv=function(n,r){return n.components()},mx=function(n,r,i,s,d){var g=Kv(n);return S.from(g[s]).map(function(v){return nm(n,r,i,v),d.each(function(w){ey(n,r,function(C,E){iS(C,E,s)},w)}),v})},t4=function(n,r,i,s,d){var g=Kv(n);return Nn(g,s).bind(function(v){return mx(n,r,i,v,d)})},iy=Object.freeze({__proto__:null,append:ry,prepend:oy,remove:nm,replaceAt:mx,replaceBy:t4,set:es,contents:Kv}),Mr=Pi({fields:[],name:"replacing",apis:iy}),n4=function(n,r){var i=po(r);return Pi({fields:[At("enabled")],name:n,active:{events:st(i)}})},Yr=function(n,r){var i=n4(n,r);return{key:n,value:{config:{},me:i,configAsRaw:st({}),initialConfig:{},state:Xu}}},Gp=function(n,r){r.ignore||(yf(n.element),r.onFocus(n))},e4=function(n,r){r.ignore||z2(n.element)},gx=function(n){return j1(n.element)},r4=Object.freeze({__proto__:null,focus:Gp,blur:e4,isFocused:gx}),o4=function(n,r){var i=r.ignore?{}:{attributes:{tabindex:"-1"}};return bs(i)},uy=function(n){return po([Fn(Ls(),function(r,i){Gp(r,n),i.stop()})].concat(n.stopMousedown?[Fn(wc(),function(r,i){i.event.prevent()})]:[]))},i4=Object.freeze({__proto__:null,exhibit:o4,events:uy}),u4=[to("onFocus"),It("stopMousedown",!1),It("ignore",!1)],Fr=Pi({fields:u4,name:"focusing",active:i4,apis:r4}),px=function(n){var r=function(){var i=re(n),s=function(){return i.get()},d=function(w){return i.set(w)},g=function(){return i.set(n)},v=function(){return i.get()};return{get:s,set:d,clear:g,readState:v}};return{init:r}},ay=function(n,r,i){var s=r.aria;s.update(n,s,i.get())},em=function(n,r,i){r.toggleClass.each(function(s){i.get()?Yo(n.element,s):jo(n.element,s)})},cy=function(n,r,i){m(n,r,i,!i.get())},a=function(n,r,i){i.set(!0),em(n,r,i),ay(n,r,i)},l=function(n,r,i){i.set(!1),em(n,r,i),ay(n,r,i)},m=function(n,r,i,s){var d=s?a:l;d(n,r,i)},h=function(n,r,i){return i.get()},x=function(n,r,i){m(n,r,i,r.selected)},k=Object.freeze({__proto__:null,onLoad:x,toggle:cy,isOn:h,on:a,off:l,set:m}),D=function(){return bs({})},j=function(n,r){var i=uv(n,r,cy),s=av(n,r,x);return po(be([n.toggleOnExecute?[i]:[],[s]]))},V=Object.freeze({__proto__:null,exhibit:D,events:j}),ct=function(n,r,i){ho(n.element,"aria-pressed",i),r.syncWithExpanded&&En(n,r,i)},kt=function(n,r,i){ho(n.element,"aria-selected",i)},Dn=function(n,r,i){ho(n.element,"aria-checked",i)},En=function(n,r,i){ho(n.element,"aria-expanded",i)},_n=[It("selected",!1),Cr("toggleClass"),It("toggleOnExecute",!0),Ti("aria",{mode:"none"},bu("mode",{pressed:[It("syncWithExpanded",!1),Ho("update",ct)],checked:[Ho("update",Dn)],expanded:[Ho("update",En)],selected:[Ho("update",kt)],none:[Ho("update",ft)]}))],Gt=Pi({fields:_n,name:"toggling",active:V,apis:k,state:px(!1)}),un=function(){var n=function(r,i){i.stop(),od(r)};return[Fn(Ps(),n),Fn(xc(),n),Hs(Yu()),Hs(wc())]},Bn=function(n){var r=function(i){return Cc(function(s,d){i(s),d.stop()})};return po(be([n.map(r).toArray(),un()]))},or="alloy.item-hover",no="alloy.item-focus",Dr=function(n){(Ju(n.element).isNone()||Fr.isFocused(n))&&(Fr.isFocused(n)||Fr.focus(n),Sr(n,or,{item:n}))},so=function(n){Sr(n,no,{item:n})},No=st(or),Qo=st(no),Lf=function(n){return{dom:n.dom,domModification:tt(tt({},n.domModification),{attributes:tt(tt(tt({role:n.toggling.isSome()?"menuitemcheckbox":"menuitem"},n.domModification.attributes),{"aria-haspopup":n.hasSubmenu}),n.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:Ca.augment(n.itemBehaviours,[n.toggling.fold(Gt.revoke,function(r){return Gt.config(tt({aria:{mode:"checked"}},r))}),Fr.config({ignore:n.ignoreFocus,stopMousedown:n.ignoreFocus,onFocus:function(r){so(r)}}),vr.config({mode:"execution"}),xe.config({store:{mode:"memory",initialValue:n.data}}),Yr("item-type-events",Y(un(),[Fn(yl(),Dr),Fn(Wg(),Fr.focus)]))]),components:n.components,eventOrder:n.eventOrder}},bg=[At("data"),At("components"),At("dom"),It("hasSubmenu",!1),Cr("toggling"),Ca.field("itemBehaviours",[Gt,Fr,vr,xe]),It("ignoreFocus",!1),It("domModification",{}),Ho("builder",Lf),It("eventOrder",{})],Pl=function(n){return{dom:n.dom,components:n.components,events:po([Ka(Wg())])}},vo=[At("dom"),At("components"),Ho("builder",Pl)],Cu=st("item-widget"),Su=st([Iu({name:"widget",overrides:function(n){return{behaviours:Un([xe.config({store:{mode:"manual",getValue:function(r){return n.data},setValue:ft}})])}}})]),ac=function(n){var r=Sb(Cu(),n,Su()),i=_v(Cu(),n,r.internals()),s=function(g){return Lo(g,n,"widget").map(function(v){return vr.focusIn(v),v})},d=function(g,v){return fg(v.event.target)?S.none():function(){return n.autofocus&&v.setSource(g.element),S.none()}()};return{dom:n.dom,components:i,domModification:n.domModification,events:po([Cc(function(g,v){s(g).each(function(w){v.stop()})}),Fn(yl(),Dr),Fn(Wg(),function(g,v){n.autofocus?s(g):Fr.focus(g)})]),behaviours:Ca.augment(n.widgetBehaviours,[xe.config({store:{mode:"memory",initialValue:n.data}}),Fr.config({ignore:n.ignoreFocus,onFocus:function(g){so(g)}}),vr.config({mode:"special",focusIn:n.autofocus?function(g){s(g)}:Ad(),onLeft:d,onRight:d,onEscape:function(g,v){return!Fr.isFocused(g)&&!n.autofocus?(Fr.focus(g),S.some(!0)):(n.autofocus&&v.setSource(g.element),S.none())}})])}},ti=[At("uid"),At("data"),At("components"),At("dom"),It("autofocus",!1),It("ignoreFocus",!1),Ca.field("widgetBehaviours",[xe,Fr,vr]),It("domModification",{}),Ud(Su()),Ho("builder",ac)],mu=bu("type",{widget:ti,item:bg,separator:vo}),gu=function(n,r){return{mode:"flatgrid",selector:"."+n.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:n.focusManager}},Fs=function(n,r){return{mode:"matrix",selectors:{row:r.rowSelector,cell:"."+n.markers.item},focusManager:n.focusManager}},rm=function(n,r){return{mode:"menu",selector:"."+n.markers.item,moveOnTab:r.moveOnTab,focusManager:n.focusManager}},om=st([cg({factory:{sketch:function(n){var r=ji("menu.spec item",mu,n);return r.builder(r)}},name:"items",unit:"item",defaults:function(n,r){return r.hasOwnProperty("uid")?r:tt(tt({},r),{uid:vs("item")})},overrides:function(n,r){return{type:r.type,ignoreFocus:n.fakeFocus,domModification:{classes:[n.markers.item]}}}})]),Jv=st([At("value"),At("items"),At("dom"),At("components"),It("eventOrder",{}),tu("menuBehaviours",[Be,xe,mo,vr]),Ti("movement",{mode:"menu",moveOnTab:!0},bu("mode",{grid:[O1(),Ho("config",gu)],matrix:[Ho("config",Fs),At("rowSelector")],menu:[It("moveOnTab",!0),Ho("config",rm)]})),Vm(),It("fakeFocus",!1),It("focusManager",Mf()),to("onHighlight")]),sy=st("alloy.menu-focus"),hx=function(n,r,i,s){return{uid:n.uid,dom:n.dom,markers:n.markers,behaviours:Li(n.menuBehaviours,[Be.config({highlightClass:n.markers.selectedItem,itemClass:n.markers.item,onHighlight:n.onHighlight}),xe.config({store:{mode:"memory",initialValue:n.value}}),mo.config({find:S.some}),vr.config(n.movement.config(n,n.movement))]),events:po([Fn(Qo(),function(d,g){var v=g.event;d.getSystem().getByDom(v.target).each(function(w){Be.highlight(d,w),g.stop(),Sr(d,sy(),{menu:d,item:w})})}),Fn(No(),function(d,g){var v=g.event.item;Be.highlight(d,v)})]),components:r,eventOrder:n.eventOrder,domModification:{attributes:{role:"menu"}}}},Ll=Vu({name:"Menu",configFields:Jv(),partFields:om(),factory:hx}),a4=function(n){return $o(n,function(r,i){return{k:r,v:i}})},Zv=function(n,r,i,s){return cr(i,s).bind(function(d){return cr(n,d).bind(function(g){var v=Zv(n,r,i,g);return S.some([g].concat(v))})}).getOr([])},ly=function(n,r){var i={};zr(n,function(v,w){tn(v,function(C){i[C]=w})});var s=r,d=a4(r),g=Er(d,function(v,w){return[w].concat(Zv(i,s,d,w))});return Er(i,function(v){return cr(g,v).getOr([v])})},Kp=function(){var n=re({}),r=re({}),i=re({}),s=re(S.none()),d=re({}),g=function(){n.set({}),r.set({}),i.set({}),s.set(S.none())},v=function(){return s.get().isNone()},w=function(xn,Mn){var vn;r.set(tt(tt({},r.get()),(vn={},vn[xn]={type:"prepared",menu:Mn},vn)))},C=function(xn,Mn,vn,ge){s.set(S.some(xn)),n.set(vn),r.set(Mn),d.set(ge);var Ar=ly(ge,vn);i.set(Ar)},E=function(xn){return hi(n.get(),function(Mn,vn){return Mn===xn})},O=function(xn,Mn,vn){return et(xn).bind(function(ge){return E(xn).bind(function(Ar){return Mn(Ar).map(function(Oe){return{triggeredMenu:ge,triggeringItem:Oe,triggeringPath:vn}})})})},_=function(xn,Mn){var vn=gt(ut(xn).toArray(),function(ge){return et(ge).isSome()});return cr(i.get(),xn).bind(function(ge){var Ar=ze(vn.concat(ge)),Oe=An(Ar,function(Sn,Rn){return O(Sn,Mn,Ar.slice(0,Rn+1)).fold(function(){return s.get().is(Sn)?[]:[S.none()]},function(qe){return[S.some(qe)]})});return Ob(Oe)})},R=function(xn){return cr(n.get(),xn).map(function(Mn){var vn=cr(i.get(),xn).getOr([]);return[Mn].concat(vn)})},G=function(xn){return cr(i.get(),xn).bind(function(Mn){return Mn.length>1?S.some(Mn.slice(1)):S.none()})},ot=function(xn){return cr(i.get(),xn)},et=function(xn){return bt(xn).bind(Jp)},bt=function(xn){return cr(r.get(),xn)},ut=function(xn){return cr(n.get(),xn)},Dt=function(xn){var Mn=d.get();return Zr(lr(Mn),xn)},Lt=function(){return s.get().bind(et)},Yt=function(){return r.get()};return{setMenuBuilt:w,setContents:C,expand:R,refresh:ot,collapse:G,lookupMenu:bt,lookupItem:ut,otherMenus:Dt,getPrimary:Lt,getMenus:Yt,clear:g,isClear:v,getTriggeringPath:_}},Jp=function(n){return n.type==="prepared"?S.some(n.menu):S.none()},Qv={init:Kp,extractPreparedMenu:Jp},vx=function(n,r){var i=re(S.none()),s=function(Jn,er,hr){return Er(hr,function(go,qo){var Ei=function(){return Ll.sketch(tt(tt({},go),{value:qo,markers:n.markers,fakeFocus:n.fakeFocus,onHighlight:n.onHighlight,focusManager:n.fakeFocus?mg():Mf()}))};return qo===er?{type:"prepared",menu:Jn.getSystem().build(Ei())}:{type:"notbuilt",nbMenu:Ei}})},d=Qv.init(),g=function(Jn){var er=s(Jn,n.data.primary,n.data.menus),hr=C();return d.setContents(n.data.primary,er,n.data.expansions,hr),d.getPrimary()},v=function(Jn){return xe.getValue(Jn).value},w=function(Jn,er,hr){return Qn(er,function(go){if(!go.getSystem().isConnected())return S.none();var qo=Be.getCandidates(go);return yt(qo,function(Ei){return v(Ei)===hr})})},C=function(Jn){return Er(n.data.menus,function(er,hr){return An(er.items,function(go){return go.type==="separator"?[]:[go.data.value]})})},E=function(Jn,er){Be.highlight(Jn,er),Be.getHighlighted(er).orThunk(function(){return Be.getFirst(er)}).each(function(hr){Xg(Jn,hr.element,Wg())})},O=function(Jn,er){return Bf(wt(er,function(hr){return Jn.lookupMenu(hr).bind(function(go){return go.type==="prepared"?S.some(go.menu):S.none()})}))},_=function(Jn,er,hr){var go=O(er,er.otherMenus(hr));tn(go,function(qo){pi(qo.element,[n.markers.backgroundMenu]),n.stayInDom||Mr.remove(Jn,qo)})},R=function(Jn){return i.get().getOrThunk(function(){var er={},hr=wa(Jn.element,"."+n.markers.item),go=gt(hr,function(qo){return wu(qo,"aria-haspopup")==="true"});return tn(go,function(qo){Jn.getSystem().getByDom(qo).each(function(Ei){var $l=v(Ei);er[$l]=Ei})}),i.set(S.some(er)),er})},G=function(Jn,er){var hr=R(Jn);zr(hr,function(go,qo){var Ei=Ft(er,qo);ho(go.element,"aria-expanded",Ei)})},ot=function(Jn,er,hr){return S.from(hr[0]).bind(function(go){return er.lookupMenu(go).bind(function(qo){if(qo.type==="notbuilt")return S.none();var Ei=qo.menu,$l=O(er,hr.slice(1));return tn($l,function(fl){Yo(fl.element,n.markers.backgroundMenu)}),ws(Ei.element)||Mr.append(Jn,Nu(Ei)),pi(Ei.element,[n.markers.backgroundMenu]),E(Jn,Ei),_(Jn,er,hr),S.some(Ei)})})},et;(function(Jn){Jn[Jn.HighlightSubmenu=0]="HighlightSubmenu",Jn[Jn.HighlightParent=1]="HighlightParent"})(et||(et={}));var bt=function(Jn,er,hr){if(hr.type==="notbuilt"){var go=Jn.getSystem().build(hr.nbMenu());return d.setMenuBuilt(er,go),go}else return hr.menu},ut=function(Jn,er,hr){hr===void 0&&(hr=et.HighlightSubmenu);var go=v(er);return d.expand(go).bind(function(qo){return G(Jn,qo),S.from(qo[0]).bind(function(Ei){return d.lookupMenu(Ei).bind(function($l){var fl=bt(Jn,Ei,$l);return ws(fl.element)||Mr.append(Jn,Nu(fl)),n.onOpenSubmenu(Jn,er,fl,ze(qo)),hr===et.HighlightSubmenu?(Be.highlightFirst(fl),ot(Jn,d,qo)):(Be.dehighlightAll(fl),S.some(er))})})})},Dt=function(Jn,er){var hr=v(er);return d.collapse(hr).bind(function(go){return G(Jn,go),ot(Jn,d,go).map(function(qo){return n.onCollapseMenu(Jn,er,qo),qo})})},Lt=function(Jn,er){var hr=v(er);return d.refresh(hr).bind(function(go){return G(Jn,go),ot(Jn,d,go)})},Yt=function(Jn,er){return fg(er.element)?S.none():ut(Jn,er,et.HighlightSubmenu)},xn=function(Jn,er){return fg(er.element)?S.none():Dt(Jn,er)},Mn=function(Jn,er){return Dt(Jn,er).orThunk(function(){return n.onEscape(Jn,er).map(function(){return Jn})})},vn=function(Jn){return function(er,hr){return $c(hr.getSource(),"."+n.markers.item).bind(function(go){return er.getSystem().getByDom(go).toOptional().bind(function(qo){return Jn(er,qo).map(Zt)})})}},ge=po([Fn(sy(),function(Jn,er){var hr=er.event.item;d.lookupItem(v(hr)).each(function(){var go=er.event.menu;Be.highlight(Jn,go);var qo=v(er.event.item);d.refresh(qo).each(function(Ei){return _(Jn,d,Ei)})})}),Cc(function(Jn,er){var hr=er.event.target;Jn.getSystem().getByDom(hr).each(function(go){var qo=v(go);qo.indexOf("collapse-item")===0&&Dt(Jn,go),ut(Jn,go,et.HighlightSubmenu).fold(function(){n.onExecute(Jn,go)},ft)})}),si(function(Jn,er){g(Jn).each(function(hr){Mr.append(Jn,Nu(hr)),n.onOpenMenu(Jn,hr),n.highlightImmediately&&E(Jn,hr)})})].concat(n.navigateOnHover?[Fn(No(),function(Jn,er){var hr=er.event.item;Lt(Jn,hr),ut(Jn,hr,et.HighlightParent),n.onHover(Jn,hr)})]:[])),Ar=function(Jn){return Be.getHighlighted(Jn).bind(Be.getHighlighted)},Oe=function(Jn){Ar(Jn).each(function(er){Dt(Jn,er)})},Sn=function(Jn){d.getPrimary().each(function(er){E(Jn,er)})},Rn=function(Jn){return S.from(Jn.components()[0]).filter(function(er){return wu(er.element,"role")==="menu"})},qe=function(Jn){var er=d.getPrimary().bind(function(hr){return Ar(Jn).bind(function(go){var qo=v(go),Ei=ii(d.getMenus()),$l=Bf(wt(Ei,Qv.extractPreparedMenu));return d.getTriggeringPath(qo,function(fl){return w(Jn,$l,fl)})}).map(function(go){return{primary:hr,triggeringPath:go}})});er.fold(function(){Rn(Jn).each(function(hr){n.onRepositionMenu(Jn,hr,[])})},function(hr){var go=hr.primary,qo=hr.triggeringPath;n.onRepositionMenu(Jn,go,qo)})},kr={collapseMenu:Oe,highlightPrimary:Sn,repositionMenus:qe};return{uid:n.uid,dom:n.dom,markers:n.markers,behaviours:Li(n.tmenuBehaviours,[vr.config({mode:"special",onRight:vn(Yt),onLeft:vn(xn),onEscape:vn(Mn),focusIn:function(Jn,er){d.getPrimary().each(function(hr){Xg(Jn,hr.element,Wg())})}}),Be.config({highlightClass:n.markers.selectedMenu,itemClass:n.markers.menu}),mo.config({find:function(Jn){return Be.getHighlighted(Jn)}}),Mr.config({})]),eventOrder:n.eventOrder,apis:kr,events:ge}},C5=st("collapse-item"),bx=function(n,r,i){return{primary:n,menus:r,expansions:i}},sA=function(n,r){return{primary:n,menus:P(n,r),expansions:{}}},lA=function(n){return{value:tr(C5()),meta:{text:n}}},Zp=uc({name:"TieredMenu",configFields:[T1("onExecute"),T1("onEscape"),Sd("onOpenMenu"),Sd("onOpenSubmenu"),to("onRepositionMenu"),to("onCollapseMenu"),It("highlightImmediately",!0),mc("data",[At("primary"),At("menus"),At("expansions")]),It("fakeFocus",!1),to("onHighlight"),to("onHover"),Ol(),At("dom"),It("navigateOnHover",!0),It("stayInDom",!1),tu("tmenuBehaviours",[vr,Be,mo,Mr]),It("eventOrder",{})],apis:{collapseMenu:function(n,r){n.collapseMenu(r)},highlightPrimary:function(n,r){n.highlightPrimary(r)},repositionMenus:function(n,r){n.repositionMenus(r)}},factory:vx,extraApis:{tieredData:bx,singleData:sA,collapseItem:lA}}),S5=function(n,r,i,s,d){var g=function(){return n.lazySink(r)},v=s.type==="horizontal"?{layouts:{onLtr:function(){return L1()},onRtl:function(){return I1()}}}:{},w=function(E){return E.length===2},C=function(E){return w(E)?v:{}};return Zp.sketch({dom:{tag:"div"},data:s.data,markers:s.menu.markers,highlightImmediately:s.menu.highlightImmediately,onEscape:function(){return Wr.close(r),n.onEscape.map(function(E){return E(r)}),S.some(!0)},onExecute:function(){return S.some(!0)},onOpenMenu:function(E,O){Zu.positionWithinBounds(g().getOrDie(),i,O,d())},onOpenSubmenu:function(E,O,_,R){var G=g().getOrDie();Zu.position(G,tt({anchor:"submenu",item:O},C(R)),_)},onRepositionMenu:function(E,O,_){var R=g().getOrDie();Zu.positionWithinBounds(R,i,O,d()),tn(_,function(G){var ot=C(G.triggeringPath);Zu.position(R,tt({anchor:"submenu",item:G.triggeringItem},ot),G.triggeredMenu)})}})},k5=function(n,r){var i=function(G,ot){var et=n.getRelated(G);return et.exists(function(bt){return Us(bt,ot)})},s=function(G,ot){Wr.setContent(G,ot)},d=function(G,ot,et){g(G,ot,et,S.none())},g=function(G,ot,et,bt){v(G,ot,et,function(){return bt.map(function(ut){return rc(ut)})})},v=function(G,ot,et,bt){var ut=n.lazySink(G).getOrDie();Wr.openWhileCloaked(G,et,function(){return Zu.positionWithinBounds(ut,ot,G,bt())}),xe.setValue(G,S.some({mode:"position",anchor:ot,getBounds:bt}))},w=function(G,ot,et){C(G,ot,et,function(){return S.none()})},C=function(G,ot,et,bt){var ut=S5(n,G,ot,et,bt);Wr.open(G,ut),xe.setValue(G,S.some({mode:"menu",menu:ut}))},E=function(G){Wr.isOpen(G)&&(xe.setValue(G,S.none()),Wr.close(G))},O=function(G){return Wr.getState(G)},_=function(G){Wr.isOpen(G)&&xe.getValue(G).each(function(ot){switch(ot.mode){case"menu":Wr.getState(G).each(function(bt){Zp.repositionMenus(bt)});break;case"position":var et=n.lazySink(G).getOrDie();Zu.positionWithinBounds(et,ot.anchor,G,ot.getBounds());break}})},R={setContent:s,showAt:d,showWithin:g,showWithinBounds:v,showMenuAt:w,showMenuWithinBounds:C,hide:E,getContent:O,reposition:_,isOpen:Wr.isOpen};return{uid:n.uid,dom:n.dom,behaviours:Li(n.inlineBehaviours,[Wr.config({isPartOf:function(G,ot,et){return Us(ot,et)||i(G,et)},getAttachPoint:function(G){return n.lazySink(G).getOrDie()},onOpen:function(G){n.onShow(G)},onClose:function(G){n.onHide(G)}}),xe.config({store:{mode:"memory",initialValue:S.none()}}),Lu.config({channels:tt(tt({},Of(tt({isExtraPart:r.isExtraPart},n.fireDismissalEventInstead.map(function(G){return{fireEventInstead:{event:G.event}}}).getOr({})))),wv(tt(tt({},n.fireRepositionEventInstead.map(function(G){return{fireEventInstead:{event:G.event}}}).getOr({})),{doReposition:_})))})]),eventOrder:n.eventOrder,apis:R}},Si=uc({name:"InlineView",configFields:[At("lazySink"),to("onShow"),to("onHide"),Mo("onEscape"),tu("inlineBehaviours",[Wr,xe,Lu]),Gi("fireDismissalEventInstead",[It("event",Ri())]),Gi("fireRepositionEventInstead",[It("event",Fh())]),It("getRelated",S.none),It("isExtraPart",yn),It("eventOrder",S.none)],factory:k5,apis:{showAt:function(n,r,i,s){n.showAt(r,i,s)},showWithin:function(n,r,i,s,d){n.showWithin(r,i,s,d)},showWithinBounds:function(n,r,i,s,d){n.showWithinBounds(r,i,s,d)},showMenuAt:function(n,r,i,s){n.showMenuAt(r,i,s)},showMenuWithinBounds:function(n,r,i,s,d){n.showMenuWithinBounds(r,i,s,d)},hide:function(n,r){n.hide(r)},isOpen:function(n,r){return n.isOpen(r)},getContent:function(n,r){return n.getContent(r)},setContent:function(n,r,i){n.setContent(r,i)},reposition:function(n,r){n.reposition(r)}}}),fA=function(n){return n.x},dA=function(n,r){return n.x+n.width/2-r.width/2},c4=function(n,r){return n.x+n.width-r.width},s4=function(n){return n.y},yx=function(n,r){return n.y+n.height-r.height},im=function(n,r,i){return Gu(c4(n,r),yx(n,r),i.innerSoutheast(),ba(),su(n,{right:0,bottom:3}),"layout-inner-se")},yg=function(n,r,i){return Gu(fA(n),yx(n,r),i.innerSouthwest(),Fc(),su(n,{left:1,bottom:3}),"layout-inner-sw")},um=function(n,r,i){return Gu(c4(n,r),s4(n),i.innerNortheast(),D1(),su(n,{right:0,top:2}),"layout-inner-ne")},Qp=function(n,r,i){return Gu(fA(n),s4(n),i.innerNorthwest(),ev(),su(n,{left:1,top:2}),"layout-inner-nw")},am=function(n,r,i){return Gu(dA(n,r),s4(n),i.innerNorth(),rv(),su(n,{top:2}),"layout-inner-n")},th=function(n,r,i){return Gu(dA(n,r),yx(n,r),i.innerSouth(),_1(),su(n,{bottom:3}),"layout-inner-s")},If=tinymce.util.Tools.resolve("tinymce.util.Delay"),mA=function(n){var r=Bn(n.action),i=n.dom.tag,s=function(g){return cr(n.dom,"attributes").bind(function(v){return cr(v,g)})},d=function(){if(i==="button"){var g=s("type").getOr("button"),v=s("role").map(function(C){return{role:C}}).getOr({});return tt({type:g},v)}else{var w=s("role").getOr("button");return{role:w}}};return{uid:n.uid,dom:n.dom,components:n.components,events:r,behaviours:Ca.augment(n.buttonBehaviours,[Fr.config({}),vr.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:d()},eventOrder:n.eventOrder}},Sa=uc({name:"Button",factory:mA,configFields:[It("uid",void 0),At("dom"),It("components",[]),Ca.field("buttonBehaviours",[Fr,vr]),Cr("action"),Cr("role"),It("eventOrder",{})]}),_o=function(n){var r=Nl(n)&&zo(n,"uid")?n.uid:vs("memento"),i=function(g){return g.getSystem().getByUid(r).getOrDie()},s=function(g){return g.getSystem().getByUid(r).toOptional()},d=function(){return tt(tt({},n),{uid:r})};return{get:i,getOpt:s,asSpec:d}},l4=function(n){return S.from(n()["temporary-placeholder"]).getOr("!not found!")},cc=function(n,r){return S.from(r()[n.toLowerCase()]).getOrThunk(function(){return l4(r)})},E5=function(n,r,i){return S.from(r()[n.toLowerCase()]).or(i).getOrThunk(function(){return l4(r)})},A5=function(n,r){return Qn(n,function(i){return S.from(r()[i.toLowerCase()])}).getOrThunk(function(){return l4(r)})},T5={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},gA=function(n){var r=_o({dom:{tag:"p",innerHtml:n.translationProvider(n.text)},behaviours:Un([Mr.config({})])}),i=function(_){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+_+"%"}}}},s=function(_){return{dom:{tag:"div",classes:["tox-text"],innerHtml:_+"%"}}},d=_o({dom:{tag:"div",classes:n.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(0)]},s(0)],behaviours:Un([Mr.config({})])}),g=function(_,R){_.getSystem().isConnected()&&d.getOpt(_).each(function(G){Mr.set(G,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[i(R)]},s(R)])})},v=function(_,R){if(_.getSystem().isConnected()){var G=r.get(_);Mr.set(G,[mf(R)])}},w={updateProgress:g,updateText:v},C=be([n.icon.toArray(),n.level.toArray(),n.level.bind(function(_){return S.from(T5[_])}).toArray()]),E=_o(Sa.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:cc("close",n.iconProvider),attributes:{"aria-label":n.translationProvider("Close")}}}],action:function(_){n.onAction(_)}})),O=[{dom:{tag:"div",classes:["tox-notification__icon"],innerHtml:A5(C,n.iconProvider)}},{dom:{tag:"div",classes:["tox-notification__body"]},components:[r.asSpec()],behaviours:Un([Mr.config({})])}];return{uid:n.uid,dom:{tag:"div",attributes:{role:"alert"},classes:n.level.map(function(_){return["tox-notification","tox-notification--in","tox-notification--"+_]}).getOr(["tox-notification","tox-notification--in"])},behaviours:Un([Fr.config({}),Yr("notification-events",[Fn(wl(),function(_){E.getOpt(_).each(Fr.focus)})])]),components:O.concat(n.progress?[d.asSpec()]:[]).concat(n.closeButton?[E.asSpec()]:[]),apis:w}},f4=uc({name:"Notification",factory:gA,configFields:[Cr("level"),At("progress"),At("icon"),At("onAction"),At("text"),At("iconProvider"),At("translationProvider"),fo("closeButton",!0)],apis:{updateProgress:function(n,r,i){n.updateProgress(r,i)},updateText:function(n,r,i){n.updateText(r,i)}}});function O5(n,r,i){var s=r.backstage,d=function(_){switch(_){case"bc-bc":return th;case"tc-tc":return am;case"tc-bc":return za;case"bc-tc":default:return Pu}},g=function(_){tn(_,function(R){return R.moveTo(0,0)})},v=function(_){_.length>0&&(Cn(_).each(function(R){return R.moveRel(null,"banner")}),tn(_,function(R,G){G>0&&R.moveRel(_[G-1].getEl(),"bc-tc")}))},w=function(_){g(_),v(_)},C=function(_,R){var G=!_.closeButton&&_.timeout&&(_.timeout>0||_.timeout<0),ot=function(){R(),Si.hide(bt)},et=ua(f4.sketch({text:_.text,level:Ft(["success","error","warning","warn","info"],_.type)?_.type:void 0,progress:_.progressBar===!0,icon:S.from(_.icon),closeButton:!G,onAction:ot,iconProvider:s.shared.providers.icons,translationProvider:s.shared.providers.translate})),bt=ua(Si.sketch(tt({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:r.backstage.shared.getSink,fireDismissalEventInstead:{}},s.shared.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));return i.add(bt),_.timeout>0&&If.setTimeout(function(){ot()},_.timeout),{close:ot,moveTo:function(ut,Dt){Si.showAt(bt,{anchor:"makeshift",x:ut,y:Dt},Nu(et))},moveRel:function(ut,Dt){if(Dt!=="banner"){var Lt=d(Dt),Yt={anchor:"node",root:Tc(),node:S.some(Fe.fromDom(ut)),layouts:{onRtl:function(){return[Lt]},onLtr:function(){return[Lt]}}};Si.showAt(bt,Yt,Nu(et))}else Si.showAt(bt,r.backstage.shared.anchors.banner(),Nu(et))},text:function(ut){f4.updateText(et,ut)},settings:_,getEl:function(){return et.element.dom},progressBar:{value:function(ut){f4.updateProgress(et,ut)}}}},E=function(_){_.close()},O=function(_){return _.settings};return{open:C,close:E,reposition:w,getArgs:O}}var D5=function(n,r){var i=null,s=function(){i!==null&&(clearTimeout(i),i=null)},d=function(){for(var g=[],v=0;v<arguments.length;v++)g[v]=arguments[v];i===null&&(i=setTimeout(function(){n.apply(null,g),i=null},r))};return{cancel:s,throttle:d}},pA=function(n,r){var i=null,s=function(){i!==null&&(clearTimeout(i),i=null)},d=function(){for(var g=[],v=0;v<arguments.length;v++)g[v]=arguments[v];i!==null&&clearTimeout(i),i=setTimeout(function(){n.apply(null,g),i=null},r)};return{cancel:s,throttle:d}},_5=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),nh=function(n,r){return n.isBlock(r)||Ft(["BR","IMG","HR","INPUT"],r.nodeName)||n.getContentEditable(r)==="false"},t0=function(n,r,i,s,d){var g=_5(n,function(v){return nh(n,v)});return S.from(g.backwards(r,i,s,d))},F5="[data-mce-autocompleter]",d4=function(n,r){return wx(Fe.fromDom(n.selection.getNode())).getOrThunk(function(){var i=Fe.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',n.getDoc());return _a(i,Fe.fromDom(r.extractContents())),r.insertNode(i.dom),yu(i).each(function(s){return s.dom.normalize()}),YS(i).map(function(s){n.selection.setCursorLocation(s.dom,wp(s))}),i})},wx=function(n){return $c(n,F5)},xx=function(n){return n.collapsed&&n.startContainer.nodeType===3},n0=function(n){return n.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},m4=function(n){return n!==""&&` \xA0\f
\r	\v`.indexOf(n)!==-1},fy=function(n,r){return n.substring(r.length)},B5=function(n,r,i){var s;for(s=r-1;s>=0;s--){var d=n.charAt(s);if(m4(d))return S.none();if(d===i)break}return S.some(s)},Cx=function(n,r,i,s){if(s===void 0&&(s=0),!xx(r))return S.none();var d=function(v,w,C){return B5(C,w,i).getOr(w)},g=n.getParent(r.startContainer,n.isBlock)||n.getRoot();return t0(n,r.startContainer,r.startOffset,d,g).bind(function(v){var w=r.cloneRange();if(w.setStart(v.container,v.offset),w.setEnd(r.endContainer,r.endOffset),w.collapsed)return S.none();var C=n0(w),E=C.lastIndexOf(i);return E!==0||fy(C,i).length<s?S.none():S.some({text:fy(C,i),range:w,triggerChar:i})})},g4=function(n,r,i,s){return s===void 0&&(s=0),wx(Fe.fromDom(r.startContainer)).fold(function(){return Cx(n,r,i,s)},function(d){var g=n.createRng();g.selectNode(d.dom);var v=n0(g);return S.some({range:g,text:fy(v,i),triggerChar:i})})},N5=function(n,r){r.on("keypress compositionend",n.onKeypress.throttle),r.on("remove",n.onKeypress.cancel);var i=function(s,d){Sr(s,Om(),{raw:d})};r.on("keydown",function(s){var d=function(){return n.getView().bind(Be.getHighlighted)};s.which===8&&n.onKeypress.throttle(s),n.isActive()&&(s.which===27&&n.cancelIfNecessary(),n.isMenuOpen()?s.which===13?(d().each(od),s.preventDefault()):s.which===40?(d().fold(function(){n.getView().each(Be.highlightFirst)},function(g){i(g,s)}),s.preventDefault(),s.stopImmediatePropagation()):(s.which===37||s.which===38||s.which===39)&&d().each(function(g){i(g,s),s.preventDefault(),s.stopImmediatePropagation()}):(s.which===13||s.which===38||s.which===40)&&n.cancelIfNecessary())}),r.on("NodeChange",function(s){n.isActive()&&!n.isProcessingAction()&&wx(Fe.fromDom(s.element)).isNone()&&n.cancelIfNecessary()})},z5={setup:N5},e0=tinymce.util.Tools.resolve("tinymce.util.Promise"),p4=function(n,r){return{container:n,offset:r}},M5=function(n){return n.nodeType===In},hA=function(n){return n.nodeType===Vt},vA=function(n){if(M5(n))return p4(n,n.data.length);var r=n.childNodes;return r.length>0?vA(r[r.length-1]):p4(n,r.length)},bA=function(n,r){var i=n.childNodes;return i.length>0&&r<i.length?bA(i[r],0):i.length>0&&hA(n)&&i.length===r?vA(i[i.length-1]):p4(n,r)},R5=function(n,r){return t0(n,r.container,r.offset,function(i,s){return s===0?-1:s},n.getRoot()).filter(function(i){var s=i.container.data.charAt(i.offset-1);return!m4(s)}).isSome()},P5=function(n){return function(r){var i=bA(r.startContainer,r.startOffset);return!R5(n,i)}},yA=function(n,r,i){return Qn(i.triggerChars,function(s){return g4(n,r,s)})},wA=function(n,r){var i=r(),s=n.selection.getRng();return yA(n.dom,s,i).bind(function(d){return h4(n,r,d)})},h4=function(n,r,i,s){s===void 0&&(s={});var d=r(),g=n.selection.getRng(),v=g.startContainer.nodeValue,w=gt(d.lookupByChar(i.triggerChar),function(E){return i.text.length>=E.minChars&&E.matches.getOrThunk(function(){return P5(n.dom)})(i.range,v,i.text)});if(w.length===0)return S.none();var C=e0.all(wt(w,function(E){var O=E.fetch(i.text,E.maxResults,s);return O.then(function(_){return{matchText:i.text,items:_,columns:E.columns,onAction:E.onAction,highlightOn:E.highlightOn}})}));return S.some({lookupData:C,context:i})},xA=Nt([rr("type"),uo("text")]),L5=function(n){return Bo("separatormenuitem",xA,n)},I5=Nt([It("type","autocompleteitem"),It("active",!1),It("disabled",!1),It("meta",{}),rr("value"),uo("text"),uo("icon")]),H5=Nt([rr("type"),rr("ch"),fs("minChars",1),It("columns",1),fs("maxResults",10),Mo("matches"),Ai("fetch"),Ai("onAction"),iu("highlightOn",[],bi)]),V5=function(n){return Bo("Autocompleter.Separator",xA,n)},CA=function(n){return Bo("Autocompleter.Item",I5,n)},v4=function(n){return Bo("Autocompleter",H5,n)},dy=[fo("disabled",!1),uo("tooltip"),uo("icon"),uo("text"),ri("onSetup",function(){return ft})],Sx=Nt([rr("type"),Ai("onAction")].concat(dy)),SA=function(n){return Bo("toolbarbutton",Sx,n)},b4=[fo("active",!1)].concat(dy),U5=Nt(b4.concat([rr("type"),Ai("onAction")])),kA=function(n){return Bo("ToggleButton",U5,n)},EA=[ri("predicate",yn),Aa("scope","node",["node","editor"]),Aa("position","selection",["node","selection","line"])],j5=dy.concat([It("type","contextformbutton"),It("primary",!1),Ai("onAction"),xi("original",Xt)]),AA=b4.concat([It("type","contextformbutton"),It("primary",!1),Ai("onAction"),xi("original",Xt)]),q5=dy.concat([It("type","contextformbutton")]),W5=b4.concat([It("type","contextformtogglebutton")]),kx=bu("type",{contextformbutton:j5,contextformtogglebutton:AA}),Y5=Nt([It("type","contextform"),ri("initValue",function(){return""}),uo("label"),ma("commands",kx),ou("launch",bu("type",{contextformbutton:q5,contextformtogglebutton:W5}))].concat(EA)),$5=function(n){return Bo("ContextForm",Y5,n)},y4=Nt([It("type","contexttoolbar"),rr("items")].concat(EA)),X5=function(n){return Bo("ContextToolbar",y4,n)},G5=function(n){var r={};return tn(n,function(i){r[i]={}}),lr(r)},K5=function(n){var r=n.ui.registry.getAll().popups,i=Er(r,function(v){return v4(v).fold(function(w){throw new Error(dc(w))},function(w){return w})}),s=G5(Oo(i,function(v){return v.ch})),d=ii(i),g=function(v){return gt(d,function(w){return w.ch===v})};return{dataset:i,triggerChars:s,lookupByChar:g}},w4;(function(n){n[n.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",n[n.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})(w4||(w4={}));var Il=w4,x4="tox-menu-nav__js",C4="tox-collection__item",S4="tox-swatch",J5={normal:x4,color:S4},TA="tox-collection__item--enabled",Z5="tox-collection__group-heading",Q5="tox-collection__item-icon",my="tox-collection__item-label",t6="tox-collection__item-accessory",OA="tox-collection__item-caret",n6="tox-collection__item-checkmark",r0="tox-collection__item--active",e6="tox-collection__item-icon-rtl",DA="tox-collection__item-container",r6="tox-collection__item-container--column",_A="tox-collection__item-container--row",o6="tox-collection__item-container--align-right",k4="tox-collection__item-container--align-left",i6="tox-collection__item-container--valign-top",u6="tox-collection__item-container--valign-middle",a6="tox-collection__item-container--valign-bottom",FA=function(n){return cr(J5,n).getOr(x4)},c6=function(n){return n==="color"?"tox-swatches":"tox-menu"},E4=function(n){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:c6(n),tieredMenu:"tox-tiered-menu"}},o0=function(n){var r=E4(n);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:FA(n)}},s6=function(n,r,i){var s=E4(i);return{tag:"div",classes:be([[s.menu,"tox-menu-"+r+"-column"],n?[s.hasIcons]:[]])}},l6=[Ll.parts.items({})],Ex=function(n,r,i){var s=E4(i),d={tag:"div",classes:be([[s.tieredMenu]])};return{dom:d,markers:o0(i)}},A4=function(n,r){return function(i){var s=Xn(i,r);return wt(s,function(d){return{dom:n,components:d}})}},T4=function(n){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Ll.parts.items({preprocess:n!=="auto"?A4({tag:"div",classes:["tox-swatches__row"]},n):Xt})]}]}},f6=function(n){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Ll.parts.items({preprocess:A4({tag:"div",classes:["tox-collection__group"]},n)})]}},BA=function(n,r){var i=[],s=[];return tn(n,function(d,g){r(d,g)?(s.length>0&&i.push(s),s=[],ao(d.dom,"innerHtml")&&s.push(d)):s.push(d)}),s.length>0&&i.push(s),wt(i,function(d){return{dom:{tag:"div",classes:["tox-collection__group"]},components:d}})},O4=function(n,r,i){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(n===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Ll.parts.items({preprocess:function(s){return n!=="auto"&&n>1?A4({tag:"div",classes:["tox-collection__group"]},n)(s):BA(s,function(d,g){return r[g].type==="separator"})}})]}},D4=function(n,r){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Ll.parts.items({preprocess:function(i){return BA(i,function(s,d){return n[d].type==="separator"})}})]}},Ax=function(n){return cn(n,function(r){return"icon"in r&&r.icon!==void 0})},Hl=function(n){return console.error(dc(n)),console.log(n),S.none()},d6=function(n,r,i,s,d){var g=D4(i);return{value:n,dom:g.dom,components:g.components,items:i}},_4=function(n,r,i,s,d){if(d==="color"){var g=T4(s);return{value:n,dom:g.dom,components:g.components,items:i}}if(d==="normal"&&s==="auto"){var g=O4(s,i);return{value:n,dom:g.dom,components:g.components,items:i}}if(d==="normal"&&s===1){var g=O4(1,i);return{value:n,dom:g.dom,components:g.components,items:i}}if(d==="normal"){var g=O4(s,i);return{value:n,dom:g.dom,components:g.components,items:i}}if(d==="listpreview"&&s!=="auto"){var g=f6(s);return{value:n,dom:g.dom,components:g.components,items:i}}return{value:n,dom:s6(r,s,d),components:l6,items:i}},m6=[rr("type"),rr("src"),uo("alt"),iu("classes",[],bi)],g6=Nt(m6),NA=[rr("type"),rr("text"),uo("name"),iu("classes",["tox-collection__item-label"],bi)],p6=Nt(NA),Tx=Xf(function(){return fa("type",{cardimage:g6,cardtext:p6,cardcontainer:F4})}),F4=Nt([rr("type"),dl("direction","horizontal"),dl("align","left"),dl("valign","middle"),ma("items",Tx)]),eh=[fo("disabled",!1),uo("text"),uo("shortcut"),ro("value","value",lt(function(){return tr("menuitem-value")}),Ou()),It("meta",{})],B4=Nt([rr("type"),uo("label"),ma("items",Tx),ri("onSetup",function(){return ft}),ri("onAction",ft)].concat(eh)),zA=function(n){return Bo("cardmenuitem",B4,n)},MA=Nt([rr("type"),fo("active",!1),uo("icon")].concat(eh)),Hf=function(n){return Bo("choicemenuitem",MA,n)},N4=["inserttable","colorswatch"],h6=Nt([rr("type"),ru("fancytype",N4),ri("onAction",ft)]),v6=function(n){return Bo("fancymenuitem",h6,n)},b6=Nt([rr("type"),ri("onSetup",function(){return ft}),ri("onAction",ft),uo("icon")].concat(eh)),y6=function(n){return Bo("menuitem",b6,n)},i0=Nt([rr("type"),Ai("getSubmenuItems"),ri("onSetup",function(){return ft}),uo("icon")].concat(eh)),RA=function(n){return Bo("nestedmenuitem",i0,n)},w6=Nt([rr("type"),uo("icon"),fo("active",!1),ri("onSetup",function(){return ft}),Ai("onAction")].concat(eh)),x6=function(n){return Bo("togglemenuitem",w6,n)},Ox=function(n,r,i){var s=wa(n.element,"."+i);if(s.length>0){var d=Nn(s,function(g){var v=g.dom.getBoundingClientRect().top,w=s[0].dom.getBoundingClientRect().top;return Math.abs(v-w)>r}).getOr(s.length);return S.some({numColumns:d,numRows:Math.ceil(s.length/d)})}else return S.none()},z4=function(n,r){return Un([Yr(n,r)])},M4=function(n){return z4(tr("unnamed-events"),n)},Dx={namedEvents:z4,unnamedEvents:M4},_x=tr("tooltip.exclusive"),rh=tr("tooltip.show"),gy=tr("tooltip.hide"),R4=function(n,r,i){n.getSystem().broadcastOn([_x],{})},PA=function(n,r,i,s){i.getTooltip().each(function(d){d.getSystem().isConnected()&&Mr.set(d,s)})},C6=Object.freeze({__proto__:null,hideAllExclusive:R4,setComponents:PA}),S6=function(n,r){var i=function(d){r.getTooltip().each(function(g){kf(g),n.onHide(d,g),r.clearTooltip()}),r.clearTimer()},s=function(d){if(!r.isShowing()){R4(d);var g=n.lazySink(d).getOrDie(),v=d.getSystem().build({dom:n.tooltipDom,components:n.tooltipComponents,events:po(n.mode==="normal"?[Fn(yl(),function(w){Hr(d,rh)}),Fn(nd(),function(w){Hr(d,gy)})]:[]),behaviours:Un([Mr.config({})])});r.setTooltip(v),Ys(g,v),n.onShow(d,v),Zu.position(g,n.anchor(d),v)}};return po(be([[Fn(rh,function(d){r.resetTimer(function(){s(d)},n.delay)}),Fn(gy,function(d){r.resetTimer(function(){i(d)},n.delay)}),Fn(Is(),function(d,g){var v=g;v.universal||Ft(v.channels,_x)&&i(d)}),oa(function(d){i(d)})],n.mode==="normal"?[Fn(wl(),function(d){Hr(d,rh)}),Fn(rf(),function(d){Hr(d,gy)}),Fn(yl(),function(d){Hr(d,rh)}),Fn(nd(),function(d){Hr(d,gy)})]:[Fn(e2(),function(d,g){Hr(d,rh)}),Fn(Nh(),function(d){Hr(d,gy)})]]))},k6=Object.freeze({__proto__:null,events:S6}),E6=[At("lazySink"),At("tooltipDom"),It("exclusive",!0),It("tooltipComponents",[]),It("delay",300),Aa("mode","normal",["normal","follow-highlight"]),It("anchor",function(n){return{anchor:"hotspot",hotspot:n,layouts:{onLtr:st([Pu,za,lu,fu,$i,Ku]),onRtl:st([Pu,za,lu,fu,$i,Ku])}}}),to("onHide"),to("onShow")],A6=function(){var n=re(S.none()),r=re(S.none()),i=function(){return r.get()},s=function(E){r.set(S.some(E))},d=function(){r.set(S.none())},g=function(){n.get().each(function(E){clearTimeout(E)})},v=function(E,O){g(),n.set(S.some(setTimeout(function(){E()},O)))},w=function(){return r.get().isSome()},C=st("not-implemented");return Ec({getTooltip:i,isShowing:w,setTooltip:s,clearTooltip:d,clearTimer:g,resetTimer:v,readState:C})},T6=Object.freeze({__proto__:null,init:A6}),LA=Pi({fields:E6,name:"tooltipping",active:k6,state:T6,apis:C6}),O6=function(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},wg=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),rs=tinymce.util.Tools.resolve("tinymce.util.I18n"),IA=["input","button","textarea","select"],HA=function(n,r,i){var s=r.disabled()?py:H4;s(n,r)},P4=function(n,r){return r.useNative===!0&&Ft(IA,Ja(n.element))},L4=function(n){return d2(n.element,"disabled")},I4=function(n){ho(n.element,"disabled","disabled")},VA=function(n){Fa(n.element,"disabled")},UA=function(n){return wu(n.element,"aria-disabled")==="true"},jA=function(n){ho(n.element,"aria-disabled","true")},D6=function(n){ho(n.element,"aria-disabled","false")},py=function(n,r,i){r.disableClass.each(function(d){Yo(n.element,d)});var s=P4(n,r)?I4:jA;s(n),r.onDisabled(n)},H4=function(n,r,i){r.disableClass.each(function(d){jo(n.element,d)});var s=P4(n,r)?VA:D6;s(n),r.onEnabled(n)},V4=function(n,r){return P4(n,r)?L4(n):UA(n)},qA=function(n,r,i,s){var d=s?py:H4;d(n,r)},hy=Object.freeze({__proto__:null,enable:H4,disable:py,isDisabled:V4,onLoad:HA,set:qA}),_6=function(n,r){return bs({classes:r.disabled()?r.disableClass.toArray():[]})},U4=function(n,r){return po([zh(ra(),function(i,s){return V4(i,n)}),av(n,r,HA)])},u0=Object.freeze({__proto__:null,exhibit:_6,events:U4}),F6=[ri("disabled",yn),It("useNative",!0),Cr("disableClass"),to("onDisabled"),to("onEnabled")],yr=Pi({fields:F6,name:"disabling",active:u0,apis:hy}),WA=tinymce.util.Tools.resolve("tinymce.EditorManager"),YA=function(n){var r=n.getParam("skin"),i=n.getParam("skin_url");if(r!==!1){var s=r||"oxide";i?i=n.documentBaseURI.toAbsolute(i):i=WA.baseURL+"/skins/ui/"+s}return i},j4=function(n){return n.getParam("readonly",!1,"boolean")},$A=function(n){return n.getParam("skin")===!1},XA=function(n){return n.getParam("height",Math.max(n.getElement().offsetHeight,200))},GA=function(n){return n.getParam("width",wg.DOM.getStyle(n.getElement(),"width"))},vy=function(n){return S.from(n.getParam("min_width")).filter(Ve)},KA=function(n){return S.from(n.getParam("min_height")).filter(Ve)},Fx=function(n){return S.from(n.getParam("max_width")).filter(Ve)},oh=function(n){return S.from(n.getParam("max_height")).filter(Ve)},B6=function(n){return S.from(n.getParam("style_formats")).filter(sr)},N6=function(n){return n.getParam("style_formats_merge",!1,"boolean")},z6=function(n){return n.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},JA=function(n){return n.getParam("removed_menuitems","")},Bx=function(n){return n.getParam("menubar",!0,"boolean")!==!1},q4=function(n){var r=n.getParam("toolbar",!0),i=r===!0,s=Ie(r),d=sr(r)&&r.length>0;return!Nx(n)&&(d||s||i)},ZA=function(n){var r=Tn(9,function(s){return n.getParam("toolbar"+(s+1),!1,"string")}),i=gt(r,function(s){return typeof s=="string"});return i.length>0?S.some(i):S.none()},Nx=function(n){return ZA(n).fold(function(){var r=n.getParam("toolbar",[],"string[]");return r.length>0},Zt)},os;(function(n){n.default="wrap",n.floating="floating",n.sliding="sliding",n.scrolling="scrolling"})(os||(os={}));var by=function(n){return n.getParam("toolbar_mode","","string")},Ia;(function(n){n.auto="auto",n.top="top",n.bottom="bottom"})(Ia||(Ia={}));var QA=function(n){return n.getParam("toolbar_groups",{},"object")},tT=function(n){return n.getParam("toolbar_location",Ia.auto,"string")},nT=function(n){return tT(n)===Ia.bottom},W4=function(n){return n.getParam("fixed_toolbar_container","","string")},M6=function(n){return n.getParam("toolbar_persist",!1,"boolean")},eT=function(n){var r=W4(n);return r.length>0&&n.inline?Ru(Tc(),r):S.none()},zx=function(n){return n.inline&&eT(n).isSome()},rT=function(n){var r=eT(n);return r.getOrThunk(function(){return Ph(Yi(Fe.fromDom(n.getElement())))})},oT=function(n){return n.inline&&!Bx(n)&&!q4(n)&&!Nx(n)},Mx=function(n){var r=n.getParam("toolbar_sticky",!1,"boolean");return(r||n.inline)&&!zx(n)&&!oT(n)},R6=function(n){return n.getParam("draggable_modal",!1,"boolean")},Y4=function(n){var r=n.getParam("menu");return r?Er(r,function(i){return tt(tt({},i),{items:i.items})}):{}},$4=function(n){return n.getParam("menubar")},iT=function(n){return n.getParam("toolbar",!0)},P6=function(n){return n.getParam("file_picker_callback")},uT=function(n){return n.getParam("file_picker_types")},L6=function(n){return n.getParam("file_browser_callback_types")},I6=function(n){return n.getParam("typeahead_urls")===!1},H6=function(n){return n.getParam("anchor_top","#top")},aT=function(n){return n.getParam("anchor_bottom","#bottom")},cT=function(n){var r=n.getParam("file_picker_validator_handler",void 0,"function");return r===void 0?n.getParam("filepicker_validator_handler",void 0,"function"):r},Rx="silver.readonly",V6=Nt([da("readonly")]),a0=function(n,r){var i=n.outerContainer,s=i.element;r&&(n.mothership.broadcastOn([Tf()],{target:s}),n.uiMothership.broadcastOn([Tf()],{target:s})),n.mothership.broadcastOn([Rx],{readonly:r}),n.uiMothership.broadcastOn([Rx],{readonly:r})},sT=function(n,r){n.on("init",function(){n.mode.isReadOnly()&&a0(r,!0)}),n.on("SwitchMode",function(){return a0(r,n.mode.isReadOnly())}),j4(n)&&n.setMode("readonly")},nu=function(){var n;return Lu.config({channels:(n={},n[Rx]={schema:V6,onReceive:function(r,i){yr.set(r,i.readonly)}},n)})},U6=function(n){return yr.config({disabled:n,disableClass:"tox-collection__item--state-disabled"})},j6=function(n){return yr.config({disabled:n})},q6=function(n){return yr.config({disabled:n,disableClass:"tox-tbtn--disabled"})},W6=function(n){return yr.config({disabled:n,disableClass:"tox-tbtn--disabled",useNative:!1})},tl={item:U6,button:j6,splitButton:q6,toolbarButton:W6},Px=function(n,r){var i=n.getApi(r);return function(s){s(i)}},yy=function(n,r){return si(function(i){var s=Px(n,i);s(function(d){var g=n.onSetup(d);He(g)&&r.set(g)})})},c0=function(n,r){return oa(function(i){return Px(n,i)(r.get())})},X4,Y6=function(n,r){return Cc(function(i,s){Px(n,i)(n.onAction),!n.triggersSubmenu&&r===Il.CLOSE_ON_EXECUTE&&(i.getSystem().isConnected()&&Hr(i,Yg()),s.stop())})},$6=(X4={},X4[ra()]=["disabling","alloy.base.behaviour","toggling","item-events"],X4),s0=function(n){return An(n,function(r){return r.toArray()})},l0=function(n,r,i,s){var d=re(ft);return{type:"item",dom:r.dom,components:s0(r.optComponents),data:n.data,eventOrder:$6,hasSubmenu:n.triggersSubmenu,itemBehaviours:Un([Yr("item-events",[Y6(n,i),yy(n,d),c0(n,d)]),tl.item(function(){return n.disabled||s.isDisabled()}),nu(),Mr.config({})].concat(n.itemBehaviours))}},f0=function(n){return{value:n.value,meta:tt({text:n.text.getOr("")},n.meta)}},d0=tinymce.util.Tools.resolve("tinymce.Env"),lT=function(n){var r={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},i={meta:"Ctrl",access:"Shift+Alt"},s=d0.mac?r:i,d=n.split("+"),g=wt(d,function(v){var w=v.toLowerCase().trim();return ao(s,w)?s[w]:v});return d0.mac?g.join(""):g.join("+")},X6=function(n){return{dom:{tag:"div",classes:[Q5],innerHtml:n}}},fT=function(n){return{dom:{tag:"div",classes:[my]},components:[mf(rs.translate(n))]}},dT=function(n,r){return{dom:{tag:"div",classes:r,innerHtml:n}}},G6=function(n,r){return{dom:{tag:"div",classes:[my]},components:[{dom:{tag:n.tag,styles:n.styles},components:[mf(rs.translate(r))]}]}},G4=function(n){return{dom:{tag:"div",classes:[t6],innerHtml:lT(n)}}},K4=function(n){return{dom:{tag:"div",classes:[n6],innerHtml:cc("checkmark",n)}}},mT=function(n){return{dom:{tag:"div",classes:[OA],innerHtml:cc("chevron-right",n)}}},K6=function(n){return{dom:{tag:"div",classes:[OA],innerHtml:cc("chevron-down",n)}}},gT=function(n,r){var i=n.direction==="vertical"?r6:_A,s=n.align==="left"?k4:o6,d=function(){switch(n.valign){case"top":return i6;case"middle":return u6;case"bottom":return a6}};return{dom:{tag:"div",classes:[DA,i,s,d()]},components:r}},J6=function(n,r,i){return{dom:{tag:"img",classes:r,attributes:{src:n,alt:i.getOr("")}}}},Z6=function(n,r,i,s){var d="custom",g="remove",v=function(){var w=S4,C=i.getOr(""),E=n.map(function(_){return{title:s.translate(_)}}).getOr({}),O={tag:"div",attributes:E,classes:[w]};return r===d?tt(tt({},O),{tag:"button",classes:Y(O.classes,["tox-swatches__picker-btn"]),innerHtml:C}):r===g?tt(tt({},O),{classes:Y(O.classes,["tox-swatch--remove"]),innerHtml:C}):tt(tt({},O),{attributes:tt(tt({},O.attributes),{"data-mce-color":r}),styles:{"background-color":r}})};return{dom:v(),optComponents:[]}},pT=function(n,r){var i=r.map(function(s){return{attributes:{title:rs.translate(s)}}}).getOr({});return tt({tag:"div",classes:[x4,C4].concat(n?[e6]:[])},i)},Q6=function(n,r,i,s,d){var g=i?r.or(S.some("")).map(X6):S.none(),v=n.checkMark,w=n.htmlContent.fold(function(){return n.textContent.map(s)},function(E){return S.some(dT(E,[my]))}),C={dom:pT(d,n.ariaLabel),optComponents:[g,w,n.shortcutContent.map(G4),v,n.caret]};return C},tF=["list-num-default","list-num-lower-alpha","list-num-lower-greek","list-num-lower-roman","list-num-upper-alpha","list-num-upper-roman"],nF=["list-bull-circle","list-bull-default","list-bull-square"],m0=function(n,r,i,s){s===void 0&&(s=S.none());var d=function(C){return C.map(function(E){return rs.isRtl()&&Ft(tF,E)?E+"-rtl":E})},g=rs.isRtl()&&n.iconContent.exists(function(C){return Ft(nF,C)}),v=d(n.iconContent).map(function(C){return E5(C,r.icons,s)}),w=S.from(n.meta).fold(function(){return fT},function(C){return ao(C,"style")?Kn(G6,C.style):fT});return n.presets==="color"?Z6(n.ariaLabel,n.value,v,r):Q6(n,v,i,w,g)},hT=function(n,r){return cr(n,"tooltipWorker").map(function(i){return[LA.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(s){return{anchor:"submenu",item:s,overrides:{maxHeightFunction:Ym}}},mode:"follow-highlight",onShow:function(s,d){i(function(g){LA.setComponents(s,[p1({element:Fe.fromDom(g)})])})}})]}).getOr([])},eF=function(n){return wg.DOM.encode(n)},vT=function(n,r){var i=rs.translate(n),s=eF(i);if(r.length>0){var d=new RegExp(O6(r),"gi");return s.replace(d,function(g){return'<span class="tox-autocompleter-highlight">'+g+"</span>"})}else return s},rF=function(n,r,i,s,d,g,v,w){w===void 0&&(w=!0);var C=m0({presets:s,textContent:S.none(),htmlContent:i?n.text.map(function(E){return vT(E,r)}):S.none(),ariaLabel:n.text,iconContent:n.icon,shortcutContent:S.none(),checkMark:S.none(),caret:S.none(),value:n.value},v.providers,w,n.icon);return l0({data:f0(n),disabled:n.disabled,getApi:st({}),onAction:function(E){return d(n.value,n.meta)},onSetup:st(ft),triggersSubmenu:!1,itemBehaviours:hT(n.meta,v)},C,g,v.providers)},Lx=function(n,r){return wt(n,function(i){switch(i.type){case"cardcontainer":return gT(i,Lx(i.items,r));case"cardimage":return J6(i.src,i.classes,i.alt);case"cardtext":var s=i.name.exists(function(g){return Ft(r.cardText.highlightOn,g)}),d=s?S.from(r.cardText.matchText).getOr(""):"";return dT(vT(i.text,d),i.classes)}})},J4=function(n,r,i,s){var d=function(v){return{isDisabled:function(){return yr.isDisabled(v)},setDisabled:function(w){yr.set(v,w),tn(wa(v.element,"*"),function(C){v.getSystem().getByDom(C).each(function(E){E.hasConfigured(yr)&&yr.set(E,w)})})}}},g={dom:pT(!1,n.label),optComponents:[S.some({dom:{tag:"div",classes:[DA,_A]},components:Lx(n.items,s)})]};return l0({data:f0(tt({text:S.none()},n)),disabled:n.disabled,getApi:d,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:S.from(s.itemBehaviours).getOr([])},g,r,i.providers)},Z4=function(n,r,i,s,d,g,v,w){w===void 0&&(w=!0);var C=function(O){return{setActive:function(_){Gt.set(O,_)},isActive:function(){return Gt.isOn(O)},isDisabled:function(){return yr.isDisabled(O)},setDisabled:function(_){return yr.set(O,_)}}},E=m0({presets:i,textContent:r?n.text:S.none(),htmlContent:S.none(),ariaLabel:n.text,iconContent:n.icon,shortcutContent:r?n.shortcut:S.none(),checkMark:r?S.some(K4(v.icons)):S.none(),caret:S.none(),value:n.value},v,w);return $r(l0({data:f0(n),disabled:n.disabled,getApi:C,onAction:function(O){return s(n.value)},onSetup:function(O){return O.setActive(d),ft},triggersSubmenu:!1,itemBehaviours:[]},E,g,v),{toggling:{toggleClass:TA,toggleOnExecute:!1,selected:n.active}})},Q4=Tv(Cu(),Su()),bT=function(n){return{value:n}},yT=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,wy=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,t3=function(n){return yT.test(n)||wy.test(n)},Ix=function(n){var r=n.value.replace(yT,function(i,s,d,g){return s+s+d+d+g+g});return{value:r}},wT=function(n){var r=Ix(n),i=wy.exec(r.value);return i===null?["FFFFFF","FF","FF","FF"]:i},n3=function(n){var r=n.toString(16);return r.length===1?"0"+r:r},Hx=function(n){var r=n3(n.red)+n3(n.green)+n3(n.blue);return bT(r)},xT=Math.min,CT=Math.max,Vx=Math.round,oF=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,iF=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,ih=function(n,r,i,s){return{red:n,green:r,blue:i,alpha:s}},e3=function(n){var r=parseInt(n,10);return r.toString()===n&&r>=0&&r<=255},ST=function(n){var r,i,s,d=(n.hue||0)%360,g=n.saturation/100,v=n.value/100;if(g=CT(0,xT(g,1)),v=CT(0,xT(v,1)),g===0)return r=i=s=Vx(255*v),ih(r,i,s,1);var w=d/60,C=v*g,E=C*(1-Math.abs(w%2-1)),O=v-C;switch(Math.floor(w)){case 0:r=C,i=E,s=0;break;case 1:r=E,i=C,s=0;break;case 2:r=0,i=C,s=E;break;case 3:r=0,i=E,s=C;break;case 4:r=E,i=0,s=C;break;case 5:r=C,i=0,s=E;break;default:r=i=s=0}return r=Vx(255*(r+O)),i=Vx(255*(i+O)),s=Vx(255*(s+O)),ih(r,i,s,1)},r3=function(n){var r=wT(n),i=parseInt(r[1],16),s=parseInt(r[2],16),d=parseInt(r[3],16);return ih(i,s,d,1)},kT=function(n,r,i,s){var d=parseInt(n,10),g=parseInt(r,10),v=parseInt(i,10),w=parseFloat(s);return ih(d,g,v,w)},uF=function(n){if(n==="transparent")return S.some(ih(0,0,0,0));var r=oF.exec(n);if(r!==null)return S.some(kT(r[1],r[2],r[3],"1"));var i=iF.exec(n);return i!==null?S.some(kT(i[1],i[2],i[3],i[4])):S.none()},o3=function(n){return"rgba("+n.red+","+n.green+","+n.blue+","+n.alpha+")"},ET=ih(255,0,0,1),aF=function(n){return n.fire("SkinLoaded")},Ux=function(n,r){return n.fire("SkinLoadError",r)},cF=function(n){return n.fire("ResizeEditor")},xy=function(n,r){return n.fire("ResizeContent",r)},ku=function(n,r){return n.fire("ScrollContent",r)},sF=function(n,r){return n.fire("TextColorChange",r)},jx=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),AT="tinymce-custom-colors";function lF(n){n===void 0&&(n=10);var r=jx.getItem(AT),i=Ie(r)?JSON.parse(r):[],s=function(C){var E=n-C.length;return E<0?C.slice(0,n):C},d=s(i),g=function(C){br(d,C).each(v),d.unshift(C),d.length>n&&d.pop(),jx.setItem(AT,JSON.stringify(d))},v=function(C){d.splice(C,1)},w=function(){return d.slice(0)};return{add:g,state:w}}var pu="choiceitem",fF=[{type:pu,text:"Light Green",value:"#BFEDD2"},{type:pu,text:"Light Yellow",value:"#FBEEB8"},{type:pu,text:"Light Red",value:"#F8CAC6"},{type:pu,text:"Light Purple",value:"#ECCAFA"},{type:pu,text:"Light Blue",value:"#C2E0F4"},{type:pu,text:"Green",value:"#2DC26B"},{type:pu,text:"Yellow",value:"#F1C40F"},{type:pu,text:"Red",value:"#E03E2D"},{type:pu,text:"Purple",value:"#B96AD9"},{type:pu,text:"Blue",value:"#3598DB"},{type:pu,text:"Dark Turquoise",value:"#169179"},{type:pu,text:"Orange",value:"#E67E23"},{type:pu,text:"Dark Red",value:"#BA372A"},{type:pu,text:"Dark Purple",value:"#843FA1"},{type:pu,text:"Dark Blue",value:"#236FA1"},{type:pu,text:"Light Gray",value:"#ECF0F1"},{type:pu,text:"Medium Gray",value:"#CED4D9"},{type:pu,text:"Gray",value:"#95A5A6"},{type:pu,text:"Dark Gray",value:"#7E8C8D"},{type:pu,text:"Navy Blue",value:"#34495E"},{type:pu,text:"Black",value:"#000000"},{type:pu,text:"White",value:"#ffffff"}],TT=lF(10),dF=function(n){var r=[],i=document.createElement("canvas");i.height=1,i.width=1;for(var s=i.getContext("2d"),d=function(w,C){var E=255,O=C/255,_=Math.round(w*O+E*(1-O));return("0"+_.toString(16)).slice(-2).toUpperCase()},g=function(w){if(/^[0-9A-Fa-f]{6}$/.test(w))return"#"+w.toUpperCase();s.clearRect(0,0,i.width,i.height),s.fillStyle="#FFFFFF",s.fillStyle=w,s.fillRect(0,0,1,1);var C=s.getImageData(0,0,1,1).data,E=C[0],O=C[1],_=C[2],R=C[3];return"#"+d(E,R)+d(O,R)+d(_,R)},v=0;v<n.length;v+=2)r.push({text:n[v+1],value:g(n[v]),type:"choiceitem"});return r},mF=function(n,r){return n.getParam("color_cols",r,"number")},OT=function(n){return n.getParam("custom_colors")!==!1},gF=function(n){return n.getParam("color_map")},i3=function(n){var r=gF(n);return r!==void 0?dF(r):fF},pF=function(){return wt(TT.state(),function(n){return{type:pu,text:n,value:n}})},DT=function(n){TT.add(n)},hF=function(n,r){var i;return n.dom.getParents(n.selection.getStart(),function(s){var d;(d=s.style[r==="forecolor"?"color":"background-color"])&&(i=i||d)}),i},vF=function(n,r,i){n.undoManager.transact(function(){n.focus(),n.formatter.apply(r,{value:i}),n.nodeChanged()})},bF=function(n,r){n.undoManager.transact(function(){n.focus(),n.formatter.remove(r,{value:null},null,!0),n.nodeChanged()})},yF=function(n){n.addCommand("mceApplyTextcolor",function(r,i){vF(n,r,i)}),n.addCommand("mceRemoveTextcolor",function(r){bF(n,r)})},wF=function(n){return Math.max(5,Math.ceil(Math.sqrt(n)))},_T=function(n){var r=i3(n),i=wF(r.length);return mF(n,i)},xF=function(n){var r="choiceitem",i={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},s={type:r,text:"Custom color",icon:"color-picker",value:"custom"};return n?[i,s]:[i]},u3=function(n,r,i,s){if(i==="custom"){var d=MT(n);d(function(g){g.each(function(v){DT(v),n.execCommand("mceApplyTextcolor",r,v),s(v)})},"#000000")}else i==="remove"?(s(""),n.execCommand("mceRemoveTextcolor",r)):(s(i),n.execCommand("mceApplyTextcolor",r,i))},FT=function(n,r){return n.concat(pF().concat(xF(r)))},BT=function(n,r){return function(i){i(FT(n,r))}},NT=function(n,r,i){var s=function(g,v){n.setIconFill(g,v),n.setIconStroke(g,v)},d=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";s(d,i)},zT=function(n,r,i,s,d){n.ui.registry.addSplitButton(r,{tooltip:s,presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:function(g){var v=S.from(hF(n,i));return v.bind(function(w){return uF(w).map(function(C){var E=Hx(C).value;return Jo(g.toLowerCase(),E)})}).getOr(!1)},columns:_T(n),fetch:BT(i3(n),OT(n)),onAction:function(g){d.get()!==null&&u3(n,i,d.get(),ft)},onItemAction:function(g,v){u3(n,i,v,function(w){d.set(w),sF(n,{name:r,color:w})})},onSetup:function(g){d.get()!==null&&NT(g,r,d.get());var v=function(w){w.name===r&&NT(g,w.name,w.color)};return n.on("TextColorChange",v),function(){n.off("TextColorChange",v)}}})},a3=function(n,r,i,s){n.ui.registry.addNestedMenuItem(r,{text:s,icon:r==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(d){u3(n,i,d.value,ft)}}]}})},MT=function(n){return function(r,i){var s=function(w){return function(C){var E=C.getData();w(S.from(E.colorpicker)),C.close()}},d=function(w,C){C.name==="hex-valid"&&(C.value?w.enable("ok"):w.disable("ok"))},g={colorpicker:i},v=s(r);n.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:g,onAction:d,onSubmit:v,onClose:ft,onCancel:function(){r(S.none())}})}},CF=function(n){yF(n);var r=re(null),i=re(null);zT(n,"forecolor","forecolor","Text color",r),zT(n,"backcolor","hilitecolor","Background color",i),a3(n,"forecolor","forecolor","Text color"),a3(n,"backcolor","hilitecolor","Background color")},c3=function(n,r,i,s,d,g,v,w){var C=Ax(r),E=d!=="color"?"normal":"color",O=RT(r,i,s,E,g,v,w);return _4(n,C,O,s,d)},RT=function(n,r,i,s,d,g,v){return Bf(wt(n,function(w){return w.type==="choiceitem"?Hf(w).fold(Hl,function(C){return S.some(Z4(C,i===1,s,r,g(w.value),d,v,Ax(n)))}):S.none()}))},qx=function(n,r){var i=o0(r);if(n===1)return{mode:"menu",moveOnTab:!0};if(n==="auto")return{mode:"grid",selector:"."+i.item,initSize:{numColumns:1,numRows:1}};var s=r==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+s}},SF=function(n,r){return n===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:n==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:r==="color"?".tox-swatches__row":".tox-collection__group",cell:r==="color"?"."+S4:"."+C4}}},kF=function(n,r){var i=FT(r.colorinput.getColors(),r.colorinput.hasCustomColors()),s=r.colorinput.getColorCols(),d="color",g=c3(tr("menu-value"),i,function(w){n.onAction({value:w})},s,d,Il.CLOSE_ON_EXECUTE,yn,r.shared.providers),v=tt(tt({},g),{markers:o0(d),movement:qx(s,d)});return{type:"widget",data:{value:tr("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Q4.widget(Ll.sketch(v))]}},PT=tr("cell-over"),s3=tr("cell-execute"),EF=function(n,r,i){var s,d=function(w){return Sr(w,PT,{row:n,col:r})},g=function(w){return Sr(w,s3,{row:n,col:r})},v=function(w,C){C.stop(),g(w)};return ua({dom:{tag:"div",attributes:(s={role:"button"},s["aria-labelledby"]=i,s)},behaviours:Un([Yr("insert-table-picker-cell",[Fn(yl(),Fr.focus),Fn(ra(),g),Fn(Ps(),v),Fn(xc(),v)]),Gt.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),Fr.config({onFocus:d})])})},LT=function(n,r,i){for(var s=[],d=0;d<r;d++){for(var g=[],v=0;v<i;v++)g.push(EF(d,v,n));s.push(g)}return s},IT=function(n,r,i,s,d){for(var g=0;g<s;g++)for(var v=0;v<d;v++)Gt.set(n[g][v],g<=r&&v<=i)},AF=function(n){return An(n,function(r){return wt(r,Nu)})},HT=function(n,r){return mf(r+1+"x"+(n+1))},TF=function(n){var r=10,i=10,s=tr("size-label"),d=LT(s,r,i),g=_o({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:s}},components:[mf("0x0")],behaviours:Un([Mr.config({})])});return{type:"widget",data:{value:tr("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[Q4.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:AF(d).concat(g.asSpec()),behaviours:Un([Yr("insert-table-picker",[Mh(PT,function(v,w,C){var E=C.event.row,O=C.event.col;IT(d,E,O,r,i),Mr.set(g.get(v),[HT(E,O)])}),Mh(s3,function(v,w,C){n.onAction({numRows:C.event.row+1,numColumns:C.event.col+1}),Hr(v,Yg())})]),vr.config({initSize:{numRows:r,numColumns:i},mode:"flatgrid",selector:'[role="button"]'})])})]}},OF={inserttable:TF,colorswatch:kF},DF=function(n,r){return Object.prototype.hasOwnProperty.call(n,r)?S.some(n[r]):S.none()},_F=function(n,r){return DF(OF,n.fancytype).map(function(i){return i(n,r)})},FF=function(n,r,i,s,d){s===void 0&&(s=!0),d===void 0&&(d=!1);var g=d?K6(i.icons):mT(i.icons),v=function(C){return{isDisabled:function(){return yr.isDisabled(C)},setDisabled:function(E){return yr.set(C,E)}}},w=m0({presets:"normal",iconContent:n.icon,textContent:n.text,htmlContent:S.none(),ariaLabel:n.text,caret:S.some(g),checkMark:S.none(),shortcutContent:n.shortcut},i,s);return l0({data:f0(n),getApi:v,disabled:n.disabled,onAction:ft,onSetup:n.onSetup,triggersSubmenu:!0,itemBehaviours:[]},w,r,i)},BF=function(n,r,i,s){s===void 0&&(s=!0);var d=function(v){return{isDisabled:function(){return yr.isDisabled(v)},setDisabled:function(w){return yr.set(v,w)}}},g=m0({presets:"normal",iconContent:n.icon,textContent:n.text,htmlContent:S.none(),ariaLabel:n.text,caret:S.none(),checkMark:S.none(),shortcutContent:n.shortcut},i,s);return l0({data:f0(n),getApi:d,disabled:n.disabled,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,r,i)},l3=function(n){var r=n.text.fold(function(){return{}},function(i){return{innerHtml:i}});return{type:"separator",dom:tt({tag:"div",classes:[C4,Z5]},r),components:[]}},VT=function(n,r,i,s){s===void 0&&(s=!0);var d=function(v){return{setActive:function(w){Gt.set(v,w)},isActive:function(){return Gt.isOn(v)},isDisabled:function(){return yr.isDisabled(v)},setDisabled:function(w){return yr.set(v,w)}}},g=m0({iconContent:n.icon,textContent:n.text,htmlContent:S.none(),ariaLabel:n.text,checkMark:S.some(K4(i.icons)),caret:S.none(),shortcutContent:n.shortcut,presets:"normal",meta:n.meta},i,s);return $r(l0({data:f0(n),disabled:n.disabled,getApi:d,onAction:n.onAction,onSetup:n.onSetup,triggersSubmenu:!1,itemBehaviours:[]},g,r,i),{toggling:{toggleClass:TA,toggleOnExecute:!1,selected:n.active}})},NF=rF,f3=l3,zF=BF,MF=FF,d3=VT,RF=_F,PF=J4,Cy;(function(n){n[n.ContentFocus=0]="ContentFocus",n[n.UiFocus=1]="UiFocus"})(Cy||(Cy={}));var UT=function(n,r,i,s,d){var g=i.shared.providers,v=function(w){return d?tt(tt({},w),{shortcut:S.none(),icon:w.text.isSome()?S.none():w.icon}):w};switch(n.type){case"menuitem":return y6(n).fold(Hl,function(w){return S.some(zF(v(w),r,g,s))});case"nestedmenuitem":return RA(n).fold(Hl,function(w){return S.some(MF(v(w),r,g,s,d))});case"togglemenuitem":return x6(n).fold(Hl,function(w){return S.some(d3(v(w),r,g,s))});case"separator":return L5(n).fold(Hl,function(w){return S.some(f3(w))});case"fancymenuitem":return v6(n).fold(Hl,function(w){return RF(v(w),i)});default:return console.error("Unknown item in general menu",n),S.none()}},LF=function(n,r,i,s,d,g,v){var w=s===1,C=!w||Ax(n);return Bf(wt(n,function(E){switch(E.type){case"separator":return V5(E).fold(Hl,function(O){return S.some(f3(O))});case"cardmenuitem":return zA(E).fold(Hl,function(O){return S.some(PF(tt(tt({},O),{onAction:function(_){O.onAction(_),i(O.value,O.meta)}}),d,g,{itemBehaviours:hT(O.meta,g),cardText:{matchText:r,highlightOn:v}}))});case"autocompleteitem":default:return CA(E).fold(Hl,function(O){return S.some(NF(O,r,w,"normal",i,d,g,C))})}}))},m3=function(n,r,i,s,d){var g=Ax(r),v=Bf(wt(r,function(C){var E=function(_){return d?!_.hasOwnProperty("text"):g},O=function(_){return UT(_,i,s,E(_),d)};return C.type==="nestedmenuitem"&&C.getSubmenuItems().length<=0?O(tt(tt({},C),{disabled:!0})):O(C)})),w=d?d6:_4;return w(n,g,v,1,"normal")},jT=function(n){return Zp.singleData(n.value,n)},Sy=function(n,r,i,s){var d=i===Cy.ContentFocus?mg():Mf(),g=qx(r,s),v=o0(s);return{dom:n.dom,components:n.components,items:n.items,value:n.value,markers:{selectedItem:v.selectedItem,item:v.item},movement:g,fakeFocus:i===Cy.ContentFocus,focusManager:d,menuBehaviours:Dx.unnamedEvents(r!=="auto"?[]:[si(function(w,C){Ox(w,4,v.item).each(function(E){var O=E.numColumns,_=E.numRows;vr.setGridSize(w,_,O)})})])}},IF=function(n,r){var i=re(S.none()),s=re(!1),d=ua(Si.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Un([Yr("dismissAutocompleter",[Fn(Ri(),function(){return C()})])]),lazySink:r.getSink})),g=function(){return Si.isOpen(d)},v=function(){return i.get().isSome()},w=function(){v()&&Si.hide(d)},C=function(){if(v()){var ut=i.get().map(function(Dt){return Dt.element});wx(ut.getOr(Fe.fromDom(n.selection.getNode()))).each(cd),w(),i.set(S.none()),s.set(!1)}},E=fi(function(){return K5(n)}),O=function(ut,Dt){var Lt=Qn(Dt,function(Yt){return S.from(Yt.columns)}).getOr(1);return An(Dt,function(Yt){var xn=Yt.items;return LF(xn,Yt.matchText,function(Mn,vn){var ge=n.selection.getRng();g4(n.dom,ge,ut).fold(function(){return console.error("Lost context. Cursor probably moved")},function(Ar){var Oe=Ar.range,Sn={hide:function(){C()},reload:function(Rn){w(),ot(Rn)}};s.set(!0),Yt.onAction(Sn,Oe,Mn,vn),s.set(!1)})},Lt,Il.BUBBLE_TO_SANDBOX,r,Yt.highlightOn)})},_=function(ut){if(!v()){var Dt=d4(n,ut.range);i.set(S.some({triggerChar:ut.triggerChar,element:Dt,matchLength:ut.text.length})),s.set(!1)}},R=function(ut,Dt,Lt,Yt){ut.matchLength=Dt.text.length;var xn=Qn(Lt,function(Mn){return S.from(Mn.columns)}).getOr(1);Si.showAt(d,{anchor:"node",root:Fe.fromDom(n.getBody()),node:S.from(ut.element)},Ll.sketch(Sy(_4("autocompleter-value",!0,Yt,xn,"normal"),xn,Cy.ContentFocus,"normal"))),Si.getContent(d).each(Be.highlightFirst)},G=function(ut){return i.get().map(function(Dt){return g4(n.dom,n.selection.getRng(),Dt.triggerChar).bind(function(Lt){return h4(n,E,Lt,ut)})}).getOrThunk(function(){return wA(n,E)})},ot=function(ut){G(ut).fold(C,function(Dt){_(Dt.context),Dt.lookupData.then(function(Lt){i.get().map(function(Yt){var xn=Dt.context;if(Yt.triggerChar===xn.triggerChar){var Mn=O(xn.triggerChar,Lt);Mn.length>0?R(Yt,xn,Lt,Mn):xn.text.length-Yt.matchLength>=10?C():w()}})})})},et=pA(function(ut){ut.which!==27&&ot()},50),bt={onKeypress:et,cancelIfNecessary:C,isMenuOpen:g,isActive:v,isProcessingAction:s.get,getView:function(){return Si.getContent(d)}};n.hasPlugin("rtc")===!1&&z5.setup(bt,n)},HF={register:IF},qT=Zt,nl=function(n,r,i){return vS(n,r,qT,i)},Wx=function(n,r,i){return Gh(n,r,qT,i)},WT=op,g0=function(n,r,i){return $c(n,r,i).isSome()},g3=function(n,r){var i=null,s=function(){for(var g=[],v=0;v<arguments.length;v++)g[v]=arguments[v];i=setTimeout(function(){n.apply(null,g),i=null},r)},d=function(){i!==null&&(clearTimeout(i),i=null)};return{cancel:d,schedule:s}},p3=5,VF=400,Yx=function(n){var r=n.raw;return r.touches===void 0||r.touches.length!==1?S.none():S.some(r.touches[0])},UF=function(n,r){var i=Math.abs(n.clientX-r.x),s=Math.abs(n.clientY-r.y);return i>p3||s>p3},jF=function(n){var r=re(S.none()),i=re(!1),s=g3(function(E){n.triggerEvent(t2(),E),i.set(!0)},VF),d=function(E){return Yx(E).each(function(O){s.cancel();var _={x:O.clientX,y:O.clientY,target:E.target};s.schedule(E),i.set(!1),r.set(S.some(_))}),S.none()},g=function(E){return s.cancel(),Yx(E).each(function(O){r.get().each(function(_){UF(O,_)&&r.set(S.none())})}),S.none()},v=function(E){s.cancel();var O=function(_){return Ur(_.target,E.target)};return r.get().filter(O).map(function(_){return i.get()?(E.prevent(),!1):n.triggerEvent(xc(),E)})},w=Z([{key:Yu(),value:d},{key:ef(),value:g},{key:ea(),value:v}]),C=function(E,O){return cr(w,O).bind(function(_){return _(E)})};return{fireIfReady:C}},qF=function(n){var r=n.raw;return r.which===Ak[0]&&!Ft(["input","textarea"],Ja(n.target))&&!g0(n.target,'[contenteditable="true"]')},YT=function(){return Ga().browser.isFirefox()},WF=Ht([Ai("triggerEvent"),It("stopBackspace",!0)]),YF=function(n,r){return YT()?Wx(n,"focus",r):nl(n,"focusin",r)},$F=function(n,r){return YT()?Wx(n,"blur",r):nl(n,"focusout",r)},XF=function(n,r){var i=ji("Getting GUI events settings",WF,r),s=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],d=jF(i),g=wt(s.concat(["selectstart","input","contextmenu","change","transitionend","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(G){return nl(n,G,function(ot){d.fireIfReady(ot,G).each(function(bt){bt&&ot.kill()});var et=i.triggerEvent(G,ot);et&&ot.kill()})}),v=re(S.none()),w=nl(n,"paste",function(G){d.fireIfReady(G,"paste").each(function(et){et&&G.kill()});var ot=i.triggerEvent("paste",G);ot&&G.kill(),v.set(S.some(setTimeout(function(){i.triggerEvent(xl(),G)},0)))}),C=nl(n,"keydown",function(G){var ot=i.triggerEvent("keydown",G);ot?G.kill():i.stopBackspace===!0&&qF(G)&&G.prevent()}),E=YF(n,function(G){var ot=i.triggerEvent("focusin",G);ot&&G.kill()}),O=re(S.none()),_=$F(n,function(G){var ot=i.triggerEvent("focusout",G);ot&&G.kill(),O.set(S.some(setTimeout(function(){i.triggerEvent(rf(),G)},0)))}),R=function(){tn(g,function(G){G.unbind()}),C.unbind(),E.unbind(),_.unbind(),w.unbind(),v.get().each(clearTimeout),O.get().each(clearTimeout)};return{unbind:R}},$T=function(n,r){var i=cr(n,"target").getOr(r);return re(i)},GF=function(n,r){var i=re(!1),s=re(!1),d=function(){i.set(!0)},g=function(){s.set(!0)};return{stop:d,cut:g,isStopped:i.get,isCut:s.get,event:n,setSource:r.set,getSource:r.get}},KF=function(n){var r=re(!1),i=function(){r.set(!0)};return{stop:i,cut:ft,isStopped:r.get,isCut:yn,event:n,setSource:Jt("Cannot set source of a broadcasted event"),getSource:Jt("Cannot get source of a broadcasted event")}},ky=Xe.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),h3=function(n,r,i,s,d,g){var v=n(r,s),w=GF(i,d);return v.fold(function(){return g.logEventNoHandlers(r,s),ky.complete()},function(C){var E=C.descHandler,O=np(E);return O(w),w.isStopped()?(g.logEventStopped(r,C.element,E.purpose),ky.stopped()):w.isCut()?(g.logEventCut(r,C.element,E.purpose),ky.complete()):yu(C.element).fold(function(){return g.logNoParent(r,C.element,E.purpose),ky.complete()},function(_){return g.logEventResponse(r,C.element,E.purpose),ky.resume(_)})})},XT=function(n,r,i,s,d,g){return h3(n,r,i,s,d,g).fold(Zt,function(v){return XT(n,r,i,v,d,g)},yn)},JF=function(n,r,i,s,d){var g=$T(i,s);return h3(n,r,i,s,g,d)},v3=function(n,r,i){var s=KF(r);return tn(n,function(d){var g=d.descHandler,v=np(g);v(s)}),s.isStopped()},$x=function(n,r,i,s){return GT(n,r,i,i.target,s)},GT=function(n,r,i,s,d){var g=$T(i,s);return XT(n,r,i,s,g,d)},Xx=function(n,r){return{element:n,descHandler:r}},ZF=function(n,r){return{id:n,descHandler:r}},QF=function(){var n={},r=function(v,w,C){zr(C,function(E,O){var _=n[O]!==void 0?n[O]:{};_[w]=Mm(E,v),n[O]=_})},i=function(v,w){return Qg(w).fold(function(){return S.none()},function(C){return v.bind(function(E){return cr(E,C)}).map(function(E){return Xx(w,E)})})},s=function(v){return cr(n,v).map(function(w){return Oo(w,function(C,E){return ZF(E,C)})}).getOr([])},d=function(v,w,C){var E=cr(n,w);return Am(C,function(O){return i(E,O)},v)},g=function(v){zr(n,function(w,C){w.hasOwnProperty(v)&&delete w[v]})};return{registerId:r,unregisterId:g,filterByType:s,find:d}},tB=function(){var n=QF(),r={},i=function(E){var O=E.element;return Qg(O).fold(function(){return e1("uid-",E.element)},function(_){return _})},s=function(E,O){var _=r[O];if(_===E)g(E);else throw new Error('The tagId "'+O+'" is already used by: '+El(_.element)+`
Cannot use it for: `+El(E.element)+`
The conflicting element is`+(ws(_.element)?" ":" not ")+"already in the DOM")},d=function(E){var O=i(E);zo(r,O)&&s(E,O);var _=[E];n.registerId(_,O,E.events),r[O]=E},g=function(E){Qg(E.element).each(function(O){delete r[O],n.unregisterId(O)})},v=function(E){return n.filterByType(E)},w=function(E,O,_){return n.find(E,O,_)},C=function(E){return cr(r,E)};return{find:w,filter:v,register:d,unregister:g,getById:C}},nB=function(n){var r=n.dom,i=r.attributes,s=ln(r,["attributes"]);return{uid:n.uid,dom:tt({tag:"div",attributes:tt({role:"presentation"},i)},s),components:n.components,behaviours:kv(n.containerBehaviours),events:n.events,domModification:n.domModification,eventOrder:n.eventOrder}},ca=uc({name:"Container",factory:nB,configFields:[It("components",[]),tu("containerBehaviours",[]),It("events",{}),It("domModification",{}),It("eventOrder",{})]}),KT=function(n){var r=function(ut){return yu(n.element).fold(Zt,function(Dt){return Ur(ut,Dt)})},i=tB(),s=function(ut,Dt){return i.find(r,ut,Dt)},d=XF(n.element,{triggerEvent:function(ut,Dt){return cp(ut,Dt.target,function(Lt){return $x(s,ut,Dt,Lt)})}}),g={debugInfo:st("real"),triggerEvent:function(ut,Dt,Lt){cp(ut,Dt,function(Yt){return GT(s,ut,Lt,Dt,Yt)})},triggerFocus:function(ut,Dt){Qg(ut).fold(function(){yf(ut)},function(Lt){cp(Ls(),ut,function(Yt){return JF(s,Ls(),{originator:Dt,kill:ft,prevent:ft,target:ut},ut,Yt),!1})})},triggerEscape:function(ut,Dt){g.triggerEvent("keydown",ut.element,Dt.event)},getByUid:function(ut){return et(ut)},getByDom:function(ut){return bt(ut)},build:ua,addToGui:function(ut){C(ut)},removeFromGui:function(ut){E(ut)},addToWorld:function(ut){v(ut)},removeFromWorld:function(ut){w(ut)},broadcast:function(ut){R(ut)},broadcastOn:function(ut,Dt){G(ut,Dt)},broadcastEvent:function(ut,Dt){ot(ut,Dt)},isConnected:Zt},v=function(ut){ut.connect(g),ad(ut.element)||(i.register(ut),tn(ut.components(),v),g.triggerEvent(ed(),ut.element,{target:ut.element}))},w=function(ut){ad(ut.element)||(tn(ut.components(),w),i.unregister(ut)),ut.disconnect()},C=function(ut){Ys(n,ut)},E=function(ut){kf(ut)},O=function(){d.unbind(),af(n.element)},_=function(ut){var Dt=i.filter(Is());tn(Dt,function(Lt){var Yt=Lt.descHandler,xn=np(Yt);xn(ut)})},R=function(ut){_({universal:!0,data:ut})},G=function(ut,Dt){_({universal:!1,channels:ut,data:Dt})},ot=function(ut,Dt){var Lt=i.filter(ut);return v3(Lt,Dt)},et=function(ut){return i.getById(ut).fold(function(){return gn.error(new Error('Could not find component with uid: "'+ut+'" in system.'))},gn.value)},bt=function(ut){var Dt=Qg(ut).getOr("not found");return et(Dt)};return v(n),{root:n,element:n.element,destroy:O,add:C,remove:E,getByUid:et,getByDom:bt,addToWorld:v,removeFromWorld:w,broadcast:R,broadcastOn:G,broadcastEvent:ot}},eB=function(n,r){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:wt(n.items,r.interpreter)}},JT=st([It("prefix","form-field"),tu("fieldBehaviours",[mo,xe])]),rB=st([Nc({schema:[At("dom")],name:"label"}),Nc({factory:{sketch:function(n){return{uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}}}},schema:[At("text")],name:"aria-descriptor"}),Iu({factory:{sketch:function(n){var r=an(n,["factory"]);return n.factory.sketch(r)}},schema:[At("factory")],name:"field"})]),b3=function(n,r,i,s){var d=Li(n.fieldBehaviours,[mo.config({find:function(w){return Lo(w,n,"field")}}),xe.config({store:{mode:"manual",getValue:function(w){return mo.getCurrent(w).bind(xe.getValue)},setValue:function(w,C){mo.getCurrent(w).each(function(E){xe.setValue(E,C)})}}})]),g=po([si(function(w,C){var E=_f(w,n,["label","field","aria-descriptor"]);E.field().each(function(O){var _=tr(n.prefix);E.label().each(function(R){ho(R.element,"for",_),ho(O.element,"id",_)}),E["aria-descriptor"]().each(function(R){var G=tr(n.prefix);ho(R.element,"id",G),ho(O.element,"aria-describedby",G)})})})]),v={getField:function(w){return Lo(w,n,"field")},getLabel:function(w){return Lo(w,n,"label")}};return{uid:n.uid,dom:n.dom,components:r,behaviours:d,events:g,apis:v}},ko=Vu({name:"FormField",configFields:JT(),partFields:rB(),factory:b3,apis:{getField:function(n,r){return n.getField(r)},getLabel:function(n,r){return n.getLabel(r)}}}),ZT=function(n,r){return bs({attributes:Z([{key:r.tabAttr,value:"true"}])})},oB=Object.freeze({__proto__:null,exhibit:ZT}),iB=[It("tabAttr","data-alloy-tabstop")],Di=Pi({fields:iB,name:"tabstopping",active:oB}),Ey=tinymce.util.Tools.resolve("tinymce.html.Entities"),Ay=function(n,r,i,s){var d=aB(n,r,i,s);return ko.sketch(d)},uB=function(n,r){return Ay(n,r,[],[])},aB=function(n,r,i,s){return{dom:QT(i),components:n.toArray().concat([r]),fieldBehaviours:Un(s)}},Gx=function(){return QT([])},QT=function(n){return{tag:"div",classes:["tox-form__group"].concat(n)}},xg=function(n,r){return ko.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(n)}})},Mc=tr("form-component-change"),Ty=tr("form-close"),uh=tr("form-cancel"),Vf=tr("form-action"),Oy=tr("form-submit"),y3=tr("form-block"),w3=tr("form-unblock"),tO=tr("form-tabchange"),nO=tr("form-resize"),cB=function(n,r){var i,s=n.label.map(function(_){return xg(_,r)}),d=function(_){return function(R,G){$c(G.event.target,"[data-collection-item-value]").each(function(ot){_(R,G,ot,wu(ot,"data-collection-item-value"))})}},g=function(_,R){var G=wt(R,function(bt){var ut=rs.translate(bt.text),Dt=n.columns===1?'<div class="tox-collection__item-label">'+ut+"</div>":"",Lt='<div class="tox-collection__item-icon">'+bt.icon+"</div>",Yt={_:" "," - ":" ","-":" "},xn=ut.replace(/\_| \- |\-/g,function(vn){return Yt[vn]}),Mn=r.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+Mn+'" tabindex="-1" data-collection-item-value="'+Ey.encodeAllRaw(bt.value)+'" title="'+xn+'" aria-label="'+xn+'">'+Lt+Dt+"</div>"}),ot=n.columns!=="auto"&&n.columns>1?Xn(G,n.columns):[G],et=wt(ot,function(bt){return'<div class="tox-collection__group">'+bt.join("")+"</div>"});Zg(_.element,et.join(""))},v=d(function(_,R,G,ot){R.stop(),r.isDisabled()||Sr(_,Vf,{name:n.name,value:ot})}),w=[Fn(yl(),d(function(_,R,G){yf(G)})),Fn(Ps(),v),Fn(xc(),v),Fn(wl(),d(function(_,R,G){Ru(_.element,"."+r0).each(function(ot){jo(ot,r0)}),Yo(G,r0)})),Fn(jg(),d(function(_){Ru(_.element,"."+r0).each(function(R){jo(R,r0)})})),Cc(d(function(_,R,G,ot){Sr(_,Vf,{name:n.name,value:ot})}))],C=function(_,R){return wt(wa(_.element,".tox-collection__item"),R)},E=ko.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(n.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:Xt},behaviours:Un([yr.config({disabled:r.isDisabled,onDisabled:function(_){C(_,function(R){Yo(R,"tox-collection__item--state-disabled"),ho(R,"aria-disabled",!0)})},onEnabled:function(_){C(_,function(R){jo(R,"tox-collection__item--state-disabled"),Fa(R,"aria-disabled")})}}),nu(),Mr.config({}),xe.config({store:{mode:"memory",initialValue:[]},onSetValue:function(_,R){g(_,R),n.columns==="auto"&&Ox(_,5,"tox-collection__item").each(function(G){var ot=G.numRows,et=G.numColumns;vr.setGridSize(_,ot,et)}),Hr(_,nO)}}),Di.config({}),vr.config(SF(n.columns,"normal")),Yr("collection-events",w)]),eventOrder:(i={},i[ra()]=["disabling","alloy.base.behaviour","collection-events"],i)}),O=["tox-form__group--collection"];return Ay(s,E,O,[])},Cg=st([Cr("data"),It("inputAttributes",{}),It("inputStyles",{}),It("tag","input"),It("inputClasses",[]),to("onSetValue"),It("styles",{}),It("eventOrder",{}),tu("inputBehaviours",[xe,Fr]),It("selectOnFocus",!0)]),eO=function(n){return Un([Fr.config({onFocus:n.selectOnFocus?function(r){var i=r.element,s=df(i);i.dom.setSelectionRange(0,s.length)}:ft})])},sB=function(n){return tt(tt({},eO(n)),Li(n.inputBehaviours,[xe.config({store:tt(tt({mode:"manual"},n.data.map(function(r){return{initialValue:r}}).getOr({})),{getValue:function(r){return df(r.element)},setValue:function(r,i){var s=df(r.element);s!==i&&Wc(r.element,i)}}),onSetValue:n.onSetValue})]))},rO=function(n){return{tag:n.tag,attributes:tt({type:"text"},n.inputAttributes),styles:n.inputStyles,classes:n.inputClasses}},lB=function(n,r){return{uid:n.uid,dom:rO(n),components:[],behaviours:sB(n),eventOrder:n.eventOrder}},Sg=uc({name:"Input",configFields:Cg(),factory:lB}),x3={},C3={exports:x3};(function(n,r,i,s){(function(d){if(typeof r=="object"&&typeof i!="undefined")i.exports=d();else if(typeof n=="function"&&n.amd)n([],d);else{var g;typeof window!="undefined"?g=window:typeof w5!="undefined"?g=w5:typeof self!="undefined"?g=self:g=this,g.EphoxContactWrapper=d()}})(function(){return function(){function d(g,v,w){function C(_,R){if(!v[_]){if(!g[_]){var G=typeof s=="function"&&s;if(!R&&G)return G(_,!0);if(E)return E(_,!0);var ot=new Error("Cannot find module '"+_+"'");throw ot.code="MODULE_NOT_FOUND",ot}var et=v[_]={exports:{}};g[_][0].call(et.exports,function(bt){var ut=g[_][1][bt];return C(ut||bt)},et,et.exports,d,g,v,w)}return v[_].exports}for(var E=typeof s=="function"&&s,O=0;O<w.length;O++)C(w[O]);return C}return d}()({1:[function(d,g,v){var w=g.exports={},C,E;function O(){throw new Error("setTimeout has not been defined")}function _(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?C=setTimeout:C=O}catch{C=O}try{typeof clearTimeout=="function"?E=clearTimeout:E=_}catch{E=_}})();function R(Mn){if(C===setTimeout)return setTimeout(Mn,0);if((C===O||!C)&&setTimeout)return C=setTimeout,setTimeout(Mn,0);try{return C(Mn,0)}catch{try{return C.call(null,Mn,0)}catch{return C.call(this,Mn,0)}}}function G(Mn){if(E===clearTimeout)return clearTimeout(Mn);if((E===_||!E)&&clearTimeout)return E=clearTimeout,clearTimeout(Mn);try{return E(Mn)}catch{try{return E.call(null,Mn)}catch{return E.call(this,Mn)}}}var ot=[],et=!1,bt,ut=-1;function Dt(){!et||!bt||(et=!1,bt.length?ot=bt.concat(ot):ut=-1,ot.length&&Lt())}function Lt(){if(!et){var Mn=R(Dt);et=!0;for(var vn=ot.length;vn;){for(bt=ot,ot=[];++ut<vn;)bt&&bt[ut].run();ut=-1,vn=ot.length}bt=null,et=!1,G(Mn)}}w.nextTick=function(Mn){var vn=new Array(arguments.length-1);if(arguments.length>1)for(var ge=1;ge<arguments.length;ge++)vn[ge-1]=arguments[ge];ot.push(new Yt(Mn,vn)),ot.length===1&&!et&&R(Lt)};function Yt(Mn,vn){this.fun=Mn,this.array=vn}Yt.prototype.run=function(){this.fun.apply(null,this.array)},w.title="browser",w.browser=!0,w.env={},w.argv=[],w.version="",w.versions={};function xn(){}w.on=xn,w.addListener=xn,w.once=xn,w.off=xn,w.removeListener=xn,w.removeAllListeners=xn,w.emit=xn,w.prependListener=xn,w.prependOnceListener=xn,w.listeners=function(Mn){return[]},w.binding=function(Mn){throw new Error("process.binding is not supported")},w.cwd=function(){return"/"},w.chdir=function(Mn){throw new Error("process.chdir is not supported")},w.umask=function(){return 0}},{}],2:[function(d,g,v){(function(w){(function(C){var E=setTimeout;function O(){}function _(Lt,Yt){return function(){Lt.apply(Yt,arguments)}}function R(Lt){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Lt!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Dt(Lt,this)}function G(Lt,Yt){for(;Lt._state===3;)Lt=Lt._value;if(Lt._state===0){Lt._deferreds.push(Yt);return}Lt._handled=!0,R._immediateFn(function(){var xn=Lt._state===1?Yt.onFulfilled:Yt.onRejected;if(xn===null){(Lt._state===1?ot:et)(Yt.promise,Lt._value);return}var Mn;try{Mn=xn(Lt._value)}catch(vn){et(Yt.promise,vn);return}ot(Yt.promise,Mn)})}function ot(Lt,Yt){try{if(Yt===Lt)throw new TypeError("A promise cannot be resolved with itself.");if(Yt&&(typeof Yt=="object"||typeof Yt=="function")){var xn=Yt.then;if(Yt instanceof R){Lt._state=3,Lt._value=Yt,bt(Lt);return}else if(typeof xn=="function"){Dt(_(xn,Yt),Lt);return}}Lt._state=1,Lt._value=Yt,bt(Lt)}catch(Mn){et(Lt,Mn)}}function et(Lt,Yt){Lt._state=2,Lt._value=Yt,bt(Lt)}function bt(Lt){Lt._state===2&&Lt._deferreds.length===0&&R._immediateFn(function(){Lt._handled||R._unhandledRejectionFn(Lt._value)});for(var Yt=0,xn=Lt._deferreds.length;Yt<xn;Yt++)G(Lt,Lt._deferreds[Yt]);Lt._deferreds=null}function ut(Lt,Yt,xn){this.onFulfilled=typeof Lt=="function"?Lt:null,this.onRejected=typeof Yt=="function"?Yt:null,this.promise=xn}function Dt(Lt,Yt){var xn=!1;try{Lt(function(Mn){xn||(xn=!0,ot(Yt,Mn))},function(Mn){xn||(xn=!0,et(Yt,Mn))})}catch(Mn){if(xn)return;xn=!0,et(Yt,Mn)}}R.prototype.catch=function(Lt){return this.then(null,Lt)},R.prototype.then=function(Lt,Yt){var xn=new this.constructor(O);return G(this,new ut(Lt,Yt,xn)),xn},R.all=function(Lt){var Yt=Array.prototype.slice.call(Lt);return new R(function(xn,Mn){if(Yt.length===0)return xn([]);var vn=Yt.length;function ge(Oe,Sn){try{if(Sn&&(typeof Sn=="object"||typeof Sn=="function")){var Rn=Sn.then;if(typeof Rn=="function"){Rn.call(Sn,function(qe){ge(Oe,qe)},Mn);return}}Yt[Oe]=Sn,--vn===0&&xn(Yt)}catch(qe){Mn(qe)}}for(var Ar=0;Ar<Yt.length;Ar++)ge(Ar,Yt[Ar])})},R.resolve=function(Lt){return Lt&&typeof Lt=="object"&&Lt.constructor===R?Lt:new R(function(Yt){Yt(Lt)})},R.reject=function(Lt){return new R(function(Yt,xn){xn(Lt)})},R.race=function(Lt){return new R(function(Yt,xn){for(var Mn=0,vn=Lt.length;Mn<vn;Mn++)Lt[Mn].then(Yt,xn)})},R._immediateFn=typeof w=="function"?function(Lt){w(Lt)}:function(Lt){E(Lt,0)},R._unhandledRejectionFn=function(Lt){typeof console!="undefined"&&console&&console.warn("Possible Unhandled Promise Rejection:",Lt)},R._setImmediateFn=function(Lt){R._immediateFn=Lt},R._setUnhandledRejectionFn=function(Lt){R._unhandledRejectionFn=Lt},typeof g!="undefined"&&g.exports?g.exports=R:C.Promise||(C.Promise=R)})(this)}).call(this,d("timers").setImmediate)},{timers:3}],3:[function(d,g,v){(function(w,C){var E=d("process/browser.js").nextTick,O=Function.prototype.apply,_=Array.prototype.slice,R={},G=0;v.setTimeout=function(){return new ot(O.call(setTimeout,window,arguments),clearTimeout)},v.setInterval=function(){return new ot(O.call(setInterval,window,arguments),clearInterval)},v.clearTimeout=v.clearInterval=function(et){et.close()};function ot(et,bt){this._id=et,this._clearFn=bt}ot.prototype.unref=ot.prototype.ref=function(){},ot.prototype.close=function(){this._clearFn.call(window,this._id)},v.enroll=function(et,bt){clearTimeout(et._idleTimeoutId),et._idleTimeout=bt},v.unenroll=function(et){clearTimeout(et._idleTimeoutId),et._idleTimeout=-1},v._unrefActive=v.active=function(et){clearTimeout(et._idleTimeoutId);var bt=et._idleTimeout;bt>=0&&(et._idleTimeoutId=setTimeout(function(){et._onTimeout&&et._onTimeout()},bt))},v.setImmediate=typeof w=="function"?w:function(et){var bt=G++,ut=arguments.length<2?!1:_.call(arguments,1);return R[bt]=!0,E(function(){R[bt]&&(ut?et.apply(null,ut):et.call(null),v.clearImmediate(bt))}),bt},v.clearImmediate=typeof C=="function"?C:function(et){delete R[et]}}).call(this,d("timers").setImmediate,d("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(d,g,v){var w=d("promise-polyfill"),C=function(){return typeof window!="undefined"?window:Function("return this;")()}();g.exports={boltExport:C.Promise||w}},{"promise-polyfill":2}]},{},[4])(4)})})(void 0,x3,C3,void 0);var oO=C3.exports.boltExport,S3=function(n){var r=S.none(),i=[],s=function(E){return S3(function(O){d(function(_){O(E(_))})})},d=function(E){v()?C(E):i.push(E)},g=function(E){v()||(r=S.some(E),w(i),i=[])},v=function(){return r.isSome()},w=function(E){tn(E,C)},C=function(E){r.each(function(O){setTimeout(function(){E(O)},0)})};return n(g),{get:d,map:s,isReady:v}},fB=function(n){return S3(function(r){r(n)})},dB={nu:S3,pure:fB},mB=function(n){setTimeout(function(){throw n},0)},p0=function(n){var r=function(C){n().then(C,mB)},i=function(C){return p0(function(){return n().then(C)})},s=function(C){return p0(function(){return n().then(function(E){return C(E).toPromise()})})},d=function(C){return p0(function(){return n().then(function(){return C.toPromise()})})},g=function(){return dB.nu(r)},v=function(){var C=null;return p0(function(){return C===null&&(C=n()),C})},w=n;return{map:i,bind:s,anonBind:d,toLazy:g,toCached:v,toPromise:w,get:r}},gB=function(n){return p0(function(){return new oO(n)})},iO=function(n){return p0(function(){return oO.resolve(n)})},Qu={nu:gB,pure:iO},pB=["input","textarea"],uO=function(n){var r=Ja(n);return Ft(pB,r)},k3=function(n,r){var i=r.getRoot(n).getOr(n.element);jo(i,r.invalidClass),r.notify.each(function(s){uO(n.element)&&ho(n.element,"aria-invalid",!1),s.getContainer(n).each(function(d){Zg(d,s.validHtml)}),s.onValid(n)})},el=function(n,r,i,s){var d=r.getRoot(n).getOr(n.element);Yo(d,r.invalidClass),r.notify.each(function(g){uO(n.element)&&ho(n.element,"aria-invalid",!0),g.getContainer(n).each(function(v){Zg(v,s)}),g.onInvalid(n,s)})},cm=function(n,r,i){return r.validator.fold(function(){return Qu.pure(gn.value(!0))},function(s){return s.validate(n)})},E3=function(n,r,i){return r.notify.each(function(s){s.onValidate(n)}),cm(n,r).map(function(s){return n.getSystem().isConnected()?s.fold(function(d){return el(n,r,i,d),gn.error(d)},function(d){return k3(n,r),gn.value(d)}):gn.error("No longer in system")})},aO=function(n,r){var i=r.getRoot(n).getOr(n.element);return tc(i,r.invalidClass)},cO=Object.freeze({__proto__:null,markValid:k3,markInvalid:el,query:cm,run:E3,isInvalid:aO}),Kx=function(n,r){return n.validator.map(function(i){return po([Fn(i.onEvent,function(s){E3(s,n,r).get(Xt)})].concat(i.validateOnLoad?[si(function(s){E3(s,n,r).get(ft)})]:[]))}).getOr({})},hB=Object.freeze({__proto__:null,events:Kx}),A3=[At("invalidClass"),It("getRoot",S.none),Gi("notify",[It("aria","alert"),It("getContainer",S.none),It("validHtml",""),to("onValid"),to("onInvalid"),to("onValidate")]),Gi("validator",[At("validate"),It("onEvent","input"),It("validateOnLoad",!0)])],rl=Pi({fields:A3,name:"invalidating",active:hB,apis:cO,extra:{validation:function(n){return function(r){var i=xe.getValue(r);return Qu.pure(n(i))}}}}),T3=function(n,r,i,s){return i.getOrCreate(n,r,s)},vB=Object.freeze({__proto__:null,getCoupled:T3}),bB=[gr("others",Jl(gn.value,Ou()))],yB=function(){var n={},r=function(s,d,g){var v=lr(d.others);if(v)return cr(n,g).getOrThunk(function(){var w=cr(d.others,g).getOrDie("No information found for coupled component: "+g),C=w(s),E=s.getSystem().build(C);return n[g]=E,E});throw new Error("Cannot find coupled component: "+g+". Known coupled components: "+JSON.stringify(v,null,2))},i=st({});return Ec({readState:i,getOrCreate:r})},Jx=Object.freeze({__proto__:null,init:yB}),Ii=Pi({fields:bB,name:"coupling",apis:vB,state:Jx}),sO=st("sink"),lO=st(Nc({name:sO(),overrides:st({dom:{tag:"div"},behaviours:Un([Zu.config({useFixed:Zt})]),events:po([Hs(Om()),Hs(wc()),Hs(Ps())])})})),ol;(function(n){n[n.HighlightFirst=0]="HighlightFirst",n[n.HighlightNone=1]="HighlightNone"})(ol||(ol={}));var fO=function(n,r){var i=n.getHotspot(r).getOr(r),s="hotspot",d=n.getAnchorOverrides();return n.layouts.fold(function(){return{anchor:s,hotspot:i,overrides:d}},function(g){return{anchor:s,hotspot:i,overrides:d,layouts:g}})},dO=function(n,r,i){var s=n.fetch;return s(i).map(r)},wB=function(n,r,i,s,d,g,v){var w=dO(n,r,s),C=D3(s,n);return w.map(function(E){return E.bind(function(O){return S.from(Zp.sketch(tt(tt({},g.menu()),{uid:vs(""),data:O,highlightImmediately:v===ol.HighlightFirst,onOpenMenu:function(_,R){var G=C().getOrDie();Zu.position(G,i,R),Wr.decloak(d)},onOpenSubmenu:function(_,R,G){var ot=C().getOrDie();Zu.position(ot,{anchor:"submenu",item:R},G),Wr.decloak(d)},onRepositionMenu:function(_,R,G){var ot=C().getOrDie();Zu.position(ot,i,R),tn(G,function(et){Zu.position(ot,{anchor:"submenu",item:et.triggeringItem},et.triggeredMenu)})},onEscape:function(){return Fr.focus(s),Wr.close(d),S.some(!0)}})))})})},O3=function(n,r,i,s,d,g,v){var w=fO(n,i),C=wB(n,r,w,i,s,d,v);return C.map(function(E){return E.fold(function(){Wr.isOpen(s)&&Wr.close(s)},function(O){Wr.cloak(s),Wr.open(s,O),g(s)}),s})},mO=function(n,r,i,s,d,g,v){return Wr.close(s),Qu.pure(s)},h0=function(n,r,i,s,d,g){var v=Ii.getCoupled(i,"sandbox"),w=Wr.isOpen(v),C=w?mO:O3;return C(n,r,i,v,s,d,g)},xB=function(n,r,i){var s=mo.getCurrent(r).getOr(r),d=va(n.element);i?Xr(s.element,"min-width",d+"px"):hS(s.element,d)},D3=function(n,r){return n.getSystem().getByUid(r.uid+"-"+sO()).map(function(i){return function(){return gn.value(i)}}).getOrThunk(function(){return r.lazySink.fold(function(){return function(){return gn.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(i){return function(){return i(n)}})})},_3=function(n){Wr.getState(n).each(function(r){Zp.repositionMenus(r)})},F3=function(n,r,i){var s=S1(),d=function(w,C){var E=fO(n,r);s.link(r.element),n.matchWidth&&xB(E.hotspot,C,n.useMinWidth),n.onOpen(E,w,C),i!==void 0&&i.onOpen!==void 0&&i.onOpen(w,C)},g=function(w,C){s.unlink(r.element),i!==void 0&&i.onClose!==void 0&&i.onClose(w,C)},v=D3(r,n);return{dom:{tag:"div",classes:n.sandboxClasses,attributes:{id:s.id,role:"listbox"}},behaviours:Ca.augment(n.sandboxBehaviours,[xe.config({store:{mode:"memory",initialValue:r}}),Wr.config({onOpen:d,onClose:g,isPartOf:function(w,C,E){return Us(C,E)||Us(r,E)},getAttachPoint:function(){return v().getOrDie()}}),mo.config({find:function(w){return Wr.getState(w).bind(function(C){return mo.getCurrent(C)})}}),Lu.config({channels:tt(tt({},Of({isExtraPart:yn})),wv({doReposition:_3}))})])}},gO=function(n){var r=Ii.getCoupled(n,"sandbox");_3(r)},B3=function(){return[It("sandboxClasses",[]),Ca.field("sandboxBehaviours",[mo,Lu,Wr,xe])]},CB=st([At("dom"),At("fetch"),to("onOpen"),Io("onExecute"),It("getHotspot",S.some),It("getAnchorOverrides",st({})),Dl(),tu("dropdownBehaviours",[Gt,Ii,vr,Fr]),At("toggleClass"),It("eventOrder",{}),Cr("lazySink"),It("matchWidth",!1),It("useMinWidth",!1),Cr("role")].concat(B3())),SB=st([ns({schema:[Ol()],name:"menu",defaults:function(n){return{onExecute:n.onExecute}}}),lO()]),Zx=function(n,r,i,s){var d,g=function(O){return cr(n.dom,"attributes").bind(function(_){return cr(_,O)})},v=function(O){Wr.getState(O).each(function(_){Zp.highlightPrimary(_)})},w=function(O){var _=v;h0(n,function(R){return R},O,s,_,ol.HighlightFirst).get(ft)},C={expand:function(O){Gt.isOn(O)||h0(n,function(_){return _},O,s,ft,ol.HighlightNone).get(ft)},open:function(O){Gt.isOn(O)||h0(n,function(_){return _},O,s,ft,ol.HighlightFirst).get(ft)},isOpen:Gt.isOn,close:function(O){Gt.isOn(O)&&h0(n,function(_){return _},O,s,ft,ol.HighlightFirst).get(ft)},repositionMenus:function(O){Gt.isOn(O)&&gO(O)}},E=function(O,_){return od(O),S.some(!0)};return{uid:n.uid,dom:n.dom,components:r,behaviours:Li(n.dropdownBehaviours,[Gt.config({toggleClass:n.toggleClass,aria:{mode:"expanded"}}),Ii.config({others:{sandbox:function(O){return F3(n,O,{onOpen:function(){return Gt.on(O)},onClose:function(){return Gt.off(O)}})}}}),vr.config({mode:"special",onSpace:E,onEnter:E,onDown:function(O,_){if(ki.isOpen(O)){var R=Ii.getCoupled(O,"sandbox");v(R)}else ki.open(O);return S.some(!0)},onEscape:function(O,_){return ki.isOpen(O)?(ki.close(O),S.some(!0)):S.none()}}),Fr.config({})]),events:Bn(S.some(w)),eventOrder:tt(tt({},n.eventOrder),(d={},d[ra()]=["disabling","toggling","alloy.base.behaviour"],d)),apis:C,domModification:{attributes:tt(tt({"aria-haspopup":"true"},n.role.fold(function(){return{}},function(O){return{role:O}})),n.dom.tag==="button"?{type:g("type").getOr("button")}:{})}}},ki=Vu({name:"Dropdown",configFields:CB(),partFields:SB(),factory:Zx,apis:{open:function(n,r){return n.open(r)},expand:function(n,r){return n.expand(r)},close:function(n,r){return n.close(r)},isOpen:function(n,r){return n.isOpen(r)},repositionMenus:function(n,r){return n.repositionMenus(r)}}}),pO=function(){return bs({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},kB=function(){return po([zh(eS(),Zt)])},EB=Object.freeze({__proto__:null,events:kB,exhibit:pO}),Dy=Pi({fields:[],name:"unselecting",active:EB}),AB=function(n,r){return ki.sketch({dom:n.dom,components:n.components,toggleClass:"mce-active",dropdownBehaviours:Un([tl.button(r.providers.isDisabled),nu(),Dy.config({}),Di.config({})]),layouts:n.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:r.getSink,fetch:function(i){return Qu.nu(function(s){return n.fetch(s)}).map(function(s){return S.from(jT($r(c3(tr("menu-value"),s,function(d){n.onItemAction(i,d)},n.columns,n.presets,Il.CLOSE_ON_EXECUTE,yn,r.providers),{movement:qx(n.columns,n.presets)})))})},parts:{menu:Ex(!1,1,n.presets)}})},N3=tr("color-input-change"),hO=tr("color-swatch-change"),vO=tr("color-picker-cancel"),bO=function(n,r,i){var s=ko.parts.field({factory:Sg,inputClasses:["tox-textfield"],onSetValue:function(C){return rl.run(C).get(ft)},inputBehaviours:Un([yr.config({disabled:r.providers.isDisabled}),nu(),Di.config({}),rl.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(C){return yu(C.element)},notify:{onValid:function(C){var E=xe.getValue(C);Sr(C,N3,{color:E})}},validator:{validateOnLoad:!1,validate:function(C){var E=xe.getValue(C);if(E.length===0)return Qu.pure(gn.value(!0));var O=Fe.fromTag("span");Xr(O,"background-color",E);var _=di(O,"background-color").fold(function(){return gn.error("blah")},function(R){return gn.value(E)});return Qu.pure(_)}}})]),selectOnFocus:!1}),d=n.label.map(function(C){return xg(C,r.providers)}),g=function(C,E){Sr(C,hO,{value:E})},v=function(C,E){w.getOpt(C).each(function(O){E==="custom"?i.colorPicker(function(_){_.fold(function(){return Hr(O,vO)},function(R){g(O,R),DT(R)})},"#ffffff"):E==="remove"?g(O,""):g(O,E)})},w=_o(AB({dom:{tag:"span",attributes:{"aria-label":r.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[$i,lu,Pu]},onLtr:function(){return[lu,$i,Pu]}},components:[],fetch:BT(i.getColors(),i.hasCustomColors()),columns:i.getColorCols(),presets:"color",onItemAction:v},r));return ko.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:d.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[s,w.asSpec()]}]),fieldBehaviours:Un([Yr("form-field-events",[Fn(N3,function(C,E){w.getOpt(C).each(function(O){Xr(O.element,"background-color",E.event.color)}),Sr(C,Mc,{name:n.name})}),Fn(hO,function(C,E){ko.getField(C).each(function(O){xe.setValue(O,E.event.value),mo.getCurrent(C).each(Fr.focus)})}),Fn(vO,function(C,E){ko.getField(C).each(function(O){mo.getCurrent(C).each(Fr.focus)})})])])})},Qx=function(n,r,i){return{hue:n,saturation:r,value:i}},yO=function(n){var r=0,i=0,s=0,d=n.red/255,g=n.green/255,v=n.blue/255,w=Math.min(d,Math.min(g,v)),C=Math.max(d,Math.max(g,v));if(w===C)return s=w,Qx(0,0,s*100);var E=d===w?g-v:v===w?d-g:v-d;return r=d===w?3:v===w?1:5,r=60*(r-E/(C-w)),i=(C-w)/C,s=C,Qx(Math.round(r),Math.round(i*100),Math.round(s*100))},wO=function(n){var r=(100-n)/100*360,i=Qx(r,100,100),s=ST(i);return Hx(s)},xO=tr("rgb-hex-update"),CO=tr("slider-update"),SO=tr("palette-update"),TB=Nc({schema:[At("dom")],name:"label"}),kg=function(n){return Nc({name:""+n+"-edge",overrides:function(r){var i=r.model.manager.edgeActions[n];return i.fold(function(){return{}},function(s){return{events:po([W0(Yu(),function(d,g,v){return s(d,v)},[r]),W0(wc(),function(d,g,v){return s(d,v)},[r]),W0(Tm(),function(d,g,v){v.mouseIsDown.get()&&s(d,v)},[r])])}})}})},OB=kg("top-left"),DB=kg("top"),v0=kg("top-right"),_B=kg("right"),FB=kg("bottom-right"),Eg=kg("bottom"),BB=kg("bottom-left"),NB=kg("left"),Bs=Iu({name:"thumb",defaults:st({dom:{styles:{position:"absolute"}}}),overrides:function(n){return{events:po([$u(Yu(),n,"spectrum"),$u(ef(),n,"spectrum"),$u(ea(),n,"spectrum"),$u(wc(),n,"spectrum"),$u(Tm(),n,"spectrum"),$u(_h(),n,"spectrum")])}}}),kO=Iu({schema:[xi("mouseIsDown",function(){return re(!1)})],name:"spectrum",overrides:function(n){var r=n.model,i=r.manager,s=function(d,g){return i.getValueFromEvent(g).map(function(v){return i.setValueFrom(d,n,v)})};return{behaviours:Un([vr.config({mode:"special",onLeft:function(d){return i.onLeft(d,n)},onRight:function(d){return i.onRight(d,n)},onUp:function(d){return i.onUp(d,n)},onDown:function(d){return i.onDown(d,n)}}),Fr.config({})]),events:po([Fn(Yu(),s),Fn(ef(),s),Fn(wc(),s),Fn(Tm(),function(d,g){n.mouseIsDown.get()&&s(d,g)})])}}}),EO=[TB,NB,_B,DB,Eg,OB,v0,BB,FB,Bs,kO],zB="slider.change.value",Ag=st(zB),MB=function(n){return n.type.indexOf("touch")!==-1},tC=function(n){var r=n.event.raw;if(MB(r)){var i=r;return i.touches!==void 0&&i.touches.length===1?S.some(i.touches[0]).map(function(d){return Xo(d.clientX,d.clientY)}):S.none()}else{var s=r;return s.clientX!==void 0?S.some(s).map(function(d){return Xo(d.clientX,d.clientY)}):S.none()}},RB="top",PB="right",LB="bottom",z3="left",ah=function(n){return n.model.minX},ch=function(n){return n.model.minY},nC=function(n){return n.model.minX-1},eC=function(n){return n.model.minY-1},sh=function(n){return n.model.maxX},lh=function(n){return n.model.maxY},rC=function(n){return n.model.maxX+1},_y=function(n){return n.model.maxY+1},M3=function(n,r,i){return r(n)-i(n)},R3=function(n){return M3(n,sh,ah)},P3=function(n){return M3(n,lh,ch)},AO=function(n){return R3(n)/2},TO=function(n){return P3(n)/2},b0=function(n){return n.stepSize},L3=function(n){return n.snapToGrid},I3=function(n){return n.snapStart},H3=function(n){return n.rounded},fh=function(n,r){return n[r+"-edge"]!==void 0},OO=function(n){return fh(n,z3)},V3=function(n){return fh(n,PB)},DO=function(n){return fh(n,RB)},_O=function(n){return fh(n,LB)},sm=function(n){return n.model.value.get()},FO=function(n){return{x:n}},Fy=function(n){return{y:n}},Tg=function(n,r){return{x:n,y:r}},il=function(n,r){Sr(n,Ag(),{value:r})},lm=function(n,r){il(n,Tg(nC(r),eC(r)))},IB=function(n,r){il(n,Fy(eC(r)))},y0=function(n,r){il(n,Tg(AO(r),eC(r)))},BO=function(n,r){il(n,Tg(rC(r),eC(r)))},U3=function(n,r){il(n,FO(rC(r)))},HB=function(n,r){il(n,Tg(rC(r),TO(r)))},VB=function(n,r){il(n,Tg(rC(r),_y(r)))},UB=function(n,r){il(n,Fy(_y(r)))},NO=function(n,r){il(n,Tg(AO(r),_y(r)))},jB=function(n,r){il(n,Tg(nC(r),_y(r)))},oC=function(n,r){il(n,FO(nC(r)))},qB=function(n,r){il(n,Tg(nC(r),TO(r)))},Rc=function(n,r,i,s){return n<r?n:n>i?i:n===r?r-1:Math.max(r,n-s)},j3=function(n,r,i,s){return n>i?n:n<r?r:n===i?i+1:Math.min(i,n+s)},zO=function(n,r,i){return Math.max(r,Math.min(i,n))},WB=function(n,r,i,s,d){return d.fold(function(){var g=n-r,v=Math.round(g/s)*s;return zO(r+v,r-1,i+1)},function(g){var v=(n-g)%s,w=Math.round(v/s),C=Math.floor((n-g)/s),E=Math.floor((i-g)/s),O=Math.min(E,C+w),_=g+O*s;return Math.max(g,_)})},MO=function(n,r,i){return Math.min(i,Math.max(n,r))-r},RO=function(n){var r=n.min,i=n.max,s=n.range,d=n.value,g=n.step,v=n.snap,w=n.snapStart,C=n.rounded,E=n.hasMinEdge,O=n.hasMaxEdge,_=n.minBound,R=n.maxBound,G=n.screenRange,ot=E?r-1:r,et=O?i+1:i;if(d<_)return ot;if(d>R)return et;var bt=MO(d,_,R),ut=zO(bt/G*s+r,ot,et);return v&&ut>=r&&ut<=i?WB(ut,r,i,g,w):C?Math.round(ut):ut},PO=function(n){var r=n.min,i=n.max,s=n.range,d=n.value,g=n.hasMinEdge,v=n.hasMaxEdge,w=n.maxBound,C=n.maxOffset,E=n.centerMinEdge,O=n.centerMaxEdge;return d<r?g?0:E:d>i?v?w:O:(d-r)/s*C},q3="top",LO="right",IO="bottom",W3="left",YB="width",HO="height",Uf=function(n){return n.element.dom.getBoundingClientRect()},ul=function(n,r){return n[r]},iC=function(n){var r=Uf(n);return ul(r,W3)},Y3=function(n){var r=Uf(n);return ul(r,LO)},dh=function(n){var r=Uf(n);return ul(r,q3)},VO=function(n){var r=Uf(n);return ul(r,IO)},By=function(n){var r=Uf(n);return ul(r,YB)},mh=function(n){var r=Uf(n);return ul(r,HO)},$3=function(n,r,i){return(n+r)/2-i},X3=function(n,r){var i=Uf(n),s=Uf(r),d=ul(i,W3),g=ul(i,LO),v=ul(s,W3);return $3(d,g,v)},G3=function(n,r){var i=Uf(n),s=Uf(r),d=ul(i,q3),g=ul(i,IO),v=ul(s,q3);return $3(d,g,v)},uC=function(n,r){Sr(n,Ag(),{value:r})},aC=function(n){return{x:n}},w0=function(n,r,i){var s={min:ah(r),max:sh(r),range:R3(r),value:i,step:b0(r),snap:L3(r),snapStart:I3(r),rounded:H3(r),hasMinEdge:OO(r),hasMaxEdge:V3(r),minBound:iC(n),maxBound:Y3(n),screenRange:By(n)};return RO(s)},$B=function(n,r,i){var s=w0(n,r,i),d=aC(s);return uC(n,d),s},XB=function(n,r){var i=ah(r);uC(n,aC(i))},UO=function(n,r){var i=sh(r);uC(n,aC(i))},jO=function(n,r,i){var s=n>0?j3:Rc,d=s(sm(i).x,ah(i),sh(i),b0(i));return uC(r,aC(d)),S.some(d)},K3=function(n){return function(r,i){return jO(n,r,i).map(Zt)}},qO=function(n){var r=tC(n);return r.map(function(i){return i.left})},Ha=function(n,r,i,s,d){var g=0,v=By(n),w=s.bind(function(O){return S.some(X3(O,n))}).getOr(g),C=d.bind(function(O){return S.some(X3(O,n))}).getOr(v),E={min:ah(r),max:sh(r),range:R3(r),value:i,hasMinEdge:OO(r),hasMaxEdge:V3(r),minBound:iC(n),minOffset:g,maxBound:Y3(n),maxOffset:v,centerMinEdge:w,centerMaxEdge:C};return PO(E)},cC=function(n,r,i,s,d,g){var v=Ha(r,g,i,s,d);return iC(r)-iC(n)+v},GB=function(n,r,i,s){var d=sm(i),g=cC(n,s.getSpectrum(n),d.x,s.getLeftEdge(n),s.getRightEdge(n),i),v=va(r.element)/2;Xr(r.element,"left",g-v+"px")},KB=K3(-1),WO=K3(1),JB=S.none,ZB=S.none,QB={"top-left":S.none(),top:S.none(),"top-right":S.none(),right:S.some(U3),"bottom-right":S.none(),bottom:S.none(),"bottom-left":S.none(),left:S.some(oC)},YO=Object.freeze({__proto__:null,setValueFrom:$B,setToMin:XB,setToMax:UO,findValueOfOffset:w0,getValueFromEvent:qO,findPositionOfValue:cC,setPositionFromValue:GB,onLeft:KB,onRight:WO,onUp:JB,onDown:ZB,edgeActions:QB}),al=function(n,r){Sr(n,Ag(),{value:r})},x0=function(n){return{y:n}},sC=function(n,r,i){var s={min:ch(r),max:lh(r),range:P3(r),value:i,step:b0(r),snap:L3(r),snapStart:I3(r),rounded:H3(r),hasMinEdge:DO(r),hasMaxEdge:_O(r),minBound:dh(n),maxBound:VO(n),screenRange:mh(n)};return RO(s)},J3=function(n,r,i){var s=sC(n,r,i),d=x0(s);return al(n,d),s},Z3=function(n,r){var i=ch(r);al(n,x0(i))},t8=function(n,r){var i=lh(r);al(n,x0(i))},n8=function(n,r,i){var s=n>0?j3:Rc,d=s(sm(i).y,ch(i),lh(i),b0(i));return al(r,x0(d)),S.some(d)},$O=function(n){return function(r,i){return n8(n,r,i).map(Zt)}},e8=function(n){var r=tC(n);return r.map(function(i){return i.top})},r8=function(n,r,i,s,d){var g=0,v=mh(n),w=s.bind(function(O){return S.some(G3(O,n))}).getOr(g),C=d.bind(function(O){return S.some(G3(O,n))}).getOr(v),E={min:ch(r),max:lh(r),range:P3(r),value:i,hasMinEdge:DO(r),hasMaxEdge:_O(r),minBound:dh(n),minOffset:g,maxBound:VO(n),maxOffset:v,centerMinEdge:w,centerMaxEdge:C};return PO(E)},Ny=function(n,r,i,s,d,g){var v=r8(r,g,i,s,d);return dh(r)-dh(n)+v},o8=function(n,r,i,s){var d=sm(i),g=Ny(n,s.getSpectrum(n),d.y,s.getTopEdge(n),s.getBottomEdge(n),i),v=zu(r.element)/2;Xr(r.element,"top",g-v+"px")},XO=S.none,i8=S.none,Q3=$O(-1),GO=$O(1),KO={"top-left":S.none(),top:S.some(IB),"top-right":S.none(),right:S.none(),"bottom-right":S.none(),bottom:S.some(UB),"bottom-left":S.none(),left:S.none()},u8=Object.freeze({__proto__:null,setValueFrom:J3,setToMin:Z3,setToMax:t8,findValueOfOffset:sC,getValueFromEvent:e8,findPositionOfValue:Ny,setPositionFromValue:o8,onLeft:XO,onRight:i8,onUp:Q3,onDown:GO,edgeActions:KO}),lC=function(n,r){Sr(n,Ag(),{value:r})},fC=function(n,r){return{x:n,y:r}},a8=function(n,r,i){var s=w0(n,r,i.left),d=sC(n,r,i.top),g=fC(s,d);return lC(n,g),g},JO=function(n,r,i,s){var d=n>0?j3:Rc,g=r?sm(s).x:d(sm(s).x,ah(s),sh(s),b0(s)),v=r?d(sm(s).y,ch(s),lh(s),b0(s)):sm(s).y;return lC(i,fC(g,v)),S.some(g)},zy=function(n,r){return function(i,s){return JO(n,r,i,s).map(Zt)}},c8=function(n,r){var i=ah(r),s=ch(r);lC(n,fC(i,s))},s8=function(n,r){var i=sh(r),s=lh(r);lC(n,fC(i,s))},l8=function(n){return tC(n)},f8=function(n,r,i,s){var d=sm(i),g=cC(n,s.getSpectrum(n),d.x,s.getLeftEdge(n),s.getRightEdge(n),i),v=Ny(n,s.getSpectrum(n),d.y,s.getTopEdge(n),s.getBottomEdge(n),i),w=va(r.element)/2,C=zu(r.element)/2;Xr(r.element,"left",g-w+"px"),Xr(r.element,"top",v-C+"px")},d8=zy(-1,!1),ZO=zy(1,!1),QO=zy(-1,!0),m8=zy(1,!0),g8={"top-left":S.some(lm),top:S.some(y0),"top-right":S.some(BO),right:S.some(HB),"bottom-right":S.some(VB),bottom:S.some(NO),"bottom-left":S.some(jB),left:S.some(qB)},dC=Object.freeze({__proto__:null,setValueFrom:a8,setToMin:c8,setToMax:s8,getValueFromEvent:l8,setPositionFromValue:f8,onLeft:d8,onRight:ZO,onUp:QO,onDown:m8,edgeActions:g8}),p8=[It("stepSize",1),It("onChange",ft),It("onChoose",ft),It("onInit",ft),It("onDragStart",ft),It("onDragEnd",ft),It("snapToGrid",!1),It("rounded",!0),Cr("snapStart"),gr("model",bu("mode",{x:[It("minX",0),It("maxX",100),xi("value",function(n){return re(n.mode.minX)}),At("getInitialValue"),Ho("manager",YO)],y:[It("minY",0),It("maxY",100),xi("value",function(n){return re(n.mode.minY)}),At("getInitialValue"),Ho("manager",u8)],xy:[It("minX",0),It("maxX",100),It("minY",0),It("maxY",100),xi("value",function(n){return re({x:n.mode.minX,y:n.mode.minY})}),At("getInitialValue"),Ho("manager",dC)]})),tu("sliderBehaviours",[vr,xe]),xi("mouseIsDown",function(){return re(!1)})],h8=function(n,r,i,s){var d,g=function(Yt){return _s(Yt,n,"thumb")},v=function(Yt){return _s(Yt,n,"spectrum")},w=function(Yt){return Lo(Yt,n,"left-edge")},C=function(Yt){return Lo(Yt,n,"right-edge")},E=function(Yt){return Lo(Yt,n,"top-edge")},O=function(Yt){return Lo(Yt,n,"bottom-edge")},_=n.model,R=_.manager,G=function(Yt,xn){R.setPositionFromValue(Yt,xn,n,{getLeftEdge:w,getRightEdge:C,getTopEdge:E,getBottomEdge:O,getSpectrum:v})},ot=function(Yt,xn){_.value.set(xn);var Mn=g(Yt);return G(Yt,Mn),n.onChange(Yt,Mn,xn),S.some(!0)},et=function(Yt){R.setToMin(Yt,n)},bt=function(Yt){R.setToMax(Yt,n)},ut=function(Yt){var xn=function(){Lo(Yt,n,"thumb").each(function(vn){var ge=_.value.get();n.onChoose(Yt,vn,ge)})},Mn=n.mouseIsDown.get();n.mouseIsDown.set(!1),Mn&&xn()},Dt=function(Yt,xn){xn.stop(),n.mouseIsDown.set(!0),n.onDragStart(Yt,g(Yt))},Lt=function(Yt,xn){xn.stop(),n.onDragEnd(Yt,g(Yt)),ut(Yt)};return{uid:n.uid,dom:n.dom,components:r,behaviours:Li(n.sliderBehaviours,[vr.config({mode:"special",focusIn:function(Yt){return Lo(Yt,n,"spectrum").map(vr.focusIn).map(Zt)}}),xe.config({store:{mode:"manual",getValue:function(Yt){return _.value.get()}}}),Lu.config({channels:(d={},d[Xs()]={onReceive:ut},d)})]),events:po([Fn(Ag(),function(Yt,xn){ot(Yt,xn.event.value)}),si(function(Yt,xn){var Mn=_.getInitialValue();_.value.set(Mn);var vn=g(Yt);G(Yt,vn);var ge=v(Yt);n.onInit(Yt,vn,ge,_.value.get())}),Fn(Yu(),Dt),Fn(ea(),Lt),Fn(wc(),Dt),Fn(_h(),Lt)]),apis:{resetToMin:et,resetToMax:bt,changeValue:ot,refresh:G},domModification:{styles:{position:"relative"}}}},jf=Vu({name:"Slider",configFields:p8,partFields:EO,factory:h8,apis:{resetToMin:function(n,r){n.resetToMin(r)},resetToMax:function(n,r){n.resetToMax(r)},refresh:function(n,r){n.refresh(r)}}}),v8=function(n,r){var i=jf.parts.spectrum({dom:{tag:"div",classes:[r("hue-slider-spectrum")],attributes:{role:"presentation"}}}),s=jf.parts.thumb({dom:{tag:"div",classes:[r("hue-slider-thumb")],attributes:{role:"presentation"}}});return jf.sketch({dom:{tag:"div",classes:[r("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:st({y:0})},components:[i,s],sliderBehaviours:Un([Fr.config({})]),onChange:function(d,g,v){Sr(d,CO,{value:v})}})},My="form",tE=[tu("formBehaviours",[xe])],tD=function(n){return"<alloy.field."+n+">"},b8=function(n){var r=function(){var g=[],v=function(w,C){return g.push(w),Dv(My,tD(w),C)};return{field:v,record:function(){return g}}}(),i=n(r),s=r.record(),d=wt(s,function(g){return Iu({name:g,pname:tD(g)})});return Tb(My,tE,d,y8,i)},mC=function(n,r){return n.fold(function(){return gn.error(r)},gn.value)},y8=function(n,r){return{uid:n.uid,dom:n.dom,components:r,behaviours:Li(n.formBehaviours,[xe.config({store:{mode:"manual",getValue:function(i){var s=lg(i,n);return Er(s,function(d,g){return d().bind(function(v){var w=mo.getCurrent(v);return mC(w,new Error("Cannot find a current component to extract the value from for form part '"+g+"': "+El(v.element)))}).map(xe.getValue)})},setValue:function(i,s){zr(s,function(d,g){Lo(i,n,g).each(function(v){mo.getCurrent(v).each(function(w){xe.setValue(w,d)})})})}}})]),apis:{getField:function(i,s){return Lo(i,n,s).bind(mo.getCurrent)}}}},Og={getField:Ba(function(n,r,i){return n.getField(r,i)}),sketch:b8},nE=tr("valid-input"),nD=tr("invalid-input"),eD=tr("validating-input"),gC="colorcustom.rgb.",rD=function(n,r,i,s){var d=function(R,G){return rl.config({invalidClass:r("invalid"),notify:{onValidate:function(ot){Sr(ot,eD,{type:R})},onValid:function(ot){Sr(ot,nE,{type:R,value:xe.getValue(ot)})},onInvalid:function(ot){Sr(ot,nD,{type:R,value:xe.getValue(ot)})}},validator:{validate:function(ot){var et=xe.getValue(ot),bt=G(et)?gn.value(!0):gn.error(n("aria.input.invalid"));return Qu.pure(bt)},validateOnLoad:!1}})},g=function(R,G,ot,et,bt){var ut=n(gC+"range"),Dt=ko.parts.label({dom:{tag:"label",innerHtml:ot,attributes:{"aria-label":et}}}),Lt=ko.parts.field({data:bt,factory:Sg,inputAttributes:tt({type:"text"},G==="hex"?{"aria-live":"polite"}:{}),inputClasses:[r("textfield")],inputBehaviours:Un([d(G,R),Di.config({})]),onSetValue:function(vn){if(rl.isInvalid(vn)){var ge=rl.run(vn);ge.get(ft)}}}),Yt=[Dt,Lt],xn=G!=="hex"?[ko.parts["aria-descriptor"]({text:ut})]:[],Mn=Yt.concat(xn);return{dom:{tag:"div",attributes:{role:"presentation"}},components:Mn}},v=function(R,G){var ot=Hx(G);return Og.getField(R,"hex").each(function(et){Fr.isFocused(et)||xe.setValue(R,{hex:ot.value})}),ot},w=function(R,G){var ot=G.red,et=G.green,bt=G.blue;xe.setValue(R,{red:ot,green:et,blue:bt})},C=_o({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),E=function(R,G){C.getOpt(R).each(function(ot){Xr(ot.element,"background-color","#"+G.value)})},O=function(){var R={red:re(S.some(255)),green:re(S.some(255)),blue:re(S.some(255)),hex:re(S.some("ffffff"))},G=function(Rn,qe){var kr=r3(qe);w(Rn,kr),ut(kr)},ot=function(Rn){return R[Rn].get()},et=function(Rn,qe){R[Rn].set(qe)},bt=function(){return ot("red").bind(function(Rn){return ot("green").bind(function(qe){return ot("blue").map(function(kr){return ih(Rn,qe,kr,1)})})})},ut=function(Rn){var qe=Rn.red,kr=Rn.green,Jn=Rn.blue;et("red",S.some(qe)),et("green",S.some(kr)),et("blue",S.some(Jn))},Dt=function(Rn,qe){var kr=qe.event;kr.type!=="hex"?et(kr.type,S.none()):s(Rn)},Lt=function(Rn,qe){i(Rn);var kr=bT(qe);et("hex",S.some(qe));var Jn=r3(kr);w(Rn,Jn),ut(Jn),Sr(Rn,xO,{hex:kr}),E(Rn,kr)},Yt=function(Rn,qe,kr){var Jn=parseInt(kr,10);et(qe,S.some(Jn)),bt().each(function(er){var hr=v(Rn,er);E(Rn,hr)})},xn=function(Rn){return Rn.type==="hex"},Mn=function(Rn,qe){var kr=qe.event;xn(kr)?Lt(Rn,kr.value):Yt(Rn,kr.type,kr.value)},vn=function(Rn){return{label:n(gC+Rn+".label"),description:n(gC+Rn+".description")}},ge=vn("red"),Ar=vn("green"),Oe=vn("blue"),Sn=vn("hex");return $r(Og.sketch(function(Rn){return{dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":n("aria.color.picker")}},components:[Rn.field("red",ko.sketch(g(e3,"red",ge.label,ge.description,255))),Rn.field("green",ko.sketch(g(e3,"green",Ar.label,Ar.description,255))),Rn.field("blue",ko.sketch(g(e3,"blue",Oe.label,Oe.description,255))),Rn.field("hex",ko.sketch(g(t3,"hex",Sn.label,Sn.description,"ffffff"))),C.asSpec()],formBehaviours:Un([rl.config({invalidClass:r("form-invalid")}),Yr("rgb-form-events",[Fn(nE,Mn),Fn(nD,Dt),Fn(eD,Dt)])])}}),{apis:{updateHex:function(Rn,qe){xe.setValue(Rn,{hex:qe.value}),G(Rn,qe),E(Rn,qe)}}})},_=uc({factory:O,name:"RgbForm",configFields:[],apis:{updateHex:function(R,G,ot){R.updateHex(G,ot)}},extraApis:{}});return _},w8=function(n,r){var i=jf.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[r("sv-palette-spectrum")]}}),s=jf.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette-thumb")],innerHtml:"<div class="+r("sv-palette-inner-thumb")+' role="presentation"></div>'}}),d=function(C,E){var O=C.width,_=C.height,R=C.getContext("2d");if(R!==null){R.fillStyle=E,R.fillRect(0,0,O,_);var G=R.createLinearGradient(0,0,O,0);G.addColorStop(0,"rgba(255,255,255,1)"),G.addColorStop(1,"rgba(255,255,255,0)"),R.fillStyle=G,R.fillRect(0,0,O,_);var ot=R.createLinearGradient(0,0,0,_);ot.addColorStop(0,"rgba(0,0,0,0)"),ot.addColorStop(1,"rgba(0,0,0,1)"),R.fillStyle=ot,R.fillRect(0,0,O,_)}},g=function(C,E){var O=C.components()[0].element.dom;d(O,o3(E))},v=function(C){var E=st({x:0,y:0}),O=function(G,ot,et){Sr(G,SO,{value:et})},_=function(G,ot,et,bt){d(et.element.dom,o3(ET))},R=Un([mo.config({find:S.some}),Fr.config({})]);return jf.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette")]},model:{mode:"xy",getInitialValue:E},rounded:!1,components:[i,s],onChange:O,onInit:_,sliderBehaviours:R})},w=uc({factory:v,name:"SaturationBrightnessPalette",configFields:[],apis:{setRgba:function(C,E,O){g(E,O)}},extraApis:{}});return w},oD=function(n,r){var i=function(d){var g=rD(n,r,d.onValidHex,d.onInvalidHex),v=w8(n,r),w={paletteRgba:re(ET)},C=_o(v.sketch({})),E=_o(g.sketch({})),O=function(et,bt){C.getOpt(et).each(function(ut){var Dt=r3(bt);w.paletteRgba.set(Dt),v.setRgba(ut,Dt)})},_=function(et,bt){E.getOpt(et).each(function(ut){g.updateHex(ut,bt)})},R=function(et,bt,ut){tn(ut,function(Dt){Dt(et,bt)})},G=function(){var et=[_];return function(bt,ut){var Dt=ut.event.value,Lt=w.paletteRgba.get(),Yt=yO(Lt),xn=Qx(Yt.hue,Dt.x,100-Dt.y),Mn=ST(xn),vn=Hx(Mn);R(bt,vn,et)}},ot=function(){var et=[O,_];return function(bt,ut){var Dt=ut.event.value,Lt=wO(Dt.y);R(bt,Lt,et)}};return{uid:d.uid,dom:d.dom,components:[C.asSpec(),v8(n,r),E.asSpec()],behaviours:Un([Yr("colour-picker-events",[Fn(SO,G()),Fn(CO,ot())]),mo.config({find:function(et){return E.getOpt(et)}}),vr.config({mode:"acyclic"})])}},s=uc({name:"ColourPicker",configFields:[At("dom"),It("onValidHex",ft),It("onInvalidHex",ft)],factory:i});return s},iD=function(){return mo.config({find:S.some})},uD=function(n){return mo.config({find:n.getOpt})},aD=function(n){return mo.config({find:function(r){return Kg(r.element,n).bind(function(i){return r.getSystem().getByDom(i).toOptional()})}})},Vl={self:iD,memento:uD,childAt:aD},x8={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},C8=function(n){return x8[n]},cD=function(n){return C8(n)},S8=function(n){var r=function(v){return"tox-"+v},i=oD(cD,r),s=function(v){Sr(v,Vf,{name:"hex-valid",value:!0})},d=function(v){Sr(v,Vf,{name:"hex-valid",value:!1})},g=_o(i.sketch({dom:{tag:"div",classes:[r("color-picker-container")],attributes:{role:"presentation"}},onValidHex:s,onInvalidHex:d}));return{dom:{tag:"div"},components:[g.asSpec()],behaviours:Un([xe.config({store:{mode:"manual",getValue:function(v){var w=g.get(v),C=mo.getCurrent(w),E=C.bind(function(O){var _=xe.getValue(O);return _.hex});return E.map(function(O){return"#"+O}).getOr("")},setValue:function(v,w){var C=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,E=C.exec(w),O=g.get(v),_=mo.getCurrent(O);_.fold(function(){console.log("Can not find form")},function(R){xe.setValue(R,{hex:S.from(E[1]).getOr("")}),Og.getField(R,"hex").each(function(G){Hr(G,Dm())})})}}}),Vl.self()])}},sD=tinymce.util.Tools.resolve("tinymce.Resource"),k8=function(n){return Object.prototype.hasOwnProperty.call(n,"init")},E8=function(n){var r=re(S.none()),i=_o({dom:{tag:n.tag}}),s=re(S.none());return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Un([Yr("custom-editor-events",[si(function(d){i.getOpt(d).each(function(g){(k8(n)?n.init(g.element.dom):sD.load(n.scriptId,n.scriptUrl).then(function(v){return v(g.element.dom,n.settings)})).then(function(v){s.get().each(function(w){v.setValue(w)}),s.set(S.none()),r.set(S.some(v))})})})]),xe.config({store:{mode:"manual",getValue:function(){return r.get().fold(function(){return s.get().getOr("")},function(d){return d.getValue()})},setValue:function(d,g){r.get().fold(function(){s.set(S.some(g))},function(v){return v.setValue(g)})}}}),Vl.self()]),components:[i.asSpec()]}},ta=tinymce.util.Tools.resolve("tinymce.util.Tools"),A8=Nt([It("preprocess",Xt),It("postprocess",Xt)]),T8=function(n,r){var i=ji("RepresentingConfigs.memento processors",A8,r);return xe.config({store:{mode:"manual",getValue:function(s){var d=n.get(s),g=xe.getValue(d);return i.postprocess(g)},setValue:function(s,d){var g=i.preprocess(d),v=n.get(s);xe.setValue(v,g)}}})},lD=function(n,r,i){return xe.config($r({store:{mode:"manual",getValue:r,setValue:i}},n.map(function(s){return{store:{initialValue:s}}}).getOr({})))},eE=function(n,r,i){return lD(n,function(s){return r(s.element)},function(s,d){return i(s.element,d)})},O8=function(n){return eE(n,df,Wc)},D8=function(n){return eE(n,Bm,Zg)},_8=function(n){return xe.config({store:{mode:"memory",initialValue:n}})},Dg={memento:T8,withElement:eE,withComp:lD,domValue:O8,domHtml:D8,memory:_8},F8="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",B8=function(n,r){var i=ta.explode(r.getSetting("images_file_types",F8,"string")),s=function(d){return cn(i,function(g){return Uc(d.name.toLowerCase(),"."+g.toLowerCase())})};return gt(Zn(n),s)},qf=function(n,r){var i=function(_,R){R.stop()},s=function(_){return function(R,G){tn(_,function(ot){ot(R,G)})}},d=function(_,R){if(!yr.isDisabled(_)){var G=R.event.raw;v(_,G.dataTransfer.files)}},g=function(_,R){var G=R.event.raw.target;v(_,G.files)},v=function(_,R){xe.setValue(_,B8(R,r)),Sr(_,Mc,{name:n.name})},w=_o({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Un([Yr("input-file-events",[Hs(Ps()),Hs(xc())])])}),C=function(_){return{uid:_.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Un([Dg.memory([]),Vl.self(),yr.config({}),Gt.config({toggleClass:"dragenter",toggleOnExecute:!1}),Yr("dropzone-events",[Fn("dragenter",s([i,Gt.toggle])),Fn("dragleave",s([i,Gt.toggle])),Fn("dragover",i),Fn("drop",s([i,d])),Fn(qg(),g)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:r.translate("Drop an image here")}},Sa.sketch({dom:{tag:"button",innerHtml:r.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[w.asSpec()],action:function(R){var G=w.get(R);G.element.dom.click()},buttonBehaviours:Un([Di.config({}),tl.button(r.isDisabled),nu()])})]}]}},E=n.label.map(function(_){return xg(_,r)}),O=ko.parts.field({factory:{sketch:C}});return Ay(E,O,["tox-form__group--stretched"],[])},pC=function(n,r){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+n.columns+"col"]},components:wt(n.items,r.interpreter)}},rE=tr("alloy-fake-before-tabstop"),oE=tr("alloy-fake-after-tabstop"),iE=function(n){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:n},behaviours:Un([Fr.config({ignore:!0}),Di.config({})])}},uE=function(n){return{dom:{tag:"div",classes:["tox-navobj"]},components:[iE([rE]),n,iE([oE])],behaviours:Un([Vl.childAt(1)])}},hC=function(n,r){Sr(n,Om(),{raw:{which:9,shiftKey:r}})},fD=function(n,r){var i=r.element;tc(i,rE)?hC(n,!0):tc(i,oE)&&hC(n,!1)},fm=function(n){return g0(n,["."+rE,"."+oE].join(","),yn)},Ry=!(Ga().browser.isIE()||Ga().browser.isEdge()),N8=function(n){var r=re("");return{getValue:function(i){return r.get()},setValue:function(i,s){if(n)ho(i.element,"srcdoc",s);else{ho(i.element,"src","javascript:''");var d=i.element.dom.contentWindow.document;d.open(),d.write(s),d.close()}r.set(s)}}},z8=function(n,r){var i=Ry&&n.sandboxed,s=tt(tt({},n.label.map(function(C){return{title:C}}).getOr({})),i?{sandbox:"allow-scripts allow-same-origin"}:{}),d=N8(i),g=n.label.map(function(C){return xg(C,r)}),v=function(C){return uE({uid:C.uid,dom:{tag:"iframe",attributes:s},behaviours:Un([Di.config({}),Fr.config({}),Dg.withComp(S.none(),d.getValue,d.setValue)])})},w=ko.parts.field({factory:{sketch:v}});return Ay(g,w,["tox-form__group--stretched"],[])},C0=function(n,r){return dD(document.createElement("canvas"),n,r)},M8=function(n){var r=C0(n.width,n.height),i=dm(r);return i.drawImage(n,0,0),r},dm=function(n){return n.getContext("2d")},dD=function(n,r,i){return n.width=r,n.height=i,n},aE=function(n){return n.naturalWidth||n.width},Py=function(n){return n.naturalHeight||n.height},gh=function(){var n=function(_){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof _!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],O(_,s(v,this),s(w,this))},r=window,i=n.immediateFn||typeof r.setImmediate=="function"&&r.setImmediate||function(_){return setTimeout(_,1)},s=function(_,R){return function(){for(var G=[],ot=0;ot<arguments.length;ot++)G[ot]=arguments[ot];return _.apply(R,G)}},d=Array.isArray||function(_){return Object.prototype.toString.call(_)==="[object Array]"};function g(_){var R=this;if(this._state===null){this._deferreds.push(_);return}i(function(){var G=R._state?_.onFulfilled:_.onRejected;if(G===null){(R._state?_.resolve:_.reject)(R._value);return}var ot;try{ot=G(R._value)}catch(et){_.reject(et);return}_.resolve(ot)})}function v(_){try{if(_===this)throw new TypeError("A promise cannot be resolved with itself.");if(_&&(typeof _=="object"||typeof _=="function")){var R=_.then;if(typeof R=="function"){O(s(R,_),s(v,this),s(w,this));return}}this._state=!0,this._value=_,C.call(this)}catch(G){w.call(this,G)}}function w(_){this._state=!1,this._value=_,C.call(this)}function C(){for(var _=0,R=this._deferreds;_<R.length;_++){var G=R[_];g.call(this,G)}this._deferreds=[]}function E(_,R,G,ot){this.onFulfilled=typeof _=="function"?_:null,this.onRejected=typeof R=="function"?R:null,this.resolve=G,this.reject=ot}var O=function(_,R,G){var ot=!1;try{_(function(et){ot||(ot=!0,R(et))},function(et){ot||(ot=!0,G(et))})}catch(et){if(ot)return;ot=!0,G(et)}};return n.prototype.catch=function(_){return this.then(null,_)},n.prototype.then=function(_,R){var G=this;return new n(function(ot,et){g.call(G,new E(_,R,ot,et))})},n.all=function(){for(var _=[],R=0;R<arguments.length;R++)_[R]=arguments[R];var G=Array.prototype.slice.call(_.length===1&&d(_[0])?_[0]:_);return new n(function(ot,et){if(G.length===0)return ot([]);for(var bt=G.length,ut=function(Lt,Yt){try{if(Yt&&(typeof Yt=="object"||typeof Yt=="function")){var xn=Yt.then;if(typeof xn=="function"){xn.call(Yt,function(Mn){ut(Lt,Mn)},et);return}}G[Lt]=Yt,--bt===0&&ot(G)}catch(Mn){et(Mn)}},Dt=0;Dt<G.length;Dt++)ut(Dt,G[Dt])})},n.resolve=function(_){return _&&typeof _=="object"&&_.constructor===n?_:new n(function(R){R(_)})},n.reject=function(_){return new n(function(R,G){G(_)})},n.race=function(_){return new n(function(R,G){for(var ot=0,et=_;ot<et.length;ot++){var bt=et[ot];bt.then(R,G)}})},n},ph=window.Promise?window.Promise:gh(),mD=function(n){return new ph(function(r,i){var s=URL.createObjectURL(n),d=new Image,g=function(){d.removeEventListener("load",v),d.removeEventListener("error",w)},v=function(){g(),r(d)},w=function(){g(),i("Unable to load data of type "+n.type+": "+s)};d.addEventListener("load",v),d.addEventListener("error",w),d.src=s,d.complete&&setTimeout(v,0)})},R8=function(n){var r=n.split(","),i=/data:([^;]+)/.exec(r[0]);if(!i)return S.none();for(var s=i[1],d=r[1],g=1024,v=atob(d),w=v.length,C=Math.ceil(w/g),E=new Array(C),O=0;O<C;++O){for(var _=O*g,R=Math.min(_+g,w),G=new Array(R-_),ot=_,et=0;ot<R;++et,++ot)G[et]=v[ot].charCodeAt(0);E[O]=new Uint8Array(G)}return S.some(new Blob(E,{type:s}))},P8=function(n){return new ph(function(r,i){R8(n).fold(function(){i("uri is not base64: "+n)},r)})},gD=function(n,r,i){return r=r||"image/png",He(HTMLCanvasElement.prototype.toBlob)?new ph(function(s,d){n.toBlob(function(g){g?s(g):d()},r,i)}):P8(n.toDataURL(r,i))},L8=function(n,r,i){return r=r||"image/png",n.toDataURL(r,i)},I8=function(n){return mD(n).then(function(r){cE(r);var i=C0(aE(r),Py(r)),s=dm(i);return s.drawImage(r,0,0),i})},pD=function(n){return new ph(function(r){var i=new FileReader;i.onloadend=function(){r(i.result)},i.readAsDataURL(n)})},cE=function(n){URL.revokeObjectURL(n.src)},hD=function(n,r,i){var s=r.type,d=st(s),g=function(){return ph.resolve(r)},v=st(i),w=function(){return i.split(",")[1]},C=function(R,G){return n.then(function(ot){return gD(ot,R,G)})},E=function(R,G){return n.then(function(ot){return L8(ot,R,G)})},O=function(R,G){return E(R,G).then(function(ot){return ot.split(",")[1]})},_=function(){return n.then(M8)};return{getType:d,toBlob:g,toDataURL:v,toBase64:w,toAdjustedBlob:C,toAdjustedDataURL:E,toAdjustedBase64:O,toCanvas:_}},vD=function(n){return pD(n).then(function(r){return hD(I8(n),n,r)})},mm=function(n,r){return gD(n,r).then(function(i){return hD(ph.resolve(n),i,n.toDataURL())})},sE=function(n){return vD(n)},S0=function(n,r,i){var s=typeof n=="string"?parseFloat(n):n;return s>i?s=i:s<r&&(s=r),s},bD=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},k0=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],vC=function(n,r){for(var i=[],s=new Array(25),d,g=0;g<5;g++){for(var v=0;v<5;v++)i[v]=r[v+g*5];for(var v=0;v<5;v++){d=0;for(var w=0;w<5;w++)d+=n[v+w*5]*i[w];s[v+g*5]=d}}return s},H8=function(n,r){var i;return r=S0(r,-1,1),r*=100,r<0?i=127+r/100*127:(i=r%1,i===0?i=k0[r]:i=k0[Math.floor(r)]*(1-i)+k0[Math.floor(r)+1]*i,i=i*127+127),vC(n,[i/127,0,0,0,.5*(127-i),0,i/127,0,0,.5*(127-i),0,0,i/127,0,.5*(127-i),0,0,0,1,0,0,0,0,0,1])},V8=function(n,r){return r=S0(255*r,-255,255),vC(n,[1,0,0,0,r,0,1,0,0,r,0,0,1,0,r,0,0,0,1,0,0,0,0,0,1])},U8=function(n,r,i,s){return r=S0(r,0,2),i=S0(i,0,2),s=S0(s,0,2),vC(n,[r,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0,0,0,0,0,1])},lE=function(n,r){return n.toCanvas().then(function(i){return gm(i,n.getType(),r)})},gm=function(n,r,i){var s=dm(n),d=function(v,w){for(var C,E,O,_,R=v.data,G=w[0],ot=w[1],et=w[2],bt=w[3],ut=w[4],Dt=w[5],Lt=w[6],Yt=w[7],xn=w[8],Mn=w[9],vn=w[10],ge=w[11],Ar=w[12],Oe=w[13],Sn=w[14],Rn=w[15],qe=w[16],kr=w[17],Jn=w[18],er=w[19],hr=0;hr<R.length;hr+=4)C=R[hr],E=R[hr+1],O=R[hr+2],_=R[hr+3],R[hr]=C*G+E*ot+O*et+_*bt+ut,R[hr+1]=C*Dt+E*Lt+O*Yt+_*xn+Mn,R[hr+2]=C*vn+E*ge+O*Ar+_*Oe+Sn,R[hr+3]=C*Rn+E*qe+O*kr+_*Jn+er;return v},g=d(s.getImageData(0,0,n.width,n.height),i);return s.putImageData(g,0,0),mm(n,r)},yD=function(n,r){return n.toCanvas().then(function(i){return wD(i,n.getType(),r)})},wD=function(n,r,i){var s=dm(n),d=function(w,C,E){for(var O=function(qe,kr,Jn){return qe>Jn?qe=Jn:qe<kr&&(qe=kr),qe},_=Math.round(Math.sqrt(E.length)),R=Math.floor(_/2),G=w.data,ot=C.data,et=w.width,bt=w.height,ut=0;ut<bt;ut++)for(var Dt=0;Dt<et;Dt++){for(var Lt=0,Yt=0,xn=0,Mn=0;Mn<_;Mn++)for(var vn=0;vn<_;vn++){var ge=O(Dt+vn-R,0,et-1),Ar=O(ut+Mn-R,0,bt-1),Oe=(Ar*et+ge)*4,Sn=E[Mn*_+vn];Lt+=G[Oe]*Sn,Yt+=G[Oe+1]*Sn,xn+=G[Oe+2]*Sn}var Rn=(ut*et+Dt)*4;ot[Rn]=O(Lt,0,255),ot[Rn+1]=O(Yt,0,255),ot[Rn+2]=O(xn,0,255)}return C},g=s.getImageData(0,0,n.width,n.height),v=s.getImageData(0,0,n.width,n.height);return v=d(g,v,i),s.putImageData(v,0,0),mm(n,r)},xD=function(n){var r=function(i,s,d){for(var g=dm(i),v=new Array(256),w=function(O,_){for(var R=O.data,G=0;G<R.length;G+=4)R[G]=_[R[G]],R[G+1]=_[R[G+1]],R[G+2]=_[R[G+2]];return O},C=0;C<v.length;C++)v[C]=n(C,d);var E=w(g.getImageData(0,0,i.width,i.height),v);return g.putImageData(E,0,0),mm(i,s)};return function(i,s){return i.toCanvas().then(function(d){return r(d,i.getType(),s)})}},fE=function(n){return function(r,i){return lE(r,n(bD(),i))}},CD=function(n){return function(r){return lE(r,n)}},SD=function(n){return function(r){return yD(r,n)}},j8=CD([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),q8=fE(V8),W8=fE(H8),kD=function(n,r,i,s){return lE(n,U8(bD(),r,i,s))},Y8=SD([0,-1,0,-1,5,-1,0,-1,0]),$8=xD(function(n,r){return Math.pow(n/255,1-r)*255}),dE=function(n,r,i){var s=aE(n),d=Py(n),g=r/s,v=i/d,w=!1;(g<.5||g>2)&&(g=g<.5?.5:2,w=!0),(v<.5||v>2)&&(v=v<.5?.5:2,w=!0);var C=ED(n,g,v);return w?C.then(function(E){return dE(E,r,i)}):C},ED=function(n,r,i){return new ph(function(s){var d=aE(n),g=Py(n),v=Math.floor(d*r),w=Math.floor(g*i),C=C0(v,w),E=dm(C);E.drawImage(n,0,0,d,g,0,0,v,w),s(C)})},AD=function(n,r){return n.toCanvas().then(function(i){return X8(i,n.getType(),r)})},X8=function(n,r,i){var s=C0(n.width,n.height),d=dm(s),g=0,v=0;return i=i<0?360+i:i,(i===90||i===270)&&dD(s,s.height,s.width),(i===90||i===180)&&(g=s.width),(i===270||i===180)&&(v=s.height),d.translate(g,v),d.rotate(i*Math.PI/180),d.drawImage(n,0,0),mm(s,r)},TD=function(n,r){return n.toCanvas().then(function(i){return OD(i,n.getType(),r)})},OD=function(n,r,i){var s=C0(n.width,n.height),d=dm(s);return i==="v"?(d.scale(1,-1),d.drawImage(n,0,-s.height)):(d.scale(-1,1),d.drawImage(n,-s.width,0)),mm(s,r)},G8=function(n,r,i,s,d){return n.toCanvas().then(function(g){return K8(g,n.getType(),r,i,s,d)})},K8=function(n,r,i,s,d,g){var v=C0(d,g),w=dm(v);return w.drawImage(n,-i,-s),mm(v,r)},J8=function(n,r,i){return n.toCanvas().then(function(s){return dE(s,r,i).then(function(d){return mm(d,n.getType())})})},Z8=function(n){return j8(n)},Q8=function(n){return Y8(n)},t7=function(n,r){return $8(n,r)},DD=function(n,r,i,s){return kD(n,r,i,s)},n7=function(n,r){return q8(n,r)},e7=function(n,r){return W8(n,r)},_D=function(n,r){return TD(n,r)},Ao=function(n,r,i,s,d){return G8(n,r,i,s,d)},Ly=function(n,r,i){return J8(n,r,i)},mE=function(n,r){return AD(n,r)},gE=function(n,r){return tt({dom:{tag:"span",innerHtml:n,classes:["tox-icon","tox-tbtn__icon-wrap"]}},r)},Iy=function(n,r){return gE(cc(n,r),{})},FD=function(n,r){return gE(cc(n,r),{behaviours:Un([Mr.config({})])})},pE=function(n,r,i){return{dom:{tag:"span",innerHtml:i.translate(n),classes:[r+"__select-label"]},behaviours:Un([Mr.config({})])}},hE,vE=tr("toolbar.button.execute"),r7=function(n){return Cc(function(r,i){Px(n,r)(function(s){Sr(r,vE,{buttonApi:s}),n.onAction(s)})})},BD=(hE={},hE[ra()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],hE),E0=tr("update-menu-text"),ND=tr("update-menu-icon"),bE=function(n,r,i){var s=re(ft),d=n.text.map(function(O){return _o(pE(O,r,i.providers))}),g=n.icon.map(function(O){return _o(FD(O,i.providers.icons))}),v=function(O,_){var R=xe.getValue(O);return Fr.focus(R),Sr(R,"keydown",{raw:_.event.raw}),ki.close(R),S.some(!0)},w=n.role.fold(function(){return{}},function(O){return{role:O}}),C=n.tooltip.fold(function(){return{}},function(O){var _=i.providers.translate(O);return{title:_,"aria-label":_}}),E=_o(ki.sketch(tt(tt(tt({},n.uid?{uid:n.uid}:{}),w),{dom:{tag:"button",classes:[r,r+"--select"].concat(wt(n.classes,function(O){return r+"--"+O})),attributes:tt({},C)},components:s0([g.map(function(O){return O.asSpec()}),d.map(function(O){return O.asSpec()}),S.some({dom:{tag:"div",classes:[r+"__select-chevron"],innerHtml:cc("chevron-down",i.providers.icons)}})]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Un(Y(n.dropdownBehaviours,[tl.button(function(){return n.disabled||i.providers.isDisabled()}),nu(),Dy.config({}),Mr.config({}),Yr("dropdown-events",[yy(n,s),c0(n,s)]),Yr("menubutton-update-display-text",[Fn(E0,function(O,_){d.bind(function(R){return R.getOpt(O)}).each(function(R){Mr.set(R,[mf(i.providers.translate(_.event.text))])})}),Fn(ND,function(O,_){g.bind(function(R){return R.getOpt(O)}).each(function(R){Mr.set(R,[FD(_.event.icon,i.providers.icons)])})})])])),eventOrder:$r(BD,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Un([vr.config({mode:"special",onLeft:v,onRight:v})]),lazySink:i.getSink,toggleClass:r+"--active",parts:{menu:Ex(!1,n.columns,n.presets)},fetch:function(O){return Qu.nu(Kn(n.fetch,O))}})));return E.asSpec()},o7=function(n){return Ie(n)},yE=function(n){return n.type==="separator"},i7=function(n){return ao(n,"getSubmenuItems")},u7={type:"separator"},a7=function(n,r){var i=nt(n,function(s,d){return o7(d)?d===""?s:d==="|"?s.length>0&&!yE(s[s.length-1])?s.concat([u7]):s:ao(r,d.toLowerCase())?s.concat([r[d.toLowerCase()]]):s:s.concat([d])},[]);return i.length>0&&yE(i[i.length-1])&&i.pop(),i},c7=function(n,r){var i=n.getSubmenuItems(),s=MD(i,r),d=$r(s.menus,P(n.value,s.items)),g=$r(s.expansions,P(n.value,n.value));return{item:n,menus:d,expansions:g}},zD=function(n,r){return i7(n)?c7(n,r):{item:n,menus:{},expansions:{}}},s7=function(n){if(yE(n))return n;var r=cr(n,"value").getOrThunk(function(){return tr("generated-menu-item")});return $r({value:r},n)},MD=function(n,r){var i=a7(Ie(n)?n.split(" "):n,r);return Wt(i,function(s,d){var g=s7(d),v=zD(g,r);return{menus:$r(s.menus,v.menus),items:[v.item].concat(s.items),expansions:$r(s.expansions,v.expansions)}},{menus:{},expansions:{},items:[]})},A0=function(n,r,i,s){var d=tr("primary-menu"),g=MD(n,i.shared.providers.menuItems());if(g.items.length===0)return S.none();var v=m3(d,g.items,r,i,s),w=Er(g.menus,function(E,O){return m3(O,E,r,i,!1)}),C=$r(w,P(d,v));return S.from(Zp.tieredData(d,C,g.expansions))},l7=function(n){return{isDisabled:function(){return yr.isDisabled(n)},setDisabled:function(r){return yr.set(n,r)},setActive:function(r){var i=n.element;r?(Yo(i,"tox-tbtn--enabled"),ho(i,"aria-pressed",!0)):(jo(i,"tox-tbtn--enabled"),Fa(i,"aria-pressed"))},isActive:function(){return tc(n.element,"tox-tbtn--enabled")}}},wE=function(n,r,i,s){return bE({text:n.text,icon:n.icon,tooltip:n.tooltip,role:s,fetch:function(d,g){n.fetch(function(v){g(A0(v,Il.CLOSE_ON_EXECUTE,i,!1))})},onSetup:n.onSetup,getApi:l7,columns:1,presets:"normal",classes:[],dropdownBehaviours:[Di.config({})]},r,i.shared)},f7=function(n,r,i){var s=function(g){return function(v){var w=!v.isActive();v.setActive(w),g.storage.set(w),i.shared.getSink().each(function(C){r().getOpt(C).each(function(E){yf(E.element),Sr(E,Vf,{name:g.name,value:g.storage.get()})})})}},d=function(g){return function(v){v.setActive(g.storage.get())}};return function(g){g(wt(n,function(v){var w=v.text.fold(function(){return{}},function(C){return{text:C}});return tt(tt({type:v.type,active:!1},w),{onAction:s(v),onSetup:d(v)})}))}},RD=function(n,r,i,s,d,g){i===void 0&&(i=[]);var v=r.fold(function(){return{}},function(E){return{action:E}}),w=tt({buttonBehaviours:Un([tl.button(function(){return n.disabled||g.isDisabled()}),nu(),Di.config({}),Yr("button press",[q0("click"),q0("mousedown")])].concat(i)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},v),C=$r(w,{dom:s});return $r(C,{components:d})},PD=function(n,r,i,s){s===void 0&&(s=[]);var d=n.tooltip.map(function(C){return{"aria-label":i.translate(C),title:i.translate(C)}}).getOr({}),g={tag:"button",classes:["tox-tbtn"],attributes:d},v=n.icon.map(function(C){return Iy(C,i.icons)}),w=s0([v]);return RD(n,r,s,g,w,i)},xE=function(n,r,i,s){s===void 0&&(s=[]);var d=PD(n,S.some(r),i,s);return Sa.sketch(d)},LD=function(n,r,i,s,d){s===void 0&&(s=[]),d===void 0&&(d=[]);var g=i.translate(n.text),v=n.icon?n.icon.map(function(_){return Iy(_,i.icons)}):S.none(),w=v.isSome()?s0([v]):[],C=v.isSome()?{}:{innerHtml:g},E=Y(!n.primary&&!n.borderless?["tox-button","tox-button--secondary"]:["tox-button"],v.isSome()?["tox-button--icon"]:[],n.borderless?["tox-button--naked"]:[],d),O=tt(tt({tag:"button",classes:E},C),{attributes:{title:g}});return RD(n,r,s,O,w,i)},bC=function(n,r,i,s,d){s===void 0&&(s=[]),d===void 0&&(d=[]);var g=LD(n,S.some(r),i,s,d);return Sa.sketch(g)},CE=function(n,r){return function(i){r==="custom"?Sr(i,Vf,{name:n,value:{}}):r==="submit"?Hr(i,Oy):r==="cancel"?Hr(i,uh):console.error("Unknown button type: ",r)}},ID=function(n,r){return r==="menu"},d7=function(n,r){return r==="custom"||r==="cancel"||r==="submit"},yC=function(n,r,i){if(ID(n,r)){var s=function(){return v},d=n,g=tt(tt({},n),{onSetup:function(E){return E.setDisabled(n.disabled),ft},fetch:f7(d.items,s,i)}),v=_o(wE(g,"tox-tbtn",i,S.none()));return v.asSpec()}else if(d7(n,r)){var w=CE(n.name,r),C=tt(tt({},n),{borderless:!1});return bC(C,w,i.shared.providers,[])}else console.error("Unknown footer button type: ",r)},m7=function(n,r){var i=CE(n.name,"custom");return uB(S.none(),ko.parts.field(tt({factory:Sa},LD(n,S.some(i),r,[Dg.memory(""),Vl.self()]))))},g7=st([It("field1Name","field1"),It("field2Name","field2"),Sd("onLockedChange"),Xc(["lockClass"]),It("locked",!1),Ca.field("coupledFieldBehaviours",[mo,xe])]),p7=function(n,r,i){return Lo(n,r,i).bind(mo.getCurrent)},HD=function(n,r){return Iu({factory:ko,name:n,overrides:function(i){return{fieldBehaviours:Un([Yr("coupled-input-behaviour",[Fn(Dm(),function(s){p7(s,i,r).each(function(d){Lo(s,i,"lock").each(function(g){Gt.isOn(g)&&i.onLockedChange(s,d,g)})})})])])}}})},Hy=st([HD("field1","field2"),HD("field2","field1"),Iu({factory:Sa,schema:[At("dom")],name:"lock",overrides:function(n){return{buttonBehaviours:Un([Gt.config({selected:n.locked,toggleClass:n.markers.lockClass,aria:{mode:"pressed"}})])}}})]),h7=function(n,r,i,s){return{uid:n.uid,dom:n.dom,components:r,behaviours:Ca.augment(n.coupledFieldBehaviours,[mo.config({find:S.some}),xe.config({store:{mode:"manual",getValue:function(d){var g,v=Ff(d,n,["field1","field2"]);return g={},g[n.field1Name]=xe.getValue(v.field1()),g[n.field2Name]=xe.getValue(v.field2()),g},setValue:function(d,g){var v=Ff(d,n,["field1","field2"]);zo(g,n.field1Name)&&xe.setValue(v.field1(),g[n.field1Name]),zo(g,n.field2Name)&&xe.setValue(v.field2(),g[n.field2Name])}}})]),apis:{getField1:function(d){return Lo(d,n,"field1")},getField2:function(d){return Lo(d,n,"field2")},getLock:function(d){return Lo(d,n,"lock")}}}},sc=Vu({name:"FormCoupledInputs",configFields:g7(),partFields:Hy(),factory:h7,apis:{getField1:function(n,r){return n.getField1(r)},getField2:function(n,r){return n.getField2(r)},getLock:function(n,r){return n.getLock(r)}}}),v7=function(n){var r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},i=function(d){return d in r?r[d]:1},s=n.value.toFixed(i(n.unit));return s.indexOf(".")!==-1&&(s=s.replace(/\.?0*$/,"")),s+n.unit},SE=function(n){var r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,i=r.exec(n);if(i!==null){var s=parseFloat(i[1]),d=i[2];return gn.value({value:s,unit:d})}else return gn.error(n)},VD=function(n,r){var i={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},s=function(d){return Object.prototype.hasOwnProperty.call(i,d)};return n.unit===r?S.some(n.value):s(n.unit)&&s(r)?i[n.unit]===i[r]?S.some(n.value):S.some(n.value/i[n.unit]*i[r]):S.none()},kE=function(n){return S.none()},UD=function(n,r){return function(i){return VD(i,r).map(function(s){return{value:s*n,unit:r}})}},jD=function(n,r){var i=SE(n).toOptional(),s=SE(r).toOptional();return Fv(i,s,function(d,g){return VD(d,g.unit).map(function(v){return g.value/v}).map(function(v){return UD(v,g.unit)}).getOr(kE)}).getOr(kE)},qD=function(n,r){var i=kE,s=tr("ratio-event"),d=sc.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:r.translate(n.label.getOr("Constrain proportions"))}},components:[{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__lock"],innerHtml:cc("lock",r.icons)}},{dom:{tag:"span",classes:["tox-icon","tox-lock-icon__unlock"],innerHtml:cc("unlock",r.icons)}}],buttonBehaviours:Un([yr.config({disabled:function(){return n.disabled||r.isDisabled()}}),nu(),Di.config({})])}),g=function(O){return{dom:{tag:"div",classes:["tox-form__group"]},components:O}},v=function(O){return ko.parts.field({factory:Sg,inputClasses:["tox-textfield"],inputBehaviours:Un([yr.config({disabled:function(){return n.disabled||r.isDisabled()}}),nu(),Di.config({}),Yr("size-input-events",[Fn(wl(),function(_,R){Sr(_,s,{isField1:O})}),Fn(qg(),function(_,R){Sr(_,Mc,{name:n.name})})])]),selectOnFocus:!1})},w=function(O){return{dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(O)}}},C=sc.parts.field1(g([ko.parts.label(w("Width")),v(!0)])),E=sc.parts.field2(g([ko.parts.label(w("Height")),v(!1)]));return sc.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[C,E,g([w("&nbsp;"),d])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(O,_,R){SE(xe.getValue(O)).each(function(G){i(G).each(function(ot){xe.setValue(_,v7(ot))})})},coupledFieldBehaviours:Un([yr.config({disabled:function(){return n.disabled||r.isDisabled()},onDisabled:function(O){sc.getField1(O).bind(ko.getField).each(yr.disable),sc.getField2(O).bind(ko.getField).each(yr.disable),sc.getLock(O).each(yr.disable)},onEnabled:function(O){sc.getField1(O).bind(ko.getField).each(yr.enable),sc.getField2(O).bind(ko.getField).each(yr.enable),sc.getLock(O).each(yr.enable)}}),nu(),Yr("size-input-events2",[Fn(s,function(O,_){var R=_.event.isField1,G=R?sc.getField1(O):sc.getField2(O),ot=R?sc.getField2(O):sc.getField1(O),et=G.map(xe.getValue).getOr(""),bt=ot.map(xe.getValue).getOr("");i=jD(et,bt)})])])})},wC=st(tr("undo")),xC=st(tr("redo")),b7=st(tr("zoom")),y7=st(tr("back")),w7=st(tr("apply")),x7=st(tr("swap")),EE=st(tr("transform")),AE=st(tr("temp-transform")),WD=st(tr("transform-apply")),sa={undo:wC,redo:xC,zoom:b7,back:y7,apply:w7,swap:x7,transform:EE,tempTransform:AE,transformApply:WD},TE=st("save-state"),C7=st("disable"),S7=st("enable"),Va={formActionEvent:Vf,saveState:TE,disable:C7,enable:S7},k7=function(n,r){var i=function(Re,Gr,Uo,Fi){return _o(bC({name:Re,text:Re,disabled:Uo,primary:Fi,icon:S.none(),borderless:!1},Gr,r))},s=function(Re,Gr,Uo,Fi){return _o(xE({name:Re,icon:S.some(Re),tooltip:S.some(Gr),disabled:Fi,primary:!1,borderless:!1},Uo,r))},d=function(Re,Gr){Re.map(function(Uo){var Fi=Uo.get(Gr);Fi.hasConfigured(yr)&&yr.disable(Fi)})},g=function(Re,Gr){Re.map(function(Uo){var Fi=Uo.get(Gr);Fi.hasConfigured(yr)&&yr.enable(Fi)})},v={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},w=ft,C=function(Re,Gr,Uo){Sr(Re,Gr,Uo)},E=function(Re){return Hr(Re,Va.disable())},O=function(Re){return Hr(Re,Va.enable())},_=function(Re,Gr){E(Re),C(Re,sa.transform(),{transform:Gr}),O(Re)},R=function(Re,Gr){E(Re),C(Re,sa.tempTransform(),{transform:Gr}),O(Re)},G=function(Re){return function(){ZC.getOpt(Re).each(function(Gr){Mr.set(Gr,[JC])})}},ot=function(Re,Gr){E(Re),C(Re,sa.transformApply(),{transform:Gr,swap:G(Re)}),O(Re)},et=function(){return i("Back",function(Re){return C(Re,sa.back(),{swap:G(Re)})},!1,!1)},bt=function(){return _o({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Un([yr.config({})])})},ut=function(){return i("Apply",function(Re){return C(Re,sa.apply(),{swap:G(Re)})},!0,!0)},Dt=function(){return function(Re){var Gr=n.getRect();return Ao(Re,Gr.x,Gr.y,Gr.w,Gr.h)}},Lt=[et(),bt(),i("Apply",function(Re){var Gr=Dt();ot(Re,Gr),n.hideCrop()},!1,!0)],Yt=ca.sketch({dom:v,components:Lt.map(function(Re){return Re.asSpec()}),containerBehaviours:Un([Yr("image-tools-crop-buttons-events",[Fn(Va.disable(),function(Re,Gr){d(Lt,Re)}),Fn(Va.enable(),function(Re,Gr){g(Lt,Re)})])])}),xn=_o(qD({name:"size",label:S.none(),constrain:!0,disabled:!1},r)),Mn=function(Re,Gr){return function(Uo){return Ly(Uo,Re,Gr)}},vn=[et(),bt(),xn,bt(),i("Apply",function(Re){xn.getOpt(Re).each(function(Gr){var Uo=xe.getValue(Gr),Fi=parseInt(Uo.width,10),cs=parseInt(Uo.height,10),ss=Mn(Fi,cs);ot(Re,ss)})},!1,!0)],ge=ca.sketch({dom:v,components:vn.map(function(Re){return Re.asSpec()}),containerBehaviours:Un([Yr("image-tools-resize-buttons-events",[Fn(Va.disable(),function(Re,Gr){d(vn,Re)}),Fn(Va.enable(),function(Re,Gr){g(vn,Re)})])])}),Ar=function(Re,Gr){return function(Uo){return Re(Uo,Gr)}},Oe=Ar(_D,"h"),Sn=Ar(_D,"v"),Rn=Ar(mE,-90),qe=Ar(mE,90),kr=function(Re,Gr){R(Re,Gr)},Jn=[et(),bt(),s("flip-horizontally","Flip horizontally",function(Re){kr(Re,Oe)},!1),s("flip-vertically","Flip vertically",function(Re){kr(Re,Sn)},!1),s("rotate-left","Rotate counterclockwise",function(Re){kr(Re,Rn)},!1),s("rotate-right","Rotate clockwise",function(Re){kr(Re,qe)},!1),bt(),ut()],er=ca.sketch({dom:v,components:Jn.map(function(Re){return Re.asSpec()}),containerBehaviours:Un([Yr("image-tools-fliprotate-buttons-events",[Fn(Va.disable(),function(Re,Gr){d(Jn,Re)}),Fn(Va.enable(),function(Re,Gr){g(Jn,Re)})])])}),hr=function(Re,Gr,Uo,Fi,cs){var ss=jf.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(Re)}}),Xl=jf.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),QC=jf.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return _o(jf.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:Uo,maxX:cs,getInitialValue:st({x:Fi})},components:[ss,Xl,QC],sliderBehaviours:Un([Fr.config({})]),onChoose:Gr}))},go=function(Re,Gr,Uo,Fi,cs){var ss=function(Xl,QC,yM){var wM=Ar(Gr,yM.x/100);_(Xl,wM)};return hr(Re,ss,Uo,Fi,cs)},qo=function(Re,Gr,Uo,Fi,cs){return[et(),go(Re,Gr,Uo,Fi,cs),ut()]},Ei=function(Re,Gr,Uo,Fi,cs){var ss=qo(Re,Gr,Uo,Fi,cs);return ca.sketch({dom:v,components:ss.map(function(Xl){return Xl.asSpec()}),containerBehaviours:Un([Yr("image-tools-filter-panel-buttons-events",[Fn(Va.disable(),function(Xl,QC){d(ss,Xl)}),Fn(Va.enable(),function(Xl,QC){g(ss,Xl)})])])})},$l=[et(),bt(),ut()],fl=ca.sketch({dom:v,components:$l.map(function(Re){return Re.asSpec()})}),fM=Ei("Brightness",n7,-100,0,100),dM=Ei("Contrast",e7,-100,0,100),g5=Ei("Gamma",t7,-100,0,100),mM=function(Re,Gr,Uo){return function(Fi){return DD(Fi,Re,Gr,Uo)}},uA=function(Re){var Gr=function(Uo,Fi,cs){var ss=p5.getOpt(Uo),Xl=h5.getOpt(Uo),QC=aA.getOpt(Uo);ss.each(function(yM){Xl.each(function(wM){QC.each(function(cU){var sU=xe.getValue(yM).x/100,lU=xe.getValue(cU).x/100,fU=xe.getValue(wM).x/100,dU=mM(sU,lU,fU);_(Uo,dU)})})})};return hr(Re,Gr,0,100,200)},p5=uA("R"),aA=uA("G"),h5=uA("B"),$f=[et(),p5,aA,h5,ut()],cA=ca.sketch({dom:v,components:$f.map(function(Re){return Re.asSpec()})}),as=function(Re,Gr,Uo){return function(Fi){var cs=function(){ZC.getOpt(Fi).each(function(ss){Mr.set(ss,[Re]),Uo(ss)})};C(Fi,sa.swap(),{transform:Gr,swap:cs})}},gM=function(Re){n.showCrop()},pM=function(Re){xn.getOpt(Re).each(function(Gr){var Uo=n.getMeasurements(),Fi=Uo.width,cs=Uo.height;xe.setValue(Gr,{width:Fi,height:cs})})},hM=S.some(Q8),Ea=S.some(Z8),P0=[s("crop","Crop",as(Yt,S.none(),gM),!1),s("resize","Resize",as(ge,S.none(),pM),!1),s("orientation","Orientation",as(er,S.none(),w),!1),s("brightness","Brightness",as(fM,S.none(),w),!1),s("sharpen","Sharpen",as(fl,hM,w),!1),s("contrast","Contrast",as(dM,S.none(),w),!1),s("color-levels","Color levels",as(cA,S.none(),w),!1),s("gamma","Gamma",as(g5,S.none(),w),!1),s("invert","Invert",as(fl,Ea,w),!1)],JC=ca.sketch({dom:v,components:P0.map(function(Re){return Re.asSpec()})}),vM=ca.sketch({dom:{tag:"div"},components:[JC],containerBehaviours:Un([Mr.config({})])}),ZC=_o(vM),bM=function(Re){return ZC.getOpt(Re).map(function(Gr){var Uo=Gr.components()[0];return Uo.components()[Uo.components().length-1]})};return{memContainer:ZC,getApplyButton:bM}},T0=tinymce.util.Tools.resolve("tinymce.geom.Rect"),Pc=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),E7=tinymce.util.Tools.resolve("tinymce.util.Observable"),O0=tinymce.util.Tools.resolve("tinymce.util.VK"),A7=function(n){var r=Math.max,i=n.documentElement,s=n.body,d=r(i.scrollWidth,s.scrollWidth),g=r(i.clientWidth,s.clientWidth),v=r(i.offsetWidth,s.offsetWidth),w=r(i.scrollHeight,s.scrollHeight),C=r(i.clientHeight,s.clientHeight),E=r(i.offsetHeight,s.offsetHeight);return{width:d<v?g:d,height:w<E?C:w}},CC=function(n){var r,i;if(n.changedTouches)for(r="screenX screenY pageX pageY clientX clientY".split(" "),i=0;i<r.length;i++)n[r[i]]=n.changedTouches[0][r[i]]};function T7(n,r){var i,s=r.document||document,d,g,v,w=s.getElementById(r.handle||n),C=function(R){var G=A7(s),ot;CC(R),R.preventDefault(),d=R.button;var et=w;g=R.screenX,v=R.screenY,window.getComputedStyle?ot=window.getComputedStyle(et,null).getPropertyValue("cursor"):ot=et.runtimeStyle.cursor,i=Pc("<div></div>").css({position:"absolute",top:0,left:0,width:G.width,height:G.height,zIndex:2147483647,opacity:1e-4,cursor:ot}).appendTo(s.body),Pc(s).on("mousemove touchmove",E).on("mouseup touchend",O),r.start(R)},E=function(R){if(CC(R),R.button!==d)return O(R);R.deltaX=R.screenX-g,R.deltaY=R.screenY-v,R.preventDefault(),r.drag(R)},O=function(R){CC(R),Pc(s).off("mousemove touchmove",E).off("mouseup touchend",O),i.remove(),r.stop&&r.stop(R)},_=function(){Pc(w).off()};return Pc(w).on("mousedown touchstart",C),{destroy:_}}var O7=0,D7=function(n,r,i,s,d){var g,v="tox-",w=v+"crid-"+O7++,C=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],E=["top","right","bottom","left"],O=function(vn,ge){return{x:ge.x+vn.x,y:ge.y+vn.y,w:ge.w,h:ge.h}},_=function(vn,ge){return{x:ge.x-vn.x,y:ge.y-vn.y,w:ge.w,h:ge.h}},R=function(){return _(i,n)},G=function(vn,ge,Ar,Oe){var Sn,Rn,qe,kr,Jn;Sn=ge.x,Rn=ge.y,qe=ge.w,kr=ge.h,Sn+=Ar*vn.deltaX,Rn+=Oe*vn.deltaY,qe+=Ar*vn.deltaW,kr+=Oe*vn.deltaH,qe<20&&(qe=20),kr<20&&(kr=20),Jn=n=T0.clamp({x:Sn,y:Rn,w:qe,h:kr},i,vn.name==="move"),Jn=_(i,Jn),Mn.fire("updateRect",{rect:Jn}),Lt(Jn)},ot=function(){var vn=function(ge){var Ar;return T7(w,{document:s.ownerDocument,handle:w+"-"+ge.name,start:function(){Ar=n},drag:function(Oe){G(ge,Ar,Oe.deltaX,Oe.deltaY)}})};Pc('<div id="'+w+'" class="'+v+'croprect-container" role="grid" aria-dropeffect="execute">').appendTo(s),ta.each(E,function(ge){Pc("#"+w,s).append('<div id="'+w+"-"+ge+'"class="'+v+'croprect-block" style="display: none" data-mce-bogus="all">')}),ta.each(C,function(ge){Pc("#"+w,s).append('<div id="'+w+"-"+ge.name+'" class="'+v+"croprect-handle "+v+"croprect-handle-"+ge.name+'"style="display: none" data-mce-bogus="all" role="gridcell" tabindex="-1" aria-label="'+ge.label+'" aria-grabbed="false" title="'+ge.label+'">')}),g=ta.map(C,vn),bt(n),Pc(s).on("focusin focusout",function(ge){Pc(ge.target).attr("aria-grabbed",ge.type==="focus"?"true":"false")}),Pc(s).on("keydown",function(ge){var Ar;ta.each(C,function(Sn){if(ge.target.id===w+"-"+Sn.name)return Ar=Sn,!1});var Oe=function(Sn,Rn,qe,kr,Jn){Sn.stopPropagation(),Sn.preventDefault(),G(Ar,qe,kr,Jn)};switch(ge.keyCode){case O0.LEFT:Oe(ge,Ar,n,-10,0);break;case O0.RIGHT:Oe(ge,Ar,n,10,0);break;case O0.UP:Oe(ge,Ar,n,0,-10);break;case O0.DOWN:Oe(ge,Ar,n,0,10);break;case O0.ENTER:case O0.SPACEBAR:ge.preventDefault(),d();break}})},et=function(vn){var ge=ta.map(C,function(Ar){return"#"+w+"-"+Ar.name}).concat(ta.map(E,function(Ar){return"#"+w+"-"+Ar})).join(",");vn?Pc(ge,s).show():Pc(ge,s).hide()},bt=function(vn){var ge=function(Ar,Oe){Oe.h<0&&(Oe.h=0),Oe.w<0&&(Oe.w=0),Pc("#"+w+"-"+Ar,s).css({left:Oe.x,top:Oe.y,width:Oe.w,height:Oe.h})};ta.each(C,function(Ar){Pc("#"+w+"-"+Ar.name,s).css({left:vn.w*Ar.xMul+vn.x,top:vn.h*Ar.yMul+vn.y})}),ge("top",{x:r.x,y:r.y,w:r.w,h:vn.y-r.y}),ge("right",{x:vn.x+vn.w,y:vn.y,w:r.w-vn.x-vn.w+r.x,h:vn.h}),ge("bottom",{x:r.x,y:vn.y+vn.h,w:r.w,h:r.h-vn.y-vn.h+r.y}),ge("left",{x:r.x,y:vn.y,w:vn.x-r.x,h:vn.h}),ge("move",vn)},ut=function(vn){n=vn,bt(n)},Dt=function(vn){r=vn,bt(n)},Lt=function(vn){ut(O(i,vn))},Yt=function(vn){i=vn,bt(n)},xn=function(){ta.each(g,function(vn){vn.destroy()}),g=[]};ot();var Mn=ta.extend({toggleVisibility:et,setClampRect:Yt,setRect:ut,getInnerRect:R,setInnerRect:Lt,setViewPortRect:Dt,destroy:xn},E7);return Mn},_7={create:D7},F7=function(n){return new e0(function(r){var i=function(){n.removeEventListener("load",i),r(n)};n.complete?r(n):n.addEventListener("load",i)})},YD=function(n){var r=_o({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),i=re(1),s=re(S.none()),d=re({x:0,y:0,w:1,h:1}),g=re({x:0,y:0,w:1,h:1}),v=function(bt,ut){ot.getOpt(bt).each(function(Dt){var Lt=i.get(),Yt=va(Dt.element),xn=zu(Dt.element),Mn=ut.dom.naturalWidth*Lt,vn=ut.dom.naturalHeight*Lt,ge=Math.max(0,Yt/2-Mn/2),Ar=Math.max(0,xn/2-vn/2),Oe={left:ge.toString()+"px",top:Ar.toString()+"px",width:Mn.toString()+"px",height:vn.toString()+"px",position:"absolute"};hd(ut,Oe),r.getOpt(Dt).each(function(Sn){hd(Sn.element,Oe)}),s.get().each(function(Sn){var Rn=d.get();Sn.setRect({x:Rn.x*Lt+ge,y:Rn.y*Lt+Ar,w:Rn.w*Lt,h:Rn.h*Lt}),Sn.setClampRect({x:ge,y:Ar,w:Mn,h:vn}),Sn.setViewPortRect({x:0,y:0,w:Yt,h:xn})})})},w=function(bt,ut){ot.getOpt(bt).each(function(Dt){var Lt=va(Dt.element),Yt=zu(Dt.element),xn=ut.dom.naturalWidth,Mn=ut.dom.naturalHeight,vn=Math.min(Lt/xn,Yt/Mn);vn>=1?i.set(1):i.set(vn)})},C=function(bt,ut){var Dt=Fe.fromTag("img");return ho(Dt,"src",ut),F7(Dt.dom).then(function(){return ot.getOpt(bt).map(function(Lt){var Yt=p1({element:Dt});Mr.replaceAt(Lt,1,S.some(Yt));var xn=g.get(),Mn={x:0,y:0,w:Dt.dom.naturalWidth,h:Dt.dom.naturalHeight};g.set(Mn);var vn=T0.inflate(Mn,-20,-20);return d.set(vn),(xn.w!==Mn.w||xn.h!==Mn.h)&&w(Lt,Dt),v(Lt,Dt),Dt})})},E=function(bt,ut){var Dt=i.get(),Lt=ut>0?Math.min(2,Dt+.1):Math.max(.1,Dt-.1);i.set(Lt),ot.getOpt(bt).each(function(Yt){var xn=Yt.components()[1].element;v(Yt,xn)})},O=function(){s.get().each(function(bt){bt.toggleVisibility(!0)})},_=function(){s.get().each(function(bt){bt.toggleVisibility(!1)})},R=function(){return d.get()},G=ca.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[r.asSpec(),{dom:{tag:"img",attributes:{src:n}}},{dom:{tag:"div"},behaviours:Un([Yr("image-panel-crop-events",[si(function(bt){ot.getOpt(bt).each(function(ut){var Dt=ut.element.dom,Lt=_7.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},Dt,ft);Lt.toggleVisibility(!1),Lt.on("updateRect",function(Yt){var xn=Yt.rect,Mn=i.get(),vn={x:Math.round(xn.x/Mn),y:Math.round(xn.y/Mn),w:Math.round(xn.w/Mn),h:Math.round(xn.h/Mn)};d.set(vn)}),s.set(S.some(Lt))})})])])}],containerBehaviours:Un([Mr.config({}),Yr("image-panel-events",[si(function(bt){C(bt,n)})])])}),ot=_o(G),et=function(){var bt=g.get();return{width:bt.w,height:bt.h}};return{memContainer:ot,updateSrc:C,zoom:E,showCrop:O,hideCrop:_,getRect:R,getMeasurements:et}},SC=function(n,r,i,s,d){return xE({name:n,icon:S.some(r),disabled:i,tooltip:S.some(n),primary:!1,borderless:!1},s,d)},$D=function(n,r){r?yr.enable(n):yr.disable(n)},B7=function(n){var r=function(g,v,w){i.getOpt(g).each(function(C){$D(C,v)}),s.getOpt(g).each(function(C){$D(C,w)})},i=_o(SC("Undo","undo",!0,function(g){Sr(g,sa.undo(),{direction:1})},n)),s=_o(SC("Redo","redo",!0,function(g){Sr(g,sa.redo(),{direction:1})},n)),d=ca.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[i.asSpec(),s.asSpec(),SC("Zoom in","zoom-in",!1,function(g){Sr(g,sa.zoom(),{direction:1})},n),SC("Zoom out","zoom-out",!1,function(g){Sr(g,sa.zoom(),{direction:-1})},n)]});return{container:d,updateButtonUndoStates:r}};function XD(){var n=[],r=-1,i=function(w){var C=n.splice(++r);return n.push(w),{state:w,removed:C}},s=function(){if(g())return n[--r]},d=function(){if(v())return n[++r]},g=function(){return r>0},v=function(){return r!==-1&&r<n.length-1};return{data:n,add:i,undo:s,redo:d,canUndo:g,canRedo:v}}var GD=function(n){var r=re(n),i=re(S.none()),s=XD();s.add(n);var d=function(){return r.get()},g=function(Dt){r.set(Dt)},v=function(){return i.get().fold(function(){return r.get()},function(Dt){return Dt})},w=function(Dt){var Lt=C(Dt);return _(),i.set(S.some(Lt)),Lt.url},C=function(Dt){return{blob:Dt,url:URL.createObjectURL(Dt)}},E=function(Dt){URL.revokeObjectURL(Dt.url)},O=function(Dt){ta.each(Dt,E)},_=function(){i.get().each(E),i.set(S.none())},R=function(Dt){var Lt=C(Dt);g(Lt);var Yt=s.add(Lt).removed;return O(Yt),Lt.url},G=function(Dt){var Lt=C(Dt);return i.set(S.some(Lt)),Lt.url},ot=function(Dt){return i.get().fold(ft,function(Lt){R(Lt.blob),Dt()})},et=function(){var Dt=s.undo();return g(Dt),Dt.url},bt=function(){var Dt=s.redo();return g(Dt),Dt.url},ut=function(){var Dt=s.canUndo(),Lt=s.canRedo();return{undoEnabled:Dt,redoEnabled:Lt}};return{getBlobState:d,setBlobState:g,addBlobState:R,getTempState:v,updateTempState:w,addTempState:G,applyTempState:ot,destroyTempState:_,undo:et,redo:bt,getHistoryStates:ut}},N7=function(n,r){var i=GD(n.currentState),s=function(Sn,Rn){var qe=Rn.event.direction;vn.zoom(Sn,qe)},d=function(Sn){var Rn=i.getHistoryStates();ge.updateButtonUndoStates(Sn,Rn.undoEnabled,Rn.redoEnabled),Sr(Sn,Va.formActionEvent,{name:Va.saveState(),value:Rn.undoEnabled})},g=function(Sn){ge.updateButtonUndoStates(Sn,!1,!1)},v=function(Sn,Rn){var qe=i.undo();_(Sn,qe).then(function(kr){O(Sn),d(Sn)})},w=function(Sn,Rn){var qe=i.redo();_(Sn,qe).then(function(kr){O(Sn),d(Sn)})},C=function(Sn){return Sn.toBlob()},E=function(Sn){Sr(Sn,Va.formActionEvent,{name:Va.disable(),value:{}})},O=function(Sn){Ar.getApplyButton(Sn).each(function(Rn){yr.enable(Rn)}),Sr(Sn,Va.formActionEvent,{name:Va.enable(),value:{}})},_=function(Sn,Rn){return E(Sn),vn.updateSrc(Sn,Rn)},R=function(Sn,Rn,qe,kr,Jn){return E(Sn),sE(Rn).then(qe).then(C).then(kr).then(function(er){return _(Sn,er).then(function(hr){return d(Sn),Jn(),O(Sn),hr})}).catch(function(er){return console.log(er),O(Sn),er})},G=function(Sn,Rn,qe){var kr=i.getBlobState().blob,Jn=function(er){return i.updateTempState(er)};R(Sn,kr,Rn,Jn,qe)},ot=function(Sn,Rn){var qe=i.getTempState().blob,kr=function(Jn){return i.addTempState(Jn)};R(Sn,qe,Rn,kr,ft)},et=function(Sn,Rn,qe){var kr=i.getBlobState().blob,Jn=function(er){var hr=i.addBlobState(er);return ut(Sn),hr};R(Sn,kr,Rn,Jn,qe)},bt=function(Sn,Rn){var qe=function(){ut(Sn);var kr=Rn.event.swap;kr()};i.applyTempState(qe)},ut=function(Sn){var Rn=i.getBlobState().url;return i.destroyTempState(),d(Sn),Rn},Dt=function(Sn){var Rn=ut(Sn);_(Sn,Rn).then(function(qe){O(Sn)})},Lt=function(Sn,Rn){Dt(Sn);var qe=Rn.event.swap;qe(),vn.hideCrop()},Yt=function(Sn,Rn){return G(Sn,Rn.event.transform,ft)},xn=function(Sn,Rn){return ot(Sn,Rn.event.transform)},Mn=function(Sn,Rn){return et(Sn,Rn.event.transform,Rn.event.swap)},vn=YD(n.currentState.url),ge=B7(r),Ar=k7(vn,r),Oe=function(Sn,Rn){g(Sn);var qe=Rn.event.transform,kr=Rn.event.swap;qe.fold(function(){kr()},function(Jn){G(Sn,Jn,kr)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[Ar.memContainer.asSpec(),vn.memContainer.asSpec(),ge.container],behaviours:Un([xe.config({store:{mode:"manual",getValue:function(){return i.getBlobState()}}}),Yr("image-tools-events",[Fn(sa.undo(),v),Fn(sa.redo(),w),Fn(sa.zoom(),s),Fn(sa.back(),Lt),Fn(sa.apply(),bt),Fn(sa.transform(),Yt),Fn(sa.tempTransform(),xn),Fn(sa.transformApply(),Mn),Fn(sa.swap(),Oe)]),Vl.self()])}},z7=function(n,r){var i={dom:{tag:"label",innerHtml:r.providers.translate(n.label),classes:["tox-label"]}},s=wt(n.items,r.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[i].concat(s),behaviours:Un([Vl.self(),Mr.config({}),Dg.domHtml(S.none()),vr.config({mode:"acyclic"})])}},lc=function(n){return!ao(n,"items")},KD="data-value",kC=function(n,r,i,s){return wt(i,function(d){return lc(d)?{type:"togglemenuitem",text:d.text,value:d.value,active:d.value===s,onAction:function(){xe.setValue(n,d.value),Sr(n,Mc,{name:r}),Fr.focus(n)}}:{type:"nestedmenuitem",text:d.text,getSubmenuItems:function(){return kC(n,r,d.items,s)}}})},OE=function(n,r){return Qn(n,function(i){return lc(i)?Bw(i.value===r,i):OE(i.items,r)})},JD=function(n,r){var i=r.shared.providers,s=Cn(n.items).filter(lc),d=n.label.map(function(w){return xg(w,i)}),g=ko.parts.field({dom:{},factory:{sketch:function(w){return bE({uid:w.uid,text:s.map(function(C){return C.text}),icon:S.none(),tooltip:n.label,role:S.none(),fetch:function(C,E){var O=kC(C,n.name,n.items,xe.getValue(C));E(A0(O,Il.CLOSE_ON_EXECUTE,r,!1))},onSetup:st(ft),getApi:st({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Di.config({}),xe.config({store:{mode:"manual",initialValue:s.map(function(C){return C.value}).getOr(""),getValue:function(C){return wu(C.element,KD)},setValue:function(C,E){OE(n.items,E).each(function(O){ho(C.element,KD,O.value),Sr(C,E0,{text:O.text})})}}})]},"tox-listbox",r.shared)}}}),v={dom:{tag:"div",classes:["tox-listboxfield"]},components:[g]};return ko.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:be([d.toArray(),[v]]),fieldBehaviours:Un([yr.config({disabled:st(n.disabled),onDisabled:function(w){ko.getField(w).each(yr.disable)},onEnabled:function(w){ko.getField(w).each(yr.enable)}})])})},EC=function(n,r){return{dom:{tag:"div",classes:n.classes},components:wt(n.items,r.shared.interpreter)}},M7=function(n,r){var i=wt(n.options,function(d){return{dom:{tag:"option",value:d.value,innerHtml:d.text}}}),s=n.data.map(function(d){return P("initialValue",d)}).getOr({});return{uid:n.uid,dom:{tag:"select",classes:n.selectClasses,attributes:n.selectAttributes},components:i,behaviours:Li(n.selectBehaviours,[Fr.config({}),xe.config({store:tt({mode:"manual",getValue:function(d){return df(d.element)},setValue:function(d,g){var v=yt(n.options,function(w){return w.value===g});v.isSome()&&Wc(d.element,g)}},s)})])}},AC=uc({name:"HtmlSelect",configFields:[At("options"),tu("selectBehaviours",[Fr,xe]),It("selectClasses",[]),It("selectAttributes",{}),Cr("data")],factory:M7}),R7=function(n,r){var i=wt(n.items,function(w){return{text:r.translate(w.text),value:w.value}}),s=n.label.map(function(w){return xg(w,r)}),d=ko.parts.field({dom:{},selectAttributes:{size:n.size},options:i,factory:AC,selectBehaviours:Un([yr.config({disabled:function(){return n.disabled||r.isDisabled()}}),Di.config({}),Yr("selectbox-change",[Fn(qg(),function(w,C){Sr(w,Mc,{name:n.name})})])])}),g=n.size>1?S.none():S.some({dom:{tag:"div",classes:["tox-selectfield__icon-js"],innerHtml:cc("chevron-down",r.icons)}}),v={dom:{tag:"div",classes:["tox-selectfield"]},components:be([[d],g.toArray()])};return ko.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:be([s.toArray(),[v]]),fieldBehaviours:Un([yr.config({disabled:function(){return n.disabled||r.isDisabled()},onDisabled:function(w){ko.getField(w).each(yr.disable)},onEnabled:function(w){ko.getField(w).each(yr.enable)}}),nu()])})},Vy=function(n,r){var i=function(w){return{dom:{tag:"th",innerHtml:r.translate(w)}}},s=function(w){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:wt(w,i)}]}},d=function(w){return{dom:{tag:"td",innerHtml:r.translate(w)}}},g=function(w){return{dom:{tag:"tr"},components:wt(w,d)}},v=function(w){return{dom:{tag:"tbody"},components:wt(w,g)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[s(n.header),v(n.cells)],behaviours:Un([Di.config({}),Fr.config({})])}},DE=function(n,r){var i=n.label.map(function(R){return xg(R,r)}),s=[yr.config({disabled:function(){return n.disabled||r.isDisabled()}}),nu(),vr.config({mode:"execution",useEnter:n.multiline!==!0,useControlEnter:n.multiline===!0,execute:function(R){return Hr(R,Oy),S.some(!0)}}),Yr("textfield-change",[Fn(Dm(),function(R,G){Sr(R,Mc,{name:n.name})}),Fn(xl(),function(R,G){Sr(R,Mc,{name:n.name})})]),Di.config({})],d=n.validation.map(function(R){return rl.config({getRoot:function(G){return yu(G.element)},invalidClass:"tox-invalid",validator:{validate:function(G){var ot=xe.getValue(G),et=R.validator(ot);return Qu.pure(et===!0?gn.value(ot):gn.error(et))},validateOnLoad:R.validateOnLoad}})}).toArray(),g=n.placeholder.fold(st({}),function(R){return{placeholder:r.translate(R)}}),v=n.inputMode.fold(st({}),function(R){return{inputmode:R}}),w=tt(tt({},g),v),C=ko.parts.field({tag:n.multiline===!0?"textarea":"input",inputAttributes:w,inputClasses:[n.classname],inputBehaviours:Un(be([s,d])),selectOnFocus:!1,factory:Sg}),E=n.flex?["tox-form__group--stretched"]:[],O=E.concat(n.maximized?["tox-form-group--maximize"]:[]),_=[yr.config({disabled:function(){return n.disabled||r.isDisabled()},onDisabled:function(R){ko.getField(R).each(yr.disable)},onEnabled:function(R){ko.getField(R).each(yr.enable)}}),nu()];return Ay(i,C,O,_)},Ns=function(n,r){return DE({name:n.name,multiline:!1,label:n.label,inputMode:n.inputMode,placeholder:n.placeholder,flex:!1,disabled:n.disabled,classname:"tox-textfield",validation:S.none(),maximized:n.maximized},r)},P7=function(n,r){return DE({name:n.name,multiline:!0,label:n.label,inputMode:S.none(),placeholder:n.placeholder,flex:!0,disabled:n.disabled,classname:"tox-textarea",validation:S.none(),maximized:n.maximized},r)},ZD=function(n,r){var i=n.stream.streams,s=i.setup(n,r);return po([Fn(n.event,s),oa(function(){return r.cancel()})].concat(n.cancelEvent.map(function(d){return[Fn(d,function(){return r.cancel()})]}).getOr([])))},L7=Object.freeze({__proto__:null,events:ZD}),QD=function(n){var r=re(null),i=function(){return{timer:r.get()!==null?"set":"unset"}},s=function(g){r.set(g)},d=function(){var g=r.get();g!==null&&g.cancel()};return Ec({readState:i,setTimer:s,cancel:d})},I7=function(n){return n.stream.streams.state(n)},H7=Object.freeze({__proto__:null,throttle:QD,init:I7}),V7=function(n,r){var i=n.stream,s=pA(n.onStream,i.delay);return r.setTimer(s),function(d,g){s.throttle(d,g),i.stopEvent&&g.stop()}},U7=[gr("stream",bu("mode",{throttle:[At("delay"),It("stopEvent",!0),Ho("streams",{setup:V7,state:QD})]})),It("event","input"),Cr("cancelEvent"),Sd("onStream")],t_=Pi({fields:U7,name:"streaming",active:L7,state:H7}),Uy=function(n,r,i){var s=xe.getValue(i);xe.setValue(r,s),e_(r)},n_=function(n,r){var i=n.element,s=df(i),d=i.dom;wu(i,"type")!=="number"&&r(d,s)},e_=function(n){n_(n,function(r,i){return r.setSelectionRange(i.length,i.length)})},j7=function(n,r){n_(n,function(i,s){return i.setSelectionRange(r,s.length)})},q7=function(n,r,i){if(n.selectsOver){var s=xe.getValue(r),d=n.getDisplayText(s),g=xe.getValue(i),v=n.getDisplayText(g);return v.indexOf(d)===0?S.some(function(){Uy(n,r,i),j7(r,d.length)}):S.none()}else return S.none()},_E=st("alloy.typeahead.itemexecute"),W7=function(n,r,i,s){var d=function(C,E,O){n.previewing.set(!1);var _=Ii.getCoupled(C,"sandbox");if(Wr.isOpen(_))mo.getCurrent(_).each(function(G){Be.getHighlighted(G).fold(function(){O(G)},function(){U0(_,G.element,"keydown",E)})});else{var R=function(G){mo.getCurrent(G).each(O)};O3(n,v(C),C,_,s,R,ol.HighlightFirst).get(ft)}},g=eO(n),v=function(C){return function(E){return E.map(function(O){var _=ii(O.menus),R=An(_,function(ot){return gt(ot.items,function(et){return et.type==="item"})}),G=xe.getState(C);return G.update(wt(R,function(ot){return ot.data})),O})}},w=[Fr.config({}),xe.config({onSetValue:n.onSetValue,store:tt({mode:"dataset",getDataKey:function(C){return df(C.element)},getFallbackEntry:function(C){return{value:C,meta:{}}},setValue:function(C,E){Wc(C.element,n.model.getDisplayText(E))}},n.initialData.map(function(C){return P("initialValue",C)}).getOr({}))}),t_.config({stream:{mode:"throttle",delay:n.responseTime,stopEvent:!1},onStream:function(C,E){var O=Ii.getCoupled(C,"sandbox"),_=Fr.isFocused(C);if(_&&df(C.element).length>=n.minChars){var R=mo.getCurrent(O).bind(function(ot){return Be.getHighlighted(ot).map(xe.getValue)});n.previewing.set(!0);var G=function(ot){mo.getCurrent(O).each(function(et){R.fold(function(){n.model.selectsOver&&Be.highlightFirst(et)},function(bt){Be.highlightBy(et,function(ut){var Dt=xe.getValue(ut);return Dt.value===bt.value}),Be.getHighlighted(et).orThunk(function(){return Be.highlightFirst(et),S.none()})})})};O3(n,v(C),C,O,s,G,ol.HighlightFirst).get(ft)}},cancelEvent:of()}),vr.config({mode:"special",onDown:function(C,E){return d(C,E,Be.highlightFirst),S.some(!0)},onEscape:function(C){var E=Ii.getCoupled(C,"sandbox");return Wr.isOpen(E)?(Wr.close(E),S.some(!0)):S.none()},onUp:function(C,E){return d(C,E,Be.highlightLast),S.some(!0)},onEnter:function(C){var E=Ii.getCoupled(C,"sandbox"),O=Wr.isOpen(E);if(O&&!n.previewing.get())return mo.getCurrent(E).bind(function(R){return Be.getHighlighted(R)}).map(function(R){return Sr(C,_E(),{item:R}),!0});var _=xe.getValue(C);return Hr(C,of()),n.onExecute(E,C,_),O&&Wr.close(E),S.some(!0)}}),Gt.config({toggleClass:n.markers.openClass,aria:{mode:"expanded"}}),Ii.config({others:{sandbox:function(C){return F3(n,C,{onOpen:function(){return Gt.on(C)},onClose:function(){return Gt.off(C)}})}}}),Yr("typeaheadevents",[Cc(function(C){var E=ft;h0(n,v(C),C,s,E,ol.HighlightFirst).get(ft)}),Fn(_E(),function(C,E){var O=Ii.getCoupled(C,"sandbox");Uy(n.model,C,E.event.item),Hr(C,of()),n.onItemExecute(C,O,E.event.item,xe.getValue(C)),Wr.close(O),e_(C)})].concat(n.dismissOnBlur?[Fn(rf(),function(C){var E=Ii.getCoupled(C,"sandbox");Ju(E.element).isNone()&&Wr.close(E)})]:[]))];return{uid:n.uid,dom:rO($r(n,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:tt(tt({},g),Li(n.typeaheadBehaviours,w)),eventOrder:n.eventOrder}},Y7=st([Cr("lazySink"),At("fetch"),It("minChars",5),It("responseTime",1e3),to("onOpen"),It("getHotspot",S.some),It("getAnchorOverrides",st({})),It("layouts",S.none()),It("eventOrder",{}),Ya("model",{},[It("getDisplayText",function(n){return n.meta!==void 0&&n.meta.text!==void 0?n.meta.text:n.value}),It("selectsOver",!0),It("populateFromBrowse",!0)]),to("onSetValue"),Io("onExecute"),to("onItemExecute"),It("inputClasses",[]),It("inputAttributes",{}),It("inputStyles",{}),It("matchWidth",!0),It("useMinWidth",!1),It("dismissOnBlur",!0),Xc(["openClass"]),Cr("initialData"),tu("typeaheadBehaviours",[Fr,xe,t_,vr,Gt,Ii]),xi("previewing",function(){return re(!0)})].concat(Cg()).concat(B3())),$7=st([ns({schema:[Ol()],name:"menu",overrides:function(n){return{fakeFocus:!0,onHighlight:function(r,i){n.previewing.get()?r.getSystem().getByUid(n.uid).each(function(s){q7(n.model,s,i).fold(function(){return Be.dehighlight(r,i)},function(d){return d()})}):r.getSystem().getByUid(n.uid).each(function(s){n.model.populateFromBrowse&&Uy(n.model,s,i)}),n.previewing.set(!1)},onExecute:function(r,i){return r.getSystem().getByUid(n.uid).toOptional().map(function(s){return Sr(s,_E(),{item:i}),!0})},onHover:function(r,i){n.previewing.set(!1),r.getSystem().getByUid(n.uid).each(function(s){n.model.populateFromBrowse&&Uy(n.model,s,i)})}}}})]),X7=Vu({name:"Typeahead",configFields:Y7(),partFields:$7(),factory:W7}),cl=function(n){var r=function(){return cl(n.toCached())},i=function(C){return cl(n.bind(function(E){return E.fold(function(O){return Qu.pure(gn.error(O))},function(O){return C(O)})}))},s=function(C){return cl(n.map(function(E){return E.bind(C)}))},d=function(C){return cl(n.map(function(E){return E.map(C)}))},g=function(C){return cl(n.map(function(E){return E.mapError(C)}))},v=function(C,E){return n.map(function(O){return O.fold(C,E)})},w=function(C,E){return cl(Qu.nu(function(O){var _=!1,R=setTimeout(function(){_=!0,O(gn.error(E()))},C);n.get(function(G){_||(clearTimeout(R),O(G))})}))};return tt(tt({},n),{toCached:r,bindFuture:i,bindResult:s,mapResult:d,mapError:g,foldResult:v,withTimeout:w})},r_=function(n){return cl(Qu.nu(n))},o_=function(n){return cl(Qu.pure(gn.value(n)))},G7=function(n){return cl(Qu.pure(gn.error(n)))},K7=function(n){return cl(Qu.pure(n))},i_=function(n){return cl(n.map(gn.value))},J7=function(n){return r_(function(r){n.then(function(i){r(gn.value(i))},function(i){r(gn.error(i))})})},Z7={nu:r_,wrap:cl,pure:o_,value:o_,error:G7,fromResult:K7,fromFuture:i_,fromPromise:J7},Q7={type:"separator"},u_=function(n){return{type:"menuitem",value:n.url,text:n.title,meta:{attach:n.attach},onAction:ft}},FE=function(n,r){return{type:"menuitem",value:r,text:n,meta:{attach:void 0},onAction:ft}},tN=function(n){return wt(n,u_)},nN=function(n,r){return gt(r,function(i){return i.type===n})},a_=function(n,r){return tN(nN(n,r))},eN=function(n){return a_("header",n.targets)},rN=function(n){return a_("anchor",n.targets)},TC=function(n){return S.from(n.anchorTop).map(function(r){return FE("<top>",r)}).toArray()},oN=function(n){return S.from(n.anchorBottom).map(function(r){return FE("<bottom>",r)}).toArray()},iN=function(n){return wt(n,function(r){return FE(r,r)})},uN=function(n){return nt(n,function(r,i){var s=r.length===0||i.length===0;return s?r.concat(i):r.concat(Q7,i)},[])},BE=function(n,r){var i=n.toLowerCase();return gt(r,function(s){var d=s.meta!==void 0&&s.meta.text!==void 0?s.meta.text:s.text;return Jo(d.toLowerCase(),i)||Jo(s.value.toLowerCase(),i)})},aN=function(n,r,i){var s=xe.getValue(r),d=s.meta.text!==void 0?s.meta.text:s.value,g=i.getLinkInformation();return g.fold(function(){return[]},function(v){var w=BE(d,iN(i.getHistory(n)));return n==="file"?uN([w,BE(d,eN(v)),BE(d,be([TC(v),rN(v),oN(v)]))]):w})},c_=tr("aria-invalid"),cN=function(n,r,i){var s,d=r.shared.providers,g=function(ut){var Dt=xe.getValue(ut);i.addToHistory(Dt.value,n.filetype)},v=ko.parts.field({factory:X7,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":c_,type:"url"},minChars:0,responseTime:0,fetch:function(ut){var Dt=aN(n.filetype,ut,i),Lt=A0(Dt,Il.BUBBLE_TO_SANDBOX,r,!1);return Qu.pure(Lt)},getHotspot:function(ut){return G.getOpt(ut)},onSetValue:function(ut,Dt){ut.hasConfigured(rl)&&rl.run(ut).get(ft)},typeaheadBehaviours:Un(be([i.getValidationHandler().map(function(ut){return rl.config({getRoot:function(Dt){return yu(Dt.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(Dt,Lt){E.getOpt(Dt).each(function(Yt){ho(Yt.element,"title",d.translate(Lt))})}},validator:{validate:function(Dt){var Lt=xe.getValue(Dt);return Z7.nu(function(Yt){ut({type:n.filetype,url:Lt.value},function(xn){if(xn.status==="invalid"){var Mn=gn.error(xn.message);Yt(Mn)}else{var vn=gn.value(xn.message);Yt(vn)}})})},validateOnLoad:!1}})}).toArray(),[yr.config({disabled:function(){return n.disabled||d.isDisabled()}}),Di.config({}),Yr("urlinput-events",be([n.filetype==="file"?[Fn(Dm(),function(ut){Sr(ut,Mc,{name:n.name})})]:[],[Fn(qg(),function(ut){Sr(ut,Mc,{name:n.name}),g(ut)}),Fn(xl(),function(ut){Sr(ut,Mc,{name:n.name}),g(ut)})]]))]])),eventOrder:(s={},s[Dm()]=["streaming","urlinput-events","invalidating"],s),model:{getDisplayText:function(ut){return ut.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:r.shared.getSink,parts:{menu:Ex(!1,1,"normal")},onExecute:function(ut,Dt,Lt){Sr(Dt,Oy,{})},onItemExecute:function(ut,Dt,Lt,Yt){g(ut),Sr(ut,Mc,{name:n.name})}}),w=n.label.map(function(ut){return xg(ut,d)}),C=function(ut,Dt,Lt,Yt){return Lt===void 0&&(Lt=ut),Yt===void 0&&(Yt=ut),{dom:{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+ut],innerHtml:cc(Lt,d.icons),attributes:tt({title:d.translate(Yt),"aria-live":"polite"},Dt.fold(function(){return{}},function(xn){return{id:xn}}))}}},E=_o(C("invalid",S.some(c_),"warning")),O=_o({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[E.asSpec()]}),_=i.getUrlPicker(n.filetype),R=tr("browser.url.event"),G=_o({dom:{tag:"div",classes:["tox-control-wrap"]},components:[v,O.asSpec()],behaviours:Un([yr.config({disabled:function(){return n.disabled||d.isDisabled()}})])}),ot=_o(bC({name:n.name,icon:S.some("browse"),text:n.label.getOr(""),disabled:n.disabled,primary:!1,borderless:!0},function(ut){return Hr(ut,R)},d,[],["tox-browse-url"])),et=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:be([[G.asSpec()],_.map(function(){return ot.asSpec()}).toArray()])}},bt=function(ut){mo.getCurrent(ut).each(function(Dt){var Lt=xe.getValue(Dt),Yt=tt({fieldname:n.name},Lt);_.each(function(xn){xn(Yt).get(function(Mn){xe.setValue(Dt,Mn),Sr(ut,Mc,{name:n.name})})})})};return ko.sketch({dom:Gx(),components:w.toArray().concat([et()]),fieldBehaviours:Un([yr.config({disabled:function(){return n.disabled||d.isDisabled()},onDisabled:function(ut){ko.getField(ut).each(yr.disable),ot.getOpt(ut).each(yr.disable)},onEnabled:function(ut){ko.getField(ut).each(yr.enable),ot.getOpt(ut).each(yr.enable)}}),nu(),Yr("url-input-events",[Fn(R,bt)])])})},s_=function(n,r){return ca.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+n.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Sa.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:cc(n.icon,r.icons),attributes:{title:r.translate(n.iconTooltip)}},action:function(i){Sr(i,Vf,{name:"alert-banner",value:n.url})}})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:r.translate(n.text)}}]})},sN=function(n,r){var i=xe.config({store:{mode:"manual",getValue:function(C){var E=C.element.dom;return E.checked},setValue:function(C,E){var O=C.element.dom;O.checked=E}}}),s=function(C){return C.element.dom.click(),S.some(!0)},d=ko.parts.field({factory:{sketch:Xt},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Un([Vl.self(),yr.config({disabled:function(){return n.disabled||r.isDisabled()}}),Di.config({}),Fr.config({}),i,vr.config({mode:"special",onEnter:s,onSpace:s,stopSpaceKeyup:!0}),Yr("checkbox-events",[Fn(qg(),function(C,E){Sr(C,Mc,{name:n.name})})])])}),g=ko.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:r.translate(n.label)},behaviours:Un([Dy.config({})])}),v=function(C){var E=C==="checked"?"selected":"unselected";return{dom:{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+C],innerHtml:cc(E,r.icons)}}},w=_o({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[v("checked"),v("unchecked")]});return ko.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[d,w.asSpec(),g],fieldBehaviours:Un([yr.config({disabled:function(){return n.disabled||r.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(C){ko.getField(C).each(yr.disable)},onEnabled:function(C){ko.getField(C).each(yr.enable)}}),nu()])})},lN=function(n){return n.presets==="presentation"?ca.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:n.html}}):ca.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:n.html,attributes:{role:"document"}},containerBehaviours:Un([Di.config({}),Fr.config({})])})},Eu=function(n){return function(r,i,s){return cr(i,"name").fold(function(){return n(i,s)},function(d){return r.field(d,n(i,s))})}},fN=function(n){return function(r,i,s){var d=$r(i,{source:"dynamic"});return Eu(n)(r,d,s)}},dN={bar:Eu(function(n,r){return eB(n,r.shared)}),collection:Eu(function(n,r){return cB(n,r.shared.providers)}),alertbanner:Eu(function(n,r){return s_(n,r.shared.providers)}),input:Eu(function(n,r){return Ns(n,r.shared.providers)}),textarea:Eu(function(n,r){return P7(n,r.shared.providers)}),label:Eu(function(n,r){return z7(n,r.shared)}),iframe:fN(function(n,r){return z8(n,r.shared.providers)}),button:Eu(function(n,r){return m7(n,r.shared.providers)}),checkbox:Eu(function(n,r){return sN(n,r.shared.providers)}),colorinput:Eu(function(n,r){return bO(n,r.shared,r.colorinput)}),colorpicker:Eu(S8),dropzone:Eu(function(n,r){return qf(n,r.shared.providers)}),grid:Eu(function(n,r){return pC(n,r.shared)}),listbox:Eu(function(n,r){return JD(n,r)}),selectbox:Eu(function(n,r){return R7(n,r.shared.providers)}),sizeinput:Eu(function(n,r){return qD(n,r.shared.providers)}),urlinput:Eu(function(n,r){return cN(n,r,r.urlinput)}),customeditor:Eu(E8),htmlpanel:Eu(lN),imagetools:Eu(function(n,r){return N7(n,r.shared.providers)}),table:Eu(function(n,r){return Vy(n,r.shared.providers)}),panel:Eu(function(n,r){return EC(n,r)})},mN={field:function(n,r){return r}},l_=function(n,r,i){var s=$r(i,{shared:{interpreter:function(d){return OC(n,d,s)}}});return OC(n,r,s)},OC=function(n,r,i){return cr(dN,r.type).fold(function(){return console.error('Unknown factory type "'+r.type+'", defaulting to container: ',r),r},function(s){return s(n,r,i)})},gN=function(n,r){var i=mN;return OC(i,n,r)},pN={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},hN=function(n,r,i){var s=Xm(-12,12,pN),d={maxHeightFunction:Ym()},g=function(){return{anchor:"node",root:Ph(n()),node:S.from(n()),bubble:s,layouts:{onRtl:function(){return[Qp]},onLtr:function(){return[um]}},overrides:d}},v=function(){return{anchor:"hotspot",hotspot:r(),bubble:s,layouts:{onRtl:function(){return[lu]},onLtr:function(){return[$i]}},overrides:d}};return function(){return i()?g():v()}},vN=function(n,r,i){var s=function(){return{anchor:"node",root:Ph(n()),node:S.from(n()),layouts:{onRtl:function(){return[am]},onLtr:function(){return[am]}}}},d=function(){return{anchor:"hotspot",hotspot:r(),layouts:{onRtl:function(){return[Pu]},onLtr:function(){return[Pu]}}}};return function(){return i()?s():d()}},bN=function(n,r){return function(){return{anchor:"selection",root:r(),getSelection:function(){var i=n.selection.getRng();return S.some(yp.range(Fe.fromDom(i.startContainer),i.startOffset,Fe.fromDom(i.endContainer),i.endOffset))}}}},yN=function(n){return function(r){return{anchor:"node",root:n(),node:r}}},f_=function(n,r,i){var s=zx(n),d=function(){return Fe.fromDom(n.getBody())},g=function(){return Fe.fromDom(n.getContentAreaContainer())},v=function(){return s||!i()};return{inlineDialog:hN(g,r,v),banner:vN(g,r,v),cursor:bN(n,d),node:yN(d)}},hh=function(n){return function(r,i){var s=MT(n);s(r,i)}},DC=function(n){return function(){return OT(n)}},wN=function(n){return function(){return i3(n)}},xN=function(n){return function(){return _T(n)}},NE=function(n){return{colorPicker:hh(n),hasCustomColors:DC(n),getColors:wN(n),getColorCols:xN(n)}},CN=function(n){return function(){return R6(n)}},SN=function(n){return{isDraggableModal:CN(n)}},d_=function(n){var r=re(nT(n)?"bottom":"top");return{isPositionedAtTop:function(){return r.get()==="top"},getDockingMode:r.get,setDockingMode:r.set}},zE=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],kN=function(n){return ao(n,"items")},EN=function(n){return ao(n,"block")},AN=function(n){return ao(n,"inline")},TN=function(n){return ao(n,"selector")},m_=function(n){return nt(n,function(r,i){if(kN(i)){var s=m_(i.items);return{customFormats:r.customFormats.concat(s.customFormats),formats:r.formats.concat([{title:i.title,items:s.formats}])}}else if(AN(i)||EN(i)||TN(i)){var d=Ie(i.name)?i.name:i.title.toLowerCase(),g="custom-"+d;return{customFormats:r.customFormats.concat([{name:g,format:i}]),formats:r.formats.concat([{title:i.title,format:g,icon:i.icon}])}}else return tt(tt({},r),{formats:r.formats.concat(i)})},{customFormats:[],formats:[]})},g_=function(n,r){var i=m_(r),s=function(d){tn(d,function(g){n.formatter.has(g.name)||n.formatter.register(g.name,g.format)})};return n.formatter?s(i.customFormats):n.on("init",function(){s(i.customFormats)}),i.formats},p_=function(n){return B6(n).map(function(r){var i=g_(n,r);return N6(n)?zE.concat(i):i}).getOr(zE)},h_=function(n,r,i){var s={type:"formatter",isSelected:r(n.format),getStylePreview:i(n.format)};return $r(n,s)},_C=function(n,r,i,s){var d=function(C){return h_(C,i,s)},g=function(C){var E={type:"submenu"};return $r(C,E)},v=function(C){var E=Ie(C.name)?C.name:tr(C.title),O="custom-"+E,_={type:"formatter",format:O,isSelected:i(O),getStylePreview:s(O)},R=$r(C,_);return n.formatter.register(E,R),R},w=function(C){return wt(C,function(E){var O=lr(E);if(zo(E,"items")){var _=w(E.items);return $r(g(E),{getStyleItems:function(){return _}})}else return zo(E,"format")?d(E):O.length===1&&Ft(O,"title")?$r(E,{type:"separator"}):v(E)})};return w(r)},ME=function(n){var r=function(_){return function(){return n.formatter.match(_)}},i=function(_){return function(){var R=n.formatter.get(_);return R!==void 0?S.some({tag:R.length>0&&(R[0].inline||R[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(_))}):S.none()}},s=function(_){var R=_.items;return R!==void 0&&R.length>0?An(R,s):[_.format]},d=re([]),g=re([]),v=re([]),w=re([]),C=re(!1);n.on("PreInit",function(_){var R=p_(n),G=_C(n,R,r,i);d.set(G),g.set(An(G,s))}),n.on("addStyleModifications",function(_){var R=_C(n,_.items,r,i);v.set(R),C.set(_.replace),w.set(An(R,s))});var E=function(){var _=C.get()?[]:d.get(),R=v.get();return _.concat(R)},O=function(){var _=C.get()?[]:g.get(),R=w.get();return _.concat(R)};return{getData:E,getFlattenedKeys:O}},jy=function(n){return Hn(n)&&n.nodeType===1},ON=ta.trim,v_=function(n){return function(r){return!!(jy(r)&&(r.contentEditable===n||r.getAttribute("data-mce-contenteditable")===n))}},DN=v_("true"),_N=v_("false"),b_=function(n,r,i,s,d){return{type:n,title:r,url:i,level:s,attach:d}},y_=function(n){for(;n=n.parentNode;){var r=n.contentEditable;if(r&&r!=="inherit")return DN(n)}return!1},w_=function(n,r){return wt(wa(Fe.fromDom(r),n),function(i){return i.dom})},RE=function(n){return n.innerText||n.textContent},FN=function(n){return n.id?n.id:tr("h")},BN=function(n){return n&&n.nodeName==="A"&&(n.id||n.name)!==void 0},NN=function(n){return BN(n)&&C_(n)},x_=function(n){return n&&/^(H[1-6])$/.test(n.nodeName)},C_=function(n){return y_(n)&&!_N(n)},S_=function(n){return x_(n)&&C_(n)},zN=function(n){return x_(n)?parseInt(n.nodeName.substr(1),10):0},MN=function(n){var r=FN(n),i=function(){n.id=r};return b_("header",RE(n),"#"+r,zN(n),i)},RN=function(n){var r=n.id||n.name,i=RE(n);return b_("anchor",i||"#"+r,"#"+r,0,ft)},PN=function(n){return wt(gt(n,S_),MN)},k_=function(n){return wt(gt(n,NN),RN)},vh=function(n){var r=w_("h1,h2,h3,h4,h5,h6,a:not([href])",n);return r},E_=function(n){return ON(n.title).length>0},LN=function(n){var r=vh(n);return gt(PN(r).concat(k_(r)),E_)},IN={find:LN},FC="tinymce-url-history",PE=5,A_=function(n){return Ie(n)&&/^https?/.test(n)},HN=function(n){return sr(n)&&n.length<=PE&&ar(n,A_)},T_=function(n){return wr(n)&&hi(n,function(r){return!HN(r)}).isNone()},O_=function(){var n=jx.getItem(FC);if(n===null)return{};var r;try{r=JSON.parse(n)}catch(i){if(i instanceof SyntaxError)return console.log("Local storage "+FC+" was not valid JSON",i),{};throw i}return T_(r)?r:(console.log("Local storage "+FC+" was not valid format",r),{})},VN=function(n){if(!T_(n))throw new Error(`Bad format for history:
`+JSON.stringify(n));jx.setItem(FC,JSON.stringify(n))},UN=function(n){var r=O_();return Object.prototype.hasOwnProperty.call(r,n)?r[n]:[]},jN=function(n,r){if(A_(n)){var i=O_(),s=Object.prototype.hasOwnProperty.call(i,r)?i[r]:[],d=gt(s,function(g){return g!==n});i[r]=[n].concat(d).slice(0,PE),VN(i)}},LE=function(n){return!!n},qN=function(n){return Er(ta.makeMap(n,/[, ]/),LE)},IE=function(n){return S.from(P6(n)).filter(He)},D_=function(n){var r=S.some(uT(n)).filter(LE),i=S.some(L6(n)).filter(LE),s=r.or(i).map(qN);return IE(n).fold(yn,function(d){return s.fold(Zt,function(g){return lr(g).length>0?g:!1})})},WN=function(n,r){var i=D_(n);return Pt(i)?i?IE(n):S.none():i[r]?IE(n):S.none()},YN=function(n,r){return WN(n,r).map(function(i){return function(s){return Qu.nu(function(d){var g=function(w,C){if(!Ie(w))throw new Error("Expected value to be string");if(C!==void 0&&!wr(C))throw new Error("Expected meta to be a object");var E={value:w,meta:C};d(E)},v=tt({filetype:r,fieldname:s.fieldname},S.from(s.meta).getOr({}));i.call(n,g,s.value,v)})}})},__=function(n){return S.from(n).filter(Ie).getOrUndefined()},$N=function(n){return I6(n)?S.none():S.some({targets:IN.find(n.getBody()),anchorTop:__(H6(n)),anchorBottom:__(aT(n))})},HE=function(n){return S.from(cT(n))},F_=function(n){return{getHistory:UN,addToHistory:jN,getLinkInformation:function(){return $N(n)},getValidationHandler:function(){return HE(n)},getUrlPicker:function(r){return YN(n,r)}}},XN=function(n,r,i){var s=re(!1),d=d_(r),g={shared:{providers:{icons:function(){return r.ui.registry.getAll().icons},menuItems:function(){return r.ui.registry.getAll().menuItems},translate:rs.translate,isDisabled:function(){return r.mode.isReadOnly()||r.ui.isDisabled()},getSetting:r.getParam.bind(r)},interpreter:function(v){return gN(v,g)},anchors:f_(r,i,d.isPositionedAtTop),header:d,getSink:function(){return gn.value(n)}},urlinput:F_(r),styleselect:ME(r),colorinput:NE(r),dialog:SN(r),isContextMenuOpen:function(){return s.get()},setContextMenuState:function(v){return s.set(v)}};return g},VE=st(function(n,r){wd(n,Math.floor(r))}),GN="contexttoolbar-show",B_="contexttoolbar-hide",D0=st([At("dom"),It("shell",!0),tu("toolbarBehaviours",[Mr])]),KN=function(){return{behaviours:Un([Mr.config({})])}},JN=st([Nc({name:"groups",overrides:KN})]),ZN=function(n,r,i,s){var d=function(w,C){g(w).fold(function(){throw console.error("Toolbar was defined to not be a shell, but no groups container was specified in components"),new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(E){Mr.set(E,C)})},g=function(w){return n.shell?S.some(w):Lo(w,n,"groups")},v=n.shell?{behaviours:[Mr.config({})],components:[]}:{behaviours:[],components:r};return{uid:n.uid,dom:n.dom,components:v.components,behaviours:Li(n.toolbarBehaviours,v.behaviours),apis:{setGroups:d},domModification:{attributes:{role:"group"}}}},Ul=Vu({name:"Toolbar",configFields:D0(),partFields:JN(),factory:ZN,apis:{setGroups:function(n,r,i){n.setGroups(r,i)}}}),BC=function(n,r){var i={len:0,list:[]},s=nt(n,function(d,g){var v=r(g,d.len);return v.fold(st(d),function(w){return{len:w.finish,list:d.list.concat([w])}})},i);return s.list},UE=function(n,r,i){return{within:n,extra:r,withinWidth:i}},N_=function(n,r,i){var s=BC(n,function(w,C){var E=i(w);return S.some({element:w,start:C,finish:C+E,width:E})}),d=gt(s,function(w){return w.finish<=r}),g=Wt(d,function(w,C){return w+C.width},0),v=s.slice(d.length);return{within:d,extra:v,withinWidth:g}},qy=function(n){return wt(n,function(r){return r.element})},bh=function(n,r,i){var s=qy(n.concat(r));return UE(s,[],i)},QN=function(n,r,i,s){var d=qy(n).concat([i]);return UE(d,qy(r),s)},jE=function(n,r,i){return UE(qy(n),[],i)},NC=function(n,r,i){var s=N_(r,n,i);return s.extra.length===0?S.some(s):S.none()},tz=function(n,r,i,s){var d=NC(n,r,i).getOrThunk(function(){return N_(r,n-i(s),i)}),g=d.within,v=d.extra,w=d.withinWidth;return v.length===1&&v[0].width<=i(s)?bh(g,v,w):v.length>=1?QN(g,v,s,w):jE(g,v,w)},z_=function(n,r){var i=wt(r,function(s){return Nu(s)});Ul.setGroups(n,i)},nz=function(n){return Qn(n,function(r){return Ju(r.element).bind(function(i){return r.getSystem().getByDom(i).toOptional()})})},M_=function(n,r,i){var s=_s(n,r,"primary"),d=Ii.getCoupled(n,"overflowGroup");Xr(s.element,"visibility","hidden");var g=r.builtGroups.get().concat([d]),v=nz(g);i([]),z_(s,g);var w=va(s.element),C=tz(w,r.builtGroups.get(),function(E){return va(E.element)},d);C.extra.length===0?(Mr.remove(s,d),i([])):(z_(s,C.within),i(C.extra)),Ro(s.element,"visibility"),ep(s.element),v.each(Fr.focus)},R_=st([tu("splitToolbarBehaviours",[Ii]),xi("builtGroups",function(){return re([])})]),yh=st([Xc(["overflowToggledClass"]),Mo("getOverflowBounds"),At("lazySink"),xi("overflowGroups",function(){return re([])})].concat(R_())),P_=st([Iu({factory:Ul,schema:D0(),name:"primary"}),ns({schema:D0(),name:"overflow"}),ns({name:"overflow-button"}),ns({name:"overflow-group"})]),ez=st([Xc(["toggledClass"]),At("lazySink"),Ai("fetch"),Mo("getBounds"),Gi("fireDismissalEventInstead",[It("event",Ri())]),Dl()]),rz=st([ns({name:"button",overrides:function(n){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Un([Gt.config({toggleClass:n.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),ns({factory:Ul,schema:D0(),name:"toolbar",overrides:function(n){return{toolbarBehaviours:Un([vr.config({mode:"cyclic",onEscape:function(r){return Lo(r,n,"button").each(Fr.focus),S.none()}})])}}})]),L_=function(n,r){var i=Ii.getCoupled(n,"toolbarSandbox");Wr.isOpen(i)?Wr.close(i):Wr.open(i,r.toolbar())},qE=function(n,r,i,s){var d=i.getBounds.map(function(v){return v()}),g=i.lazySink(n).getOrDie();Zu.positionWithinBounds(g,{anchor:"hotspot",hotspot:n,layouts:s,overrides:{maxWidthFunction:VE()}},r,d)},I_=function(n,r,i,s,d){Ul.setGroups(r,d),qE(n,r,i,s),Gt.on(n)},oz=function(n,r,i){var s=S1(),d=function(v,w){i.fetch().get(function(C){I_(n,w,i,r.layouts,C),s.link(n.element),vr.focusIn(w)})},g=function(){Gt.off(n),Fr.focus(n),s.unlink(n.element)};return{dom:{tag:"div",attributes:{id:s.id}},behaviours:Un([vr.config({mode:"special",onEscape:function(v){return Wr.close(v),S.some(!0)}}),Wr.config({onOpen:d,onClose:g,isPartOf:function(v,w,C){return Us(w,C)||Us(n,C)},getAttachPoint:function(){return i.lazySink(n).getOrDie()}}),Lu.config({channels:tt(tt({},Of(tt({isExtraPart:yn},i.fireDismissalEventInstead.map(function(v){return{fireEventInstead:{event:v.event}}}).getOr({})))),wv({doReposition:function(){Wr.getState(Ii.getCoupled(n,"toolbarSandbox")).each(function(v){qE(n,v,i,r.layouts)})}}))})])}},WE=function(n,r,i,s){return tt(tt({},Sa.sketch(tt(tt({},s.button()),{action:function(d){L_(d,s)},buttonBehaviours:Ca.augment({dump:s.button().buttonBehaviours},[Ii.config({others:{toolbarSandbox:function(d){return oz(d,i,n)}}})])}))),{apis:{setGroups:function(d,g){Wr.getState(Ii.getCoupled(d,"toolbarSandbox")).each(function(v){I_(d,v,n,i.layouts,g)})},reposition:function(d){Wr.getState(Ii.getCoupled(d,"toolbarSandbox")).each(function(g){qE(d,g,n,i.layouts)})},toggle:function(d){L_(d,s)},getToolbar:function(d){return Wr.getState(Ii.getCoupled(d,"toolbarSandbox"))},isOpen:function(d){return Wr.isOpen(Ii.getCoupled(d,"toolbarSandbox"))}}})},jl=Vu({name:"FloatingToolbarButton",factory:WE,configFields:ez(),partFields:rz(),apis:{setGroups:function(n,r,i){n.setGroups(r,i)},reposition:function(n,r){n.reposition(r)},toggle:function(n,r){n.toggle(r)},getToolbar:function(n,r){return n.getToolbar(r)},isOpen:function(n,r){return n.isOpen(r)}}}),zC=st([At("items"),Xc(["itemSelector"]),tu("tgroupBehaviours",[vr])]),MC=st([cg({name:"items",unit:"item"})]),wh=function(n,r,i,s){return{uid:n.uid,dom:n.dom,components:r,behaviours:Li(n.tgroupBehaviours,[vr.config({mode:"flow",selector:n.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},xh=Vu({name:"ToolbarGroup",configFields:zC(),partFields:MC(),factory:wh}),H_=function(n){return wt(n,function(r){return Nu(r)})},YE=function(n,r,i){M_(n,i,function(s){i.overflowGroups.set(s),r.getOpt(n).each(function(d){jl.setGroups(d,H_(s))})})},V_=function(n,r,i,s){var d=_o(jl.sketch({fetch:function(){return Qu.nu(function(g){g(H_(n.overflowGroups.get()))})},layouts:{onLtr:function(){return[$i,lu]},onRtl:function(){return[lu,$i]},onBottomLtr:function(){return[Ku,fu]},onBottomRtl:function(){return[fu,Ku]}},getBounds:i.getOverflowBounds,lazySink:n.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:n.markers.overflowToggledClass},parts:{button:s["overflow-button"](),toolbar:s.overflow()}}));return{uid:n.uid,dom:n.dom,components:r,behaviours:Li(n.splitToolbarBehaviours,[Ii.config({others:{overflowGroup:function(){return xh.sketch(tt(tt({},s["overflow-group"]()),{items:[d.asSpec()]}))}}})]),apis:{setGroups:function(g,v){n.builtGroups.set(wt(v,g.getSystem().build)),YE(g,d,n)},refresh:function(g){return YE(g,d,n)},toggle:function(g){d.getOpt(g).each(function(v){jl.toggle(v)})},isOpen:function(g){return d.getOpt(g).map(jl.isOpen).getOr(!1)},reposition:function(g){d.getOpt(g).each(function(v){jl.reposition(v)})},getOverflow:function(g){return d.getOpt(g).bind(jl.getToolbar)}},domModification:{attributes:{role:"group"}}}},$E=Vu({name:"SplitFloatingToolbar",configFields:yh(),partFields:P_(),factory:V_,apis:{setGroups:function(n,r,i){n.setGroups(r,i)},refresh:function(n,r){n.refresh(r)},reposition:function(n,r){n.reposition(r)},toggle:function(n,r){n.toggle(r)},isOpen:function(n,r){return n.isOpen(r)},getOverflow:function(n,r){return n.getOverflow(r)}}}),Wy=function(n,r){return r.getAnimationRoot.fold(function(){return n.element},function(i){return i(n)})},pm=function(n){return n.dimension.property},_0=function(n,r){return n.dimension.getDimension(r)},XE=function(n,r){var i=Wy(n,r);pi(i,[r.shrinkingClass,r.growingClass])},GE=function(n,r){jo(n.element,r.openClass),Yo(n.element,r.closedClass),Xr(n.element,pm(r),"0px"),ep(n.element)},RC=function(n,r){jo(n.element,r.closedClass),Yo(n.element,r.openClass),Ro(n.element,pm(r))},PC=function(n,r,i,s){i.setCollapsed(),Xr(n.element,pm(r),_0(r,n.element)),ep(n.element),XE(n,r),GE(n,r),r.onStartShrink(n),r.onShrunk(n)},iz=function(n,r,i,s){var d=s.getOrThunk(function(){return _0(r,n.element)});i.setCollapsed(),Xr(n.element,pm(r),d),ep(n.element);var g=Wy(n,r);jo(g,r.growingClass),Yo(g,r.shrinkingClass),GE(n,r),r.onStartShrink(n)},KE=function(n,r,i){var s=_0(r,n.element),d=s==="0px"?PC:iz;d(n,r,i,S.some(s))},U_=function(n,r,i){var s=Wy(n,r),d=tc(s,r.shrinkingClass),g=_0(r,n.element);RC(n,r);var v=_0(r,n.element),w=function(){Xr(n.element,pm(r),g),ep(n.element)},C=function(){GE(n,r)},E=d?w:C;E(),jo(s,r.shrinkingClass),Yo(s,r.growingClass),RC(n,r),Xr(n.element,pm(r),v),i.setExpanded(),r.onStartGrow(n)},j_=function(n,r,i){if(i.isExpanded()){Ro(n.element,pm(r));var s=_0(r,n.element);Xr(n.element,pm(r),s)}},uz=function(n,r,i){i.isExpanded()||U_(n,r,i)},az=function(n,r,i){i.isExpanded()&&KE(n,r,i)},q_=function(n,r,i){i.isExpanded()&&PC(n,r,i)},cz=function(n,r,i){return i.isExpanded()},sz=function(n,r,i){return i.isCollapsed()},W_=function(n,r,i){var s=Wy(n,r);return tc(s,r.growingClass)===!0},_g=function(n,r,i){var s=Wy(n,r);return tc(s,r.shrinkingClass)===!0},Ch=function(n,r,i){return W_(n,r)||_g(n,r)},Y_=function(n,r,i){var s=i.isExpanded()?KE:U_;s(n,r,i)},lz=Object.freeze({__proto__:null,refresh:j_,grow:uz,shrink:az,immediateShrink:q_,hasGrown:cz,hasShrunk:sz,isGrowing:W_,isShrinking:_g,isTransitioning:Ch,toggleGrow:Y_,disableTransitions:XE}),$_=function(n,r,i){var s=r.expanded;return bs(s?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:P(r.dimension.property,"0px")})},fz=function(n,r){return po([id(V0(),function(i,s){var d=s.event.raw;if(d.propertyName===n.dimension.property){XE(i,n),r.isExpanded()&&Ro(i.element,n.dimension.property);var g=r.isExpanded()?n.onGrown:n.onShrunk;g(i)}})])},LC=Object.freeze({__proto__:null,exhibit:$_,events:fz}),sl=[At("closedClass"),At("openClass"),At("shrinkingClass"),At("growingClass"),Cr("getAnimationRoot"),to("onShrunk"),to("onStartShrink"),to("onGrown"),to("onStartGrow"),It("expanded",!1),gr("dimension",bu("property",{width:[Ho("property","width"),Ho("getDimension",function(n){return va(n)+"px"})],height:[Ho("property","height"),Ho("getDimension",function(n){return zu(n)+"px"})]}))],dz=function(n){var r=re(n.expanded),i=function(){return"expanded: "+r.get()};return Ec({isExpanded:function(){return r.get()===!0},isCollapsed:function(){return r.get()===!1},setCollapsed:Kn(r.set,!1),setExpanded:Kn(r.set,!0),readState:i})},Wf=Object.freeze({__proto__:null,init:dz}),ql=Pi({fields:sl,name:"sliding",active:LC,apis:lz,state:Wf}),mz=st([Xc(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),to("onOpened"),to("onClosed")].concat(R_())),X_=st([Iu({factory:Ul,schema:D0(),name:"primary"}),Iu({factory:Ul,schema:D0(),name:"overflow",overrides:function(n){return{toolbarBehaviours:Un([ql.config({dimension:{property:"height"},closedClass:n.markers.closedClass,openClass:n.markers.openClass,shrinkingClass:n.markers.shrinkingClass,growingClass:n.markers.growingClass,onShrunk:function(r){Lo(r,n,"overflow-button").each(function(i){Gt.off(i),Fr.focus(i)}),n.onClosed(r)},onGrown:function(r){vr.focusIn(r),n.onOpened(r)},onStartGrow:function(r){Lo(r,n,"overflow-button").each(Gt.on)}}),vr.config({mode:"acyclic",onEscape:function(r){return Lo(r,n,"overflow-button").each(Fr.focus),S.some(!0)}})])}}}),ns({name:"overflow-button",overrides:function(n){return{buttonBehaviours:Un([Gt.config({toggleClass:n.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),ns({name:"overflow-group"})]),IC=function(n,r){return Lo(n,r,"overflow").map(ql.hasGrown).getOr(!1)},hm=function(n,r){Lo(n,r,"overflow-button").bind(function(){return Lo(n,r,"overflow")}).each(function(i){ka(n,r),ql.toggleGrow(i)})},ka=function(n,r){Lo(n,r,"overflow").each(function(i){M_(n,r,function(s){var d=wt(s,function(g){return Nu(g)});Ul.setGroups(i,d)}),Lo(n,r,"overflow-button").each(function(s){ql.hasGrown(i)&&Gt.on(s)}),ql.refresh(i)})},gz=function(n,r,i,s){var d="alloy.toolbar.toggle",g=function(v,w){var C=wt(w,v.getSystem().build);n.builtGroups.set(C)};return{uid:n.uid,dom:n.dom,components:r,behaviours:Li(n.splitToolbarBehaviours,[Ii.config({others:{overflowGroup:function(v){return xh.sketch(tt(tt({},s["overflow-group"]()),{items:[Sa.sketch(tt(tt({},s["overflow-button"]()),{action:function(w){Hr(v,d)}}))]}))}}}),Yr("toolbar-toggle-events",[Fn(d,function(v){hm(v,n)})])]),apis:{setGroups:function(v,w){g(v,w),ka(v,n)},refresh:function(v){return ka(v,n)},toggle:function(v){return hm(v,n)},isOpen:function(v){return IC(v,n)}},domModification:{attributes:{role:"group"}}}},HC=Vu({name:"SplitSlidingToolbar",configFields:mz(),partFields:X_(),factory:gz,apis:{setGroups:function(n,r,i){n.setGroups(r,i)},refresh:function(n,r){n.refresh(r)},toggle:function(n,r){n.toggle(r)},isOpen:function(n,r){return n.isOpen(r)}}}),VC=st(tr("toolbar-height-change")),JE=function(n){var r=n.title.fold(function(){return{}},function(i){return{attributes:{title:i}}});return{dom:tt({tag:"div",classes:["tox-toolbar__group"]},r),components:[xh.parts.items({})],items:n.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Un([Di.config({}),Fr.config({})])}},UC=function(n){return xh.sketch(JE(n))},G_=function(n,r){var i=si(function(s){var d=wt(n.initGroups,UC);Ul.setGroups(s,d)});return Un([tl.toolbarButton(n.providers.isDisabled),nu(),vr.config({mode:r,onEscape:n.onEscape,selector:".tox-toolbar__group"}),Yr("toolbar-events",[i])])},vm=function(n){var r=n.cyclicKeying?"cyclic":"acyclic";return{uid:n.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":JE({title:S.none(),items:[]}),"overflow-button":PD({name:"more",icon:S.some("more-drawer"),disabled:!1,tooltip:S.some("More..."),primary:!1,borderless:!1},S.none(),n.providers)},splitToolbarBehaviours:G_(n,r)}},K_=function(n){var r=vm(n),i=4,s=$E.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return $E.sketch(tt(tt({},r),{lazySink:n.getSink,getOverflowBounds:function(){var d=n.moreDrawerData.lazyHeader().element,g=gf(d),v=$0(d),w=gf(v),C=Math.max(v.dom.scrollHeight,w.height);return ec(g.x+i,w.y,g.width-i*2,C)},parts:tt(tt({},r.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:n.attributes}}}),components:[s],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},F0=function(n){var r=HC.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),i=HC.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),s=vm(n);return HC.sketch(tt(tt({},s),{components:[r,i],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(d){d.getSystem().broadcastOn([VC()],{type:"opened"})},onClosed:function(d){d.getSystem().broadcastOn([VC()],{type:"closed"})}}))},Sh=function(n){var r=n.cyclicKeying?"cyclic":"acyclic";return Ul.sketch({uid:n.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(n.type===os.scrolling?["tox-toolbar--scrolling"]:[])},components:[Ul.parts.groups({})],toolbarBehaviours:G_(n,r)})},J_=Nt([rr("type"),gr("items",xr([bm([rr("name"),ma("items",bi)]),bi]))].concat(dy)),pz=function(n){return Bo("GroupToolbarButton",J_,n)},hz=[uo("text"),uo("tooltip"),uo("icon"),Ai("fetch"),ri("onSetup",function(){return ft})],vz=Nt(Y([rr("type")],hz)),Z_=function(n){return Bo("menubutton",vz,n)},B0=Nt([rr("type"),uo("tooltip"),uo("icon"),uo("text"),Mo("select"),Ai("fetch"),ri("onSetup",function(){return ft}),Aa("presets","normal",["normal","color","listpreview"]),It("columns",1),Ai("onAction"),Ai("onItemAction")]),bz=function(n){return Bo("SplitButton",B0,n)},yz=function(n,r){var i=function(s,d){n.updateState.each(function(g){var v=g(s,d);r.set(v)}),n.renderComponents.each(function(g){var v=g(d,r.get()),w=wt(v,s.getSystem().build);Fl(s,w)})};return po([Fn(Is(),function(s,d){var g=d;if(!g.universal){var v=n.channel;Ft(g.channels,v)&&i(s,g.data)}}),si(function(s,d){n.initialData.each(function(g){i(s,g)})})])},wz=Object.freeze({__proto__:null,events:yz}),xz=function(n,r,i){return i},Cz=Object.freeze({__proto__:null,getState:xz}),jC=[At("channel"),Cr("renderComponents"),Cr("updateState"),Cr("initialData")],Sz=function(){var n=re(S.none()),r=function(g){return n.set(g)},i=function(){return n.set(S.none())},s=function(){return n.get()},d=function(){return n.get().fold(function(){return"none"},function(g){return g})};return{readState:d,get:s,set:r,clear:i}},Q_=Object.freeze({__proto__:null,init:Sz}),Ua=Pi({fields:jC,name:"reflecting",active:wz,apis:Cz,state:Q_}),t5=st([At("toggleClass"),At("fetch"),Sd("onExecute"),It("getHotspot",S.some),It("getAnchorOverrides",st({})),Dl(),Sd("onItemExecute"),Cr("lazySink"),At("dom"),to("onOpen"),tu("splitDropdownBehaviours",[Ii,vr,Fr]),It("matchWidth",!1),It("useMinWidth",!1),It("eventOrder",{}),Cr("role")].concat(B3())),qC=Iu({factory:Sa,schema:[At("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Un([Fr.revoke()])}},overrides:function(n){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(n.uid).each(od)},buttonBehaviours:Un([Gt.config({toggleOnExecute:!1,toggleClass:n.toggleClass})])}}}),WC=Iu({factory:Sa,schema:[At("dom")],name:"button",defaults:function(){return{buttonBehaviours:Un([Fr.revoke()])}},overrides:function(n){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(n.uid).each(function(i){n.onExecute(i,r)})}}}}),kh=st([qC,WC,Nc({factory:{sketch:function(n){return{uid:n.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:n.text}}}},schema:[At("text")],name:"aria-descriptor"}),ns({schema:[Ol()],name:"menu",defaults:function(n){return{onExecute:function(r,i){r.getSystem().getByUid(n.uid).each(function(s){n.onItemExecute(s,r,i)})}}}}),lO()]),kz=function(n,r,i,s){var d,g=function(_){mo.getCurrent(_).each(function(R){Be.highlightFirst(R),vr.focusIn(R)})},v=function(_){var R=g;h0(n,function(G){return G},_,s,R,ol.HighlightFirst).get(ft)},w=function(_){return v(_),S.some(!0)},C=function(_){var R=_s(_,n,"button");return od(R),S.some(!0)},E=tt(tt({},po([si(function(_,R){var G=Lo(_,n,"aria-descriptor");G.each(function(ot){var et=tr("aria");ho(ot.element,"id",et),ho(_.element,"aria-describedby",et)})})])),Bn(S.some(v))),O={repositionMenus:function(_){Gt.isOn(_)&&gO(_)}};return{uid:n.uid,dom:n.dom,components:r,apis:O,eventOrder:tt(tt({},n.eventOrder),(d={},d[ra()]=["disabling","toggling","alloy.base.behaviour"],d)),events:E,behaviours:Li(n.splitDropdownBehaviours,[Ii.config({others:{sandbox:function(_){var R=_s(_,n,"arrow"),G={onOpen:function(){Gt.on(R),Gt.on(_)},onClose:function(){Gt.off(R),Gt.off(_)}};return F3(n,_,G)}}}),vr.config({mode:"special",onSpace:C,onEnter:C,onDown:w}),Fr.config({}),Gt.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:n.role.getOr("button"),"aria-haspopup":!0}}}},YC=Vu({name:"SplitDropdown",configFields:t5(),partFields:kh(),factory:kz,apis:{repositionMenus:function(n,r){return n.repositionMenus(r)}}}),ZE=function(n){return{isDisabled:function(){return yr.isDisabled(n)},setDisabled:function(r){return yr.set(n,r)}}},Ez=function(n){return{setActive:function(r){Gt.set(n,r)},isActive:function(){return Gt.isOn(n)},isDisabled:function(){return yr.isDisabled(n)},setDisabled:function(r){return yr.set(n,r)}}},Yy=function(n,r){return n.map(function(i){return{"aria-label":r.translate(i),title:r.translate(i)}}).getOr({})},QE=tr("focus-button"),Az=["checklist","ordered-list"],Tz=["indent","outdent","table-insert-column-after","table-insert-column-before","unordered-list"],Eh=function(n,r,i,s,d,g){var v,w=function(E){return rs.isRtl()&&Ft(Az,E)?E+"-rtl":E},C=rs.isRtl()&&n.exists(function(E){return Ft(Tz,E)});return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]).concat(C?["tox-tbtn__icon-rtl"]:[]),attributes:Yy(i,g)},components:s0([n.map(function(E){return Iy(w(E),g.icons)}),r.map(function(E){return pE(E,"tox-tbtn",g)})]),eventOrder:(v={},v[wc()]=["focusing","alloy.base.behaviour","common-button-display-events"],v),buttonBehaviours:Un([tl.toolbarButton(g.isDisabled),nu(),Yr("common-button-display-events",[Fn(wc(),function(E,O){O.event.prevent(),Hr(E,QE)})])].concat(s.map(function(E){return Ua.config({channel:E,initialData:{icon:n,text:r},renderComponents:function(O,_){return s0([O.icon.map(function(R){return Iy(w(R),g.icons)}),O.text.map(function(R){return pE(R,"tox-tbtn",g)})])}})}).toArray()).concat(d.getOr([])))}},tA=function(n,r,i,s){var d=r.shared;return jl.sketch({lazySink:d.getSink,fetch:function(){return Qu.nu(function(g){g(wt(i(n.items),UC))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:Eh(n.icon,n.text,n.tooltip,S.none(),S.none(),d.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:s}}}})},n5=function(n,r,i){var s=re(ft),d=Eh(n.icon,n.text,n.tooltip,S.none(),S.none(),i);return Sa.sketch({dom:d.dom,components:d.components,eventOrder:BD,buttonBehaviours:Un([Yr("toolbar-button-events",[r7({onAction:n.onAction,getApi:r.getApi}),yy(r,s),c0(r,s)]),tl.toolbarButton(function(){return n.disabled||i.isDisabled()}),nu()].concat(r.toolbarButtonBehaviours))})},Oz=function(n,r){return nA(n,r,[])},nA=function(n,r,i){return n5(n,{toolbarButtonBehaviours:[].concat(i.length>0?[Yr("toolbarButtonWith",i)]:[]),getApi:ZE,onSetup:n.onSetup},r)},Dz=function(n,r){return e5(n,r,[])},e5=function(n,r,i){return $r(n5(n,{toolbarButtonBehaviours:[Mr.config({}),Gt.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(i.length>0?[Yr("toolbarToggleButtonWith",i)]:[]),getApi:Ez,onSetup:n.onSetup},r))},t=function(n,r,i){return function(s){return Qu.nu(function(d){return r.fetch(d)}).map(function(d){return S.from(jT($r(c3(tr("menu-value"),d,function(g){r.onItemAction(n(s),g)},r.columns,r.presets,Il.CLOSE_ON_EXECUTE,r.select.getOr(yn),i),{movement:qx(r.columns,r.presets),menuBehaviours:Dx.unnamedEvents(r.columns!=="auto"?[]:[si(function(g,v){Ox(g,4,FA(r.presets)).each(function(w){var C=w.numRows,E=w.numColumns;vr.setGridSize(g,C,E)})})])})))})}},e=function(n,r){var i,s=tr("channel-update-split-dropdown-display"),d=function(w){return{isDisabled:function(){return yr.isDisabled(w)},setDisabled:function(C){return yr.set(w,C)},setIconFill:function(C,E){Ru(w.element,'svg path[id="'+C+'"], rect[id="'+C+'"]').each(function(O){ho(O,"fill",E)})},setIconStroke:function(C,E){Ru(w.element,'svg path[id="'+C+'"], rect[id="'+C+'"]').each(function(O){ho(O,"stroke",E)})},setActive:function(C){ho(w.element,"aria-pressed",C),Ru(w.element,"span").each(function(E){w.getSystem().getByDom(E).each(function(O){return Gt.set(O,C)})})},isActive:function(){return Ru(w.element,"span").exists(function(C){return w.getSystem().getByDom(C).exists(Gt.isOn)})}}},g=re(ft),v={getApi:d,onSetup:n.onSetup};return YC.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:tt({"aria-pressed":!1},Yy(n.tooltip,r.providers))},onExecute:function(w){n.onAction(d(w))},onItemExecute:function(w,C,E){},splitDropdownBehaviours:Un([tl.splitButton(r.providers.isDisabled),nu(),Yr("split-dropdown-events",[Fn(QE,Fr.focus),yy(v,g),c0(v,g)]),Dy.config({})]),eventOrder:(i={},i[kl()]=["alloy.base.behaviour","split-dropdown-events"],i),toggleClass:"tox-tbtn--enabled",lazySink:r.getSink,fetch:t(d,n,r.providers),parts:{menu:Ex(!1,n.columns,n.presets)},components:[YC.parts.button(Eh(n.icon,n.text,S.none(),S.some(s),S.some([Gt.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),r.providers)),YC.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:cc("chevron-down",r.providers.icons)},buttonBehaviours:Un([tl.splitButton(r.providers.isDisabled),nu()])}),YC.parts["aria-descriptor"]({text:r.providers.translate("To open the popup, press Shift+Enter")})]})},o=function(n){return{hide:function(){return Hr(n,Yg())},getValue:function(){return xe.getValue(n)}}},u=function(n,r){return Fn(vE,function(i,s){var d=n.get(i),g=o(d);r.onAction(g,s.event.buttonApi)})},c=function(n,r,i){var s=r.original;s.primary;var d=ln(s,["primary"]),g=Wa(SA(tt(tt({},d),{type:"button",onAction:ft})));return nA(g,i.backstage.shared.providers,[u(n,r)])},f=function(n,r,i){var s=r.original;s.primary;var d=ln(s,["primary"]),g=Wa(kA(tt(tt({},d),{type:"togglebutton",onAction:ft})));return e5(g,i.backstage.shared.providers,[u(n,r)])},p=function(n,r,i){var s={backstage:{shared:{providers:i}}};return r.type==="contextformtogglebutton"?f(n,r,s):c(n,r,s)},b=function(n,r,i){var s=wt(r,function(v){return _o(p(n,v,i))}),d=function(){return wt(s,function(v){return v.asSpec()})},g=function(v){return Qn(r,function(w,C){return w.primary?S.from(s[C]).bind(function(E){return E.getOpt(v)}).filter(qn(yr.isDisabled)):S.none()})};return{asSpecs:d,findPrimary:g}},y=function(n,r){var i=n.label.fold(function(){return{}},function(g){return{"aria-label":g}}),s=_o(Sg.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:n.initValue(),inputAttributes:i,selectOnFocus:!0,inputBehaviours:Un([vr.config({mode:"special",onEnter:function(g){return d.findPrimary(g).map(function(v){return od(v),!0})},onLeft:function(g,v){return v.cut(),S.none()},onRight:function(g,v){return v.cut(),S.none()}})])})),d=b(s,n.commands,r);return[{title:S.none(),items:[s.asSpec()]},{title:S.none(),items:d.asSpecs()}]},A=function(n,r,i){return Sh({type:n,uid:tr("context-toolbar"),initGroups:y(r,i),onEscape:S.none,cyclicKeying:!0,providers:i})},N={renderContextForm:A,buildInitGroups:y},B=function(n,r){var i=Math.max(r.x,n.x),s=n.right-i,d=r.width-(i-r.x),g=Math.min(s,d);return{x:i,width:g}},M=function(n,r,i,s){var d=Fe.fromDom(n.getContainer()),g=Ru(d,".tox-editor-header").getOr(d),v=rc(g),w=v.y>=r.bottom,C=s&&!w;if(n.inline&&C)return{y:Math.max(v.bottom,i.y),bottom:i.bottom};if(n.inline&&!C)return{y:i.y,bottom:Math.min(v.y,i.bottom)};var E=rc(d);return C?{y:Math.max(v.bottom,i.y),bottom:Math.min(E.bottom,i.bottom)}:{y:Math.max(E.y,i.y),bottom:Math.min(v.y,i.bottom)}},X=function(n,r){var i=C2(window),s=rc(Fe.fromDom(n.getContentAreaContainer())),d=Bx(n)||q4(n)||Nx(n),g=B(s,i),v=g.x,w=g.width;if(n.inline&&!d)return ec(v,i.y,w,i.height);var C=r.header.isPositionedAtTop(),E=M(n,s,i,C),O=E.y,_=E.bottom;return ec(v,O,w,_-O)},J=function(n,r){var i=gt(r,function(v){return v.predicate(n.dom)}),s=qt(i,function(v){return v.type==="contexttoolbar"}),d=s.pass,g=s.fail;return{contextToolbars:d,contextForms:g}},Q=function(n){if(n.length<=1)return n;var r=function(w){return cn(n,function(C){return C.position===w})},i=function(w){return gt(n,function(C){return C.position===w})},s=r("selection"),d=r("node");if(s||d)if(d&&s){var g=i("node"),v=wt(i("selection"),function(w){return tt(tt({},w),{position:"node"})});return g.concat(v)}else return i(s?"selection":"node");else return i("line")},$=function(n){if(n.length<=1)return n;var r=function(s){return yt(n,function(d){return d.position===s})},i=r("selection").orThunk(function(){return r("node")}).orThunk(function(){return r("line")}).map(function(s){return s.position});return i.fold(function(){return[]},function(s){return gt(n,function(d){return d.position===s})})},pt=function(n,r,i){var s=J(n,r);if(s.contextForms.length>0)return S.some({elem:n,toolbars:[s.contextForms[0]]});var d=J(n,i);if(d.contextForms.length>0)return S.some({elem:n,toolbars:[d.contextForms[0]]});if(s.contextToolbars.length>0||d.contextToolbars.length>0){var g=Q(s.contextToolbars.concat(d.contextToolbars));return S.some({elem:n,toolbars:g})}else return S.none()},mt=function(n,r,i){return n(r)?S.none():Em(r,function(s){var d=J(s,i.inNodeScope),g=d.contextToolbars,v=d.contextForms,w=v.length>0?v:$(g);return w.length>0?S.some({elem:s,toolbars:w}):S.none()},n)},vt=function(n,r){var i=Fe.fromDom(r.getBody()),s=function(v){return Ur(v,i)},d=function(v){return!s(v)&&!jc(i,v)},g=Fe.fromDom(r.selection.getNode());return d(g)?S.none():pt(g,n.inNodeScope,n.inEditorScope).orThunk(function(){return mt(s,g,n)})},Tt=function(n,r){var i={},s=[],d=[],g={},v={},w=function(O,_){var R=Wa($5(_));i[O]=R,R.launch.map(function(G){g["form:"+O]=tt(tt({},_.launch),{type:G.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){r(R)}})}),R.scope==="editor"?d.push(R):s.push(R),v[O]=R},C=function(O,_){X5(_).each(function(R){_.scope==="editor"?d.push(R):s.push(R),v[O]=R})},E=lr(n);return tn(E,function(O){var _=n[O];_.type==="contextform"?w(O,_):_.type==="contexttoolbar"&&C(O,_)}),{forms:i,inNodeScope:s,inEditorScope:d,lookupTable:v,formNavigators:g}},Ut=tr("forward-slide"),On=tr("backward-slide"),te=tr("change-slide-event"),se="tox-pop--resizing",Ge=function(n){var r=re([]);return Si.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(i){r.set([]),Si.getContent(i).each(function(s){Ro(s.element,"visibility")}),jo(i.element,se),Ro(i.element,"width")},inlineBehaviours:Un([Yr("context-toolbar-events",[id(V0(),function(i,s){jo(i.element,se),Ro(i.element,"width")}),Fn(te,function(i,s){var d=i.element;Ro(d,"width");var g=va(d);Si.setContent(i,s.event.contents),Yo(d,se);var v=va(d);Xr(d,"width",g+"px"),Si.getContent(i).each(function(w){s.event.focus.bind(function(C){return yf(C),Ju(d)}).orThunk(function(){return vr.focusIn(w),ks(Yi(d))})}),If.setTimeout(function(){Xr(i.element,"width",v+"px")},0)}),Fn(Ut,function(i,s){Si.getContent(i).each(function(d){r.set(r.get().concat([{bar:d,focus:ks(Yi(i.element))}]))}),Sr(i,te,{contents:s.event.forwardContents,focus:S.none()})}),Fn(On,function(i,s){ee(r.get()).each(function(d){r.set(r.get().slice(0,r.get().length-1)),Sr(i,te,{contents:Nu(d.bar),focus:d.focus})})})]),vr.config({mode:"special",onEscape:function(i){return ee(r.get()).fold(function(){return n.onEscape()},function(s){return Hr(i,On),S.some(!0)})}})]),lazySink:function(){return gn.value(n.sink)}})},nr=function(n,r,i){var s=function(w,C,E,O){var _=r.shared.providers.translate(w.title);if(w.type==="separator")return S.some({type:"separator",text:_});if(w.type==="submenu"){var R=An(w.getStyleItems(),function(G){return d(G,C,O)});return C===0&&R.length<=0?S.none():S.some({type:"nestedmenuitem",text:_,disabled:R.length<=0,getSubmenuItems:function(){return An(w.getStyleItems(),function(G){return d(G,C,O)})}})}else return S.some(tt({type:"togglemenuitem",text:_,icon:w.icon,active:w.isSelected(O),disabled:E,onAction:i.onAction(w)},w.getStylePreview().fold(function(){return{}},function(G){return{meta:{style:G}}})))},d=function(w,C,E){var O=w.type==="formatter"&&i.isInvalid(w);return C===0?O?[]:s(w,C,!1,E).toArray():s(w,C,O,E).toArray()},g=function(w){var C=i.getCurrentValue(),E=i.shouldHide?0:1;return An(w,function(O){return d(O,E,C)})},v=function(w,C){return function(E,O){var _=C(),R=g(_),G=A0(R,Il.CLOSE_ON_EXECUTE,w,!1);O(G)}};return{validateItems:g,getFetch:v}},Ln=function(n,r,i){var s=i.dataset,d=s.type==="basic"?function(){return wt(s.data,function(g){return h_(g,i.isSelectedFor,i.getPreviewFor)})}:s.getData;return{items:nr(n,r,i),getStyleItems:d}},Tr=function(n,r,i){var s=Ln(n,r,i),d=s.items,g=s.getStyleItems,v=function(C){return{getComponent:function(){return C}}},w=function(C){return i.setInitialValue.each(function(E){return E(C.getComponent())}),i.nodeChangeHandler.map(function(E){var O=E(C.getComponent());return n.on("NodeChange",O),function(){n.off("NodeChange",O)}}).getOr(ft)};return bE({text:i.icon.isSome()?S.none():S.some(""),icon:i.icon,tooltip:S.from(i.tooltip),role:S.none(),fetch:d.getFetch(r,g),onSetup:w,getApi:v,columns:1,presets:"normal",classes:i.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",r.shared)},Ce=function(n){return wt(n,function(r){var i=r,s=r,d=r.split("=");return d.length>1&&(i=d[0],s=d[1]),{title:i,format:s}})},Je=function(n){return{type:"basic",data:n}},ie;(function(n){n[n.SemiColon=0]="SemiColon",n[n.Space=1]="Space"})(ie||(ie={}));var Te=function(n,r){return r===ie.SemiColon?n.replace(/;$/,"").split(";"):n.split(" ")},je=function(n,r,i,s){var d=n.getParam(r,i,"string"),g=Ce(Te(d,s));return{type:"basic",data:g}},$n=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],We=function(n){var r=function(){return yt($n,function(E){return n.formatter.match(E.format)})},i=function(E){return function(){return n.formatter.match(E)}},s=function(E){return function(){return S.none()}},d=function(E){var O=r(),_=O.fold(function(){return"left"},function(R){return R.title.toLowerCase()});Sr(E,ND,{icon:"align-"+_})},g=S.some(function(E){return function(){return d(E)}}),v=S.some(function(E){return d(E)}),w=Je($n),C=function(E){return function(){return yt($n,function(O){return O.format===E.format}).each(function(O){return n.execCommand(O.command)})}};return{tooltip:"Align",icon:S.some("align-left"),isSelectedFor:i,getCurrentValue:S.none,getPreviewFor:s,onAction:C,setInitialValue:v,nodeChangeHandler:g,dataset:w,shouldHide:!1,isInvalid:function(E){return!n.formatter.canApply(E.format)}}},bo=function(n,r){return Tr(n,r,We(n))},ni=function(n,r){var i=Ln(n,r,We(n));n.ui.registry.addNestedMenuItem("align",{text:r.shared.providers.translate("Align"),getSubmenuItems:function(){return i.items.validateItems(i.getStyleItems())}})},Vo="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",_i=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],Uu=function(n){var r=n.split(/\s*,\s*/);return wt(r,function(i){return i.replace(/^['"]+|['"]+$/g,"")})},Ye=function(n){var r=function(){var i=Uu(n.toLowerCase());return ar(_i,function(s){return i.indexOf(s.toLowerCase())>-1})};return n.indexOf("-apple-system")===0&&r()},Ke=function(n){var r=function(){var O=function(et){return et?Uu(et)[0]:""},_=n.queryCommandValue("FontName"),R=E.data,G=_?_.toLowerCase():"",ot=yt(R,function(et){var bt=et.format;return bt.toLowerCase()===G||O(bt).toLowerCase()===O(G).toLowerCase()}).orThunk(function(){return Ye(G)?S.from({title:"System Font",format:G}):S.none()});return{matchOpt:ot,font:_}},i=function(O){return function(_){return _.exists(function(R){return R.format===O})}},s=function(){var O=r().matchOpt;return O},d=function(O){return function(){return S.some({tag:"div",styles:O.indexOf("dings")===-1?{"font-family":O}:{}})}},g=function(O){return function(){n.undoManager.transact(function(){n.focus(),n.execCommand("FontName",!1,O.format)})}},v=function(O){var _=r(),R=_.matchOpt,G=_.font,ot=R.fold(function(){return G},function(et){return et.title});Sr(O,E0,{text:ot})},w=S.some(function(O){return function(){return v(O)}}),C=S.some(function(O){return v(O)}),E=je(n,"font_formats",Vo,ie.SemiColon);return{tooltip:"Fonts",icon:S.none(),isSelectedFor:i,getCurrentValue:s,getPreviewFor:d,onAction:g,setInitialValue:C,nodeChangeHandler:w,dataset:E,shouldHide:!1,isInvalid:yn}},De=function(n,r){return Tr(n,r,Ke(n))},pe=function(n,r){var i=Ln(n,r,Ke(n));n.ui.registry.addNestedMenuItem("fontformats",{text:r.shared.providers.translate("Fonts"),getSubmenuItems:function(){return i.items.validateItems(i.getStyleItems())}})},fn="8pt 10pt 12pt 14pt 18pt 24pt 36pt",me={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},Se={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},Pr=function(n,r){var i=Math.pow(10,r);return Math.round(n*i)/i},pr=function(n,r){return/[0-9.]+px$/.test(n)?Pr(parseInt(n,10)*72/96,r||0)+"pt":cr(Se,n).getOr(n)},ei=function(n){return cr(me,n).getOr("")},hu=function(n){var r=function(){var O=S.none(),_=E.data,R=n.queryCommandValue("FontSize");if(R)for(var G=function(et){var bt=pr(R,et),ut=ei(bt);O=yt(_,function(Dt){return Dt.format===R||Dt.format===bt||Dt.format===ut})},ot=3;O.isNone()&&ot>=0;ot--)G(ot);return{matchOpt:O,size:R}},i=function(O){return function(_){return _.exists(function(R){return R.format===O})}},s=function(){var O=r().matchOpt;return O},d=st(S.none),g=function(O){return function(){n.undoManager.transact(function(){n.focus(),n.execCommand("FontSize",!1,O.format)})}},v=function(O){var _=r(),R=_.matchOpt,G=_.size,ot=R.fold(function(){return G},function(et){return et.title});Sr(O,E0,{text:ot})},w=S.some(function(O){return function(){return v(O)}}),C=S.some(function(O){return v(O)}),E=je(n,"fontsize_formats",fn,ie.Space);return{tooltip:"Font sizes",icon:S.none(),isSelectedFor:i,getPreviewFor:d,getCurrentValue:s,onAction:g,setInitialValue:C,nodeChangeHandler:w,dataset:E,shouldHide:!1,isInvalid:yn}},la=function(n,r){return Tr(n,r,hu(n))},ja=function(n,r){var i=Ln(n,r,hu(n));n.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return i.items.validateItems(i.getStyleItems())}})},Lc=function(n,r){var i=r(),s=wt(i,function(d){return d.format});return S.from(n.formatter.closest(s)).bind(function(d){return yt(i,function(g){return g.format===d})}).orThunk(function(){return Bw(n.formatter.match("p"),{title:"Paragraph",format:"p"})})},qa=function(n){var r=re(S.none()),i=function(){return r.get().each(n)},s=function(){i(),r.set(S.none())},d=function(){return r.get().isSome()},g=function(v){i(),r.set(S.some(v))};return{clear:s,isSet:d,set:g}},eu=function(){return qa(function(n){return n.destroy()})},na=function(){return qa(function(n){return n.unbind()})},Ic=function(){var n=re(S.none()),r=function(){return n.set(S.none())},i=function(g){return n.set(S.some(g))},s=function(){return n.get().isSome()},d=function(g){return n.get().each(g)};return{clear:r,set:i,isSet:s,on:d}},ll=function(n,r){return function(i){var s=na(),d=function(){i.setActive(n.formatter.match(r));var g=n.formatter.formatChanged(r,i.setActive);s.set(g)};return n.initialized?d():n.on("init",d),s.clear}},li=function(n){return function(r){return function(){n.undoManager.transact(function(){n.focus(),n.execCommand("mceToggleFormat",!1,r.format)})}}},Go="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",ju=function(n){var r=function(w){return function(){return n.formatter.match(w)}},i=function(w){return function(){var C=n.formatter.get(w);return S.some({tag:C.length>0&&(C[0].inline||C[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(w))})}},s=function(w){var C=Lc(n,function(){return v.data}),E=C.fold(function(){return"Paragraph"},function(O){return O.title});Sr(w,E0,{text:E})},d=S.some(function(w){return function(){return s(w)}}),g=S.some(function(w){return s(w)}),v=je(n,"block_formats",Go,ie.SemiColon);return{tooltip:"Blocks",icon:S.none(),isSelectedFor:r,getCurrentValue:S.none,getPreviewFor:i,onAction:li(n),setInitialValue:g,nodeChangeHandler:d,dataset:v,shouldHide:!1,isInvalid:function(w){return!n.formatter.canApply(w.format)}}},Wl=function(n,r){return Tr(n,r,ju(n))},Yl=function(n,r){var i=Ln(n,r,ju(n));n.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return i.items.validateItems(i.getStyleItems())}})},is=function(n,r){var i=function(w){return function(){return n.formatter.match(w)}},s=function(w){return function(){var C=n.formatter.get(w);return C!==void 0?S.some({tag:C.length>0&&(C[0].inline||C[0].block)||"div",styles:n.dom.parseStyle(n.formatter.getCssText(w))}):S.none()}},d=function(w){var C=function(R){var G=R.items;return G!==void 0&&G.length>0?An(G,C):[{title:R.title,format:R.format}]},E=An(p_(n),C),O=Lc(n,function(){return E}),_=O.fold(function(){return"Paragraph"},function(R){return R.title});Sr(w,E0,{text:_})},g=S.some(function(w){return function(){return d(w)}}),v=S.some(function(w){return d(w)});return{tooltip:"Formats",icon:S.none(),isSelectedFor:i,getCurrentValue:S.none,getPreviewFor:s,onAction:li(n),setInitialValue:v,nodeChangeHandler:g,shouldHide:n.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(w){return!n.formatter.canApply(w.format)},dataset:r}},Fg=function(n,r){var i=tt({type:"advanced"},r.styleselect);return Tr(n,r,is(n,i))},N0=function(n,r){var i=tt({type:"advanced"},r.styleselect),s=Ln(n,r,is(n,i));n.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return s.items.validateItems(s.getStyleItems())}})},Bg=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],Ah=function(n,r){return function(i,s,d){var g=n(i).mapError(function(v){return dc(v)}).getOrDie();return r(g,s,d)}},z0={button:Ah(SA,function(n,r){return Oz(n,r.backstage.shared.providers)}),togglebutton:Ah(kA,function(n,r){return Dz(n,r.backstage.shared.providers)}),menubutton:Ah(Z_,function(n,r){return wE(n,"tox-tbtn",r.backstage,S.none())}),splitbutton:Ah(bz,function(n,r){return e(n,r.backstage.shared)}),grouptoolbarbutton:Ah(pz,function(n,r,i){var s,d=i.ui.registry.getAll().buttons,g=function(w){return $C(i,{buttons:d,toolbar:w,allowToolbarGroups:!1},r,S.none())},v=(s={},s[K1]=r.backstage.shared.header.isPositionedAtTop()?Zc.TopToBottom:Zc.BottomToTop,s);switch(by(i)){case os.floating:return tA(n,r.backstage,g,v);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(n,r){return Fg(n,r.backstage)},fontsizeSelectButton:function(n,r){return la(n,r.backstage)},fontSelectButton:function(n,r){return De(n,r.backstage)},formatButton:function(n,r){return Wl(n,r.backstage)},alignMenuButton:function(n,r){return bo(n,r.backstage)}},r5=function(n,r,i){return cr(z0,n.type).fold(function(){return console.error("skipping button defined by",n),S.none()},function(s){return S.some(s(n,r,i))})},eA={styleselect:z0.styleSelectButton,fontsizeselect:z0.fontsizeSelectButton,fontselect:z0.fontSelectButton,formatselect:z0.formatButton,align:z0.alignMenuButton},_z=function(n){var r=wt(Bg,function(i){var s=gt(i.items,function(d){return ao(n,d)||ao(eA,d)});return{name:i.name,items:s}});return gt(r,function(i){return i.items.length>0})},o5=function(n){var r=n.split("|");return wt(r,function(i){return{items:i.trim().split(" ")}})},Fz=function(n){return $e(n,function(r){return ao(r,"name")&&ao(r,"items")})},Bz=function(n){var r=n.toolbar,i=n.buttons;return r===!1?[]:r===void 0||r===!0?_z(i):Ie(r)?o5(r):Fz(r)?r:(console.error("Toolbar type should be string, string[], boolean or ToolbarGroup[]"),[])},Nz=function(n,r,i,s,d,g){return cr(r,i.toLowerCase()).orThunk(function(){return g.bind(function(v){return Qn(v,function(w){return cr(r,w+i.toLowerCase())})})}).fold(function(){return cr(eA,i.toLowerCase()).map(function(v){return v(n,d)}).orThunk(function(){return S.none()})},function(v){return v.type==="grouptoolbarbutton"&&!s?(console.warn("Ignoring the '"+i+"' toolbar button. Group toolbar buttons are only supported when using floating toolbar mode and cannot be nested."),S.none()):r5(v,d,n)})},$C=function(n,r,i,s){var d=Bz(r),g=wt(d,function(v){var w=An(v.items,function(C){return C.trim().length===0?[]:Nz(n,r.buttons,C,r.allowToolbarGroups,i,s).toArray()});return{title:S.from(n.translate(v.name)),items:w}});return gt(g,function(v){return v.items.length>0})},Ng=12,rA={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},Rt={maxHeightFunction:Ym(),maxWidthFunction:VE()},dn={onLtr:function(){return[za,Pu,fu,lu,Ku,$i,am,th,um,im,Qp,yg]},onRtl:function(){return[za,Pu,Ku,$i,fu,lu,am,th,Qp,yg,um,im]}},de={onLtr:function(){return[Pu,lu,$i,fu,Ku,za,am,th,um,im,Qp,yg]},onRtl:function(){return[Pu,$i,lu,Ku,fu,za,am,th,Qp,yg,um,im]}},ye=function(n,r){return n==="line"?{bubble:Xm(Ng,0,rA),layouts:{onLtr:function(){return[z1]},onRtl:function(){return[Um]}},overrides:Rt}:{bubble:Xm(0,Ng,rA),layouts:r?de:dn,overrides:Rt}},qr=function(n,r,i,s){var d=Ga().deviceType.isTouch,g=ua(Ge({sink:i,onEscape:function(){return n.focus(),S.some(!0)}})),v=function(){return X(n,s.backstage.shared)},w=function(Oe,Sn,Rn,qe){return Math.max(Oe,Rn)<=Math.min(Sn,qe)},C=function(){var Oe=ot.get().filter(function(Rn){return ws(Fe.fromDom(Rn))}).map(function(Rn){return Rn.getBoundingClientRect()}).getOrThunk(function(){return n.selection.getRng().getBoundingClientRect()}),Sn=n.inline?Yc().top:gf(Fe.fromDom(n.getBody())).y;return{y:Oe.top+Sn,bottom:Oe.bottom+Sn}},E=function(){if(d()&&s.backstage.isContextMenuOpen())return!0;var Oe=C(),Sn=v();return!w(Oe.y,Oe.bottom,Sn.y,Sn.bottom)},O=function(){G.set(S.none()),Si.hide(g)},_=function(){Si.hide(g)},R=function(){G.get().each(function(Oe){var Sn=g.element;Ro(Sn,"display"),E()?Xr(Sn,"display","none"):Zu.positionWithinBounds(i,Oe,g,S.some(v()))})},G=re(S.none()),ot=re(S.none()),et=re(null),bt=function(Oe){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Oe],behaviours:Un([vr.config({mode:"acyclic"}),Yr("pop-dialog-wrap-events",[si(function(Sn){n.shortcuts.add("ctrl+F9","focus statusbar",function(){return vr.focusIn(Sn)})}),oa(function(Sn){n.shortcuts.remove("ctrl+F9")})])])}},ut=fi(function(){return Tt(r,function(Oe){var Sn=Yt([Oe]);Sr(g,Ut,{forwardContents:bt(Sn)})})}),Dt=function(Oe,Sn){return $C(n,{buttons:Oe,toolbar:Sn.items,allowToolbarGroups:!1},s,S.some(["form:"]))},Lt=function(Oe,Sn){return N.buildInitGroups(Oe,Sn)},Yt=function(Oe){var Sn=n.ui.registry.getAll().buttons,Rn=ut(),qe=tt(tt({},Sn),Rn.formNavigators),kr=by(n)===os.scrolling?os.scrolling:os.default,Jn=be(wt(Oe,function(er){return er.type==="contexttoolbar"?Dt(qe,er):Lt(er,s.backstage.shared.providers)}));return Sh({type:kr,uid:tr("context-toolbar"),initGroups:Jn,onEscape:S.none,cyclicKeying:!0,providers:s.backstage.shared.providers})};n.on(GN,function(Oe){var Sn=ut();cr(Sn.lookupTable,Oe.toolbarKey).each(function(Rn){Mn([Rn],Oe.target===n?S.none():S.some(Oe)),Si.getContent(g).each(vr.focusIn)})});var xn=function(Oe,Sn){var Rn=Oe==="node"?s.backstage.shared.anchors.node(Sn):s.backstage.shared.anchors.cursor();return $r(Rn,ye(Oe,d()))},Mn=function(Oe,Sn){if(ge(),!(d()&&s.backstage.isContextMenuOpen())){var Rn=Yt(Oe),qe=Sn.map(Fe.fromDom),kr=xn(Oe[0].position,qe);G.set(S.some(kr)),ot.set(Sn);var Jn=g.element;Ro(Jn,"display"),Si.showWithinBounds(g,kr,bt(Rn),function(){return S.some(v())}),E()&&Xr(Jn,"display","none")}},vn=function(){if(n.hasFocus()){var Oe=ut();vt(Oe,n).fold(O,function(Sn){Mn(Sn.toolbars,S.some(Sn.elem.dom))})}},ge=function(){var Oe=et.get();Oe!==null&&(If.clearTimeout(Oe),et.set(null))},Ar=function(){ge(),et.set(If.setEditorTimeout(n,vn,0))};n.on("init",function(){n.on(B_,_),n.on("ScrollContent ScrollWindow longpress",R),n.on("click keyup focus SetContent ObjectResized ResizeEditor",function(){Ar()}),n.on("focusout",function(Oe){If.setEditorTimeout(n,function(){Ju(i.element).isNone()&&Ju(g.element).isNone()&&O()},0)}),n.on("SwitchMode",function(){n.mode.isReadOnly()&&O()}),n.on("AfterProgressState",function(Oe){Oe.state?O():n.hasFocus()&&Ar()}),n.on("NodeChange",function(Oe){Ju(g.element).fold(Ar,ft)})})},Fo=function(n,r,i){var s=function(ut,Dt){tn([r,i],function(Lt){Lt.broadcastEvent(ut,Dt)})},d=function(ut,Dt){tn([r,i],function(Lt){Lt.broadcastOn([ut],Dt)})},g=function(ut){return d(Tf(),{target:ut.target})},v=nl(Fe.fromDom(document),"touchstart",g),w=nl(Fe.fromDom(document),"touchmove",function(ut){return s(rS(),ut)}),C=nl(Fe.fromDom(document),"touchend",function(ut){return s(Cl(),ut)}),E=nl(Fe.fromDom(document),"mousedown",g),O=nl(Fe.fromDom(document),"mouseup",function(ut){ut.raw.button===0&&d(Xs(),{target:ut.target})}),_=function(ut){return d(Tf(),{target:Fe.fromDom(ut.target)})},R=function(ut){ut.button===0&&d(Xs(),{target:Fe.fromDom(ut.target)})},G=function(ut){return s(uf(),WT(ut))},ot=function(ut){d(As(),{}),s(Sl(),WT(ut))},et=function(){return d(As(),{})},bt=function(ut){ut.state&&d(Tf(),{target:Fe.fromDom(n.getContainer())})};n.on("PostRender",function(){n.on("click",_),n.on("tap",_),n.on("mouseup",R),n.on("ScrollWindow",G),n.on("ResizeWindow",ot),n.on("ResizeEditor",et),n.on("AfterProgressState",bt)}),n.on("remove",function(){n.off("click",_),n.off("tap",_),n.off("mouseup",R),n.off("ScrollWindow",G),n.off("ResizeWindow",ot),n.off("ResizeEditor",et),n.off("AfterProgressState",bt),E.unbind(),v.unbind(),w.unbind(),C.unbind(),O.unbind()}),n.on("detach",function(){Ef(r),Ef(i),r.destroy(),i.destroy()})},Co=jd,us=sg,pP=st([It("shell",!1),At("makeItem"),It("setupItem",ft),Ca.field("listBehaviours",[Mr])]),hP=function(){return{behaviours:Un([Mr.config({})])}},vP=Nc({name:"items",overrides:hP}),bP=st([vP]),yP=st("CustomList"),wP=function(n,r,i,s){var d=function(w,C){v(w).fold(function(){throw console.error("Custom List was defined to not be a shell, but no item container was specified in components"),new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(E){var O=Mr.contents(E),_=C.length,R=_-O.length,G=R>0?Tn(R,function(){return n.makeItem()}):[],ot=O.slice(_);tn(ot,function(bt){return Mr.remove(E,bt)}),tn(G,function(bt){return Mr.append(E,bt)});var et=Mr.contents(E);tn(et,function(bt,ut){n.setupItem(w,bt,C[ut],ut)})})},g=n.shell?{behaviours:[Mr.config({})],components:[]}:{behaviours:[],components:r},v=function(w){return n.shell?S.some(w):Lo(w,n,"items")};return{uid:n.uid,dom:n.dom,components:g.components,behaviours:Li(n.listBehaviours,g.behaviours),apis:{setItems:d}}},SM=Vu({name:yP(),configFields:pP(),partFields:bP(),factory:wP,apis:{setItems:function(n,r,i){n.setItems(r,i)}}}),xP=ft,CP=yn,kM=st([]),SP=Object.freeze({__proto__:null,setup:xP,isDocked:CP,getBehaviours:kM}),EM=function(n){var r=di(n,"position").is("fixed"),i=r?S.none():pa(n);return i.orThunk(function(){var s=Fe.fromTag("span");return yu(n).bind(function(d){_a(d,s);var g=pa(s);return af(s),g})})},AM=function(n){return EM(n).map(Ss).getOrThunk(function(){return Xo(0,0)})},zz=Xe.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),kP=function(n,r){var i=n.element;Yo(i,r.transitionClass),jo(i,r.fadeOutClass),Yo(i,r.fadeInClass),r.onShow(n)},EP=function(n,r){var i=n.element;Yo(i,r.transitionClass),jo(i,r.fadeInClass),Yo(i,r.fadeOutClass),r.onHide(n)},AP=function(n,r){return n.y<r.bottom&&n.bottom>r.y},TP=function(n,r){return n.y>=r.y},OP=function(n,r){return n.bottom<=r.bottom},TM=function(n,r,i){return ar(n,function(s){switch(s){case"bottom":return OP(r,i);case"top":return TP(r,i)}})},OM=function(n,r){return r.getInitialPosition().map(function(i){return ec(i.bounds.x,i.bounds.y,va(n),zu(n))})},DP=function(n,r,i){i.setInitialPosition(S.some({style:m1(n),position:Dc(n,"position")||"static",bounds:r}))},DM=function(n,r,i){return i.getInitialPosition().bind(function(s){switch(i.setInitialPosition(S.none()),s.position){case"static":return S.some(zz.static());case"absolute":var d=EM(n).map(rc).getOrThunk(function(){return rc(Tc())});return S.some(zz.absolute(Kc("absolute",cr(s.style,"left").map(function(g){return r.x-d.x}),cr(s.style,"top").map(function(g){return r.y-d.y}),cr(s.style,"right").map(function(g){return d.right-r.right}),cr(s.style,"bottom").map(function(g){return d.bottom-r.bottom}))));default:return S.none()}})},_P=function(n,r,i){return OM(n,i).filter(function(s){return TM(i.getModes(),s,r)}).bind(function(s){return DM(n,s,i)})},FP=function(n,r,i){var s=rc(n);if(TM(i.getModes(),s,r))return S.none();DP(n,s,i);var d=Mu(),g=s.x-d.x,v=r.y-d.y,w=d.bottom-r.bottom,C=s.y<=r.y;return S.some(zz.fixed(Kc("fixed",S.some(g),C?S.some(v):S.none(),S.none(),C?S.none():S.some(w))))},BP=function(n,r,i){var s=n.element,d=di(s,"position").is("fixed");return d?_P(s,r,i):FP(s,r,i)},NP=function(n,r){var i=n.element;return OM(i,r).bind(function(s){return DM(i,s,r)})},_M=function(n,r){tn(["left","right","top","bottom","position"],function(i){return Ro(n.element,i)}),r.onUndocked(n)},Mz=function(n,r,i){qm(n.element,i);var s=i.position==="fixed"?r.onDocked:r.onUndocked;s(n)},FM=function(n,r,i,s,d){d===void 0&&(d=!1),r.contextual.each(function(g){g.lazyContext(n).each(function(v){var w=AP(v,s);if(w!==i.isVisible())if(i.setVisible(w),d&&!w)nc(n.element,[g.fadeOutClass]),g.onHide(n);else{var C=w?kP:EP;C(n,g)}})})},zP=function(n,r,i){var s=r.lazyViewport(n),d=i.isDocked();d&&FM(n,r,i,s),BP(n,s,i).each(function(g){i.setDocked(!d),g.fold(function(){return _M(n,r)},function(v){return Mz(n,r,v)},function(v){FM(n,r,i,s,!0),Mz(n,r,v)})})},MP=function(n,r,i){var s=n.element;i.setDocked(!1),NP(n,i).each(function(d){d.fold(function(){return _M(n,r)},function(g){return Mz(n,r,g)},ft)}),i.setVisible(!0),r.contextual.each(function(d){pi(s,[d.fadeInClass,d.fadeOutClass,d.transitionClass]),d.onShow(n)}),Rz(n,r,i)},Rz=function(n,r,i){n.getSystem().isConnected()&&zP(n,r,i)},BM=function(n,r,i){i.isDocked()&&MP(n,r,i)},RP=function(n,r,i){return i.isDocked()},PP=function(n,r,i,s){return i.setModes(s)},LP=function(n,r,i){return i.getModes()},IP=Object.freeze({__proto__:null,refresh:Rz,reset:BM,isDocked:RP,getModes:LP,setModes:PP}),HP=function(n,r){return po([id(V0(),function(i,s){n.contextual.each(function(d){if(tc(i.element,d.transitionClass)){pi(i.element,[d.transitionClass,d.fadeInClass]);var g=r.isVisible()?d.onShown:d.onHidden;g(i)}s.stop()})}),Fn(uf(),function(i,s){Rz(i,n,r)}),Fn(Sl(),function(i,s){BM(i,n,r)})])},VP=Object.freeze({__proto__:null,events:HP}),UP=[Gi("contextual",[rr("fadeInClass"),rr("fadeOutClass"),rr("transitionClass"),Ai("lazyContext"),to("onShow"),to("onShown"),to("onHide"),to("onHidden")]),ri("lazyViewport",Mu),iu("modes",["top","bottom"],bi),to("onDocked"),to("onUndocked")],jP=function(n){var r=re(!1),i=re(!0),s=re(S.none()),d=re(n.modes),g=function(){return"docked:  "+r.get()+", visible: "+i.get()+", modes: "+d.get().join(",")};return Ec({isDocked:r.get,setDocked:r.set,getInitialPosition:s.get,setInitialPosition:s.set,isVisible:i.get,setVisible:i.set,getModes:d.get,setModes:d.set,readState:g})},qP=Object.freeze({__proto__:null,init:jP}),fc=Pi({fields:UP,name:"docking",active:VP,apis:IP,state:qP}),zg={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},NM="tox-tinymce--toolbar-sticky-on",zM="tox-tinymce--toolbar-sticky-off",WP=function(n,r){var i=Sc(r),s=i.dom.defaultView.innerHeight,d=Yc(i),g=Fe.fromDom(n.elm),v=gf(g),w=zu(g),C=v.y,E=C+w,O=Ss(r),_=zu(r),R=O.top,G=R+_,ot=Math.abs(R-d.top)<2,et=Math.abs(G-(d.top+s))<2;if(ot&&C<G)Kh(d.left,C-_,i);else if(et&&E>R){var bt=C-s+w+_;Kh(d.left,bt,i)}},YP=function(n,r){return Ft(fc.getModes(n),r)},Pz=function(n){var r=function(s){return yd(s)+(parseInt(Dc(s,"margin-top"),10)||0)+(parseInt(Dc(s,"margin-bottom"),10)||0)},i=n.element;yu(i).each(function(s){var d="padding-"+fc.getModes(n)[0];if(fc.isDocked(n)){var g=va(s);Xr(i,"width",g+"px"),Xr(s,d,r(i)+"px")}else Ro(i,"width"),Ro(s,d)})},MM=function(n,r){r?(jo(n,zg.fadeOutClass),nc(n,[zg.transitionClass,zg.fadeInClass])):(jo(n,zg.fadeInClass),nc(n,[zg.fadeOutClass,zg.transitionClass]))},RM=function(n,r){var i=Fe.fromDom(n.getContainer());r?(Yo(i,NM),jo(i,zM)):(Yo(i,zM),jo(i,NM))},$P=function(n,r){var i=Sc(r);ks(i).filter(function(s){return!Ur(r,s)}).filter(function(s){return Ur(s,Fe.fromDom(i.dom.body))||jc(n,s)}).each(function(){return yf(r)})},XP=function(n,r){return Ju(n).orThunk(function(){return r().toOptional().bind(function(i){return Ju(i.element)})})},GP=function(n,r,i){n.inline||(r.header.isPositionedAtTop()||n.on("ResizeEditor",function(){i().each(fc.reset)}),n.on("ResizeWindow ResizeEditor",function(){i().each(Pz)}),n.on("SkinLoaded",function(){i().each(function(s){fc.isDocked(s)?fc.reset(s):fc.refresh(s)})}),n.on("FullscreenStateChanged",function(){i().each(fc.reset)})),n.on("AfterScrollIntoView",function(s){i().each(function(d){fc.refresh(d);var g=d.element;Kd(g)&&WP(s,g)})}),n.on("PostRender",function(){RM(n,!1)})},KP=function(n){return n().map(fc.isDocked).getOr(!1)},JP=function(){var n;return[Lu.config({channels:(n={},n[VC()]={onReceive:Pz},n)})]},PM=function(n,r){var i=re(S.none()),s=r.getSink,d=function(w){s().each(function(C){return w(C.element)})},g=function(w){n.inline||Pz(w),RM(n,fc.isDocked(w)),w.getSystem().broadcastOn([As()],{}),s().each(function(C){return C.getSystem().broadcastOn([As()],{})})},v=n.inline?[]:JP();return Y([Fr.config({}),fc.config({contextual:tt({lazyContext:function(w){var C=yd(w.element),E=n.inline?n.getContentAreaContainer():n.getContainer(),O=rc(Fe.fromDom(E)),_=O.height-C,R=O.y+(YP(w,"top")?0:C);return S.some(ec(O.x,R,O.width,_))},onShow:function(){d(function(w){return MM(w,!0)})},onShown:function(w){d(function(C){return pi(C,[zg.transitionClass,zg.fadeInClass])}),i.get().each(function(C){$P(w.element,C),i.set(S.none())})},onHide:function(w){i.set(XP(w.element,s)),d(function(C){return MM(C,!1)})},onHidden:function(){d(function(w){return pi(w,[zg.transitionClass])})}},zg),modes:[r.header.getDockingMode()],onDocked:g,onUndocked:g})],v)},ZP=Object.freeze({__proto__:null,setup:GP,isDocked:KP,getBehaviours:PM}),QP=function(n){var r=n.editor,i=n.sticky?PM:kM;return{uid:n.uid,dom:n.dom,components:n.components,behaviours:Un(i(r,n.sharedBackstage))}},t9=function(n,r){var i=function(d,g){var v=wt(g,function(w){var C={type:"menubutton",text:w.text,fetch:function(O){O(w.getItems())}},E=Z_(C).mapError(function(O){return dc(O)}).getOrDie();return wE(E,"tox-mbtn",r.backstage,S.some("menuitem"))});Mr.set(d,v)},s={focus:vr.focusIn,setMenus:i};return{uid:n.uid,dom:n.dom,components:[],behaviours:Un([Mr.config({}),Yr("menubar-events",[si(function(d){n.onSetup(d)}),Fn(yl(),function(d,g){Ru(d.element,".tox-mbtn--active").each(function(v){$c(g.event.target,".tox-mbtn").each(function(w){Ur(v,w)||d.getSystem().getByDom(v).each(function(C){d.getSystem().getByDom(w).each(function(E){ki.expand(E),ki.close(C),Fr.focus(E)})})})})}),Fn(n2(),function(d,g){g.event.prevFocus.bind(function(v){return d.getSystem().getByDom(v).toOptional()}).each(function(v){g.event.newFocus.bind(function(w){return d.getSystem().getByDom(w).toOptional()}).each(function(w){ki.isOpen(v)&&(ki.expand(w),ki.close(v))})})})]),vr.config({mode:"flow",selector:".tox-mbtn",onEscape:function(d){return n.onEscape(d),S.some(!0)}}),Di.config({})]),apis:s,domModification:{attributes:{role:"menubar"}}}},Lz=uc({factory:t9,name:"silver.Menubar",configFields:[At("dom"),At("uid"),At("onEscape"),At("backstage"),It("onSetup",ft)],apis:{focus:function(n,r){n.focus(r)},setMenus:function(n,r,i){n.setMenus(r,i)}}}),LM="container",n9=[tu("slotBehaviours",[])],IM=function(n){return"<alloy.field."+n+">"},e9=function(n){var r=function(){var g=[],v=function(w,C){return g.push(w),Dv(LM,IM(w),C)};return{slot:v,record:function(){return g}}}(),i=n(r),s=r.record(),d=wt(s,function(g){return Iu({name:g,pname:IM(g)})});return Tb(LM,n9,d,r9,i)},r9=function(n,r){var i=function(et){return kb(n)},s=function(et,bt){return Lo(et,n,bt)},d=function(et,bt){return function(ut,Dt){return Lo(ut,n,Dt).map(function(Lt){return et(Lt,Dt)}).getOr(bt)}},g=function(et){return function(bt,ut){tn(ut,function(Dt){return et(bt,Dt)})}},v=function(et,bt){return wu(et.element,"aria-hidden")!=="true"},w=function(et,bt){if(!v(et)){var ut=et.element;Ro(ut,"display"),Fa(ut,"aria-hidden"),Sr(et,_m(),{name:bt,visible:!0})}},C=function(et,bt){if(v(et)){var ut=et.element;Xr(ut,"display","none"),ho(ut,"aria-hidden","true"),Sr(et,_m(),{name:bt,visible:!1})}},E=d(v,!1),O=d(C),_=g(O),R=function(et){return _(et,i())},G=d(w),ot={getSlotNames:i,getSlot:s,isShowing:E,hideSlot:O,hideAllSlots:R,showSlot:G};return{uid:n.uid,dom:n.dom,components:r,behaviours:kv(n.slotBehaviours),apis:ot}},o9=Er({getSlotNames:function(n,r){return n.getSlotNames(r)},getSlot:function(n,r,i){return n.getSlot(r,i)},isShowing:function(n,r,i){return n.isShowing(r,i)},hideSlot:function(n,r,i){return n.hideSlot(r,i)},hideAllSlots:function(n,r){return n.hideAllSlots(r)},showSlot:function(n,r,i){return n.showSlot(r,i)}},function(n){return Ba(n)}),Mg=tt(tt({},o9),{sketch:e9}),i9=Nt([uo("icon"),uo("tooltip"),ri("onShow",ft),ri("onHide",ft),ri("onSetup",function(){return ft})]),u9=function(n){return Bo("sidebar",i9,n)},a9=function(n){var r=n.ui.registry.getAll().sidebars;tn(lr(r),function(i){var s=r[i],d=function(){return S.from(n.queryCommandValue("ToggleSidebar")).is(i)};n.ui.registry.addToggleButton(i,{icon:s.icon,tooltip:s.tooltip,onAction:function(g){n.execCommand("ToggleSidebar",!1,i),g.setActive(d())},onSetup:function(g){var v=function(){return g.setActive(d())};return n.on("ToggleSidebar",v),function(){n.off("ToggleSidebar",v)}}})})},c9=function(n){return{element:function(){return n.element.dom}}},s9=function(n,r){var i=wt(lr(r),function(s){var d=r[s],g=Wa(u9(d));return{name:s,getApi:c9,onSetup:g.onSetup,onShow:g.onShow,onHide:g.onHide}});return wt(i,function(s){var d=re(ft);return n.slot(s.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Dx.unnamedEvents([yy(s,d),c0(s,d),Fn(_m(),function(g,v){var w=v.event,C=yt(i,function(E){return E.name===w.name});C.each(function(E){var O=w.visible?E.onShow:E.onHide;O(E.getApi(g))})})])})})},l9=function(n){return Mg.sketch(function(r){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:s9(r,n),slotBehaviours:Dx.unnamedEvents([si(function(i){return Mg.hideAllSlots(i)})])}})},f9=function(n,r){var i=mo.getCurrent(n);i.each(function(s){return Mr.set(s,[l9(r)])})},d9=function(n,r){var i=mo.getCurrent(n);i.each(function(s){var d=mo.getCurrent(s);d.each(function(g){ql.hasGrown(s)?Mg.isShowing(g,r)?ql.shrink(s):(Mg.hideAllSlots(g),Mg.showSlot(g,r)):(Mg.hideAllSlots(g),Mg.showSlot(g,r),ql.grow(s))})})},m9=function(n){var r=mo.getCurrent(n);return r.bind(function(i){var s=ql.isGrowing(i)||ql.hasGrown(i);if(s){var d=mo.getCurrent(i);return d.bind(function(g){return yt(Mg.getSlotNames(g),function(v){return Mg.isShowing(g,v)})})}else return S.none()})},Iz=tr("FixSizeEvent"),Hz=tr("AutoSizeEvent"),g9=function(n){return{uid:n.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Un([Di.config({}),Fr.config({}),ql.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(r){var i=mo.getCurrent(r);i.each(Mg.hideAllSlots),Hr(r,Hz)},onGrown:function(r){Hr(r,Hz)},onStartGrow:function(r){Sr(r,Iz,{width:di(r.element,"width").getOr("")})},onStartShrink:function(r){Sr(r,Iz,{width:va(r.element)+"px"})}}),Mr.config({}),mo.config({find:function(r){var i=Mr.contents(r);return Cn(i)}})])}],behaviours:Un([Vl.childAt(0),Yr("sidebar-sliding-events",[Fn(Iz,function(r,i){Xr(r.element,"width",i.event.width)}),Fn(Hz,function(r,i){Ro(r.element,"width")})])])}},p9=function(n){var r=n.dom.attributes!==void 0?n.dom.attributes:[];return nt(r,function(i,s){var d;return s.name==="class"?i:tt(tt({},i),(d={},d[s.name]=s.value,d))},{})},h9=function(n){return Array.prototype.slice.call(n.dom.classList,0)},M0=function(n){var r=Fe.fromHtml(n),i=hs(r),s=p9(r),d=h9(r),g=i.length===0?{}:{innerHtml:Bm(r)};return tt({tag:Ja(r),classes:d,attributes:s},g)},v9=function(n){return{dom:{tag:"div",attributes:{"aria-label":n.translate("Loading...")},classes:["tox-throbber__busy-spinner"]},components:[{dom:M0('<div class="tox-spinner"><div></div><div></div><div></div></div>')}],behaviours:Un([vr.config({mode:"special",onTab:function(){return S.some(!0)},onShiftTab:function(){return S.some(!0)}}),Fr.config({})])}},b9=function(n,r,i){var s=n.element;r===!0?(Mr.set(n,[v9(i)]),Ro(s,"display"),Fa(s,"aria-hidden")):(Mr.set(n,[]),Xr(s,"display","none"),ho(s,"aria-hidden","true"))},y9=function(n){return{uid:n.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Un([Mr.config({})]),components:[]}},w9=function(n,r,i){var s=re(!1),d=re(S.none()),g=function(v){v!==s.get()&&(b9(r(),v,i.providers),s.set(v),n.fire("AfterProgressState",{state:v}))};n.on("ProgressState",function(v){if(d.get().each(If.clearTimeout),Ve(v.time)){var w=If.setEditorTimeout(n,function(){return g(v.state)},v.time);d.set(S.some(w))}else g(v.state),d.set(S.none())})},x9=function(n,r,i){var s={getSocket:function(d){return Co.getPart(d,n,"socket")},setSidebar:function(d,g){Co.getPart(d,n,"sidebar").each(function(v){return f9(v,g)})},toggleSidebar:function(d,g){Co.getPart(d,n,"sidebar").each(function(v){return d9(v,g)})},whichSidebar:function(d){return Co.getPart(d,n,"sidebar").bind(m9).getOrNull()},getHeader:function(d){return Co.getPart(d,n,"header")},getToolbar:function(d){return Co.getPart(d,n,"toolbar")},setToolbar:function(d,g){Co.getPart(d,n,"toolbar").each(function(v){v.getApis().setGroups(v,g)})},setToolbars:function(d,g){Co.getPart(d,n,"multiple-toolbar").each(function(v){SM.setItems(v,g)})},refreshToolbar:function(d){var g=Co.getPart(d,n,"toolbar");g.each(function(v){return v.getApis().refresh(v)})},toggleToolbarDrawer:function(d){Co.getPart(d,n,"toolbar").each(function(g){Db(g.getApis().toggle,function(v){return v(g)})})},isToolbarDrawerToggled:function(d){return Co.getPart(d,n,"toolbar").bind(function(g){return S.from(g.getApis().isOpen).map(function(v){return v(g)})}).getOr(!1)},getThrobber:function(d){return Co.getPart(d,n,"throbber")},focusToolbar:function(d){var g=Co.getPart(d,n,"toolbar").orThunk(function(){return Co.getPart(d,n,"multiple-toolbar")});g.each(function(v){vr.focusIn(v)})},setMenubar:function(d,g){Co.getPart(d,n,"menubar").each(function(v){Lz.setMenus(v,g)})},focusMenubar:function(d){Co.getPart(d,n,"menubar").each(function(g){Lz.focus(g)})}};return{uid:n.uid,dom:n.dom,components:r,apis:s,behaviours:n.behaviours}},C9=us.optional({factory:Lz,name:"menubar",schema:[At("backstage")]}),S9=function(n){return n.type===os.sliding?F0:n.type===os.floating?K_:Sh},k9=us.optional({factory:{sketch:function(n){return SM.sketch({uid:n.uid,dom:n.dom,listBehaviours:Un([vr.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return Sh({type:n.type,uid:tr("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:n.providers,onEscape:function(){return n.onEscape(),S.some(!0)}})},setupItem:function(r,i,s,d){Ul.setGroups(i,s)},shell:!0})}},name:"multiple-toolbar",schema:[At("dom"),At("onEscape")]}),E9=us.optional({factory:{sketch:function(n){var r=S9(n),i={type:n.type,uid:n.uid,onEscape:function(){return n.onEscape(),S.some(!0)},cyclicKeying:!1,initGroups:[],getSink:n.getSink,providers:n.providers,moreDrawerData:{lazyToolbar:n.lazyToolbar,lazyMoreButton:n.lazyMoreButton,lazyHeader:n.lazyHeader},attributes:n.attributes};return r(i)}},name:"toolbar",schema:[At("dom"),At("onEscape"),At("getSink")]}),A9=us.optional({factory:{sketch:QP},name:"header",schema:[At("dom")]}),T9=us.optional({name:"socket",schema:[At("dom")]}),O9=us.optional({factory:{sketch:g9},name:"sidebar",schema:[At("dom")]}),D9=us.optional({factory:{sketch:y9},name:"throbber",schema:[At("dom")]}),Hi=Vu({name:"OuterContainer",factory:x9,configFields:[At("dom"),At("behaviours")],partFields:[A9,C9,E9,k9,T9,O9,D9],apis:{getSocket:function(n,r){return n.getSocket(r)},setSidebar:function(n,r,i){n.setSidebar(r,i)},toggleSidebar:function(n,r,i){n.toggleSidebar(r,i)},whichSidebar:function(n,r){return n.whichSidebar(r)},getHeader:function(n,r){return n.getHeader(r)},getToolbar:function(n,r){return n.getToolbar(r)},setToolbar:function(n,r,i){var s=wt(i,function(d){return UC(d)});n.setToolbar(r,s)},setToolbars:function(n,r,i){var s=wt(i,function(d){return wt(d,UC)});n.setToolbars(r,s)},refreshToolbar:function(n,r){return n.refreshToolbar(r)},toggleToolbarDrawer:function(n,r){n.toggleToolbarDrawer(r)},isToolbarDrawerToggled:function(n,r){return n.isToolbarDrawerToggled(r)},getThrobber:function(n,r){return n.getThrobber(r)},setMenubar:function(n,r,i){n.setMenubar(r,i)},focusMenubar:function(n,r){n.focusMenubar(r)},focusToolbar:function(n,r){n.focusToolbar(r)}}}),_9="file edit view insert format tools table help",HM={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},F9=function(n,r,i){var s=JA(i).split(/[ ,]/);return{text:n.title,getItems:function(){return An(n.items,function(d){var g=d.toLowerCase();return g.trim().length===0?[]:cn(s,function(v){return v===g})?[]:g==="separator"||g==="|"?[{type:"separator"}]:r.menuItems[g]?[r.menuItems[g]]:[]})}}},Vz=function(n){return typeof n=="string"?n.split(" "):n},VM=function(n,r){var i=tt(tt({},HM),r.menus),s=lr(r.menus).length>0,d=r.menubar===void 0||r.menubar===!0?Vz(_9):Vz(r.menubar===!1?"":r.menubar),g=gt(d,function(w){return s&&r.menus.hasOwnProperty(w)&&r.menus[w].hasOwnProperty("items")||HM.hasOwnProperty(w)}),v=wt(g,function(w){var C=i[w];return F9({title:C.title,items:Vz(C.items)},r,n)});return gt(v,function(w){var C=function(E){return E.type!=="separator"};return w.getItems().length>0&&cn(w.getItems(),C)})},UM=function(n){var r=function(){n._skinLoaded=!0,aF(n)};return function(){n.initialized?r():n.on("init",r)}},B9=function(n,r){return function(){return Ux(n,{message:r})}},jM=function(n,r,i){return new e0(function(s,d){i.load(r,s,d),n.on("remove",function(){return i.unload(r)})})},N9=function(n,r){var i=r+"/skin.min.css";return jM(n,i,n.ui.styleSheetLoader)},z9=function(n,r){var i=J0(Fe.fromDom(n.getElement()));if(i){var s=r+"/skin.shadowdom.min.css";return jM(n,s,wg.DOM.styleSheetLoader)}else return e0.resolve()},qM=function(n,r){var i=YA(r);i&&r.contentCSS.push(i+(n?"/content.inline":"/content")+".min.css"),$A(r)===!1&&Ie(i)?e0.all([N9(r,i),z9(r,i)]).then(UM(r),B9(r,"Skin could not be loaded")):UM(r)()},M9=Kn(qM,!1),R9=Kn(qM,!0),WM=function(n,r,i,s){var d=r.outerContainer,g=i.toolbar,v=i.buttons;if($e(g,Ie)){var w=g.map(function(C){var E={toolbar:C,buttons:v,allowToolbarGroups:i.allowToolbarGroups};return $C(n,E,{backstage:s},S.none())});Hi.setToolbars(d,w)}else Hi.setToolbar(d,$C(n,i,{backstage:s},S.none()))},YM=Ga(),P9=YM.os.isiOS()&&YM.os.version.major<=12,L9=function(n,r){var i=n.dom,s=n.getWin(),d=n.getDoc().documentElement,g=re(Xo(s.innerWidth,s.innerHeight)),v=re(Xo(d.offsetWidth,d.offsetHeight)),w=function(){var R=g.get();(R.left!==s.innerWidth||R.top!==s.innerHeight)&&(g.set(Xo(s.innerWidth,s.innerHeight)),xy(n))},C=function(){var R=n.getDoc().documentElement,G=v.get();(G.left!==R.offsetWidth||G.top!==R.offsetHeight)&&(v.set(Xo(R.offsetWidth,R.offsetHeight)),xy(n))},E=function(R){return ku(n,R)};i.bind(s,"resize",w),i.bind(s,"scroll",E);var O=Wx(Fe.fromDom(n.getBody()),"load",C),_=r.uiMothership.element;n.on("hide",function(){Xr(_,"display","none")}),n.on("show",function(){Ro(_,"display")}),n.on("NodeChange",C),n.on("remove",function(){O.unbind(),i.unbind(s,"resize",w),i.unbind(s,"scroll",E),s=null})},I9=function(n,r,i,s,d){var g=re(0),v=r.outerContainer;M9(n);var w=Fe.fromDom(d.targetNode),C=Ph(Yi(w));uk(w,r.mothership),bv(C,r.uiMothership),n.on("PostRender",function(){WM(n,r,i,s),g.set(n.getWin().innerWidth),Hi.setMenubar(v,VM(n,i)),Hi.setSidebar(v,i.sidebar),L9(n,r)});var E=Hi.getSocket(v).getOrDie("Could not find expected socket element");if(P9){hd(E.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var O=D5(function(){n.fire("ScrollContent")},20),_=nl(E.element,"scroll",O.throttle);n.on("remove",_.unbind)}sT(n,r),n.addCommand("ToggleSidebar",function(et,bt){Hi.toggleSidebar(v,bt),n.fire("ToggleSidebar")}),n.addQueryValueHandler("ToggleSidebar",function(){return Hi.whichSidebar(v)});var R=by(n),G=function(){Hi.refreshToolbar(r.outerContainer)};(R===os.sliding||R===os.floating)&&n.on("ResizeWindow ResizeEditor ResizeContent",function(){var et=n.getWin().innerWidth;et!==g.get()&&(G(),g.set(et))});var ot={enable:function(){a0(r,!1)},disable:function(){a0(r,!0)},isDisabled:function(){return yr.isDisabled(v)}};return{iframeContainer:E.element.dom,editorContainer:v.element.dom,api:ot}},H9=Object.freeze({__proto__:null,render:I9}),Uz=function(n){var r=/^[0-9\.]+(|px)$/i;return r.test(""+n)?S.some(parseInt(""+n,10)):S.none()},jz=function(n){return Ve(n)?n+"px":n},i5=function(n,r,i){var s=r.filter(function(g){return n<g}),d=i.filter(function(g){return n>g});return s.or(d).getOr(n)},V9=function(n){var r=XA(n),i=KA(n),s=oh(n);return Uz(r).map(function(d){return i5(d,i,s)})},U9=function(n){var r=V9(n);return r.getOr(XA(n))},$M=function(n){var r=GA(n),i=vy(n),s=Fx(n);return Uz(r).map(function(d){return i5(d,i,s)})},j9=function(n){var r=$M(n);return r.getOr(GA(n))},q9=function(n,r,i,s,d){var g=i.uiMothership,v=i.outerContainer,w=wg.DOM,C=zx(n),E=Mx(n),O=Fx(n).or($M(n)),_=s.shared.header,R=_.isPositionedAtTop,G=by(n),ot=G===os.sliding||G===os.floating,et=re(!1),bt=function(){return et.get()&&!n.removed},ut=function(Sn){return ot?Sn.fold(function(){return 0},function(Rn){return Rn.components().length>1?zu(Rn.components()[1].element):0}):0},Dt=function(Sn){switch(tT(n)){case Ia.auto:var Rn=Hi.getToolbar(v),qe=ut(Rn),kr=zu(Sn.element)-qe,Jn=rc(r),er=Jn.y>kr;if(er)return"top";var hr=$0(r),go=Math.max(hr.dom.scrollHeight,zu(hr)),qo=Jn.bottom<go-kr;if(qo)return"bottom";var Ei=Mu(),$l=Ei.bottom<Jn.bottom-kr;return $l?"bottom":"top";case Ia.bottom:return"bottom";case Ia.top:default:return"top"}},Lt=function(Sn){var Rn=d.get();fc.setModes(Rn,[Sn]),_.setDockingMode(Sn);var qe=R()?Zc.TopToBottom:Zc.BottomToTop;ho(Rn.element,K1,qe)},Yt=function(){var Sn=O.getOrThunk(function(){var Rn=Uz(Dc(Tc(),"margin-left")).getOr(0);return va(Tc())-Ss(r).left+Rn});Xr(d.get().element,"max-width",Sn+"px")},xn=function(){var Sn=Hi.getToolbar(v),Rn=ut(Sn),qe=rc(r),kr=R()?Math.max(qe.y-zu(d.get().element)+Rn,0):qe.bottom;hd(v.element,{position:"absolute",top:Math.round(kr)+"px",left:Math.round(qe.x)+"px"})},Mn=function(){g.broadcastOn([As()],{})},vn=function(Sn){if(Sn===void 0&&(Sn=!1),!!bt()){if(C||Yt(),ot&&Hi.refreshToolbar(v),C||xn(),E){var Rn=d.get();Sn?fc.reset(Rn):fc.refresh(Rn)}Mn()}},ge=function(Sn){if(Sn===void 0&&(Sn=!0),!(C||!E||!bt())){var Rn=_.getDockingMode(),qe=Dt(d.get());qe!==Rn&&(Lt(qe),Sn&&vn(!0))}},Ar=function(){et.set(!0),Xr(v.element,"display","flex"),w.addClass(n.getBody(),"mce-edit-focus"),Ro(g.element,"display"),ge(!1),vn()},Oe=function(){et.set(!1),i.outerContainer&&(Xr(v.element,"display","none"),w.removeClass(n.getBody(),"mce-edit-focus")),Xr(g.element,"display","none")};return{isVisible:bt,isPositionedAtTop:R,show:Ar,hide:Oe,update:vn,updateMode:ge,repositionPopups:Mn}},XM=function(n,r){var i=rc(n);return{pos:r?i.y:i.bottom,bounds:i}},W9=function(n,r,i,s){var d=re(XM(r,i.isPositionedAtTop())),g=function(w){var C=XM(r,i.isPositionedAtTop()),E=C.pos,O=C.bounds,_=d.get(),R=_.pos,G=_.bounds,ot=O.height!==G.height||O.width!==G.width;d.set({pos:E,bounds:O}),ot&&xy(n,w),i.isVisible()&&(R!==E?i.update(!0):ot&&(i.updateMode(),i.repositionPopups()))};s||(n.on("activate",i.show),n.on("deactivate",i.hide)),n.on("SkinLoaded ResizeWindow",function(){return i.update(!0)}),n.on("NodeChange keydown",function(w){If.requestAnimationFrame(function(){return g(w)})}),n.on("ScrollWindow",function(){return i.updateMode()});var v=na();v.set(Wx(Fe.fromDom(n.getBody()),"load",g)),n.on("remove",function(){v.clear()})},Y9=function(n,r,i,s,d){var g=r.mothership,v=r.uiMothership,w=r.outerContainer,C=re(null),E=Fe.fromDom(d.targetNode),O=q9(n,E,r,s,C),_=M6(n);R9(n);var R=function(){if(C.get()){O.show();return}C.set(Hi.getHeader(w).getOrDie());var ot=rT(n);bv(ot,g),bv(ot,v),WM(n,r,i,s),Hi.setMenubar(w,VM(n,i)),O.show(),W9(n,E,O,_),n.nodeChanged()};n.on("show",R),n.on("hide",O.hide),_||(n.on("focus",R),n.on("blur",O.hide)),n.on("init",function(){(n.hasFocus()||_)&&R()}),sT(n,r);var G={show:function(){O.show()},hide:function(){O.hide()},enable:function(){a0(r,!1)},disable:function(){a0(r,!0)},isDisabled:function(){return yr.isDisabled(w)}};return{editorContainer:w.element.dom,api:G}},$9=Object.freeze({__proto__:null,render:Y9}),X9=function(n){var r=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];ta.each(r,function(s){n.ui.registry.addToggleButton(s.name,{tooltip:s.text,onAction:function(){return n.execCommand(s.cmd)},icon:s.icon,onSetup:ll(n,s.name)})});var i={name:"alignnone",text:"No alignment",cmd:"JustifyNone",icon:"align-none"};n.ui.registry.addButton(i.name,{tooltip:i.text,onAction:function(){return n.execCommand(i.cmd)},icon:i.icon})},G9=function(n,r){ni(n,r),pe(n,r),N0(n,r),Yl(n,r),ja(n,r)},K9=function(n,r){n.setDisabled(!r.queryCommandState("outdent"));var i=function(){n.setDisabled(!r.queryCommandState("outdent"))};return r.on("NodeChange",i),function(){return r.off("NodeChange",i)}},J9=function(n){n.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:function(r){return K9(r,n)},onAction:function(){return n.execCommand("outdent")}}),n.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:function(){return n.execCommand("indent")}})},Z9=function(n){J9(n)},Q9={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},tL=function(){var n="[0-9]+",r="[+-]?"+n,i="[eE]"+r,s="\\.",d=function(w){return"(?:"+w+")?"},g=["Infinity",n+s+d(n)+d(i),s+n+d(i),n+d(i)].join("|"),v="[+-]?(?:"+g+")";return new RegExp("^("+v+")(.*)$")}(),nL=function(n,r){return cn(r,function(i){return cn(Q9[i],function(s){return n===s})})},eL=function(n,r){var i=S.from(tL.exec(n));return i.bind(function(s){var d=Number(s[1]),g=s[2];return nL(g,r)?S.some({value:d,unit:g}):S.none()})},rL=function(n,r){return eL(n,r).map(function(i){var s=i.value,d=i.unit;return s+d})},GM=function(n){return rL(n,["fixed","relative","empty"]).getOr(n)},KM=function(n){var r=z6(n),i=new Map,s=eu(),d=function(){var g=GM(n.queryCommandValue("LineHeight"));S.from(i.get(g)).fold(function(){return s.clear()},function(v){s.set({destroy:function(){v.setActive(!1)}}),v.setActive(!0)})};return n.on("nodeChange",d),wt(r,function(g,v){return{type:"togglemenuitem",text:g,onSetup:function(w){return i.set(GM(g),w),v+1===r.length&&d(),function(){v===0&&(n.off("nodeChange",d),s.clear())}},onAction:function(){return n.execCommand("LineHeight",!1,g)}}})},oL=function(n){n.ui.registry.addNestedMenuItem("lineheight",{type:"nestedmenuitem",text:"Line height",getSubmenuItems:function(){return KM(n)}})},iL=function(n){n.ui.registry.addMenuButton("lineheight",{tooltip:"Line height",icon:"line-height",fetch:function(r){return r(KM(n))}})},uL=function(n){oL(n),iL(n)},qz=function(n,r){return function(){n.execCommand("mceToggleFormat",!1,r)}},aL=function(n){ta.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(s,d){n.ui.registry.addToggleButton(s.name,{tooltip:s.text,icon:s.icon,onSetup:ll(n,s.name),onAction:qz(n,s.name)})});for(var r=1;r<=6;r++){var i="h"+r;n.ui.registry.addToggleButton(i,{text:i.toUpperCase(),tooltip:"Heading "+r,onSetup:ll(n,i),onAction:qz(n,i)})}},cL=function(n){ta.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(r){n.ui.registry.addButton(r.name,{tooltip:r.text,icon:r.icon,onAction:function(){return n.execCommand(r.action)}})})},sL=function(n){ta.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(r){n.ui.registry.addToggleButton(r.name,{tooltip:r.text,icon:r.icon,onAction:function(){return n.execCommand(r.action)},onSetup:ll(n,r.name)})})},lL=function(n){aL(n),cL(n),sL(n)},fL=function(n){ta.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(r){n.ui.registry.addMenuItem(r.name,{text:r.text,icon:r.icon,shortcut:r.shortcut,onAction:function(){return n.execCommand(r.action)}})}),n.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:qz(n,"code")})},dL=function(n){lL(n),fL(n)},u5=function(n,r,i){var s=function(){return r.undoManager?r.undoManager[i]():!1},d=function(){n.setDisabled(r.mode.isReadOnly()||!s())};return n.setDisabled(!s()),r.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",d),function(){return r.off("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",d)}},mL=function(n){n.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:function(r){return u5(r,n,"hasUndo")},onAction:function(){return n.execCommand("undo")}}),n.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:function(r){return u5(r,n,"hasRedo")},onAction:function(){return n.execCommand("redo")}})},gL=function(n){n.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",onSetup:function(r){return u5(r,n,"hasUndo")},onAction:function(){return n.execCommand("undo")}}),n.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",onSetup:function(r){return u5(r,n,"hasRedo")},onAction:function(){return n.execCommand("redo")}})},pL=function(n){mL(n),gL(n)},hL=function(n,r){n.setActive(r.hasVisual);var i=function(s){n.setActive(s.hasVisual)};return r.on("VisualAid",i),function(){return r.off("VisualAid",i)}},vL=function(n){n.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:function(r){return hL(r,n)},onAction:function(){n.execCommand("mceToggleVisualAid")}})},bL=function(n){n.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:function(){return n.execCommand("mceToggleVisualAid")}})},yL=function(n){bL(n),vL(n)},wL=function(n,r){X9(n),dL(n),G9(n,r),pL(n),CF(n),yL(n),Z9(n),uL(n)},oA=function(n,r){return{anchor:"makeshift",x:n,y:r}},xL=function(n,r,i){return oA(n.x+r,n.y+i)},JM=function(n){return n.type==="longpress"||n.type.indexOf("touch")===0},CL=function(n){if(JM(n)){var r=n.touches[0];return oA(r.pageX,r.pageY)}else return oA(n.pageX,n.pageY)},SL=function(n){if(JM(n)){var r=n.touches[0];return oA(r.clientX,r.clientY)}else return oA(n.clientX,n.clientY)},kL=function(n,r){var i=wg.DOM.getPos(n);return xL(r,i.x,i.y)},ZM=function(n,r){return r.type==="contextmenu"||r.type==="longpress"?n.inline?CL(r):kL(n.getContentAreaContainer(),SL(r)):EL(n)},EL=function(n){return{anchor:"selection",root:Fe.fromDom(n.selection.getNode())}},QM=function(n){return{anchor:"node",node:S.some(Fe.fromDom(n.selection.getNode())),root:Fe.fromDom(n.getBody())}},AL=function(n,r,i,s,d,g){var v=i(),w=g?QM(n):ZM(n,r);A0(v,Il.CLOSE_ON_EXECUTE,s,!1).map(function(C){r.preventDefault(),Si.showMenuAt(d,w,{menu:{markers:o0("normal")},data:C})})},TL={onLtr:function(){return[Pu,lu,$i,fu,Ku,za,am,th,um,im,Qp,yg]},onRtl:function(){return[Pu,$i,lu,Ku,fu,za,am,th,Qp,yg,um,im]}},OL=12,DL={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},_L=function(n,r){var i=n.selection;if(i.isCollapsed()||r.touches.length<1)return!1;var s=r.touches[0],d=i.getRng(),g=eb(n.getWin(),yp.domRange(d));return g.exists(function(v){return v.left<=s.clientX&&v.right>=s.clientX&&v.top<=s.clientY&&v.bottom>=s.clientY})},FL=function(n,r){return tt({bubble:Xm(0,OL,DL),layouts:TL,overrides:{maxWidthFunction:VE(),maxHeightFunction:Ym()}},ZM(n,r))},BL=function(n){var r=n.selection.getRng(),i=function(){If.setEditorTimeout(n,function(){n.selection.setRng(r)},10),g()};n.once("touchend",i);var s=function(v){v.preventDefault(),v.stopImmediatePropagation()};n.on("mousedown",s,!0);var d=function(){return g()};n.once("longpresscancel",d);var g=function(){n.off("touchend",i),n.off("longpresscancel",d),n.off("mousedown",s)}},NL=function(n,r,i,s,d,g,v){var w=g?QM(n):FL(n,r);A0(i,Il.CLOSE_ON_EXECUTE,s,!0).map(function(C){r.preventDefault(),Si.showMenuWithinBounds(d,w,{menu:{markers:o0("normal"),highlightImmediately:v},data:C,type:"horizontal"},function(){return S.some(X(n,s.shared))}),n.fire(B_)})},zL=function(n,r,i,s,d,g){var v=Ga(),w=v.os.isiOS(),C=v.os.isOSX(),E=v.os.isAndroid(),O=v.deviceType.isTouch(),_=function(){return!(E||w||C&&O)},R=function(){var ot=i();NL(n,r,ot,s,d,g,_())};if((C||w)&&!g){var G=function(){BL(n),R()};_L(n,r)?G():(n.once("selectionchange",G),n.once("touchend",function(){return n.off("selectionchange",G)}))}else E&&!g&&n.selection.setCursorLocation(r.target,0),R()},tR=function(n){return typeof n=="string"?n.split(/[ ,]/):n},nR=function(n){return n.getParam("contextmenu_never_use_native",!1,"boolean")},ML=function(n,r,i){var s=n.ui.registry.getAll().contextMenus;return S.from(n.getParam(r)).map(tR).getOrThunk(function(){return gt(tR(i),function(d){return ao(s,d)})})},RL=function(n){return n.getParam("contextmenu")===!1},PL=function(n){return ML(n,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},LL=function(n){return n.getParam("contextmenu_avoid_overlap","","string")},eR=function(n){return Ie(n)?n==="|":n.type==="separator"},Wz={type:"separator"},rR=function(n){if(Ie(n))return n;switch(n.type){case"separator":return Wz;case"submenu":return{type:"nestedmenuitem",text:n.text,icon:n.icon,getSubmenuItems:function(){var r=n.getSubmenuItems();return Ie(r)?r:wt(r,rR)}};default:return{type:"menuitem",text:n.text,icon:n.icon,onAction:jn(n.onAction)}}},oR=function(n,r){if(r.length===0)return n;var i=ee(n).filter(function(d){return!eR(d)}),s=i.fold(function(){return[]},function(d){return[Wz]});return n.concat(s).concat(r).concat([Wz])},IL=function(n,r,i){var s=nt(r,function(d,g){if(ao(n,g)){var v=n[g].update(i);if(Ie(v))return oR(d,v.split(" "));if(v.length>0){var w=wt(v,rR);return oR(d,w)}else return d}else return d.concat([g])},[]);return s.length>0&&eR(s[s.length-1])&&s.pop(),s},HL=function(n,r){return r.ctrlKey&&!nR(n)},iR=function(n,r){return r.type!=="longpress"&&(r.button!==2||r.target===n.getBody()&&r.pointerType==="")},uR=function(n,r){return iR(n,r)?n.selection.getStart(!0):r.target},VL=function(n,r){var i=LL(n);if(iR(n,r))return!0;if(i){var s=uR(n,r);return g0(Fe.fromDom(s),i)}else return!1},UL=function(n,r,i){var s=Ga(),d=s.deviceType.isTouch,g=ua(Si.sketch({dom:{tag:"div"},lazySink:r,onEscape:function(){return n.focus()},onShow:function(){return i.setContextMenuState(!0)},onHide:function(){return i.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:Un([Yr("dismissContextMenu",[Fn(Ri(),function(C,E){Wr.close(C),n.focus()})])])})),v=function(C){return Si.hide(g)},w=function(C){if(nR(n)&&C.preventDefault(),!(HL(n,C)||RL(n))){var E=VL(n,C),O=function(){var R=uR(n,C),G=n.ui.registry.getAll(),ot=PL(n);return IL(G.contextMenus,ot,R)},_=d()?zL:AL;_(n,C,O,i,g,E)}};n.on("init",function(){var C="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(d()?"":" ResizeWindow");n.on(C,v),n.on("longpress contextmenu",w)})},Yz=Xe.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),a5=function(n){return function(r){return r.translate(-n.left,-n.top)}},c5=function(n){return function(r){return r.translate(n.left,n.top)}},Th=function(n){return function(r,i){return nt(n,function(s,d){return d(s)},Xo(r,i))}},s5=function(n,r,i){return n.fold(Th([c5(i),a5(r)]),Th([a5(r)]),Th([]))},XC=function(n,r,i){return n.fold(Th([c5(i)]),Th([]),Th([c5(r)]))},aR=function(n,r,i){return n.fold(Th([]),Th([a5(i)]),Th([c5(r),a5(i)]))},jL=function(n,r,i,s,d,g){var v=XC(n,d,g),w=XC(r,d,g);return Math.abs(v.left-w.left)<=i&&Math.abs(v.top-w.top)<=s},qL=function(n,r,i,s,d,g){var v=XC(n,d,g),w=XC(r,d,g),C=Math.abs(v.left-w.left),E=Math.abs(v.top-w.top);return Xo(C,E)},cR=function(n,r,i){var s=n.fold(function(d,g){return{position:S.some("absolute"),left:S.some(d+"px"),top:S.some(g+"px")}},function(d,g){return{position:S.some("absolute"),left:S.some(d-i.left+"px"),top:S.some(g-i.top+"px")}},function(d,g){return{position:S.some("fixed"),left:S.some(d+"px"),top:S.some(g+"px")}});return tt({right:S.none(),bottom:S.none()},s)},WL=function(n,r,i){return n.fold(function(s,d){return l5(s+r,d+i)},function(s,d){return R0(s+r,d+i)},function(s,d){return $y(s+r,d+i)})},$z=function(n,r,i,s){var d=function(g,v){return function(w,C){var E=g(r,i,s);return v(w.getOr(E.left),C.getOr(E.top))}};return n.fold(d(aR,l5),d(XC,R0),d(s5,$y))},l5=Yz.offset,R0=Yz.absolute,$y=Yz.fixed,sR=function(n,r){var i=wu(n,r);return I(i)?NaN:parseInt(i,10)},YL=function(n,r){var i=n.element,s=sR(i,r.leftAttr),d=sR(i,r.topAttr);return isNaN(s)||isNaN(d)?S.none():S.some(Xo(s,d))},$L=function(n,r,i){var s=n.element;ho(s,r.leftAttr,i.left+"px"),ho(s,r.topAttr,i.top+"px")},XL=function(n,r){var i=n.element;Fa(i,r.leftAttr),Fa(i,r.topAttr)},GL=function(n,r,i,s){return YL(n,r).fold(function(){return i},function(d){return $y(d.left+s.left,d.top+s.top)})},KL=function(n,r,i,s,d,g){var v=GL(n,r,i,s),w=r.mustSnap?ZL(n,r,v,d,g):QL(n,r,v,d,g),C=s5(v,d,g);return $L(n,r,C),w.fold(function(){return{coord:$y(C.left,C.top),extra:S.none()}},function(E){return{coord:E.output,extra:E.extra}})},JL=function(n,r){XL(n,r)},lR=function(n,r,i,s){return Qn(n,function(d){var g=d.sensor,v=jL(r,g,d.range.left,d.range.top,i,s);return v?S.some({output:$z(d.output,r,i,s),extra:d.extra}):S.none()})},ZL=function(n,r,i,s,d){var g=r.getSnapPoints(n),v=lR(g,i,s,d);return v.orThunk(function(){var w=nt(g,function(C,E){var O=E.sensor,_=qL(i,O,E.range.left,E.range.top,s,d);return C.deltas.fold(function(){return{deltas:S.some(_),snap:S.some(E)}},function(R){var G=(_.left+_.top)/2,ot=(R.left+R.top)/2;return G<=ot?{deltas:S.some(_),snap:S.some(E)}:C})},{deltas:S.none(),snap:S.none()});return w.snap.map(function(C){return{output:$z(C.output,i,s,d),extra:C.extra}})})},QL=function(n,r,i,s,d){var g=r.getSnapPoints(n);return lR(g,i,s,d)},tI=function(n,r,i){return{coord:$z(n.output,n.output,r,i),extra:n.extra}},nI=function(n,r,i,s){var d=r.getTarget(n.element);if(r.repositionTarget){var g=Sc(n.element),v=Yc(g),w=AM(d),C=tI(s,v,w),E=cR(C.coord,v,w);Pm(d,E)}},eI=Object.freeze({__proto__:null,snapTo:nI}),Xz="data-initial-z-index",rI=function(n){yu(n.element).filter(uu).each(function(r){ld(r,Xz).fold(function(){return Ro(r,"z-index")},function(i){return Xr(r,"z-index",i)}),Fa(r,Xz)})},oI=function(n){yu(n.element).filter(uu).each(function(r){di(r,"z-index").each(function(i){ho(r,Xz,i)}),Xr(r,"z-index",Dc(n.element,"z-index"))})},fR=function(n,r){n.getSystem().addToGui(r),oI(r)},iI=function(n){rI(n),n.getSystem().removeFromGui(n)},dR=function(n,r,i){return n.getSystem().build(ca.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:i}))},uI=Gi("snaps",[At("getSnapPoints"),to("onSensor"),At("leftAttr"),At("topAttr"),It("lazyViewport",Mu),It("mustSnap",!1)]),Gz=[It("useFixed",yn),At("blockerClass"),It("getTarget",Xt),It("onDrag",ft),It("repositionTarget",!0),It("onDrop",ft),ri("getBounds",Mu),uI],aI=function(n){return Zs(di(n,"left"),di(n,"top"),di(n,"position"),function(r,i,s){var d=s==="fixed"?$y:l5;return d(parseInt(r,10),parseInt(i,10))}).getOrThunk(function(){var r=Ss(n);return R0(r.left,r.top)})},cI=function(n,r,i,s,d){var g=d.bounds,v=XC(r,i,s),w=Es(v.left,g.x,g.x+g.width-d.width),C=Es(v.top,g.y,g.y+g.height-d.height),E=R0(w,C);return r.fold(function(){var O=aR(E,i,s);return l5(O.left,O.top)},function(){return E},function(){var O=s5(E,i,s);return $y(O.left,O.top)})},sI=function(n,r,i,s,d,g,v){var w=r.fold(function(){var C=WL(i,g.left,g.top),E=s5(C,s,d);return $y(E.left,E.top)},function(C){var E=KL(n,C,i,g,s,d);return E.extra.each(function(O){C.onSensor(n,O)}),E.coord});return cI(n,w,s,d,v)},lI=function(n,r,i,s){var d=r.getTarget(n.element);if(r.repositionTarget){var g=Sc(n.element),v=Yc(g),w=AM(d),C=aI(d),E=sI(n,r.snaps,C,v,w,s,i),O=cR(E,v,w);Pm(d,O)}r.onDrag(n,d,s)},mR=function(n,r){return{bounds:n.getBounds(),height:yd(r.element),width:_c(r.element)}},Kz=function(n,r,i,s,d){var g=i.update(s,d),v=i.getStartData().getOrThunk(function(){return mR(r,n)});g.each(function(w){lI(n,r,v,w)})},f5=function(n,r,i,s){r.each(iI),i.snaps.each(function(g){JL(n,g)});var d=i.getTarget(n.element);s.reset(),i.onDrop(n,d)},Jz=function(n){return function(r,i){var s=function(d){i.setStartData(mR(r,d))};return po(Y([Fn(uf(),function(d){i.getStartData().each(function(){return s(d)})})],n(r,i,s)))}},fI=function(n){return po([Fn(wc(),n.forceDrop),Fn(_h(),n.drop),Fn(Tm(),function(r,i){n.move(i.event)}),Fn(nd(),n.delayDrop)])},dI=function(n){return S.from(Xo(n.x,n.y))},mI=function(n,r){return Xo(r.left-n.left,r.top-n.top)},gI=Object.freeze({__proto__:null,getData:dI,getDelta:mI}),gR=function(n,r,i){return[Fn(wc(),function(s,d){var g=d.event.raw;if(g.button===0){d.stop();var v=function(){return f5(s,S.some(E),n,r)},w=g3(v,200),C={drop:v,delayDrop:w.schedule,forceDrop:v,move:function(_){w.cancel(),Kz(s,n,r,gI,_)}},E=dR(s,n.blockerClass,fI(C)),O=function(){i(s),fR(s,E)};O()}})]},pI=Y(Gz,[Ho("dragger",{handlers:Jz(gR)})]),hI=function(n){return po([Fn(Yu(),n.forceDrop),Fn(ea(),n.drop),Fn(Zy(),n.drop),Fn(ef(),function(r,i){n.move(i.event)})])},vI=function(n){var r=n[0];return S.some(Xo(r.clientX,r.clientY))},bI=function(n){var r=n.raw,i=r.touches;return i.length===1?vI(i):S.none()},yI=function(n,r){return Xo(r.left-n.left,r.top-n.top)},pR=Object.freeze({__proto__:null,getData:bI,getDelta:yI}),hR=function(n,r,i){var s=re(S.none());return[Fn(Yu(),function(d,g){g.stop();var v=function(){f5(d,s.get(),n,r),s.set(S.none())},w={drop:v,delayDrop:ft,forceDrop:v,move:function(O){Kz(d,n,r,pR,O)}},C=dR(d,n.blockerClass,hI(w));s.set(S.some(C));var E=function(){i(d),fR(d,C)};E()}),Fn(ef(),function(d,g){g.stop(),Kz(d,n,r,pR,g.event)}),Fn(ea(),function(d,g){g.stop(),f5(d,s.get(),n,r),s.set(S.none())}),Fn(Zy(),function(d){f5(d,s.get(),n,r),s.set(S.none())})]},wI=Y(Gz,[Ho("dragger",{handlers:Jz(hR)})]),xI=function(n,r,i){return Y(gR(n,r,i),hR(n,r,i))},CI=Y(Gz,[Ho("dragger",{handlers:Jz(xI)})]),SI=pI,kI=wI,EI=CI,AI=Object.freeze({__proto__:null,mouse:SI,touch:kI,mouseOrTouch:EI}),TI=function(){var n=S.none(),r=S.none(),i=function(){n=S.none(),r=S.none()},s=function(C,E){var O=n.map(function(_){return C.getDelta(_,E)});return n=S.some(E),O},d=function(C,E){return C.getData(E).bind(function(O){return s(C,O)})},g=function(C){r=S.some(C)},v=function(){return r},w=st({});return Ec({readState:w,reset:i,update:d,getStartData:v,setStartData:g})},OI=Object.freeze({__proto__:null,init:TI}),Xy=V1({branchKey:"mode",branches:AI,name:"dragging",active:{events:function(n,r){var i=n.dragger;return i.handlers(n,r)}},extra:{snap:function(n){return{sensor:n.sensor,range:n.range,output:n.output,extra:S.from(n.extra)}}},state:OI,apis:eI}),Zz=40,d5=Zz/2,vR=function(n,r,i,s,d,g){return n.fold(function(){return Xy.snap({sensor:R0(i-d5,s-d5),range:Xo(d,g),output:R0(S.some(i),S.some(s)),extra:{td:r}})},function(v){var w=i-d5,C=s-d5,E=Zz,O=Zz,_=v.element.dom.getBoundingClientRect();return Xy.snap({sensor:R0(w,C),range:Xo(E,O),output:R0(S.some(i-_.width/2),S.some(s-_.height/2)),extra:{td:r}})})},bR=function(n,r,i){var s=function(d,g){return d.exists(function(v){return Ur(v,g)})};return{getSnapPoints:n,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(d,g){var v=g.td;s(r.get(),v)||(r.set(S.some(v)),i(v))},mustSnap:!0}},yR=function(n){return _o(Sa.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Un([Xy.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:n}),Dy.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},DI=function(n,r){var i=re([]),s=re([]),d=re(!1),g=re(S.none()),v=re(S.none()),w=function(vn){var ge=gf(vn);return vR(G.getOpt(r),vn,ge.x,ge.y,ge.width,ge.height)},C=function(){return wt(i.get(),function(vn){return w(vn)})},E=function(vn){var ge=gf(vn);return vR(ot.getOpt(r),vn,ge.right,ge.bottom,ge.width,ge.height)},O=function(){return wt(s.get(),function(vn){return E(vn)})},_=bR(C,g,function(vn){v.get().each(function(ge){n.fire("TableSelectorChange",{start:vn,finish:ge})})}),R=bR(O,v,function(vn){g.get().each(function(ge){n.fire("TableSelectorChange",{start:ge,finish:vn})})}),G=yR(_),ot=yR(R),et=ua(G.asSpec()),bt=ua(ot.asSpec()),ut=function(vn,ge,Ar,Oe){var Sn=ge.dom.getBoundingClientRect();Ro(vn.element,"display");var Rn=ps(Fe.fromDom(n.getBody())).dom.innerHeight,qe=Ar(Sn),kr=Oe(Sn,Rn);(qe||kr)&&Xr(vn.element,"display","none")},Dt=function(vn,ge,Ar,Oe){var Sn=Ar(ge);Xy.snapTo(vn,Sn);var Rn=function(kr){return kr[Oe]<0},qe=function(kr,Jn){return kr[Oe]>Jn};ut(vn,ge,Rn,qe)},Lt=function(vn){return Dt(et,vn,w,"top")},Yt=function(){return g.get().each(Lt)},xn=function(vn){return Dt(bt,vn,E,"bottom")},Mn=function(){return v.get().each(xn)};Ga().deviceType.isTouch()&&(n.on("TableSelectionChange",function(vn){d.get()||(Ys(r,et),Ys(r,bt),d.set(!0)),g.set(S.some(vn.start)),v.set(S.some(vn.finish)),vn.otherCells.each(function(ge){i.set(ge.upOrLeftCells),s.set(ge.downOrRightCells),Lt(vn.start),xn(vn.finish)})}),n.on("ResizeEditor ResizeWindow ScrollContent",function(){Yt(),Mn()}),n.on("TableSelectionClear",function(){d.get()&&(kf(et),kf(bt),d.set(!1)),g.set(S.none()),v.set(S.none())}))},Gy;(function(n){n[n.None=0]="None",n[n.Both=1]="Both",n[n.Vertical=2]="Vertical"})(Gy||(Gy={}));var _I=function(n,r,i,s,d){var g={};return g.height=i5(s+r.top,KA(n),oh(n)),i===Gy.Both&&(g.width=i5(d+r.left,vy(n),Fx(n))),g},FI=function(n,r,i){var s=Fe.fromDom(n.getContainer()),d=_I(n,r,i,zu(s),va(s));zr(d,function(g,v){return Xr(s,v,jz(g))}),cF(n)},BI=function(n){return n.nodeType===1&&(n.nodeName==="BR"||!!n.getAttribute("data-mce-bogus")||n.getAttribute("data-mce-type")==="bookmark")},NI=function(n,r,i){r.delimiter||(r.delimiter="\xBB");var s=function(g){var v=g||[],w=wt(v,function(E,O){return Sa.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":O,"tab-index":-1,"aria-level":O+1},innerHtml:E.name},action:function(_){n.focus(),n.selection.select(E.element),n.nodeChanged()},buttonBehaviours:Un([tl.button(i.isDisabled),nu()])})}),C={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+r.delimiter+" "}};return nt(w.slice(1),function(E,O){var _=E;return _.push(C),_.push(O),_},[w[0]])},d=function(g){for(var v=[],w=g.length;w-- >0;){var C=g[w];if(C.nodeType===1&&!BI(C)){var E=n.fire("ResolveName",{name:C.nodeName.toLowerCase(),target:C});if(E.isDefaultPrevented()||v.push({name:E.name,element:C}),E.isPropagationStopped())break}}return v};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Un([vr.config({mode:"flow",selector:"div[role=button]"}),yr.config({disabled:i.isDisabled}),nu(),Di.config({}),Mr.config({}),Yr("elementPathEvents",[si(function(g,v){n.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return vr.focusIn(g)}),n.on("NodeChange",function(w){var C=d(w.parents);C.length>0?Mr.set(g,s(C)):Mr.set(g,[])})})])]),components:[]}},zI=function(n,r){var i,s=function(d,g,v){return Mr.set(d,[mf(r.translate(["{0} "+v,g[v]]))])};return Sa.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Un([tl.button(r.isDisabled),nu(),Di.config({}),Mr.config({}),xe.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),Yr("wordcount-events",[Cc(function(d){var g=xe.getValue(d),v=g.mode==="words"?"characters":"words";xe.setValue(d,{mode:v,count:g.count}),s(d,g.count,v)}),si(function(d){n.on("wordCountUpdate",function(g){var v=xe.getValue(d).mode;xe.setValue(d,{mode:v,count:g.wordCount}),s(d,g.wordCount,v)})})])]),eventOrder:(i={},i[ra()]=["disabling","alloy.base.behaviour","wordcount-events"],i)})},MI=function(n,r){var i=function(w){return{dom:{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:r.translate("Resize"),"aria-hidden":"true"},innerHtml:cc("resize-handle",r.icons)},behaviours:Un([Xy.config({mode:"mouse",repositionTarget:!1,onDrag:function(C,E,O){FI(n,O,w)},blockerClass:"tox-blocker"})])}},s=function(){var w=rs.translate(["Powered by {0}","Tiny"]),C='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+w+'">'+w+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:C}}},d=function(w){var C=!w.hasPlugin("autoresize"),E=w.getParam("resize",C);return E===!1?Gy.None:E==="both"?Gy.Both:Gy.Vertical},g=function(){var w=[];return n.getParam("elementpath",!0,"boolean")&&w.push(NI(n,{},r)),n.hasPlugin("wordcount")&&w.push(zI(n,r)),n.getParam("branding",!0,"boolean")&&w.push(s()),w.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:w}]:[]},v=function(){var w=g(),C=d(n);return C!==Gy.None&&w.push(i(C)),w};return{dom:{tag:"div",classes:["tox-statusbar"]},components:v()}},RI=function(n){var r,i=n.inline,s=i?$9:H9,d=Mx(n)?ZP:SP,g=S.none(),v=Ga(),w=v.browser.isIE(),C=w?["tox-platform-ie"]:[],E=v.deviceType.isTouch(),O="tox-platform-touch",_=E?[O]:[],R=nT(n),G=rT(n),ot=rs.isRtl()?{attributes:{dir:"rtl"}}:{},et={attributes:(r={},r[K1]=R?Zc.BottomToTop:Zc.TopToBottom,r)},bt=function(){return g.bind(Hi.getHeader)},ut=function(){return d.isDocked(bt)},Dt=function(){Xr(as.element,"width",document.body.clientWidth+"px")},Lt=function(){var Ea=Ur(Tc(),G)&&Dc(G,"display")==="grid",P0={dom:tt({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(C).concat(_)},ot),behaviours:Un([Zu.config({useFixed:function(){return ut()}})])},JC={dom:{styles:{width:document.body.clientWidth+"px"}},events:po([Fn(Sl(),Dt)])};return $r(P0,Ea?JC:{})},Yt=ua(Lt()),xn=function(){return gn.value(Yt)},Mn=_o({dom:{tag:"div",classes:["tox-anchorbar"]}}),vn=function(){return g.bind(function(Ea){return Mn.getOpt(Ea)}).getOrDie("Could not find a anchor bar element")},ge=function(){return g.bind(function(Ea){return Hi.getToolbar(Ea)}).getOrDie("Could not find more toolbar element")},Ar=function(){return g.bind(function(Ea){return Hi.getThrobber(Ea)}).getOrDie("Could not find throbber element")},Oe=XN(Yt,n,vn),Sn=Hi.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:Oe,onEscape:function(){n.focus()}}),Rn=by(n),qe=Hi.parts.toolbar(tt({dom:{tag:"div",classes:["tox-toolbar"]},getSink:xn,providers:Oe.shared.providers,onEscape:function(){n.focus()},type:Rn,lazyToolbar:ge,lazyHeader:function(){return bt().getOrDie("Could not find header element")}},et)),kr=Hi.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:Oe.shared.providers,onEscape:function(){n.focus()},type:Rn}),Jn=Hi.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),er=Hi.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),hr=Hi.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:Oe}),go=n.getParam("statusbar",!0,"boolean"),qo=go&&!i?S.some(MI(n,Oe.shared.providers)):S.none(),Ei={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[Jn,er]},$l=Nx(n),fl=q4(n),fM=Bx(n),dM=function(){return $l?[kr]:fl?[qe]:[]},g5=Hi.parts.header({dom:tt({tag:"div",classes:["tox-editor-header"]},et),components:be([fM?[Sn]:[],dM(),zx(n)?[]:[Mn.asSpec()]]),sticky:Mx(n),editor:n,sharedBackstage:Oe.shared}),mM=be([R?[]:[g5],i?[]:[Ei],R?[g5]:[]]),uA={dom:{tag:"div",classes:["tox-editor-container"]},components:mM},p5=be([[uA],i?[]:qo.toArray(),[hr]]),aA=oT(n),h5=tt(tt({role:"application"},rs.isRtl()?{dir:"rtl"}:{}),aA?{"aria-hidden":"true"}:{}),$f=ua(Hi.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(i?["tox-tinymce-inline"]:[]).concat(R?["tox-tinymce--toolbar-bottom"]:[]).concat(_).concat(C),styles:tt({visibility:"hidden"},aA?{opacity:"0",border:"0"}:{}),attributes:h5},components:p5,behaviours:Un([nu(),yr.config({disableClass:"tox-tinymce--disabled"}),vr.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a"})])}));g=S.some($f),n.shortcuts.add("alt+F9","focus menubar",function(){Hi.focusMenubar($f)}),n.shortcuts.add("alt+F10","focus toolbar",function(){Hi.focusToolbar($f)}),n.addCommand("ToggleToolbarDrawer",function(){Hi.toggleToolbarDrawer($f)}),n.addQueryStateHandler("ToggleToolbarDrawer",function(){return Hi.isToolbarDrawerToggled($f)});var cA=KT($f),as=KT(Yt);Fo(n,cA,as);var gM=function(){var Ea={broadcastAll:as.broadcast,broadcastOn:as.broadcastOn,register:ft};return{channels:Ea}},pM=function(){var Ea=jz(U9(n)),P0=jz(j9(n));return n.inline||(Lm("div","width",P0)&&Xr($f.element,"width",P0),Lm("div","height",Ea)?Xr($f.element,"height",Ea):Xr($f.element,"height","200px")),Ea},hM=function(){d.setup(n,Oe.shared,bt),wL(n,Oe),UL(n,xn,Oe),a9(n),w9(n,Ar,Oe.shared),Er(QA(n),function(ss,Xl){n.ui.registry.addGroupToolbarButton(Xl,ss)});var Ea=n.ui.registry.getAll(),P0=Ea.buttons,JC=Ea.menuItems,vM=Ea.contextToolbars,ZC=Ea.sidebars,bM=ZA(n),Re={menuItems:JC,menus:Y4(n),menubar:$4(n),toolbar:bM.getOrThunk(function(){return iT(n)}),allowToolbarGroups:Rn===os.floating,buttons:P0,sidebar:ZC};qr(n,vM,Yt,{backstage:Oe}),DI(n,Yt);var Gr=n.getElement(),Uo=pM(),Fi={mothership:cA,uiMothership:as,outerContainer:$f},cs={targetNode:Gr,height:Uo};return s.render(n,Fi,Re,Oe,cs)};return{mothership:cA,uiMothership:as,backstage:Oe,renderUI:hM,getUi:gM}},PI=function(n,r){var i=S.from(wu(n,"id")).fold(function(){var s=tr("dialog-describe");return ho(r,"id",s),s},Xt);ho(n,"aria-describedby",i)},LI=function(n,r){var i=ld(n,"id").fold(function(){var s=tr("dialog-label");return ho(r,"id",s),s},Xt);ho(n,"aria-labelledby",i)},II=st([At("lazySink"),Cr("dragBlockClass"),ri("getBounds",Mu),It("useTabstopAt",Zt),It("eventOrder",{}),tu("modalBehaviours",[vr]),Io("onExecute"),T1("onEscape")]),Qz={sketch:Xt},HI=st([Nc({name:"draghandle",overrides:function(n,r){return{behaviours:Un([Xy.config({mode:"mouse",getTarget:function(i){return tv(i,'[role="dialog"]').getOr(i)},blockerClass:n.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:n.getDragBounds})])}}}),Iu({schema:[At("dom")],name:"title"}),Iu({factory:Qz,schema:[At("dom")],name:"close"}),Iu({factory:Qz,schema:[At("dom")],name:"body"}),Nc({factory:Qz,schema:[At("dom")],name:"footer"}),ns({factory:{sketch:function(n,r){return tt(tt({},n),{dom:r.dom,components:r.components})}},schema:[It("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),It("components",[])],name:"blocker"})]),VI=function(n,r,i,s){ho(n.element,"aria-busy",!0);var d=r.getRoot(n).getOr(n),g=Un([vr.config({mode:"special",onTab:function(){return S.some(!0)},onShiftTab:function(){return S.some(!0)}}),Fr.config({})]),v=s(d,g),w=d.getSystem().build(v);Mr.append(d,Nu(w)),w.hasConfigured(vr)&&vr.focusIn(w),i.isBlocked()||r.onBlock(n),i.blockWith(function(){return Mr.remove(d,w)})},UI=function(n,r,i){Fa(n.element,"aria-busy"),i.isBlocked()&&r.onUnblock(n),i.clear()},jI=Object.freeze({__proto__:null,block:VI,unblock:UI}),qI=[ri("getRoot",S.none),to("onBlock"),to("onUnblock")],WI=function(){var n=eu(),r=function(i){n.set({destroy:i})};return Ec({readState:n.isSet,blockWith:r,clear:n.clear,isBlocked:n.isSet})},YI=Object.freeze({__proto__:null,init:WI}),GC=Pi({fields:qI,name:"blocking",apis:jI,state:YI}),$I=function(n,r,i,s){var d,g=re(S.none()),v=function(ot){g.set(S.some(ot));var et=n.lazySink(ot).getOrDie(),bt=s.blocker(),ut=et.getSystem().build(tt(tt({},bt),{components:bt.components.concat([Nu(ot)]),behaviours:Un([Fr.config({}),Yr("dialog-blocker-events",[id(wl(),function(){vr.focusIn(ot)})])])}));Ys(et,ut),vr.focusIn(ot)},w=function(ot){g.set(S.none()),yu(ot.element).each(function(et){ot.getSystem().getByDom(et).each(function(bt){kf(bt)})})},C=function(ot){return _s(ot,n,"body")},E=function(ot){return _s(ot,n,"footer")},O=function(ot,et){GC.block(ot,et)},_=function(ot){GC.unblock(ot)},R=tr("modal-events"),G=tt(tt({},n.eventOrder),(d={},d[kl()]=[R].concat(n.eventOrder["alloy.system.attached"]||[]),d));return{uid:n.uid,dom:n.dom,components:r,apis:{show:v,hide:w,getBody:C,getFooter:E,setIdle:_,setBusy:O},eventOrder:G,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Li(n.modalBehaviours,[Mr.config({}),vr.config({mode:"cyclic",onEnter:n.onExecute,onEscape:n.onEscape,useTabstopAt:n.useTabstopAt}),GC.config({getRoot:g.get}),Yr(R,[si(function(ot){LI(ot.element,_s(ot,n,"title").element),PI(ot.element,_s(ot,n,"body").element)})])])}},Au=Vu({name:"ModalDialog",configFields:II(),partFields:HI(),factory:$I,apis:{show:function(n,r){n.show(r)},hide:function(n,r){n.hide(r)},getBody:function(n,r){return n.getBody(r)},getFooter:function(n,r){return n.getFooter(r)},setBusy:function(n,r,i){n.setBusy(r,i)},setIdle:function(n,r){n.setIdle(r)}}}),XI=Nt([rr("type"),rr("name")].concat(eh)),GI=ls,wR=[ro("name","name",lt(function(){return tr("button-name")}),bi),uo("icon"),Aa("align","end",["start","end"]),fo("primary",!1),fo("disabled",!1)],xR=Y(wR,[rr("text")]),tM=Y([ru("type",["submit","cancel","custom"])],xR),KI=Y([ru("type",["menu"]),uo("text"),uo("tooltip"),uo("icon"),ma("items",XI)],wR),JI=bu("type",{submit:tM,cancel:tM,custom:tM,menu:KI}),ZI=[rr("type"),rr("text"),ru("level",["info","warn","error","success"]),rr("icon"),It("url","")],QI=Nt(ZI),tH=function(n){return[rr("type"),n]},nH=[rr("type"),rr("text"),fo("disabled",!1),fo("primary",!1),ro("name","name",lt(function(){return tr("button-name")}),bi),uo("icon"),fo("borderless",!1)],eH=Nt(nH),rH=[rr("type"),rr("name"),rr("label"),fo("disabled",!1)],oH=Nt(rH),iH=ls,nM=[rr("type"),rr("name")],Yf=nM.concat([uo("label")]),uH=Yf.concat([It("columns","auto")]),aH=Nt(uH),cH=bm([rr("value"),rr("text"),rr("icon")]),sH=Yf,lH=Nt(sH),fH=bi,dH=Yf,mH=Nt(dH),gH=bi,pH=nM.concat([dl("tag","textarea"),rr("scriptId"),rr("scriptUrl"),Mi("settings",void 0)]),hH=nM.concat([dl("tag","textarea"),Ai("init")]),vH=Tu(function(n){return Bo("customeditor.old",Ht(hH),n).orThunk(function(){return Bo("customeditor.new",Ht(pH),n)})}),bH=bi,yH=Yf,wH=Nt(yH),xH=Ue(),CH=function(n){return[rr("type"),Do("columns"),n]},SH=[rr("type"),rr("html"),Aa("presets","presentation",["presentation","document"])],kH=Nt(SH),EH=Yf.concat([fo("sandboxed",!0)]),AH=Nt(EH),TH=bi,OH=Yf.concat([gr("currentState",Nt([At("blob"),rr("url")]))]),DH=Nt(OH),_H=Yf.concat([uo("inputMode"),uo("placeholder"),fo("maximized",!1),fo("disabled",!1)]),FH=Nt(_H),BH=bi,NH=function(n){return[rr("type"),rr("label"),n]},zH=[rr("text"),rr("value")],MH=[rr("text"),ma("items",Rg("items",function(){return CR}))],CR=xr([Nt(zH),Nt(MH)]),RH=Yf.concat([ma("items",CR),fo("disabled",!1)]),PH=Nt(RH),LH=bi,IH=Yf.concat([Kf("items",[rr("text"),rr("value")]),fs("size",1),fo("disabled",!1)]),HH=Nt(IH),VH=bi,UH=Yf.concat([fo("constrain",!0),fo("disabled",!1)]),jH=Nt(UH),SR=Nt([rr("width"),rr("height")]),qH=[rr("type"),ma("header",bi),ma("cells",Gn(bi))],WH=Nt(qH),YH=Yf.concat([uo("placeholder"),fo("maximized",!1),fo("disabled",!1)]),$H=Nt(YH),XH=bi,GH=Yf.concat([Aa("filetype","file",["image","media","file"]),It("disabled",!1)]),KH=Nt(GH),JH=Nt([rr("value"),It("meta",{})]),eM=function(n){return ro("items","items",Wo(),Gn(Tu(function(r){return Bo("Checking item of "+n,rM,r).fold(function(i){return gn.error(dc(i))},function(i){return gn.value(i)})})))},rM=Xf(function(){return fa("type",{alertbanner:QI,bar:Nt(tH(eM("bar"))),button:eH,checkbox:oH,colorinput:lH,colorpicker:mH,dropzone:wH,grid:Nt(CH(eM("grid"))),iframe:AH,input:FH,listbox:PH,selectbox:HH,sizeinput:jH,textarea:$H,urlinput:KH,customeditor:vH,htmlpanel:kH,imagetools:DH,collection:aH,label:Nt(NH(eM("label"))),table:WH,panel:kR})}),ZH=[rr("type"),It("classes",[]),ma("items",rM)],kR=Nt(ZH),QH=[ro("name","name",lt(function(){return tr("tab-name")}),bi),rr("title"),ma("items",rM)],tV=[rr("type"),Kf("tabs",QH)],nV=Nt(tV),eV=xR,rV=JI,oV=Nt([rr("title"),gr("body",fa("type",{panel:kR,tabpanel:nV})),dl("size","normal"),ma("buttons",rV),It("initialData",{}),ri("onAction",ft),ri("onChange",ft),ri("onSubmit",ft),ri("onClose",ft),ri("onCancel",ft),It("onTabChange",ft)]),iV=function(n){return Bo("dialog",oV,n)},uV=Nt(Y([ru("type",["cancel","custom"])],eV)),aV=Nt([rr("title"),rr("url"),zs("height"),zs("width"),Pg("buttons",uV),ri("onAction",ft),ri("onCancel",ft),ri("onClose",ft),ri("onMessage",ft)]),cV=function(n){return Bo("dialog",aV,n)},oM=function(n){return wr(n)?[n].concat(An(ii(n),oM)):sr(n)?An(n,oM):[]},sV=function(n){return Ie(n.type)&&Ie(n.name)},lV={checkbox:iH,colorinput:fH,colorpicker:gH,dropzone:xH,input:BH,iframe:TH,sizeinput:SR,selectbox:VH,listbox:LH,size:SR,textarea:XH,urlinput:JH,customeditor:bH,collection:cH,togglemenuitem:GI},fV=function(n){return S.from(lV[n.type])},dV=function(n){return gt(oM(n),sV)},mV=function(n){var r=dV(n),i=An(r,function(s){return fV(s).fold(function(){return[]},function(d){return[gr(s.name,d)]})});return Nt(i)},ER=function(n){var r=Wa(iV(n)),i=mV(n),s=n.initialData;return{internalDialog:r,dataValidator:i,initialData:s}},iA={open:function(n,r){var i=ER(r);return n(i.internalDialog,i.initialData,i.dataValidator)},openUrl:function(n,r){var i=Wa(cV(r));return n(i)},redial:function(n){return ER(n)}},AR=function(n){var r=[],i={};return zr(n,function(s,d){s.fold(function(){r.push(d)},function(g){i[d]=g})}),r.length>0?gn.error(r):gn.value(i)},gV=function(n,r){var i=_o(Og.sketch(function(s){return{dom:{tag:"div",classes:["tox-form"].concat(n.classes)},components:wt(n.items,function(d){return l_(s,d,r)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[i.asSpec()]}],behaviours:Un([vr.config({mode:"acyclic",useTabstopAt:qn(fm)}),Vl.memento(i),Dg.memento(i,{postprocess:function(s){return AR(s).fold(function(d){return console.error(d),{}},function(d){return d})}})])}},pV=function(n,r){return{uid:n.uid,dom:n.dom,components:n.components,events:Bn(n.action),behaviours:Li(n.tabButtonBehaviours,[Fr.config({}),vr.config({mode:"execution",useSpace:!0,useEnter:!0}),xe.config({store:{mode:"memory",initialValue:n.value}})]),domModification:n.domModification}},hV=uc({name:"TabButton",configFields:[It("uid",void 0),At("value"),ro("dom","dom",L(function(){return{attributes:{role:"tab",id:tr("aria"),"aria-selected":"false"}}}),Ou()),Cr("action"),It("domModification",{}),tu("tabButtonBehaviours",[Fr,vr,xe]),At("view")],factory:pV}),vV=st([At("tabs"),At("dom"),It("clickToDismiss",!1),tu("tabbarBehaviours",[Be,vr]),Xc(["tabClass","selectedClass"])]),bV=cg({factory:hV,name:"tabs",unit:"tab",overrides:function(n){var r=function(s,d){Be.dehighlight(s,d),Sr(s,rd(),{tabbar:s,button:d})},i=function(s,d){Be.highlight(s,d),Sr(s,Bh(),{tabbar:s,button:d})};return{action:function(s){var d=s.getSystem().getByUid(n.uid).getOrDie(),g=Be.isHighlighted(d,s),v=function(){return g&&n.clickToDismiss?r:g?ft:i}();v(d,s)},domModification:{classes:[n.markers.tabClass]}}}}),yV=st([bV]),wV=function(n,r,i,s){return{uid:n.uid,dom:n.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Li(n.tabbarBehaviours,[Be.config({highlightClass:n.markers.selectedClass,itemClass:n.markers.tabClass,onHighlight:function(d,g){ho(g.element,"aria-selected","true")},onDehighlight:function(d,g){ho(g.element,"aria-selected","false")}}),vr.config({mode:"flow",getInitial:function(d){return Be.getHighlighted(d).map(function(g){return g.element})},selector:"."+n.markers.tabClass,executeOnMove:!0})])}},TR=Vu({name:"Tabbar",configFields:vV(),partFields:yV(),factory:wV}),xV=function(n,r){return{uid:n.uid,dom:n.dom,behaviours:Li(n.tabviewBehaviours,[Mr.config({})]),domModification:{attributes:{role:"tabpanel"}}}},CV=uc({name:"Tabview",configFields:[tu("tabviewBehaviours",[Mr])],factory:xV}),SV=st([It("selectFirst",!0),to("onChangeTab"),to("onDismissTab"),It("tabs",[]),tu("tabSectionBehaviours",[])]),kV=Iu({factory:TR,schema:[At("dom"),mc("markers",[At("tabClass"),At("selectedClass")])],name:"tabbar",defaults:function(n){return{tabs:n.tabs}}}),EV=Iu({factory:CV,name:"tabview"}),AV=st([kV,EV]),TV=function(n,r,i,s){var d=function(v){var w=xe.getValue(v);Lo(v,n,"tabview").each(function(C){var E=yt(n.tabs,function(O){return O.value===w});E.each(function(O){var _=O.view();ld(v.element,"id").each(function(R){ho(C.element,"aria-labelledby",R)}),Mr.set(C,_),n.onChangeTab(C,v,_)})})},g=function(v,w){Lo(v,n,"tabbar").each(function(C){w(C).each(od)})};return{uid:n.uid,dom:n.dom,components:r,behaviours:kv(n.tabSectionBehaviours),events:po(be([n.selectFirst?[si(function(v,w){g(v,Be.getFirst)})]:[],[Fn(Bh(),function(v,w){var C=w.event.button;d(C)}),Fn(rd(),function(v,w){var C=w.event.button;n.onDismissTab(v,C)})]])),apis:{getViewItems:function(v){return Lo(v,n,"tabview").map(function(w){return Mr.contents(w)}).getOr([])},showTab:function(v,w){var C=function(E){var O=Be.getCandidates(E),_=yt(O,function(R){return xe.getValue(R)===w});return _.filter(function(R){return!Be.isHighlighted(E,R)})};g(v,C)}}}},KC=Vu({name:"TabSection",configFields:SV(),partFields:AV(),factory:TV,apis:{getViewItems:function(n,r){return n.getViewItems(r)},showTab:function(n,r,i){n.showTab(r,i)}}}),OV=function(n,r,i){return wt(n,function(s,d){Mr.set(i,n[d].view());var g=r.dom.getBoundingClientRect();return Mr.set(i,[]),g.height})},DV=function(n){return Cn(yo(n,function(r,i){return r>i?-1:r<i?1:0}))},_V=function(n,r,i){var s=$0(n).dom,d=tv(n,".tox-dialog-wrap").getOr(n),g=Dc(d,"position")==="fixed",v;g?v=Math.max(s.clientHeight,window.innerHeight):v=Math.max(s.offsetHeight,s.scrollHeight);var w=zu(r),C=r.dom.offsetLeft>=i.dom.offsetLeft+va(i),E=C?Math.max(zu(i),w):w,O=parseInt(Dc(n,"margin-top"),10)||0,_=parseInt(Dc(n,"margin-bottom"),10)||0,R=zu(n)+O+_,G=R-E;return v-G},FV=function(n,r){Cn(n).each(function(i){return KC.showTab(r,i.value)})},OR=function(n,r){Xr(n,"height",r+"px"),Ga().browser.isIE()?Ro(n,"flex-basis"):Xr(n,"flex-basis",r+"px")},m5=function(n,r,i){tv(n,'[role="dialog"]').each(function(s){Ru(s,'[role="tablist"]').each(function(d){i.get().map(function(g){return Xr(r,"height","0"),Xr(r,"flex-basis","0"),Math.min(g,_V(s,r,d))}).each(function(g){OR(r,g)})})})},iM=function(n){return Ru(n,'[role="tabpanel"]')},BV=function(n){var r=function(){var s=re(S.none()),d=[si(function(v){var w=v.element;iM(w).each(function(C){Xr(C,"visibility","hidden"),v.getSystem().getByDom(C).toOptional().each(function(E){var O=OV(n,C,E),_=DV(O);s.set(_)}),m5(w,C,s),Ro(C,"visibility"),FV(n,v),If.requestAnimationFrame(function(){m5(w,C,s)})})}),Fn(Sl(),function(v){var w=v.element;iM(w).each(function(C){m5(w,C,s)})}),Fn(nO,function(v,w){var C=v.element;iM(C).each(function(E){var O=ks(Yi(E));Xr(E,"visibility","hidden");var _=di(E,"height").map(function(ot){return parseInt(ot,10)});Ro(E,"height"),Ro(E,"flex-basis");var R=E.dom.getBoundingClientRect().height,G=_.forall(function(ot){return R>ot});G?(s.set(S.from(R)),m5(C,E,s)):_.each(function(ot){OR(E,ot)}),Ro(E,"visibility"),O.each(yf)})})],g=!1;return{extraEvents:d,selectFirst:g}}(),i=function(){var s=[],d=!0;return{extraEvents:s,selectFirst:d}}();return{smartTabHeight:r,naiveTabHeight:i}},DR="send-data-to-section",_R="send-data-to-view",NV=function(n,r){var i=re({}),s=function(C){var E=xe.getValue(C),O=AR(E).getOr({}),_=i.get(),R=$r(_,O);i.set(R)},d=function(C){var E=i.get();xe.setValue(C,E)},g=re(null),v=wt(n.tabs,function(C){return{value:C.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:r.shared.providers.translate(C.title)},view:function(){return[Og.sketch(function(E){return{dom:{tag:"div",classes:["tox-form"]},components:wt(C.items,function(O){return l_(E,O,r)}),formBehaviours:Un([vr.config({mode:"acyclic",useTabstopAt:qn(fm)}),Yr("TabView.form.events",[si(d),oa(s)]),Lu.config({channels:Z([{key:DR,value:{onReceive:s}},{key:_R,value:{onReceive:d}}])})])}})]}}}),w=BV(v).smartTabHeight;return KC.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(C,E,O){var _=xe.getValue(E);Sr(C,tO,{name:_,oldName:g.get()}),g.set(_)},tabs:v,components:[KC.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[TR.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Un([Di.config({})])}),KC.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:w.selectFirst,tabSectionBehaviours:Un([Yr("tabpanel",w.extraEvents),vr.config({mode:"acyclic"}),mo.config({find:function(C){return Cn(KC.getViewItems(C))}}),xe.config({store:{mode:"manual",getValue:function(C){return C.getSystem().broadcastOn([DR],{}),i.get()},setValue:function(C,E){i.set(E),C.getSystem().broadcastOn([_R],{})}}})])})},uM=tr("update-dialog"),FR=tr("update-title"),BR=tr("update-body"),NR=tr("update-footer"),zR=tr("body-send-message"),MR=function(n,r,i,s){var d=function(w){switch(w.body.type){case"tabpanel":return[NV(w.body,i)];default:return[gV(w.body,i)]}},g=function(w,C){return S.some({isTabPanel:function(){return C.body.type==="tabpanel"}})},v={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:tt(tt({},r.map(function(w){return{id:w}}).getOr({})),s?v:{})},components:[],behaviours:Un([Vl.childAt(0),Ua.config({channel:BR,updateState:g,renderComponents:d,initialData:n})])}},zV=function(n,r,i,s){return MR(n,S.some(r),i,s)},MV=function(n,r){var i=MR(n,S.none(),r,!1);return Au.parts.body(i)},RV=function(n){var r={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[uE({dom:{tag:"iframe",attributes:{src:n.url}},behaviours:Un([Di.config({}),Fr.config({})])})]}],behaviours:Un([vr.config({mode:"acyclic",useTabstopAt:qn(fm)})])};return Au.parts.body(r)},PV=d0.deviceType.isTouch(),RR=function(n,r){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[n,r]}},PR=function(n,r){return Au.parts.close(Sa.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:n,buttonBehaviours:Un([Di.config({})])}))},LR=function(){return Au.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},IR=function(n,r){return Au.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:M0("<p>"+r.translate(n)+"</p>")}]}]})},HR=function(n){return Au.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:n})},VR=function(n,r){return[ca.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:n}),ca.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})]},aM=function(n){var r,i="tox-dialog",s=i+"-wrap",d=s+"__backdrop",g=i+"__disable-scroll";return Au.sketch({lazySink:n.lazySink,onEscape:function(v){return n.onEscape(v),S.some(!0)},useTabstopAt:function(v){return!fm(v)},dom:{tag:"div",classes:[i].concat(n.extraClasses),styles:tt({position:"relative"},n.extraStyles)},components:Y([n.header,n.body],n.footer.toArray()),parts:{blocker:{dom:M0('<div class="'+s+'"></div>'),components:[{dom:{tag:"div",classes:PV?[d,d+"--opaque"]:[d]}}]}},dragBlockClass:s,modalBehaviours:Un(Y([Fr.config({}),Yr("dialog-events",n.dialogEvents.concat([id(wl(),function(v,w){vr.focusIn(v)})])),Yr("scroll-lock",[si(function(){Yo(Tc(),g)}),oa(function(){jo(Tc(),g)})])],n.extraBehaviours)),eventOrder:tt((r={},r[ra()]=["dialog-events"],r[kl()]=["scroll-lock","dialog-events","alloy.base.behaviour"],r[$g()]=["alloy.base.behaviour","dialog-events","scroll-lock"],r),n.eventOrder)})},UR=function(n){return Sa.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":n.translate("Close"),title:n.translate("Close")}},components:[{dom:{tag:"div",classes:["tox-icon"],innerHtml:cc("close",n.icons)}}],action:function(r){Hr(r,uh)}})},jR=function(n,r,i){var s=function(d){return[mf(i.translate(d.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:tt({},r.map(function(d){return{id:d}}).getOr({}))},components:s(n),behaviours:Un([Ua.config({channel:FR,renderComponents:s})])}},qR=function(){return{dom:M0('<div class="tox-dialog__draghandle"></div>')}},LV=function(n,r,i){return ca.sketch({dom:M0('<div class="tox-dialog__header"></div>'),components:[jR(n,S.some(r),i),qR(),UR(i)],containerBehaviours:Un([Xy.config({mode:"mouse",blockerClass:"blocker",getTarget:function(s){return $c(s,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},IV=function(n,r){var i=Au.parts.title(jR(n,S.none(),r)),s=Au.parts.draghandle(qR()),d=Au.parts.close(UR(r)),g=[i].concat(n.draggable?[s]:[]).concat([d]);return ca.sketch({dom:M0('<div class="tox-dialog__header"></div>'),components:g})},WR=function(n,r){return IV({title:r.shared.providers.translate(n),draggable:r.dialog.isDraggableModal()},r.shared.providers)},YR=function(n,r,i){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":i.translate(n)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:r,components:[{dom:M0('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},$R=function(n,r,i){return{onClose:function(){return i.closeWindow()},onBlock:function(s){Au.setBusy(n(),function(d,g){return YR(s.message,g,r)})},onUnblock:function(){Au.setIdle(n())}}},XR=function(n,r,i,s){var d,g=function(v,w){return S.some(w)};return ua(aM(tt(tt({},n),{lazySink:s.shared.getSink,extraBehaviours:Y([Ua.config({channel:uM,updateState:g,initialData:r}),Dg.memory({})],n.extraBehaviours),onEscape:function(v){Hr(v,uh)},dialogEvents:i,eventOrder:(d={},d[Is()]=[Ua.name(),Lu.name()],d[kl()]=["scroll-lock",Ua.name(),"messages","dialog-events","alloy.base.behaviour"],d[$g()]=["alloy.base.behaviour","dialog-events","messages",Ua.name(),"scroll-lock"],d)})))},GR=function(n){var r=function(i){var s=wt(i.items,function(d){var g=re(!1);return tt(tt({},d),{storage:g})});return tt(tt({},i),{items:s})};return wt(n,function(i){return i.type==="menu"?r(i):i})},KR=function(n){return nt(n,function(r,i){if(i.type==="menu"){var s=i;return nt(s.items,function(d,g){return d[g.name]=g.storage,d},r)}return r},{})},JR=function(n,r){return[Mh(wl(),fD),n(Ty,function(i,s){r.onClose(),s.onClose()}),n(uh,function(i,s,d,g){s.onCancel(i),Hr(g,Ty)}),Fn(w3,function(i,s){return r.onUnblock()}),Fn(y3,function(i,s){return r.onBlock(s.event)})]},HV=function(n,r){var i=function(d,g){return Fn(d,function(v,w){s(v,function(C,E){g(n(),C,w.event,v)})})},s=function(d,g){Ua.getState(d).get().each(function(v){g(v,d)})};return Y(JR(i,r),[i(Vf,function(d,g,v){g.onAction(d,{name:v.name})})])},VV=function(n,r,i){var s=function(g,v){return Fn(g,function(w,C){d(w,function(E,O){v(n(),E,C.event,w)})})},d=function(g,v){Ua.getState(g).get().each(function(w){v(w.internalDialog,g)})};return Y(JR(s,r),[s(Oy,function(g,v){return v.onSubmit(g)}),s(Mc,function(g,v,w){v.onChange(g,{name:w.name})}),s(Vf,function(g,v,w,C){var E=function(){return vr.focusIn(C)},O=function(G){return d2(G,"disabled")||ld(G,"aria-disabled").exists(function(ot){return ot==="true"})},_=Yi(C.element),R=ks(_);v.onAction(g,{name:w.name,value:w.value}),ks(_).fold(E,function(G){O(G)||R.exists(function(ot){return jc(G,ot)&&O(ot)})?E():i().toOptional().filter(function(ot){return!jc(ot.element,G)}).each(E)})}),s(tO,function(g,v,w){v.onTabChange(g,{newTabName:w.name,oldTabName:w.oldName})}),oa(function(g){var v=n();xe.setValue(g,v.getData())})])},cM={initUrlDialog:HV,initDialog:VV},UV=function(n,r){return yC(n,n.type,r)},jV=function(n,r,i){return yt(r,function(s){return s.name===i}).bind(function(s){return s.memento.getOpt(n)})},qV=function(n,r){var i=r.map(function(w){return w.footerButtons}).getOr([]),s=qt(i,function(w){return w.align==="start"}),d=function(w,C){return ca.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+w]},components:wt(C,function(E){return E.memento.asSpec()})})},g=d("start",s.pass),v=d("end",s.fail);return[g,v]},ZR=function(n,r){var i=function(s,d){var g=wt(d.buttons,function(w){var C=_o(UV(w,r));return{name:w.name,align:w.align,memento:C}}),v=function(w,C){return jV(w,g,C)};return S.some({lookupByName:v,footerButtons:g})};return{dom:M0('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Un([Ua.config({channel:NR,initialData:n,updateState:i,renderComponents:qV})])}},WV=function(n,r){return ZR(n,r)},QR=function(n,r){return Au.parts.footer(ZR(n,r))},sM=function(n,r){var i=n.getRoot();if(i.getSystem().isConnected()){var s=mo.getCurrent(n.getFormWrapper()).getOr(n.getFormWrapper());return Og.getField(s,r).fold(function(){var d=n.getFooter(),g=Ua.getState(d);return g.get().bind(function(v){return v.lookupByName(s,r)})},function(d){return S.some(d)})}else return S.none()},YV=function(n,r){var i=n.getRoot();return Ua.getState(i).get().map(function(s){return Wa(Bo("data",s.dataValidator,r))}).getOr(r)},tP=function(n,r,i){var s=function(et){var bt=n.getRoot();bt.getSystem().isConnected()&&et(bt)},d=function(){var et=n.getRoot(),bt=et.getSystem().isConnected()?n.getFormWrapper():et,ut=xe.getValue(bt),Dt=Er(i,function(Lt){return Lt.get()});return tt(tt({},ut),Dt)},g=function(et){s(function(bt){var ut=ot.getData(),Dt=tt(tt({},ut),et),Lt=YV(n,Dt),Yt=n.getFormWrapper();xe.setValue(Yt,Lt),zr(i,function(xn,Mn){ao(Dt,Mn)&&xn.set(Dt[Mn])})})},v=function(et){sM(n,et).each(yr.disable)},w=function(et){sM(n,et).each(yr.enable)},C=function(et){sM(n,et).each(Fr.focus)},E=function(et){if(!Ie(et))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");s(function(bt){Sr(bt,y3,{message:et})})},O=function(){s(function(et){Hr(et,w3)})},_=function(et){s(function(bt){var ut=n.getBody(),Dt=Ua.getState(ut);Dt.get().exists(function(Lt){return Lt.isTabPanel()})&&mo.getCurrent(ut).each(function(Lt){KC.showTab(Lt,et)})})},R=function(et){s(function(bt){var ut=r(et);bt.getSystem().broadcastOn([uM],ut),bt.getSystem().broadcastOn([FR],ut.internalDialog),bt.getSystem().broadcastOn([BR],ut.internalDialog),bt.getSystem().broadcastOn([NR],ut.internalDialog),ot.setData(ut.initialData)})},G=function(){s(function(et){Hr(et,Ty)})},ot={getData:d,setData:g,disable:v,enable:w,focus:C,block:E,unblock:O,showTab:_,redial:R,close:G};return ot},$V=function(n){switch(n){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},XV=function(n,r,i){var s=WR(n.internalDialog.title,i),d=MV({body:n.internalDialog.body},i),g=GR(n.internalDialog.buttons),v=KR(g),w=QR({buttons:g},i),C=cM.initDialog(function(){return G},$R(function(){return _},i.shared.providers,r),i.shared.getSink),E=$V(n.internalDialog.size),O={header:s,body:d,footer:S.some(w),extraClasses:E,extraBehaviours:[],extraStyles:{}},_=XR(O,n,C,i),R=function(){var ot=function(){var et=Au.getBody(_);return mo.getCurrent(et).getOr(et)};return{getRoot:function(){return _},getBody:function(){return Au.getBody(_)},getFooter:function(){return Au.getFooter(_)},getFormWrapper:ot}}(),G=tP(R,r.redial,v);return{dialog:_,instanceApi:G}},GV=function(n,r,i,s){var d,g,v=tr("dialog-label"),w=tr("dialog-content"),C=function(ut,Dt){return S.some(Dt)},E=_o(LV({title:n.internalDialog.title,draggable:!0},v,i.shared.providers)),O=_o(zV({body:n.internalDialog.body},w,i,s)),_=GR(n.internalDialog.buttons),R=KR(_),G=_o(WV({buttons:_},i)),ot=cM.initDialog(function(){return bt},{onBlock:function(ut){GC.block(et,function(Dt,Lt){return YR(ut.message,Lt,i.shared.providers)})},onUnblock:function(){GC.unblock(et)},onClose:function(){return r.closeWindow()}},i.shared.getSink),et=ua({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(d={role:"dialog"},d["aria-labelledby"]=v,d["aria-describedby"]=""+w,d)},eventOrder:(g={},g[Is()]=[Ua.name(),Lu.name()],g[ra()]=["execute-on-form"],g[kl()]=["reflecting","execute-on-form"],g),behaviours:Un([vr.config({mode:"cyclic",onEscape:function(ut){return Hr(ut,Ty),S.some(!0)},useTabstopAt:function(ut){return!fm(ut)&&(Ja(ut)!=="button"||wu(ut,"disabled")!=="disabled")}}),Ua.config({channel:uM,updateState:C,initialData:n}),Fr.config({}),Yr("execute-on-form",ot.concat([id(wl(),function(ut,Dt){vr.focusIn(ut)})])),GC.config({getRoot:function(){return S.some(et)}}),Mr.config({}),Dg.memory({})]),components:[E.asSpec(),O.asSpec(),G.asSpec()]}),bt=tP({getRoot:function(){return et},getFooter:function(){return G.get(et)},getBody:function(){return O.get(et)},getFormWrapper:function(){var ut=O.get(et);return mo.getCurrent(ut).getOr(ut)}},r.redial,R);return{dialog:et,instanceApi:bt}},lM=tinymce.util.Tools.resolve("tinymce.util.URI"),KV=function(n){var r=function(v){n.getSystem().isConnected()&&v(n)},i=function(v){if(!Ie(v))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r(function(w){Sr(w,y3,{message:v})})},s=function(){r(function(v){Hr(v,w3)})},d=function(){r(function(v){Hr(v,Ty)})},g=function(v){r(function(w){w.getSystem().broadcastOn([zR],v)})};return{block:i,unblock:s,close:d,sendMessage:g}},JV=["insertContent","setContent","execCommand","close","block","unblock"],nP=function(n){return wr(n)&&JV.indexOf(n.mceAction)!==-1},ZV=function(n){return!nP(n)&&wr(n)&&ao(n,"mceAction")},QV=function(n,r,i){switch(i.mceAction){case"insertContent":n.insertContent(i.content);break;case"setContent":n.setContent(i.content);break;case"execCommand":var s=Pt(i.ui)?i.ui:!1;n.execCommand(i.cmd,s,i.value);break;case"close":r.close();break;case"block":r.block(i.message);break;case"unblock":r.unblock();break}},tU=function(n,r,i,s){var d,g=WR(n.title,s),v=RV(n),w=n.buttons.bind(function(Dt){return Dt.length===0?S.none():S.some(QR({buttons:Dt},s))}),C=cM.initUrlDialog(function(){return ut},$R(function(){return bt},s.shared.providers,r)),E=tt(tt({},n.height.fold(function(){return{}},function(Dt){return{height:Dt+"px","max-height":Dt+"px"}})),n.width.fold(function(){return{}},function(Dt){return{width:Dt+"px","max-width":Dt+"px"}})),O=n.width.isNone()&&n.height.isNone()?["tox-dialog--width-lg"]:[],_=new lM(n.url,{base_uri:new lM(window.location.href)}),R=_.protocol+"://"+_.host+(_.port?":"+_.port:""),G=re(S.none()),ot=[Yr("messages",[si(function(){var Dt=nl(Fe.fromDom(window),"message",function(Lt){if(_.isSameOrigin(new lM(Lt.raw.origin))){var Yt=Lt.raw.data;nP(Yt)?QV(i,ut,Yt):ZV(Yt)&&n.onMessage(ut,Yt)}});G.set(S.some(Dt))}),oa(function(){G.get().each(function(Dt){return Dt.unbind()})})]),Lu.config({channels:(d={},d[zR]={onReceive:function(Dt,Lt){Ru(Dt.element,"iframe").each(function(Yt){var xn=Yt.dom.contentWindow;xn.postMessage(Lt,R)})}},d)})],et={header:g,body:v,footer:w,extraClasses:O,extraBehaviours:ot,extraStyles:E},bt=XR(et,n,C,s),ut=KV(bt);return{dialog:bt,instanceApi:ut}},nU=function(n){var r=n.backstage.shared,i=function(s,d){var g=function(){Au.hide(E),d()},v=_o(yC({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:S.none()},"cancel",n.backstage)),w=LR(),C=PR(g,r.providers),E=ua(aM({lazySink:function(){return r.getSink()},header:RR(w,C),body:IR(s,r.providers),footer:S.some(HR(VR([],[v.asSpec()]))),onEscape:g,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Fn(uh,g)],eventOrder:{}}));Au.show(E);var O=v.get(E);Fr.focus(O)};return{open:i}},eU=function(n){var r=n.backstage.shared,i=function(s,d){var g=function(R){Au.hide(O),d(R)},v=_o(yC({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:S.none()},"submit",n.backstage)),w=yC({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:S.none()},"cancel",n.backstage),C=LR(),E=PR(function(){return g(!1)},r.providers),O=ua(aM({lazySink:function(){return r.getSink()},header:RR(C,E),body:IR(s,r.providers),footer:S.some(HR(VR([],[w,v.asSpec()]))),onEscape:function(){return g(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[Fn(uh,function(){return g(!1)}),Fn(Oy,function(){return g(!0)})],eventOrder:{}}));Au.show(O);var _=v.get(O);Fr.focus(_)};return{open:i}},rU=function(n,r){return Wa(Bo("data",r,n))},oU=function(n){return g0(n,".tox-alert-dialog")||g0(n,".tox-confirm-dialog")},iU=function(n,r,i){return r&&i?[]:[fc.config({contextual:{lazyContext:function(){return S.some(rc(Fe.fromDom(n.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},uU=function(n){var r=n.backstage,i=n.editor,s=Mx(i),d=nU(n),g=eU(n),v=function(ot,et,bt){return et!==void 0&&et.inline==="toolbar"?O(ot,r.shared.anchors.inlineDialog(),bt,et.ariaAttrs):et!==void 0&&et.inline==="cursor"?O(ot,r.shared.anchors.cursor(),bt,et.ariaAttrs):E(ot,bt)},w=function(ot,et){return C(ot,et)},C=function(ot,et){var bt=function(ut){var Dt=tU(ut,{closeWindow:function(){Au.hide(Dt.dialog),et(Dt.instanceApi)}},i,r);return Au.show(Dt.dialog),Dt.instanceApi};return iA.openUrl(bt,ot)},E=function(ot,et){var bt=function(ut,Dt,Lt){var Yt=Dt,xn={dataValidator:Lt,initialData:Yt,internalDialog:ut},Mn=XV(xn,{redial:iA.redial,closeWindow:function(){Au.hide(Mn.dialog),et(Mn.instanceApi)}},r);return Au.show(Mn.dialog),Mn.instanceApi.setData(Yt),Mn.instanceApi};return iA.open(bt,ot)},O=function(ot,et,bt,ut){var Dt=function(Lt,Yt,xn){var Mn=rU(Yt,xn),vn=Ic(),ge=r.shared.header.isPositionedAtTop(),Ar={dataValidator:xn,initialData:Mn,internalDialog:Lt},Oe=function(){return vn.on(function(qe){Si.reposition(qe),fc.refresh(qe)})},Sn=GV(Ar,{redial:iA.redial,closeWindow:function(){vn.on(Si.hide),i.off("ResizeEditor",Oe),vn.clear(),bt(Sn.instanceApi)}},r,ut),Rn=ua(Si.sketch(tt(tt({lazySink:r.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},ge?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Un(Y([Yr("window-manager-inline-events",[Fn(Ri(),function(qe,kr){Hr(Sn.dialog,uh)})])],iU(i,s,ge))),isExtraPart:function(qe,kr){return oU(kr)}})));return vn.set(Rn),Si.showWithin(Rn,et,Nu(Sn.dialog),S.some(Tc())),(!s||!ge)&&(fc.refresh(Rn),i.on("ResizeEditor",Oe)),Sn.instanceApi.setData(Mn),vr.focusIn(Sn.dialog),Sn.instanceApi};return iA.open(Dt,ot)},_=function(ot,et){g.open(ot,function(bt){et(bt)})},R=function(ot,et){d.open(ot,function(){et()})},G=function(ot){ot.close()};return{open:v,openUrl:w,alert:R,close:G,confirm:_}};function aU(){Kt.add("silver",function(n){var r=RI(n),i=r.uiMothership,s=r.backstage,d=r.renderUI,g=r.getUi;HF.register(n,s.shared);var v=uU({editor:n,backstage:s});return{renderUI:d,getWindowManagerImpl:st(v),getNotificationManagerImpl:function(){return O5(n,{backstage:s},i)},ui:g()}})}aU()})();(function(){var ft=tinymce.util.Tools.resolve("tinymce.PluginManager"),jn=function(Pt,I,ne){var Hn=I==="UL"?"InsertUnorderedList":"InsertOrderedList";Pt.execCommand(Hn,!1,ne===!1?null:{"list-style-type":ne})},on=function(Pt){Pt.addCommand("ApplyUnorderedListStyle",function(I,ne){jn(Pt,"UL",ne["list-style-type"])}),Pt.addCommand("ApplyOrderedListStyle",function(I,ne){jn(Pt,"OL",ne["list-style-type"])})},nn=tinymce.util.Tools.resolve("tinymce.util.Tools"),st=function(Pt){var I=Pt.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return I?I.split(/[ ,]/):[]},Xt=function(Pt){var I=Pt.getParam("advlist_bullet_styles","default,circle,square");return I?I.split(/[ ,]/):[]},Kn=function(){},qn=function(Pt){return function(){return Pt}},Jt=qn(!1),yn=qn(!0),Zt=function(){return Kt},Kt=function(){var Pt=function(He){return He.isNone()},I=function(He){return He()},ne=function(He){return He},Hn={fold:function(He,Ve){return He()},is:Jt,isSome:Jt,isNone:yn,getOr:ne,getOrThunk:I,getOrDie:function(He){throw new Error(He||"error: getOrDie called on none.")},getOrNull:qn(null),getOrUndefined:qn(void 0),or:ne,orThunk:I,map:Zt,each:Kn,bind:Zt,exists:Jt,forall:yn,filter:Zt,equals:Pt,equals_:Pt,toArray:function(){return[]},toString:qn("none()")};return Hn}(),tt=function(Pt){var I=qn(Pt),ne=function(){return He},Hn=function(Ve){return Ve(Pt)},He={fold:function(Ve,$e){return $e(Pt)},is:function(Ve){return Pt===Ve},isSome:yn,isNone:Jt,getOr:I,getOrThunk:I,getOrDie:I,getOrNull:I,getOrUndefined:I,or:ne,orThunk:ne,map:function(Ve){return tt(Ve(Pt))},each:function(Ve){Ve(Pt)},bind:Hn,exists:Hn,forall:Hn,filter:function(Ve){return Ve(Pt)?He:Kt},toArray:function(){return[Pt]},toString:function(){return"some("+Pt+")"},equals:function(Ve){return Ve.is(Pt)},equals_:function(Ve,$e){return Ve.fold(Jt,function(kn){return $e(Pt,kn)})}};return He},ln=function(Pt){return Pt==null?Kt:tt(Pt)},Y={some:tt,none:Zt,from:ln},jt=function(Pt,I){return Pt.$.contains(Pt.getBody(),I)},le=function(Pt){return Pt&&/^(TH|TD)$/.test(Pt.nodeName)},Qt=function(Pt){return function(I){return I&&/^(OL|UL|DL)$/.test(I.nodeName)&&jt(Pt,I)}},Le=function(Pt){var I=Pt.dom.getParent(Pt.selection.getNode(),"ol,ul"),ne=Pt.dom.getStyle(I,"listStyleType");return Y.from(ne)},S=function(Pt,I){for(var ne=0;ne<Pt.length;ne++){var Hn=Pt[ne];if(I(Hn))return ne}return-1},ce=function(Pt){return Pt.replace(/\-/g," ").replace(/\b\w/g,function(I){return I.toUpperCase()})},Ne=function(Pt,I,ne){var Hn=S(I.parents,le),He=Hn!==-1?I.parents.slice(0,Hn):I.parents,Ve=nn.grep(He,Qt(Pt));return Ve.length>0&&Ve[0].nodeName===ne},ve=function(Pt,I,ne,Hn,He,Ve){Pt.ui.registry.addSplitButton(I,{tooltip:ne,icon:He==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function($e){var kn=nn.map(Ve,function(bn){var he=He==="OL"?"num":"bull",Kr=bn==="disc"||bn==="decimal"?"default":bn,br=bn==="default"?"":bn,Ft=ce(bn);return{type:"choiceitem",value:br,icon:"list-"+he+"-"+Kr,text:Ft}});$e(kn)},onAction:function(){return Pt.execCommand(Hn)},onItemAction:function($e,kn){jn(Pt,He,kn)},select:function($e){var kn=Le(Pt);return kn.map(function(bn){return $e===bn}).getOr(!1)},onSetup:function($e){var kn=function(bn){$e.setActive(Ne(Pt,bn,He))};return Pt.on("NodeChange",kn),function(){return Pt.off("NodeChange",kn)}}})},ue=function(Pt,I,ne,Hn,He,Ve){Pt.ui.registry.addToggleButton(I,{active:!1,tooltip:ne,icon:He==="OL"?"ordered-list":"unordered-list",onSetup:function($e){var kn=function(bn){$e.setActive(Ne(Pt,bn,He))};return Pt.on("NodeChange",kn),function(){return Pt.off("NodeChange",kn)}},onAction:function(){return Pt.execCommand(Hn)}})},Ie=function(Pt,I,ne,Hn,He,Ve){Ve.length>1?ve(Pt,I,ne,Hn,He,Ve):ue(Pt,I,ne,Hn,He)},wr=function(Pt){Ie(Pt,"numlist","Numbered list","InsertOrderedList","OL",st(Pt)),Ie(Pt,"bullist","Bullet list","InsertUnorderedList","UL",Xt(Pt))};function sr(){ft.add("advlist",function(Pt){Pt.hasPlugin("lists")?(wr(Pt),on(Pt)):console.error("Please use the Lists plugin together with the Advanced List plugin.")})}sr()})();(function(){var ft=tinymce.util.Tools.resolve("tinymce.PluginManager"),jn=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),on=tinymce.util.Tools.resolve("tinymce.util.Tools"),nn=function(Pt){return Pt.getParam("allow_html_in_named_anchor",!1,"boolean")},st="a:not([href])",Xt=function(Pt){return!Pt},Kn=function(Pt){var I=Pt.getAttribute("id")||Pt.getAttribute("name");return I||""},qn=function(Pt){return Pt&&Pt.nodeName.toLowerCase()==="a"},Jt=function(Pt){return qn(Pt)&&!Pt.getAttribute("href")&&Kn(Pt)!==""},yn=function(Pt){return Jt(Pt)&&!Pt.firstChild},Zt=function(Pt){var I=Pt.dom;jn(I).walk(Pt.selection.getRng(),function(ne){on.each(ne,function(Hn){yn(Hn)&&I.remove(Hn,!1)})})},Kt=function(Pt){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(Pt)},tt=function(Pt){return Pt.dom.getParent(Pt.selection.getStart(),st)},ln=function(Pt){var I=tt(Pt);return I?Kn(I):""},Y=function(Pt,I){Pt.undoManager.transact(function(){nn(Pt)||Pt.selection.collapse(!0),Pt.selection.isCollapsed()?Pt.insertContent(Pt.dom.createHTML("a",{id:I})):(Zt(Pt),Pt.formatter.remove("namedAnchor",null,null,!0),Pt.formatter.apply("namedAnchor",{value:I}),Pt.addVisual())})},jt=function(Pt,I,ne){ne.removeAttribute("name"),ne.id=I,Pt.addVisual(),Pt.undoManager.add()},le=function(Pt,I){var ne=tt(Pt);ne?jt(Pt,I,ne):Y(Pt,I),Pt.focus()},Qt=function(Pt,I){return Kt(I)?(le(Pt,I),!0):(Pt.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1)},Le=function(Pt){var I=ln(Pt);Pt.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:I},onSubmit:function(ne){Qt(Pt,ne.getData().id)&&ne.close()}})},S=function(Pt){Pt.addCommand("mceAnchor",function(){Le(Pt)})},ce=function(Pt){return Pt&&Xt(Pt.attr("href"))&&!Xt(Pt.attr("id")||Pt.attr("name"))},Ne=function(Pt){return ce(Pt)&&!Pt.firstChild},ve=function(Pt){return function(I){for(var ne=0;ne<I.length;ne++){var Hn=I[ne];Ne(Hn)&&Hn.attr("contenteditable",Pt)}}},ue=function(Pt){Pt.on("PreInit",function(){Pt.parser.addNodeFilter("a",ve("false")),Pt.serializer.addNodeFilter("a",ve(null))})},Ie=function(Pt){Pt.formatter.register("namedAnchor",{inline:"a",selector:st,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:function(I,ne,Hn){return Jt(I)}})},wr=function(Pt){Pt.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:function(){return Pt.execCommand("mceAnchor")},onSetup:function(I){return Pt.selection.selectorChangedWithUnbind("a:not([href])",I.setActive).unbind}}),Pt.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:function(){return Pt.execCommand("mceAnchor")}})};function sr(){ft.add("anchor",function(Pt){ue(Pt),S(Pt),wr(Pt),Pt.on("PreInit",function(){Ie(Pt)})})}sr()})();(function(){var ft=tinymce.util.Tools.resolve("tinymce.PluginManager"),jn=tinymce.util.Tools.resolve("tinymce.Env"),on=function(jt){return jt.getParam("autolink_pattern",/^(https?:\/\/|ssh:\/\/|ftp:\/\/|file:\/|www\.|(?:mailto:)?[A-Z0-9._%+\-]+@(?!.*@))(.+)$/i)},nn=function(jt){return jt.getParam("default_link_target",!1)},st=function(jt){return jt.getParam("link_default_protocol","http","string")},Xt=function(jt,le){return jt===le||jt===" "||jt.charCodeAt(0)===160},Kn=function(jt){tt(jt,-1,"(")},qn=function(jt){tt(jt,0,"")},Jt=function(jt){tt(jt,-1,"")},yn=function(jt,le){if(le<0&&(le=0),jt.nodeType===3){var Qt=jt.data.length;le>Qt&&(le=Qt)}return le},Zt=function(jt,le,Qt){le.nodeType!==1||le.hasChildNodes()?jt.setStart(le,yn(le,Qt)):jt.setStartBefore(le)},Kt=function(jt,le,Qt){le.nodeType!==1||le.hasChildNodes()?jt.setEnd(le,yn(le,Qt)):jt.setEndAfter(le)},tt=function(jt,le,Qt){var Le,S,ce,Ne,ve,ue,Ie,wr=on(jt),sr=nn(jt);if(jt.selection.getNode().tagName!=="A"){var Pt=jt.selection.getRng().cloneRange();if(Pt.startOffset<5){if(ve=Pt.endContainer.previousSibling,!ve){if(!Pt.endContainer.firstChild||!Pt.endContainer.firstChild.nextSibling)return;ve=Pt.endContainer.firstChild.nextSibling}if(ue=ve.length,Zt(Pt,ve,ue),Kt(Pt,ve,ue),Pt.endOffset<5)return;Le=Pt.endOffset,S=ve}else{if(S=Pt.endContainer,S.nodeType!==3&&S.firstChild){for(;S.nodeType!==3&&S.firstChild;)S=S.firstChild;S.nodeType===3&&(Zt(Pt,S,0),Kt(Pt,S,S.nodeValue.length))}Pt.endOffset===1?Le=2:Le=Pt.endOffset-1-le}var I=Le;do Zt(Pt,S,Le>=2?Le-2:0),Kt(Pt,S,Le>=1?Le-1:0),Le-=1,Ie=Pt.toString();while(Ie!==" "&&Ie!==""&&Ie.charCodeAt(0)!==160&&Le-2>=0&&Ie!==Qt);Xt(Pt.toString(),Qt)?(Zt(Pt,S,Le),Kt(Pt,S,I),Le+=1):Pt.startOffset===0?(Zt(Pt,S,0),Kt(Pt,S,I)):(Zt(Pt,S,Le),Kt(Pt,S,I)),Ne=Pt.toString(),Ne.charAt(Ne.length-1)==="."&&Kt(Pt,S,I-1),Ne=Pt.toString().trim();var ne=Ne.match(wr),Hn=st(jt);ne&&(ne[1]==="www."?ne[1]=Hn+"://www.":/@$/.test(ne[1])&&!/^mailto:/.test(ne[1])&&(ne[1]="mailto:"+ne[1]),ce=jt.selection.getBookmark(),jt.selection.setRng(Pt),jt.execCommand("createlink",!1,ne[1]+ne[2]),sr!==!1&&jt.dom.setAttrib(jt.selection.getNode(),"target",sr),jt.selection.moveToBookmark(ce),jt.nodeChanged())}},ln=function(jt){var le;if(jt.on("keydown",function(Qt){if(Qt.keyCode===13)return Jt(jt)}),jn.browser.isIE()){jt.on("focus",function(){if(!le){le=!0;try{jt.execCommand("AutoUrlDetect",!1,!0)}catch{}}});return}jt.on("keypress",function(Qt){if(Qt.keyCode===41)return Kn(jt)}),jt.on("keyup",function(Qt){if(Qt.keyCode===32)return qn(jt)})};function Y(){ft.add("autolink",function(jt){ln(jt)})}Y()})();(function(){var ft=tinymce.util.Tools.resolve("tinymce.PluginManager"),jn=function(I){return function(ne){return I===ne}},on=jn(void 0),nn=tinymce.util.Tools.resolve("tinymce.util.Delay"),st=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),Xt=tinymce.util.Tools.resolve("tinymce.util.Tools"),Kn=function(I){return I.fire("RestoreDraft")},qn=function(I){return I.fire("StoreDraft")},Jt=function(I){return I.fire("RemoveDraft")},yn=function(I,ne){var Hn={s:1e3,m:6e4},He=I||ne,Ve=/^(\d+)([ms]?)$/.exec(""+He);return(Ve[2]?Hn[Ve[2]]:1)*parseInt(He,10)},Zt=function(I){return I.getParam("autosave_ask_before_unload",!0)},Kt=function(I){var ne=document.location;return I.getParam("autosave_prefix","tinymce-autosave-{path}{query}{hash}-{id}-").replace(/{path}/g,ne.pathname).replace(/{query}/g,ne.search).replace(/{hash}/g,ne.hash).replace(/{id}/g,I.id)},tt=function(I){return I.getParam("autosave_restore_when_empty",!1)},ln=function(I){return yn(I.getParam("autosave_interval"),"30s")},Y=function(I){return yn(I.getParam("autosave_retention"),"20m")},jt=function(I,ne){if(on(ne))return I.dom.isEmpty(I.getBody());var Hn=Xt.trim(ne);if(Hn==="")return!0;var He=new DOMParser().parseFromString(Hn,"text/html");return I.dom.isEmpty(He)},le=function(I){var ne=parseInt(st.getItem(Kt(I)+"time"),10)||0;return new Date().getTime()-ne>Y(I)?(Qt(I,!1),!1):!0},Qt=function(I,ne){var Hn=Kt(I);st.removeItem(Hn+"draft"),st.removeItem(Hn+"time"),ne!==!1&&Jt(I)},Le=function(I){var ne=Kt(I);!jt(I)&&I.isDirty()&&(st.setItem(ne+"draft",I.getContent({format:"raw",no_events:!0})),st.setItem(ne+"time",new Date().getTime().toString()),qn(I))},S=function(I){var ne=Kt(I);le(I)&&(I.setContent(st.getItem(ne+"draft"),{format:"raw"}),Kn(I))},ce=function(I){var ne=ln(I);nn.setEditorInterval(I,function(){Le(I)},ne)},Ne=function(I){I.undoManager.transact(function(){S(I),Qt(I)}),I.focus()},ve=function(I){return{hasDraft:function(){return le(I)},storeDraft:function(){return Le(I)},restoreDraft:function(){return S(I)},removeDraft:function(ne){return Qt(I,ne)},isEmpty:function(ne){return jt(I,ne)}}},ue=tinymce.util.Tools.resolve("tinymce.EditorManager"),Ie=function(I){I.editorManager.on("BeforeUnload",function(ne){var Hn;Xt.each(ue.get(),function(He){He.plugins.autosave&&He.plugins.autosave.storeDraft(),!Hn&&He.isDirty()&&Zt(He)&&(Hn=He.translate("You have unsaved changes are you sure you want to navigate away?"))}),Hn&&(ne.preventDefault(),ne.returnValue=Hn)})},wr=function(I){return function(ne){ne.setDisabled(!le(I));var Hn=function(){return ne.setDisabled(!le(I))};return I.on("StoreDraft RestoreDraft RemoveDraft",Hn),function(){return I.off("StoreDraft RestoreDraft RemoveDraft",Hn)}}},sr=function(I){ce(I),I.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:function(){Ne(I)},onSetup:wr(I)}),I.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:function(){Ne(I)},onSetup:wr(I)})};function Pt(){ft.add("autosave",function(I){return Ie(I),sr(I),I.on("init",function(){tt(I)&&I.dom.isEmpty(I.getBody())&&S(I)}),ve(I)})}Pt()})();(function(){var ft=tinymce.util.Tools.resolve("tinymce.PluginManager"),jn=function(qn,Jt){qn.focus(),qn.undoManager.transact(function(){qn.setContent(Jt)}),qn.selection.setCursorLocation(),qn.nodeChanged()},on=function(qn){return qn.getContent({source_view:!0})},nn=function(qn){var Jt=on(qn);qn.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:Jt},onSubmit:function(yn){jn(qn,yn.getData().code),yn.close()}})},st=function(qn){qn.addCommand("mceCodeEditor",function(){nn(qn)})},Xt=function(qn){qn.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:function(){return nn(qn)}}),qn.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:function(){return nn(qn)}})};function Kn(){ft.add("code",function(qn){return st(qn),Xt(qn),{}})}Kn()})();(function(){var ft=tinymce.util.Tools.resolve("tinymce.PluginManager"),jn=function(){},on=function(kn){return function(){return kn}},nn=on(!1),st=on(!0),Xt=function(){return Kn},Kn=function(){var kn=function(br){return br.isNone()},bn=function(br){return br()},he=function(br){return br},Kr={fold:function(br,Ft){return br()},is:nn,isSome:nn,isNone:st,getOr:he,getOrThunk:bn,getOrDie:function(br){throw new Error(br||"error: getOrDie called on none.")},getOrNull:on(null),getOrUndefined:on(void 0),or:he,orThunk:bn,map:Xt,each:jn,bind:Xt,exists:nn,forall:st,filter:Xt,equals:kn,equals_:kn,toArray:function(){return[]},toString:on("none()")};return Kr}(),qn=function(kn){var bn=on(kn),he=function(){return br},Kr=function(Ft){return Ft(kn)},br={fold:function(Ft,cn){return cn(kn)},is:function(Ft){return kn===Ft},isSome:st,isNone:nn,getOr:bn,getOrThunk:bn,getOrDie:bn,getOrNull:bn,getOrUndefined:bn,or:he,orThunk:he,map:function(Ft){return qn(Ft(kn))},each:function(Ft){Ft(kn)},bind:Kr,exists:Kr,forall:Kr,filter:function(Ft){return Ft(kn)?br:Kn},toArray:function(){return[kn]},toString:function(){return"some("+kn+")"},equals:function(Ft){return Ft.is(kn)},equals_:function(Ft,cn){return Ft.fold(nn,function(Tn){return cn(kn,Tn)})}};return br},Jt=function(kn){return kn==null?Kn:qn(kn)},yn={some:qn,none:Xt,from:Jt},Zt=function(kn,bn){return bn>=0&&bn<kn.length?yn.some(kn[bn]):yn.none()},Kt=function(kn){return Zt(kn,0)},tt=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ln=function(kn){return kn&&kn.nodeName==="PRE"&&kn.className.indexOf("language-")!==-1},Y=function(kn){return function(bn,he){return kn(he)}},jt=typeof window!="undefined"?window:Function("return this;")(),le={},Qt={exports:le},Le={};(function(kn,bn,he,Kr){var br=window.Prism;window.Prism={manual:!0},function(cn){if(typeof bn=="object"&&typeof he!="undefined")he.exports=cn();else if(typeof kn=="function"&&kn.amd)kn([],cn);else{var Tn;typeof window!="undefined"?Tn=window:typeof Le!="undefined"?Tn=Le:typeof self!="undefined"?Tn=self:Tn=this,Tn.EphoxContactWrapper=cn()}}(function(){return function(){function cn(Tn,Xn,wt){function tn(gt,Wt){if(!Xn[gt]){if(!Tn[gt]){var nt=typeof Kr=="function"&&Kr;if(!Wt&&nt)return nt(gt,!0);if(ae)return ae(gt,!0);var Et=new Error("Cannot find module '"+gt+"'");throw Et.code="MODULE_NOT_FOUND",Et}var yt=Xn[gt]={exports:{}};Tn[gt][0].call(yt.exports,function(Nn){var be=Tn[gt][1][Nn];return tn(be||Nn)},yt,yt.exports,cn,Tn,Xn,wt)}return Xn[gt].exports}for(var ae=typeof Kr=="function"&&Kr,qt=0;qt<wt.length;qt++)tn(wt[qt]);return tn}return cn}()({1:[function(cn,Tn,Xn){Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:__attribute__|_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|asm|typeof|inline|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|union|unsigned|void|volatile|while)\b/,function:/[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^\s*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}},constant:/\b(?:__FILE__|__LINE__|__DATE__|__TIME__|__TIMESTAMP__|__func__|EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|stdin|stdout|stderr)\b/}),delete Prism.languages.c.boolean},{}],2:[function(cn,Tn,Xn){Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}},{}],3:[function(cn,Tn,Xn){(function(wt){(function(){var tn=typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope?self:{},ae=function(qt){var gt=/\blang(?:uage)?-([\w-]+)\b/i,Wt=0,nt={manual:qt.Prism&&qt.Prism.manual,disableWorkerMessageHandler:qt.Prism&&qt.Prism.disableWorkerMessageHandler,util:{encode:function Vn(Cn){return Cn instanceof Et?new Et(Cn.type,Vn(Cn.content),Cn.alias):Array.isArray(Cn)?Cn.map(Vn):Cn.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(Vn){return Object.prototype.toString.call(Vn).slice(8,-1)},objId:function(Vn){return Vn.__id||Object.defineProperty(Vn,"__id",{value:++Wt}),Vn.__id},clone:function Vn(Cn,ee){ee=ee||{};var Zn,Qn;switch(nt.util.type(Cn)){case"Object":if(Qn=nt.util.objId(Cn),ee[Qn])return ee[Qn];Zn={},ee[Qn]=Zn;for(var Me in Cn)Cn.hasOwnProperty(Me)&&(Zn[Me]=Vn(Cn[Me],ee));return Zn;case"Array":return Qn=nt.util.objId(Cn),ee[Qn]?ee[Qn]:(Zn=[],ee[Qn]=Zn,Cn.forEach(function(dr,zn){Zn[zn]=Vn(dr,ee)}),Zn);default:return Cn}},getLanguage:function(Vn){for(;Vn&&!gt.test(Vn.className);)Vn=Vn.parentElement;return Vn?(Vn.className.match(gt)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if(typeof document=="undefined")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(Zn){var Vn=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(Zn.stack)||[])[1];if(Vn){var Cn=document.getElementsByTagName("script");for(var ee in Cn)if(Cn[ee].src==Vn)return Cn[ee]}return null}},isActive:function(Vn,Cn,ee){for(var Zn="no-"+Cn;Vn;){var Qn=Vn.classList;if(Qn.contains(Cn))return!0;if(Qn.contains(Zn))return!1;Vn=Vn.parentElement}return!!ee}},languages:{extend:function(Vn,Cn){var ee=nt.util.clone(nt.languages[Vn]);for(var Zn in Cn)ee[Zn]=Cn[Zn];return ee},insertBefore:function(Vn,Cn,ee,Zn){Zn=Zn||nt.languages;var Qn=Zn[Vn],Me={};for(var dr in Qn)if(Qn.hasOwnProperty(dr)){if(dr==Cn)for(var zn in ee)ee.hasOwnProperty(zn)&&(Me[zn]=ee[zn]);ee.hasOwnProperty(dr)||(Me[dr]=Qn[dr])}var gn=Zn[Vn];return Zn[Vn]=Me,nt.languages.DFS(nt.languages,function(Ee,ur){ur===gn&&Ee!=Vn&&(this[Ee]=Me)}),Me},DFS:function Vn(Cn,ee,Zn,Qn){Qn=Qn||{};var Me=nt.util.objId;for(var dr in Cn)if(Cn.hasOwnProperty(dr)){ee.call(Cn,dr,Cn[dr],Zn||dr);var zn=Cn[dr],gn=nt.util.type(zn);gn==="Object"&&!Qn[Me(zn)]?(Qn[Me(zn)]=!0,Vn(zn,ee,null,Qn)):gn==="Array"&&!Qn[Me(zn)]&&(Qn[Me(zn)]=!0,Vn(zn,ee,dr,Qn))}}},plugins:{},highlightAll:function(Vn,Cn){nt.highlightAllUnder(document,Vn,Cn)},highlightAllUnder:function(Vn,Cn,ee){var Zn={callback:ee,container:Vn,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};nt.hooks.run("before-highlightall",Zn),Zn.elements=Array.prototype.slice.apply(Zn.container.querySelectorAll(Zn.selector)),nt.hooks.run("before-all-elements-highlight",Zn);for(var Qn=0,Me;Me=Zn.elements[Qn++];)nt.highlightElement(Me,Cn===!0,Zn.callback)},highlightElement:function(Vn,Cn,ee){var Zn=nt.util.getLanguage(Vn),Qn=nt.languages[Zn];Vn.className=Vn.className.replace(gt,"").replace(/\s+/g," ")+" language-"+Zn;var Me=Vn.parentElement;Me&&Me.nodeName.toLowerCase()==="pre"&&(Me.className=Me.className.replace(gt,"").replace(/\s+/g," ")+" language-"+Zn);var dr=Vn.textContent,zn={element:Vn,language:Zn,grammar:Qn,code:dr};function gn(ur){zn.highlightedCode=ur,nt.hooks.run("before-insert",zn),zn.element.innerHTML=zn.highlightedCode,nt.hooks.run("after-highlight",zn),nt.hooks.run("complete",zn),ee&&ee.call(zn.element)}if(nt.hooks.run("before-sanity-check",zn),!zn.code){nt.hooks.run("complete",zn),ee&&ee.call(zn.element);return}if(nt.hooks.run("before-highlight",zn),!zn.grammar){gn(nt.util.encode(zn.code));return}if(Cn&&qt.Worker){var Ee=new Worker(nt.filename);Ee.onmessage=function(ur){gn(ur.data)},Ee.postMessage(JSON.stringify({language:zn.language,code:zn.code,immediateClose:!0}))}else gn(nt.highlight(zn.code,zn.grammar,zn.language))},highlight:function(Vn,Cn,ee){var Zn={code:Vn,grammar:Cn,language:ee};return nt.hooks.run("before-tokenize",Zn),Zn.tokens=nt.tokenize(Zn.code,Zn.grammar),nt.hooks.run("after-tokenize",Zn),Et.stringify(nt.util.encode(Zn.tokens),Zn.language)},tokenize:function(Vn,Cn){var ee=Cn.rest;if(ee){for(var Zn in ee)Cn[Zn]=ee[Zn];delete Cn.rest}var Qn=new be;return An(Qn,Qn.head,Vn),Nn(Vn,Qn,Cn,Qn.head,0),ze(Qn)},hooks:{all:{},add:function(Vn,Cn){var ee=nt.hooks.all;ee[Vn]=ee[Vn]||[],ee[Vn].push(Cn)},run:function(Vn,Cn){var ee=nt.hooks.all[Vn];if(!(!ee||!ee.length))for(var Zn=0,Qn;Qn=ee[Zn++];)Qn(Cn)}},Token:Et};qt.Prism=nt;function Et(Vn,Cn,ee,Zn){this.type=Vn,this.content=Cn,this.alias=ee,this.length=(Zn||"").length|0}Et.stringify=function Vn(Cn,ee){if(typeof Cn=="string")return Cn;if(Array.isArray(Cn)){var Zn="";return Cn.forEach(function(gn){Zn+=Vn(gn,ee)}),Zn}var Qn={type:Cn.type,content:Vn(Cn.content,ee),tag:"span",classes:["token",Cn.type],attributes:{},language:ee},Me=Cn.alias;Me&&(Array.isArray(Me)?Array.prototype.push.apply(Qn.classes,Me):Qn.classes.push(Me)),nt.hooks.run("wrap",Qn);var dr="";for(var zn in Qn.attributes)dr+=" "+zn+'="'+(Qn.attributes[zn]||"").replace(/"/g,"&quot;")+'"';return"<"+Qn.tag+' class="'+Qn.classes.join(" ")+'"'+dr+">"+Qn.content+"</"+Qn.tag+">"};function yt(Vn,Cn,ee,Zn){Vn.lastIndex=Cn;var Qn=Vn.exec(ee);if(Qn&&Zn&&Qn[1]){var Me=Qn[1].length;Qn.index+=Me,Qn[0]=Qn[0].slice(Me)}return Qn}function Nn(Vn,Cn,ee,Zn,Qn,Me){for(var dr in ee)if(!(!ee.hasOwnProperty(dr)||!ee[dr])){var zn=ee[dr];zn=Array.isArray(zn)?zn:[zn];for(var gn=0;gn<zn.length;++gn){if(Me&&Me.cause==dr+","+gn)return;var Ee=zn[gn],ur=Ee.inside,Ir=!!Ee.lookbehind,Nr=!!Ee.greedy,eo=Ee.alias;if(Nr&&!Ee.pattern.global){var Or=Ee.pattern.toString().match(/[imsuy]*$/)[0];Ee.pattern=RegExp(Ee.pattern.source,Or+"g")}for(var So=Ee.pattern||Ee,Ct=Zn.next,rn=Qn;Ct!==Cn.tail&&!(Me&&rn>=Me.reach);rn+=Ct.value.length,Ct=Ct.next){var Yn=Ct.value;if(Cn.length>Vn.length)return;if(!(Yn instanceof Et)){var Pe=1,fe;if(Nr){if(fe=yt(So,rn,Vn,Ir),!fe)break;var Er=fe.index,lr=fe.index+fe[0].length,wo=rn;for(wo+=Ct.value.length;Er>=wo;)Ct=Ct.next,wo+=Ct.value.length;if(wo-=Ct.value.length,rn=wo,Ct.value instanceof Et)continue;for(var zr=Ct;zr!==Cn.tail&&(wo<lr||typeof zr.value=="string");zr=zr.next)Pe++,wo+=zr.value.length;Pe--,Yn=Vn.slice(rn,wo),fe.index-=rn}else if(fe=yt(So,0,Yn,Ir),!fe)continue;var Er=fe.index,$o=fe[0],Bi=Yn.slice(0,Er),Eo=Yn.slice(Er+$o.length),Xi=rn+Yn.length;Me&&Xi>Me.reach&&(Me.reach=Xi);var Oo=Ct.prev;Bi&&(Oo=An(Cn,Oo,Bi),rn+=Bi.length),ar(Cn,Oo,Pe);var hi=new Et(dr,ur?nt.tokenize($o,ur):$o,eo,$o);Ct=An(Cn,Oo,hi),Eo&&An(Cn,Ct,Eo),Pe>1&&Nn(Vn,Cn,ee,Ct.prev,rn,{cause:dr+","+gn,reach:Xi})}}}}}function be(){var Vn={value:null,prev:null,next:null},Cn={value:null,prev:Vn,next:null};Vn.next=Cn,this.head=Vn,this.tail=Cn,this.length=0}function An(Vn,Cn,ee){var Zn=Cn.next,Qn={value:ee,prev:Cn,next:Zn};return Cn.next=Qn,Zn.prev=Qn,Vn.length++,Qn}function ar(Vn,Cn,ee){for(var Zn=Cn.next,Qn=0;Qn<ee&&Zn!==Vn.tail;Qn++)Zn=Zn.next;Cn.next=Zn,Zn.prev=Cn,Vn.length-=Qn}function ze(Vn){for(var Cn=[],ee=Vn.head.next;ee!==Vn.tail;)Cn.push(ee.value),ee=ee.next;return Cn}if(!qt.document)return qt.addEventListener&&(nt.disableWorkerMessageHandler||qt.addEventListener("message",function(Vn){var Cn=JSON.parse(Vn.data),ee=Cn.language,Zn=Cn.code,Qn=Cn.immediateClose;qt.postMessage(nt.highlight(Zn,nt.languages[ee],ee)),Qn&&qt.close()},!1)),nt;var Zr=nt.util.currentScript();Zr&&(nt.filename=Zr.src,Zr.hasAttribute("data-manual")&&(nt.manual=!0));function Lr(){nt.manual||nt.highlightAll()}if(!nt.manual){var yo=document.readyState;yo==="loading"||yo==="interactive"&&Zr&&Zr.defer?document.addEventListener("DOMContentLoaded",Lr):window.requestAnimationFrame?window.requestAnimationFrame(Lr):window.setTimeout(Lr,16)}return nt}(tn);typeof Tn!="undefined"&&Tn.exports&&(Tn.exports=ae),typeof wt!="undefined"&&(wt.Prism=ae)}).call(this)}).call(this,typeof Le!="undefined"?Le:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],4:[function(cn,Tn,Xn){(function(wt){var tn=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char8_t|char16_t|char32_t|class|compl|concept|const|consteval|constexpr|constinit|const_cast|continue|co_await|co_return|co_yield|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|float|for|friend|goto|if|inline|int|int8_t|int16_t|int32_t|int64_t|uint8_t|uint16_t|uint32_t|uint64_t|long|mutable|namespace|new|noexcept|nullptr|operator|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/;wt.languages.cpp=wt.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return tn.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:tn,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:true|false)\b/}),wt.languages.insertBefore("cpp","string",{"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),wt.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:wt.languages.extend("cpp",{})}}),wt.languages.insertBefore("inside","operator",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},wt.languages.cpp["base-clause"])})(Prism)},{}],5:[function(cn,Tn,Xn){(function(wt){function tn(Yn,Pe){return Yn.replace(/<<(\d+)>>/g,function(fe,lr){return"(?:"+Pe[+lr]+")"})}function ae(Yn,Pe,fe){return RegExp(tn(Yn,Pe),fe||"")}function qt(Yn,Pe){for(var fe=0;fe<Pe;fe++)Yn=Yn.replace(/<<self>>/g,function(){return"(?:"+Yn+")"});return Yn.replace(/<<self>>/g,"[^\\s\\S]")}var gt={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface struct",contextual:"add alias and ascending async await by descending from get global group into join let nameof not notnull on or orderby partial remove select set unmanaged value when where",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function Wt(Yn){return"\\b(?:"+Yn.trim().replace(/ /g,"|")+")\\b"}var nt=Wt(gt.typeDeclaration),Et=RegExp(Wt(gt.type+" "+gt.typeDeclaration+" "+gt.contextual+" "+gt.other)),yt=Wt(gt.typeDeclaration+" "+gt.contextual+" "+gt.other),Nn=Wt(gt.type+" "+gt.typeDeclaration+" "+gt.other),be=qt(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),An=qt(/\((?:[^()]|<<self>>)*\)/.source,2),ar=/@?\b[A-Za-z_]\w*\b/.source,ze=tn(/<<0>>(?:\s*<<1>>)?/.source,[ar,be]),Zr=tn(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[yt,ze]),Lr=/\[\s*(?:,\s*)*\]/.source,yo=tn(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[Zr,Lr]),Vn=tn(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[be,An,Lr]),Cn=tn(/\(<<0>>+(?:,<<0>>+)+\)/.source,[Vn]),ee=tn(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[Cn,Zr,Lr]),Zn={keyword:Et,punctuation:/[<>()?,.:[\]]/},Qn=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,Me=/"(?:\\.|[^\\"\r\n])*"/.source,dr=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;wt.languages.csharp=wt.languages.extend("clike",{string:[{pattern:ae(/(^|[^$\\])<<0>>/.source,[dr]),lookbehind:!0,greedy:!0},{pattern:ae(/(^|[^@$\\])<<0>>/.source,[Me]),lookbehind:!0,greedy:!0},{pattern:RegExp(Qn),greedy:!0,alias:"character"}],"class-name":[{pattern:ae(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[Zr]),lookbehind:!0,inside:Zn},{pattern:ae(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[ar,ee]),lookbehind:!0,inside:Zn},{pattern:ae(/(\busing\s+)<<0>>(?=\s*=)/.source,[ar]),lookbehind:!0},{pattern:ae(/(\b<<0>>\s+)<<1>>/.source,[nt,ze]),lookbehind:!0,inside:Zn},{pattern:ae(/(\bcatch\s*\(\s*)<<0>>/.source,[Zr]),lookbehind:!0,inside:Zn},{pattern:ae(/(\bwhere\s+)<<0>>/.source,[ar]),lookbehind:!0},{pattern:ae(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[yo]),lookbehind:!0,inside:Zn},{pattern:ae(/\b<<0>>(?=\s+(?!<<1>>)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[ee,Nn,ar]),inside:Zn}],keyword:Et,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:ul|lu|[dflmu])?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),wt.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),wt.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:ae(/([(,]\s*)<<0>>(?=\s*:)/.source,[ar]),lookbehind:!0,alias:"punctuation"}}),wt.languages.insertBefore("csharp","class-name",{namespace:{pattern:ae(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[ar]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:ae(/(\b(?:default|typeof|sizeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[An]),lookbehind:!0,alias:"class-name",inside:Zn},"return-type":{pattern:ae(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[ee,Zr]),inside:Zn,alias:"class-name"},"constructor-invocation":{pattern:ae(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[ee]),lookbehind:!0,inside:Zn,alias:"class-name"},"generic-method":{pattern:ae(/<<0>>\s*<<1>>(?=\s*\()/.source,[ar,be]),inside:{function:ae(/^<<0>>/.source,[ar]),generic:{pattern:RegExp(be),alias:"class-name",inside:Zn}}},"type-list":{pattern:ae(/\b((?:<<0>>\s+<<1>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>)(?:\s*,\s*(?:<<3>>|<<4>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[nt,ze,ar,ee,Et.source]),lookbehind:!0,inside:{keyword:Et,"class-name":{pattern:RegExp(ee),greedy:!0,inside:Zn},punctuation:/,/}},preprocessor:{pattern:/(^\s*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(\s*#)\b(?:define|elif|else|endif|endregion|error|if|line|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var zn=Me+"|"+Qn,gn=tn(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[zn]),Ee=qt(tn(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[gn]),2),ur=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,Ir=tn(/<<0>>(?:\s*\(<<1>>*\))?/.source,[Zr,Ee]);wt.languages.insertBefore("csharp","class-name",{attribute:{pattern:ae(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[ur,Ir]),lookbehind:!0,greedy:!0,inside:{target:{pattern:ae(/^<<0>>(?=\s*:)/.source,[ur]),alias:"keyword"},"attribute-arguments":{pattern:ae(/\(<<0>>*\)/.source,[Ee]),inside:wt.languages.csharp},"class-name":{pattern:RegExp(Zr),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var Nr=/:[^}\r\n]+/.source,eo=qt(tn(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[gn]),2),Or=tn(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[eo,Nr]),So=qt(tn(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[zn]),2),Ct=tn(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[So,Nr]);function rn(Yn,Pe){return{interpolation:{pattern:ae(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[Yn]),lookbehind:!0,inside:{"format-string":{pattern:ae(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[Pe,Nr]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:wt.languages.csharp}}},string:/[\s\S]+/}}wt.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:ae(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[Or]),lookbehind:!0,greedy:!0,inside:rn(Or,eo)},{pattern:ae(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[Ct]),lookbehind:!0,greedy:!0,inside:rn(Ct,So)}]})})(Prism),Prism.languages.dotnet=Prism.languages.cs=Prism.languages.csharp},{}],6:[function(cn,Tn,Xn){(function(wt){var tn=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;wt.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+tn.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+tn.source+"$"),alias:"url"}}},selector:RegExp(`[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+tn.source+")*(?=\\s*\\{)"),string:{pattern:tn,greedy:!0},property:/(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},wt.languages.css.atrule.inside.rest=wt.languages.css;var ae=wt.languages.markup;ae&&(ae.tag.addInlined("style","css"),wt.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/(^|["'\s])style\s*=\s*(?:"[^"]*"|'[^']*')/i,lookbehind:!0,inside:{"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{style:{pattern:/(["'])[\s\S]+(?=["']$)/,lookbehind:!0,alias:"language-css",inside:wt.languages.css},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},"attr-name":/^style/i}}},ae.tag))})(Prism)},{}],7:[function(cn,Tn,Xn){(function(wt){var tn=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,ae=/(^|[^\w.])(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,qt={pattern:RegExp(ae+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};wt.languages.java=wt.languages.extend("clike",{"class-name":[qt,{pattern:RegExp(ae+/[A-Z]\w*(?=\s+\w+\s*[;,=())])/.source),lookbehind:!0,inside:qt.inside}],keyword:tn,function:[wt.languages.clike.function,{pattern:/(\:\:\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0}}),wt.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"}}),wt.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<(?:[\w\s,.&?]|<[\w\s,.&?]*>)*>)*>)*>/,inside:{"class-name":qt,keyword:tn,punctuation:/[<>(),.:]/,operator:/[?&|]/}},namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return tn.source})),lookbehind:!0,inside:{punctuation:/\./}}})})(Prism)},{}],8:[function(cn,Tn,Xn){Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|(?:get|set)(?=\s*[\[$\w\xA0-\uFFFF])|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyus]{0,6}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-flags":/[a-z]+$/,"regex-delimiter":/^\/|\/$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}|(?!\${)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\${(?:[^{}]|{(?:[^{}]|{[^}]*})*})+}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}}),Prism.languages.markup&&Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.js=Prism.languages.javascript},{}],9:[function(cn,Tn,Xn){(function(wt){function tn(ae,qt){return"___"+ae.toUpperCase()+qt+"___"}Object.defineProperties(wt.languages["markup-templating"]={},{buildPlaceholders:{value:function(ae,qt,gt,Wt){if(ae.language===qt){var nt=ae.tokenStack=[];ae.code=ae.code.replace(gt,function(Et){if(typeof Wt=="function"&&!Wt(Et))return Et;for(var yt=nt.length,Nn;ae.code.indexOf(Nn=tn(qt,yt))!==-1;)++yt;return nt[yt]=Et,Nn}),ae.grammar=wt.languages.markup}}},tokenizePlaceholders:{value:function(ae,qt){if(ae.language!==qt||!ae.tokenStack)return;ae.grammar=wt.languages[qt];var gt=0,Wt=Object.keys(ae.tokenStack);function nt(Et){for(var yt=0;yt<Et.length&&!(gt>=Wt.length);yt++){var Nn=Et[yt];if(typeof Nn=="string"||Nn.content&&typeof Nn.content=="string"){var be=Wt[gt],An=ae.tokenStack[be],ar=typeof Nn=="string"?Nn:Nn.content,ze=tn(qt,be),Zr=ar.indexOf(ze);if(Zr>-1){++gt;var Lr=ar.substring(0,Zr),yo=new wt.Token(qt,wt.tokenize(An,ae.grammar),"language-"+qt,An),Vn=ar.substring(Zr+ze.length),Cn=[];Lr&&Cn.push.apply(Cn,nt([Lr])),Cn.push(yo),Vn&&Cn.push.apply(Cn,nt([Vn])),typeof Nn=="string"?Et.splice.apply(Et,[yt,1].concat(Cn)):Nn.content=Cn}}else Nn.content&&nt(Nn.content)}return Et}nt(ae.tokens)}}})})(Prism)},{}],10:[function(cn,Tn,Xn){Prism.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(wt){wt.type==="entity"&&(wt.attributes.title=wt.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(wt,tn){var ae={};ae["language-"+tn]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[tn]},ae.cdata=/^<!\[CDATA\[|\]\]>$/i;var qt={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:ae}};qt["language-"+tn]={pattern:/[\s\S]+/,inside:Prism.languages[tn]};var gt={};gt[wt]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return wt}),"i"),lookbehind:!0,greedy:!0,inside:qt},Prism.languages.insertBefore("markup","cdata",gt)}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml},{}],11:[function(cn,Tn,Xn){(function(wt){var tn=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,ae=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/,/\b(?:null)\b/i],qt=/\b0b[01]+\b|\b0x[\da-f]+\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+)(?:e[+-]?\d+)?/i,gt=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,Wt=/[{}\[\](),:;]/;wt.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:tn,variable:/\$+(?:\w+\b|(?={))/i,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},keyword:[{pattern:/(\(\s*)\b(?:bool|boolean|int|integer|float|string|object|array)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:bool|int|float|string|object|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*[a-z0-9_|]\|\s*)(?:null|false)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|self|static|callable|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?[a-z0-9_|]\|\s*)(?:null|false)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:bool|int|float|string|object|void|array(?!\s*\()|mixed|iterable|(?:null|false)(?=\s*\|))\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:null|false)\b/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},/\b(?:__halt_compiler|abstract|and|array|as|break|callable|case|catch|class|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|eval|exit|extends|final|finally|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|namespace|match|new|or|parent|print|private|protected|public|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield)\b/i],"argument-name":/\b[a-z_]\w*(?=\s*:(?!:))/i,"class-name":[{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:ae,function:/\w+\s*(?=\()/,property:{pattern:/(->)[\w]+/,lookbehind:!0},number:qt,operator:gt,punctuation:Wt};var nt={pattern:/{\$(?:{(?:{[^{}]+}|[^{}]+)}|[^{}])+}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)*)/,lookbehind:!0,inside:wt.languages.php},Et=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:nt}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:nt}}];wt.languages.insertBefore("php","variable",{string:Et}),wt.languages.insertBefore("php","variable",{attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/mi,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=]$)/,lookbehind:!0,inside:{comment:tn,string:Et,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:ae,number:qt,operator:gt,punctuation:Wt}},delimiter:{pattern:/^#\[|]$/,alias:"punctuation"}}}}),wt.hooks.add("before-tokenize",function(yt){if(/<\?/.test(yt.code)){var Nn=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/ig;wt.languages["markup-templating"].buildPlaceholders(yt,"php",Nn)}}),wt.hooks.add("after-tokenize",function(yt){wt.languages["markup-templating"].tokenizePlaceholders(yt,"php")})})(Prism)},{}],12:[function(cn,Tn,Xn){Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:{{)*){(?!{)(?:[^{}]|{(?!{)(?:[^{}]|{(?!{)(?:[^{}])+})+})+}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^\s*)@\w+(?:\.\w+)*/im,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python},{}],13:[function(cn,Tn,Xn){(function(wt){wt.languages.ruby=wt.languages.extend("clike",{comment:[/#.*/,{pattern:/^=begin\s[\s\S]*?^=end/m,greedy:!0}],"class-name":{pattern:/(\b(?:class)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:alias|and|BEGIN|begin|break|case|class|def|define_method|defined|do|each|else|elsif|END|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|protected|private|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/});var tn={pattern:/#\{[^}]+\}/,inside:{delimiter:{pattern:/^#\{|\}$/,alias:"tag"},rest:wt.languages.ruby}};delete wt.languages.ruby.function,wt.languages.insertBefore("ruby","keyword",{regex:[{pattern:RegExp(/%r/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1[gim]{0,3}/.source,/\((?:[^()\\]|\\[\s\S])*\)[gim]{0,3}/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}[gim]{0,3}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\][gim]{0,3}/.source,/<(?:[^<>\\]|\\[\s\S])*>[gim]{0,3}/.source].join("|")+")"),greedy:!0,inside:{interpolation:tn}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[gim]{0,3}(?=\s*(?:$|[\r\n,.;})]))/,lookbehind:!0,greedy:!0}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:{pattern:/(^|[^:]):[a-zA-Z_]\w*(?:[?!]|\b)/,lookbehind:!0},"method-definition":{pattern:/(\bdef\s+)[\w.]+/,lookbehind:!0,inside:{function:/\w+$/,rest:wt.languages.ruby}}}),wt.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Stat|Fixnum|Float|Hash|Integer|IO|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|String|Struct|TMS|Symbol|ThreadGroup|Thread|Time|TrueClass)\b/,constant:/\b[A-Z]\w*(?:[?!]|\b)/}),wt.languages.ruby.string=[{pattern:RegExp(/%[qQiIwWxs]?/.source+"(?:"+[/([^a-zA-Z0-9\s{(\[<])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S])*\)/.source,/\{(?:[^#{}\\]|#(?:\{[^}]+\})?|\\[\s\S])*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S])*\]/.source,/<(?:[^<>\\]|\\[\s\S])*>/.source].join("|")+")"),greedy:!0,inside:{interpolation:tn}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:tn}}],wt.languages.rb=wt.languages.ruby})(Prism)},{}],14:[function(cn,Tn,Xn){var wt=cn("prismjs/components/prism-core");cn("prismjs/components/prism-clike"),cn("prismjs/components/prism-markup-templating"),cn("prismjs/components/prism-c"),cn("prismjs/components/prism-cpp"),cn("prismjs/components/prism-csharp"),cn("prismjs/components/prism-css"),cn("prismjs/components/prism-java"),cn("prismjs/components/prism-javascript"),cn("prismjs/components/prism-markup"),cn("prismjs/components/prism-php"),cn("prismjs/components/prism-python"),cn("prismjs/components/prism-ruby"),Tn.exports={boltExport:wt}},{"prismjs/components/prism-c":1,"prismjs/components/prism-clike":2,"prismjs/components/prism-core":3,"prismjs/components/prism-cpp":4,"prismjs/components/prism-csharp":5,"prismjs/components/prism-css":6,"prismjs/components/prism-java":7,"prismjs/components/prism-javascript":8,"prismjs/components/prism-markup":10,"prismjs/components/prism-markup-templating":9,"prismjs/components/prism-php":11,"prismjs/components/prism-python":12,"prismjs/components/prism-ruby":13}]},{},[14])(14)});var Ft=window.Prism;return window.Prism=br,Ft})(void 0,le,Qt,void 0);var S=Qt.exports.boltExport,ce=function(kn){return kn.getParam("codesample_languages")},Ne=function(kn){return kn.getParam("codesample_global_prismjs",!1,"boolean")},ve=function(kn){return jt.Prism&&Ne(kn)?jt.Prism:S},ue=function(kn){var bn=kn.selection?kn.selection.getNode():null;return ln(bn)?yn.some(bn):yn.none()},Ie=function(kn,bn,he){kn.undoManager.transact(function(){var Kr=ue(kn);return he=tt.DOM.encode(he),Kr.fold(function(){kn.insertContent('<pre id="__new" class="language-'+bn+'">'+he+"</pre>"),kn.selection.select(kn.$("#__new").removeAttr("id")[0])},function(br){kn.dom.setAttrib(br,"class","language-"+bn),br.innerHTML=he,ve(kn).highlightElement(br),kn.selection.select(br)})})},wr=function(kn){var bn=ue(kn);return bn.fold(function(){return""},function(he){return he.textContent})},sr=function(kn){var bn=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],he=ce(kn);return he||bn},Pt=function(kn,bn){var he=ue(kn);return he.fold(function(){return bn},function(Kr){var br=Kr.className.match(/language-(\w+)/);return br?br[1]:bn})},I=function(kn){var bn=sr(kn),he=Kt(bn).fold(function(){return""},function(Ft){return Ft.value}),Kr=Pt(kn,he),br=wr(kn);kn.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"selectbox",name:"language",label:"Language",items:bn},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:Kr,code:br},onSubmit:function(Ft){var cn=Ft.getData();Ie(kn,cn.language,cn.code),Ft.close()}})},ne=function(kn){kn.addCommand("codesample",function(){var bn=kn.selection.getNode();kn.selection.isCollapsed()||ln(bn)?I(kn):kn.formatter.toggle("code")})},Hn=function(kn){var bn=kn.$;kn.on("PreProcess",function(he){bn("pre[contenteditable=false]",he.node).filter(Y(ln)).each(function(Kr,br){var Ft=bn(br),cn=br.textContent;Ft.attr("class",bn.trim(Ft.attr("class"))),Ft.removeAttr("contentEditable"),Ft.empty().append(bn("<code></code>").each(function(){this.textContent=cn}))})}),kn.on("SetContent",function(){var he=bn("pre").filter(Y(ln)).filter(function(Kr,br){return br.contentEditable!=="false"});he.length&&kn.undoManager.transact(function(){he.each(function(Kr,br){bn(br).find("br").each(function(Ft,cn){cn.parentNode.replaceChild(kn.getDoc().createTextNode(`
`),cn)}),br.contentEditable="false",br.innerHTML=kn.dom.encode(br.textContent),ve(kn).highlightElement(br),br.className=bn.trim(br.className)})})})},He=function(kn){var bn=kn.selection.getStart();return kn.dom.is(bn,'pre[class*="language-"]')},Ve=function(kn){kn.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:function(){return I(kn)},onSetup:function(bn){var he=function(){bn.setActive(He(kn))};return kn.on("NodeChange",he),function(){return kn.off("NodeChange",he)}}}),kn.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:function(){return I(kn)}})};function $e(){ft.add("codesample",function(kn){Hn(kn),Ve(kn),ne(kn),kn.on("dblclick",function(bn){ln(bn.target)&&I(kn)})})}$e()})();(function(){var ft=tinymce.util.Tools.resolve("tinymce.PluginManager");function jn(){ft.add("colorpicker",function(){console.warn("Color picker plugin is now built in to the core editor, please remove it from your editor configuration")})}jn()})();(function(){var ft=tinymce.util.Tools.resolve("tinymce.PluginManager");function jn(){ft.add("contextmenu",function(){console.warn("Context menu plugin is now built in to the core editor, please remove it from your editor configuration")})}jn()})();(function(){var ft=tinymce.util.Tools.resolve("tinymce.PluginManager"),jn=tinymce.util.Tools.resolve("tinymce.util.Tools"),on=function(gt,Wt){var nt=gt.dom,Et,yt=gt.selection.getSelectedBlocks();yt.length&&(Et=nt.getAttrib(yt[0],"dir"),jn.each(yt,function(Nn){nt.getParent(Nn.parentNode,'*[dir="'+Wt+'"]',nt.getRoot())||nt.setAttrib(Nn,"dir",Et!==Wt?Wt:null)}),gt.nodeChanged())},nn=function(gt){gt.addCommand("mceDirectionLTR",function(){on(gt,"ltr")}),gt.addCommand("mceDirectionRTL",function(){on(gt,"rtl")})},st=function(){},Xt=function(gt,Wt){return function(nt){return gt(Wt(nt))}},Kn=function(gt){return function(){return gt}},qn=Kn(!1),Jt=Kn(!0),yn=function(){return Zt},Zt=function(){var gt=function(yt){return yt.isNone()},Wt=function(yt){return yt()},nt=function(yt){return yt},Et={fold:function(yt,Nn){return yt()},is:qn,isSome:qn,isNone:Jt,getOr:nt,getOrThunk:Wt,getOrDie:function(yt){throw new Error(yt||"error: getOrDie called on none.")},getOrNull:Kn(null),getOrUndefined:Kn(void 0),or:nt,orThunk:Wt,map:yn,each:st,bind:yn,exists:qn,forall:Jt,filter:yn,equals:gt,equals_:gt,toArray:function(){return[]},toString:Kn("none()")};return Et}(),Kt=function(gt){var Wt=Kn(gt),nt=function(){return yt},Et=function(Nn){return Nn(gt)},yt={fold:function(Nn,be){return be(gt)},is:function(Nn){return gt===Nn},isSome:Jt,isNone:qn,getOr:Wt,getOrThunk:Wt,getOrDie:Wt,getOrNull:Wt,getOrUndefined:Wt,or:nt,orThunk:nt,map:function(Nn){return Kt(Nn(gt))},each:function(Nn){Nn(gt)},bind:Et,exists:Et,forall:Et,filter:function(Nn){return Nn(gt)?yt:Zt},toArray:function(){return[gt]},toString:function(){return"some("+gt+")"},equals:function(Nn){return Nn.is(gt)},equals_:function(Nn,be){return Nn.fold(qn,function(An){return be(gt,An)})}};return yt},tt=function(gt){return gt==null?Zt:Kt(gt)},ln={some:Kt,none:yn,from:tt},Y=function(gt){return function(Wt){return typeof Wt===gt}},jt=function(gt){return gt==null},le=function(gt){return!jt(gt)},Qt=Y("function"),Le=function(gt){return gt.style!==void 0&&Qt(gt.style.getPropertyValue)},S=function(gt,Wt){var nt=Wt||document,Et=nt.createElement("div");if(Et.innerHTML=gt,!Et.hasChildNodes()||Et.childNodes.length>1)throw console.error("HTML does not have a single root node",gt),new Error("HTML must have a single root node");return ve(Et.childNodes[0])},ce=function(gt,Wt){var nt=Wt||document,Et=nt.createElement(gt);return ve(Et)},Ne=function(gt,Wt){var nt=Wt||document,Et=nt.createTextNode(gt);return ve(Et)},ve=function(gt){if(gt==null)throw new Error("Node cannot be null or undefined");return{dom:gt}},ue=function(gt,Wt,nt){return ln.from(gt.dom.elementFromPoint(Wt,nt)).map(ve)},Ie={fromHtml:S,fromTag:ce,fromText:Ne,fromDom:ve,fromPoint:ue};typeof window!="undefined"||Function("return this;")();var wr=9,sr=11,Pt=3,I=function(gt){return gt.dom.nodeType},ne=function(gt){return function(Wt){return I(Wt)===gt}},Hn=ne(Pt),He=ne(wr),Ve=ne(sr),$e=function(gt){return Ie.fromDom(gt.dom.ownerDocument)},kn=function(gt){return He(gt)?gt:$e(gt)},bn=function(gt){return Ve(gt)&&le(gt.dom.host)},he=Qt(Element.prototype.attachShadow)&&Qt(Node.prototype.getRootNode),Kr=he?function(gt){return Ie.fromDom(gt.dom.getRootNode())}:kn,br=function(gt){var Wt=Kr(gt);return bn(Wt)?ln.some(Wt):ln.none()},Ft=function(gt){return Ie.fromDom(gt.dom.host)},cn=function(gt){var Wt=Hn(gt)?gt.dom.parentNode:gt.dom;if(Wt==null||Wt.ownerDocument===null)return!1;var nt=Wt.ownerDocument;return br(Ie.fromDom(Wt)).fold(function(){return nt.body.contains(Wt)},Xt(cn,Ft))},Tn=function(gt,Wt){var nt=gt.dom,Et=window.getComputedStyle(nt),yt=Et.getPropertyValue(Wt);return yt===""&&!cn(gt)?Xn(nt,Wt):yt},Xn=function(gt,Wt){return Le(gt)?gt.style.getPropertyValue(Wt):""},wt=function(gt){return Tn(gt,"direction")==="rtl"?"rtl":"ltr"},tn=function(gt,Wt){return function(nt){var Et=function(yt){var Nn=Ie.fromDom(yt.element);nt.setActive(wt(Nn)===Wt)};return gt.on("NodeChange",Et),function(){return gt.off("NodeChange",Et)}}},ae=function(gt){gt.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:function(){return gt.execCommand("mceDirectionLTR")},onSetup:tn(gt,"ltr")}),gt.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:function(){return gt.execCommand("mceDirectionRTL")},onSetup:tn(gt,"rtl")})};function qt(){ft.add("directionality",function(gt){nn(gt),ae(gt)})}qt()})();(function(){var ft=function(rt){var Bt=rt,mn=function(){return Bt},oe=function(ke){Bt=ke};return{get:mn,set:oe}},jn=tinymce.util.Tools.resolve("tinymce.PluginManager"),on=function(rt){return{isFullscreen:function(){return rt.get()!==null}}},nn=function(){},st=function(rt,Bt){return function(){for(var mn=[],oe=0;oe<arguments.length;oe++)mn[oe]=arguments[oe];return rt(Bt.apply(null,mn))}},Xt=function(rt,Bt){return function(mn){return rt(Bt(mn))}},Kn=function(rt){return function(){return rt}};function qn(rt){for(var Bt=[],mn=1;mn<arguments.length;mn++)Bt[mn-1]=arguments[mn];return function(){for(var oe=[],ke=0;ke<arguments.length;ke++)oe[ke]=arguments[ke];var Wn=Bt.concat(oe);return rt.apply(null,Wn)}}var Jt=Kn(!1),yn=Kn(!0),Zt=function(){return Kt},Kt=function(){var rt=function(ke){return ke.isNone()},Bt=function(ke){return ke()},mn=function(ke){return ke},oe={fold:function(ke,Wn){return ke()},is:Jt,isSome:Jt,isNone:yn,getOr:mn,getOrThunk:Bt,getOrDie:function(ke){throw new Error(ke||"error: getOrDie called on none.")},getOrNull:Kn(null),getOrUndefined:Kn(void 0),or:mn,orThunk:Bt,map:Zt,each:nn,bind:Zt,exists:Jt,forall:yn,filter:Zt,equals:rt,equals_:rt,toArray:function(){return[]},toString:Kn("none()")};return oe}(),tt=function(rt){var Bt=Kn(rt),mn=function(){return ke},oe=function(Wn){return Wn(rt)},ke={fold:function(Wn,fr){return fr(rt)},is:function(Wn){return rt===Wn},isSome:yn,isNone:Jt,getOr:Bt,getOrThunk:Bt,getOrDie:Bt,getOrNull:Bt,getOrUndefined:Bt,or:mn,orThunk:mn,map:function(Wn){return tt(Wn(rt))},each:function(Wn){Wn(rt)},bind:oe,exists:oe,forall:oe,filter:function(Wn){return Wn(rt)?ke:Kt},toArray:function(){return[rt]},toString:function(){return"some("+rt+")"},equals:function(Wn){return Wn.is(rt)},equals_:function(Wn,fr){return Wn.fold(Jt,function(mr){return fr(rt,mr)})}};return ke},ln=function(rt){return rt==null?Kt:tt(rt)},Y={some:tt,none:Zt,from:ln},jt=function(rt){var Bt=ft(Y.none()),mn=function(){return Bt.get().each(rt)},oe=function(){mn(),Bt.set(Y.none())},ke=function(){return Bt.get().isSome()},Wn=function(fr){mn(),Bt.set(Y.some(fr))};return{clear:oe,isSet:ke,set:Wn}},le=function(){return jt(function(rt){return rt.unbind()})},Qt=function(){var rt=ft(Y.none()),Bt=function(){return rt.set(Y.none())},mn=function(Wn){return rt.set(Y.some(Wn))},oe=function(){return rt.get().isSome()},ke=function(Wn){return rt.get().each(Wn)};return{clear:Bt,set:mn,isSet:oe,on:ke}},Le=function(rt){var Bt=typeof rt;return rt===null?"null":Bt==="object"&&(Array.prototype.isPrototypeOf(rt)||rt.constructor&&rt.constructor.name==="Array")?"array":Bt==="object"&&(String.prototype.isPrototypeOf(rt)||rt.constructor&&rt.constructor.name==="String")?"string":Bt},S=function(rt){return function(Bt){return Le(Bt)===rt}},ce=function(rt){return function(Bt){return typeof Bt===rt}},Ne=S("string"),ve=S("array"),ue=ce("boolean"),Ie=function(rt){return rt==null},wr=function(rt){return!Ie(rt)},sr=ce("function"),Pt=ce("number"),I=Array.prototype.push,ne=function(rt,Bt){for(var mn=rt.length,oe=new Array(mn),ke=0;ke<mn;ke++){var Wn=rt[ke];oe[ke]=Bt(Wn,ke)}return oe},Hn=function(rt,Bt){for(var mn=0,oe=rt.length;mn<oe;mn++){var ke=rt[mn];Bt(ke,mn)}},He=function(rt,Bt){for(var mn=[],oe=0,ke=rt.length;oe<ke;oe++){var Wn=rt[oe];Bt(Wn,oe)&&mn.push(Wn)}return mn},Ve=function(rt){for(var Bt=[],mn=0,oe=rt.length;mn<oe;++mn){if(!ve(rt[mn]))throw new Error("Arr.flatten item "+mn+" was not an array, input: "+rt);I.apply(Bt,rt[mn])}return Bt},$e=function(rt,Bt){return Ve(ne(rt,Bt))},kn=function(rt,Bt){return Bt>=0&&Bt<rt.length?Y.some(rt[Bt]):Y.none()},bn=function(rt){return kn(rt,0)},he=Object.keys,Kr=function(rt,Bt){for(var mn=he(rt),oe=0,ke=mn.length;oe<ke;oe++){var Wn=mn[oe],fr=rt[Wn];Bt(fr,Wn)}},br=function(rt){return rt.style!==void 0&&sr(rt.style.getPropertyValue)},Ft=function(rt,Bt){var mn=Bt||document,oe=mn.createElement("div");if(oe.innerHTML=rt,!oe.hasChildNodes()||oe.childNodes.length>1)throw console.error("HTML does not have a single root node",rt),new Error("HTML must have a single root node");return Xn(oe.childNodes[0])},cn=function(rt,Bt){var mn=Bt||document,oe=mn.createElement(rt);return Xn(oe)},Tn=function(rt,Bt){var mn=Bt||document,oe=mn.createTextNode(rt);return Xn(oe)},Xn=function(rt){if(rt==null)throw new Error("Node cannot be null or undefined");return{dom:rt}},wt=function(rt,Bt,mn){return Y.from(rt.dom.elementFromPoint(Bt,mn)).map(Xn)},tn={fromHtml:Ft,fromTag:cn,fromText:Tn,fromDom:Xn,fromPoint:wt};typeof window!="undefined"||Function("return this;")();var ae=9,qt=11,gt=1,Wt=3,nt=function(rt){return rt.dom.nodeType},Et=function(rt){return function(Bt){return nt(Bt)===rt}},yt=Et(gt),Nn=Et(Wt),be=Et(ae),An=Et(qt),ar=function(rt,Bt){var mn=rt.dom;if(mn.nodeType!==gt)return!1;var oe=mn;if(oe.matches!==void 0)return oe.matches(Bt);if(oe.msMatchesSelector!==void 0)return oe.msMatchesSelector(Bt);if(oe.webkitMatchesSelector!==void 0)return oe.webkitMatchesSelector(Bt);if(oe.mozMatchesSelector!==void 0)return oe.mozMatchesSelector(Bt);throw new Error("Browser lacks native selectors")},ze=function(rt){return rt.nodeType!==gt&&rt.nodeType!==ae&&rt.nodeType!==qt||rt.childElementCount===0},Zr=function(rt,Bt){var mn=Bt===void 0?document:Bt.dom;return ze(mn)?[]:ne(mn.querySelectorAll(rt),tn.fromDom)},Lr=function(rt,Bt){return rt.dom===Bt.dom},yo=function(rt){return tn.fromDom(rt.dom.ownerDocument)},Vn=function(rt){return be(rt)?rt:yo(rt)},Cn=function(rt){return Y.from(rt.dom.parentNode).map(tn.fromDom)},ee=function(rt,Bt){for(var mn=sr(Bt)?Bt:Jt,oe=rt.dom,ke=[];oe.parentNode!==null&&oe.parentNode!==void 0;){var Wn=oe.parentNode,fr=tn.fromDom(Wn);if(ke.push(fr),mn(fr)===!0)break;oe=Wn}return ke},Zn=function(rt){var Bt=function(mn){return He(mn,function(oe){return!Lr(rt,oe)})};return Cn(rt).map(Qn).map(Bt).getOr([])},Qn=function(rt){return ne(rt.dom.childNodes,tn.fromDom)},Me=function(rt){return An(rt)&&wr(rt.dom.host)},dr=sr(Element.prototype.attachShadow)&&sr(Node.prototype.getRootNode),zn=Kn(dr),gn=dr?function(rt){return tn.fromDom(rt.dom.getRootNode())}:Vn,Ee=function(rt){var Bt=gn(rt);return Me(Bt)?Y.some(Bt):Y.none()},ur=function(rt){return tn.fromDom(rt.dom.host)},Ir=function(rt){if(zn()&&wr(rt.target)){var Bt=tn.fromDom(rt.target);if(yt(Bt)&&Nr(Bt)&&rt.composed&&rt.composedPath){var mn=rt.composedPath();if(mn)return bn(mn)}}return Y.from(rt.target)},Nr=function(rt){return wr(rt.dom.shadowRoot)},eo=function(rt){var Bt=Nn(rt)?rt.dom.parentNode:rt.dom;if(Bt==null||Bt.ownerDocument===null)return!1;var mn=Bt.ownerDocument;return Ee(tn.fromDom(Bt)).fold(function(){return mn.body.contains(Bt)},Xt(eo,ur))},Or=function(rt){var Bt=rt.dom.body;if(Bt==null)throw new Error("Body is not available yet");return tn.fromDom(Bt)},So=function(rt,Bt,mn){if(Ne(mn)||ue(mn)||Pt(mn))rt.setAttribute(Bt,mn+"");else throw console.error("Invalid call to Attribute.set. Key ",Bt,":: Value ",mn,":: Element ",rt),new Error("Attribute value was not simple")},Ct=function(rt,Bt,mn){So(rt.dom,Bt,mn)},rn=function(rt,Bt){var mn=rt.dom.getAttribute(Bt);return mn===null?void 0:mn},Yn=function(rt,Bt){rt.dom.removeAttribute(Bt)},Pe=function(rt,Bt,mn){if(!Ne(mn))throw console.error("Invalid call to CSS.set. Property ",Bt,":: Value ",mn,":: Element ",rt),new Error("CSS value must be a string: "+mn);br(rt)&&rt.style.setProperty(Bt,mn)},fe=function(rt,Bt){var mn=rt.dom;Kr(Bt,function(oe,ke){Pe(mn,ke,oe)})},lr=function(rt,Bt){var mn=rt.dom,oe=window.getComputedStyle(mn),ke=oe.getPropertyValue(Bt);return ke===""&&!eo(rt)?wo(mn,Bt):ke},wo=function(rt,Bt){return br(rt)?rt.style.getPropertyValue(Bt):""},zr=function(rt,Bt,mn,oe,ke,Wn,fr){return{target:rt,x:Bt,y:mn,stop:oe,prevent:ke,kill:Wn,raw:fr}},Er=function(rt){var Bt=tn.fromDom(Ir(rt).getOr(rt.target)),mn=function(){return rt.stopPropagation()},oe=function(){return rt.preventDefault()},ke=st(oe,mn);return zr(Bt,rt.clientX,rt.clientY,mn,oe,ke,rt)},$o=function(rt,Bt){return function(mn){rt(mn)&&Bt(Er(mn))}},Bi=function(rt,Bt,mn,oe,ke){var Wn=$o(mn,oe);return rt.dom.addEventListener(Bt,Wn,ke),{unbind:qn(Xi,rt,Bt,Wn,ke)}},Eo=function(rt,Bt,mn,oe){return Bi(rt,Bt,mn,oe,!1)},Xi=function(rt,Bt,mn,oe){rt.dom.removeEventListener(Bt,mn,oe)},Oo=yn,hi=function(rt,Bt,mn){return Eo(rt,Bt,Oo,mn)},ii=function(rt,Bt){var mn=function(oe,ke){return ii(rt+oe,Bt+ke)};return{left:rt,top:Bt,translate:mn}},cr=ii,ao=function(rt){var Bt=rt!==void 0?rt.dom:document,mn=Bt.body.scrollLeft||Bt.documentElement.scrollLeft,oe=Bt.body.scrollTop||Bt.documentElement.scrollTop;return cr(mn,oe)},zo=function(rt){var Bt=rt===void 0?window:rt;return Y.from(Bt.visualViewport)},Ko=function(rt,Bt,mn,oe){return{x:rt,y:Bt,width:mn,height:oe,right:rt+mn,bottom:Bt+oe}},Xe=function(rt){var Bt=rt===void 0?window:rt,mn=Bt.document,oe=ao(tn.fromDom(mn));return zo(Bt).fold(function(){var ke=Bt.document.documentElement,Wn=ke.clientWidth,fr=ke.clientHeight;return Ko(oe.left,oe.top,Wn,fr)},function(ke){return Ko(Math.max(ke.pageLeft,oe.left),Math.max(ke.pageTop,oe.top),ke.width,ke.height)})},ui=function(rt,Bt,mn){return zo(mn).map(function(oe){var ke=function(Wn){return Bt(Er(Wn))};return oe.addEventListener(rt,ke),{unbind:function(){return oe.removeEventListener(rt,ke)}}}).getOrThunk(function(){return{unbind:nn}})},gi=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ni=tinymce.util.Tools.resolve("tinymce.Env"),yi=tinymce.util.Tools.resolve("tinymce.util.Delay"),$r=function(rt,Bt){rt.fire("FullscreenStateChanged",{state:Bt})},wi=function(rt){return rt.getParam("fullscreen_native",!1,"boolean")},fi=function(rt){var Bt=tn.fromDom(rt.getElement());return Ee(Bt).map(ur).getOrThunk(function(){return Or(yo(Bt))})},vi=function(rt){return rt.fullscreenElement!==void 0?rt.fullscreenElement:rt.msFullscreenElement!==void 0?rt.msFullscreenElement:rt.webkitFullscreenElement!==void 0?rt.webkitFullscreenElement:null},Vi=function(){return document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange"},Ui=function(rt){var Bt=rt.dom;Bt.requestFullscreen?Bt.requestFullscreen():Bt.msRequestFullscreen?Bt.msRequestFullscreen():Bt.webkitRequestFullScreen&&Bt.webkitRequestFullScreen()},Wo=function(rt){var Bt=rt.dom;Bt.exitFullscreen?Bt.exitFullscreen():Bt.msExitFullscreen?Bt.msExitFullscreen():Bt.webkitCancelFullScreen&&Bt.webkitCancelFullScreen()},zi=function(rt){return rt.dom===vi(yo(rt).dom)},lt=function(rt,Bt,mn){return He(ee(rt,mn),Bt)},L=function(rt,Bt){return He(Zn(rt),Bt)},q=function(rt){return Zr(rt)},dt=function(rt,Bt,mn){return lt(rt,function(oe){return ar(oe,Bt)},mn)},_t=function(rt,Bt){return L(rt,function(mn){return ar(mn,Bt)})},zt="data-ephox-mobile-fullscreen-style",an="display:none!important;",P="position:absolute!important;",Z="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",xt="background-color:rgb(255,255,255)!important;",at=Ni.os.isAndroid(),$t=function(rt){var Bt=lr(rt,"background-color");return Bt!==void 0&&Bt!==""?"background-color:"+Bt+"!important":xt},en=function(rt,Bt,mn){var oe=function(xo){return _t(xo,"*:not(.tox-silver-sink)")},ke=function(xo){return function(W){var Mt=rn(W,"style"),Ht=Mt===void 0?"no-styles":Mt.trim();Ht!==xo&&(Ct(W,zt,Ht),fe(W,rt.parseStyle(xo)))}},Wn=dt(Bt,"*"),fr=$e(Wn,oe),mr=$t(mn);Hn(fr,ke(an)),Hn(Wn,ke(P+Z+mr));var Rr=at===!0?"":P;ke(Rr+Z+mr)(Bt)},we=function(rt){var Bt=q("["+zt+"]");Hn(Bt,function(mn){var oe=rn(mn,zt);oe!=="no-styles"?fe(mn,rt.parseStyle(oe)):Yn(mn,"style"),Yn(mn,zt)})},Ze=gi.DOM,Pn=function(){var rt=Xe(window);return{x:rt.x,y:rt.y}},Qe=function(rt){window.scrollTo(rt.x,rt.y)},K=zo().fold(function(){return{bind:nn,unbind:nn}},function(rt){var Bt=Qt(),mn=le(),oe=le(),ke=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},Wn=function(){window.requestAnimationFrame(function(){Bt.on(function(xo){return fe(xo,{top:rt.offsetTop+"px",left:rt.offsetLeft+"px",height:rt.height+"px",width:rt.width+"px"})})})},fr=yi.throttle(function(){ke(),Wn()},50),mr=function(xo){Bt.set(xo),fr(),mn.set(ui("resize",fr)),oe.set(ui("scroll",fr))},Rr=function(){Bt.on(function(){mn.clear(),oe.clear()}),Bt.clear()};return{bind:mr,unbind:Rr}}),St=function(rt,Bt){var mn=document.body,oe=document.documentElement,ke=rt.getContainer(),Wn=tn.fromDom(ke),fr=fi(rt),mr=Bt.get(),Rr=tn.fromDom(rt.getBody()),xo=Ni.deviceType.isTouch(),W=ke.style,Mt=rt.iframeElement,Ht=Mt.style,Nt=function(lo){lo(mn,"tox-fullscreen"),lo(oe,"tox-fullscreen"),lo(ke,"tox-fullscreen"),Ee(Wn).map(function(Qr){return ur(Qr).dom}).each(function(Qr){lo(Qr,"tox-fullscreen"),lo(Qr,"tox-shadowhost")})},Gn=function(){xo&&we(rt.dom),Nt(Ze.removeClass),K.unbind(),Y.from(Bt.get()).each(function(lo){return lo.fullscreenChangeHandler.unbind()})};if(mr)mr.fullscreenChangeHandler.unbind(),wi(rt)&&zi(fr)&&Wo(yo(fr)),Ht.width=mr.iframeWidth,Ht.height=mr.iframeHeight,W.width=mr.containerWidth,W.height=mr.containerHeight,W.top=mr.containerTop,W.left=mr.containerLeft,Qe(mr.scrollPos),Bt.set(null),$r(rt,!1),Gn(),rt.off("remove",Gn);else{var xr=hi(yo(fr),Vi(),function(lo){wi(rt)&&!zi(fr)&&Bt.get()!==null&&St(rt,Bt)}),co={scrollPos:Pn(),containerWidth:W.width,containerHeight:W.height,containerTop:W.top,containerLeft:W.left,iframeWidth:Ht.width,iframeHeight:Ht.height,fullscreenChangeHandler:xr};xo&&en(rt.dom,Wn,Rr),Ht.width=Ht.height="100%",W.width=W.height="",Nt(Ze.addClass),K.bind(Wn),rt.on("remove",Gn),Bt.set(co),wi(rt)&&Ui(fr),$r(rt,!0)}},Ot=function(rt,Bt){rt.addCommand("mceFullScreen",function(){St(rt,Bt)})},sn=function(rt,Bt){return function(mn){mn.setActive(Bt.get()!==null);var oe=function(ke){return mn.setActive(ke.state)};return rt.on("FullscreenStateChanged",oe),function(){return rt.off("FullscreenStateChanged",oe)}}},Ae=function(rt,Bt){rt.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:function(){return rt.execCommand("mceFullScreen")},onSetup:sn(rt,Bt)}),rt.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:function(){return rt.execCommand("mceFullScreen")},onSetup:sn(rt,Bt)})};function _e(){jn.add("fullscreen",function(rt){var Bt=ft(null);return rt.inline||(Ot(rt,Bt),Ae(rt,Bt),rt.addShortcut("Meta+Shift+F","","mceFullScreen")),on(Bt)})}_e()})();(function(){var ft=tinymce.util.Tools.resolve("tinymce.PluginManager"),jn=function(st){st.addCommand("InsertHorizontalRule",function(){st.execCommand("mceInsertContent",!1,"<hr />")})},on=function(st){st.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:function(){return st.execCommand("InsertHorizontalRule")}}),st.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:function(){return st.execCommand("InsertHorizontalRule")}})};function nn(){ft.add("hr",function(st){jn(st),on(st)})}nn()})();(function(){var ft=tinymce.util.Tools.resolve("tinymce.PluginManager"),jn=function(){return jn=Object.assign||function(F){for(var it,H=1,pn=arguments.length;H<pn;H++){it=arguments[H];for(var At in it)Object.prototype.hasOwnProperty.call(it,At)&&(F[At]=it[At])}return F},jn.apply(this,arguments)},on=function(){},nn=function(F){return function(){return F}},st=nn(!1),Xt=nn(!0),Kn=function(){return qn},qn=function(){var F=function(At){return At.isNone()},it=function(At){return At()},H=function(At){return At},pn={fold:function(At,gr){return At()},is:st,isSome:st,isNone:Xt,getOr:H,getOrThunk:it,getOrDie:function(At){throw new Error(At||"error: getOrDie called on none.")},getOrNull:nn(null),getOrUndefined:nn(void 0),or:H,orThunk:it,map:Kn,each:on,bind:Kn,exists:st,forall:Xt,filter:Kn,equals:F,equals_:F,toArray:function(){return[]},toString:nn("none()")};return pn}(),Jt=function(F){var it=nn(F),H=function(){return At},pn=function(gr){return gr(F)},At={fold:function(gr,Do){return Do(F)},is:function(gr){return F===gr},isSome:Xt,isNone:st,getOr:it,getOrThunk:it,getOrDie:it,getOrNull:it,getOrUndefined:it,or:H,orThunk:H,map:function(gr){return Jt(gr(F))},each:function(gr){gr(F)},bind:pn,exists:pn,forall:pn,filter:function(gr){return gr(F)?At:qn},toArray:function(){return[F]},toString:function(){return"some("+F+")"},equals:function(gr){return gr.is(F)},equals_:function(gr,Do){return gr.fold(st,function(rr){return Do(F,rr)})}};return At},yn=function(F){return F==null?qn:Jt(F)},Zt={some:Jt,none:Kn,from:yn},Kt=Object.keys,tt=Object.hasOwnProperty,ln=function(F,it){for(var H=Kt(F),pn=0,At=H.length;pn<At;pn++){var gr=H[pn],Do=F[gr];it(Do,gr)}},Y=function(F){return function(it,H){F[H]=it}},jt=function(F,it,H,pn){var At={};return ln(F,function(gr,Do){(it(gr,Do)?H:pn)(gr,Do)}),At},le=function(F,it){var H={};return jt(F,it,Y(H),on),H},Qt=function(F,it){return tt.call(F,it)},Le=function(F,it){return Qt(F,it)&&F[it]!==void 0&&F[it]!==null},S=function(F){var it=typeof F;return F===null?"null":it==="object"&&(Array.prototype.isPrototypeOf(F)||F.constructor&&F.constructor.name==="Array")?"array":it==="object"&&(String.prototype.isPrototypeOf(F)||F.constructor&&F.constructor.name==="String")?"string":it},ce=function(F){return function(it){return S(it)===F}},Ne=function(F){return function(it){return typeof it===F}},ve=function(F){return function(it){return F===it}},ue=ce("string"),Ie=ce("object"),wr=ce("array"),sr=ve(null),Pt=Ne("boolean"),I=function(F){return F==null},ne=function(F){return!I(F)},Hn=Ne("number"),He=Array.prototype.push,Ve=function(F){for(var it=[],H=0,pn=F.length;H<pn;++H){if(!wr(F[H]))throw new Error("Arr.flatten item "+H+" was not an array, input: "+F);He.apply(it,F[H])}return it},$e=function(F,it){return it>=0&&it<F.length?Zt.some(F[it]):Zt.none()},kn=function(F){return $e(F,0)},bn=function(F,it){for(var H=0;H<F.length;H++){var pn=it(F[H],H);if(pn.isSome())return pn}return Zt.none()};typeof window!="undefined"||Function("return this;")();var he=function(F,it,H){if(ue(H)||Pt(H)||Hn(H))F.setAttribute(it,H+"");else throw console.error("Invalid call to Attribute.set. Key ",it,":: Value ",H,":: Element ",F),new Error("Attribute value was not simple")},Kr=function(F,it,H){he(F.dom,it,H)},br=function(F,it){F.dom.removeAttribute(it)},Ft=function(F,it){var H=it||document,pn=H.createElement("div");if(pn.innerHTML=F,!pn.hasChildNodes()||pn.childNodes.length>1)throw console.error("HTML does not have a single root node",F),new Error("HTML must have a single root node");return Xn(pn.childNodes[0])},cn=function(F,it){var H=it||document,pn=H.createElement(F);return Xn(pn)},Tn=function(F,it){var H=it||document,pn=H.createTextNode(F);return Xn(pn)},Xn=function(F){if(F==null)throw new Error("Node cannot be null or undefined");return{dom:F}},wt=function(F,it,H){return Zt.from(F.dom.elementFromPoint(it,H)).map(Xn)},tn={fromHtml:Ft,fromTag:cn,fromText:Tn,fromDom:Xn,fromPoint:wt},ae=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),qt=tinymce.util.Tools.resolve("tinymce.util.Promise"),gt=tinymce.util.Tools.resolve("tinymce.util.XHR"),Wt=function(F){return F.getParam("image_dimensions",!0,"boolean")},nt=function(F){return F.getParam("image_advtab",!1,"boolean")},Et=function(F){return F.getParam("image_uploadtab",!0,"boolean")},yt=function(F){return F.getParam("image_prepend_url","","string")},Nn=function(F){return F.getParam("image_class_list")},be=function(F){return F.getParam("image_description",!0,"boolean")},An=function(F){return F.getParam("image_title",!1,"boolean")},ar=function(F){return F.getParam("image_caption",!1,"boolean")},ze=function(F){return F.getParam("image_list",!1)},Zr=function(F){return ne(F.getParam("images_upload_url"))},Lr=function(F){return ne(F.getParam("images_upload_handler"))},yo=function(F){return F.getParam("a11y_advanced_options",!1,"boolean")},Vn=function(F){return F.getParam("automatic_uploads",!0,"boolean")},Cn=function(F,it){return Math.max(parseInt(F,10),parseInt(it,10))},ee=function(F){return new qt(function(it){var H=document.createElement("img"),pn=function(gr){H.parentNode&&H.parentNode.removeChild(H),it(gr)};H.onload=function(){var gr=Cn(H.width,H.clientWidth),Do=Cn(H.height,H.clientHeight),rr={width:gr,height:Do};pn(qt.resolve(rr))},H.onerror=function(){pn(qt.reject("Failed to get image dimensions for: "+F))};var At=H.style;At.visibility="hidden",At.position="fixed",At.bottom=At.left="0px",At.width=At.height="auto",document.body.appendChild(H),H.src=F})},Zn=function(F){return F&&(F=F.replace(/px$/,"")),F},Qn=function(F){return F.length>0&&/^[0-9]+$/.test(F)&&(F+="px"),F},Me=function(F){if(F.margin){var it=String(F.margin).split(" ");switch(it.length){case 1:F["margin-top"]=F["margin-top"]||it[0],F["margin-right"]=F["margin-right"]||it[0],F["margin-bottom"]=F["margin-bottom"]||it[0],F["margin-left"]=F["margin-left"]||it[0];break;case 2:F["margin-top"]=F["margin-top"]||it[0],F["margin-right"]=F["margin-right"]||it[1],F["margin-bottom"]=F["margin-bottom"]||it[0],F["margin-left"]=F["margin-left"]||it[1];break;case 3:F["margin-top"]=F["margin-top"]||it[0],F["margin-right"]=F["margin-right"]||it[1],F["margin-bottom"]=F["margin-bottom"]||it[2],F["margin-left"]=F["margin-left"]||it[1];break;case 4:F["margin-top"]=F["margin-top"]||it[0],F["margin-right"]=F["margin-right"]||it[1],F["margin-bottom"]=F["margin-bottom"]||it[2],F["margin-left"]=F["margin-left"]||it[3]}delete F.margin}return F},dr=function(F,it){var H=ze(F);typeof H=="string"?gt.send({url:H,success:function(pn){it(JSON.parse(pn))}}):typeof H=="function"?H(it):it(H)},zn=function(F,it,H){var pn=function(){H.onload=H.onerror=null,F.selection&&(F.selection.select(H),F.nodeChanged())};H.onload=function(){!it.width&&!it.height&&Wt(F)&&F.dom.setAttribs(H,{width:String(H.clientWidth),height:String(H.clientHeight)}),pn()},H.onerror=pn},gn=function(F){return new qt(function(it,H){var pn=new FileReader;pn.onload=function(){it(pn.result)},pn.onerror=function(){H(pn.error.message)},pn.readAsDataURL(F)})},Ee=function(F){return F.nodeName==="IMG"&&(F.hasAttribute("data-mce-object")||F.hasAttribute("data-mce-placeholder"))},ur=ae.DOM,Ir=function(F){return F.style.marginLeft&&F.style.marginRight&&F.style.marginLeft===F.style.marginRight?Zn(F.style.marginLeft):""},Nr=function(F){return F.style.marginTop&&F.style.marginBottom&&F.style.marginTop===F.style.marginBottom?Zn(F.style.marginTop):""},eo=function(F){return F.style.borderWidth?Zn(F.style.borderWidth):""},Or=function(F,it){return F.hasAttribute(it)?F.getAttribute(it):""},So=function(F,it){return F.style[it]?F.style[it]:""},Ct=function(F){return F.parentNode!==null&&F.parentNode.nodeName==="FIGURE"},rn=function(F,it,H){H===""?F.removeAttribute(it):F.setAttribute(it,H)},Yn=function(F){var it=ur.create("figure",{class:"image"});ur.insertAfter(it,F),it.appendChild(F),it.appendChild(ur.create("figcaption",{contentEditable:"true"},"Caption")),it.contentEditable="false"},Pe=function(F){var it=F.parentNode;ur.insertAfter(F,it),ur.remove(it)},fe=function(F){Ct(F)?Pe(F):Yn(F)},lr=function(F,it){var H=F.getAttribute("style"),pn=it(H!==null?H:"");pn.length>0?(F.setAttribute("style",pn),F.setAttribute("data-mce-style",pn)):F.removeAttribute("style")},wo=function(F,it){return function(H,pn,At){H.style[pn]?(H.style[pn]=Qn(At),lr(H,it)):rn(H,pn,At)}},zr=function(F,it){return F.style[it]?Zn(F.style[it]):Or(F,it)},Er=function(F,it){var H=Qn(it);F.style.marginLeft=H,F.style.marginRight=H},$o=function(F,it){var H=Qn(it);F.style.marginTop=H,F.style.marginBottom=H},Bi=function(F,it){var H=Qn(it);F.style.borderWidth=H},Eo=function(F,it){F.style.borderStyle=it},Xi=function(F){return So(F,"borderStyle")},Oo=function(F){return F.nodeName==="FIGURE"},hi=function(F){return F.nodeName==="IMG"},ii=function(F){return ur.getAttrib(F,"alt").length===0&&ur.getAttrib(F,"role")==="presentation"},cr=function(F){return ii(F)?"":Or(F,"alt")},ao=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},zo=function(F,it){var H=document.createElement("img");return rn(H,"style",it.style),(Ir(H)||it.hspace!=="")&&Er(H,it.hspace),(Nr(H)||it.vspace!=="")&&$o(H,it.vspace),(eo(H)||it.border!=="")&&Bi(H,it.border),(Xi(H)||it.borderStyle!=="")&&Eo(H,it.borderStyle),F(H.getAttribute("style"))},Ko=function(F,it){var H=document.createElement("img");if($r(F,jn(jn({},it),{caption:!1}),H),gi(H,it.alt,it.isDecorative),it.caption){var pn=ur.create("figure",{class:"image"});return pn.appendChild(H),pn.appendChild(ur.create("figcaption",{contentEditable:"true"},"Caption")),pn.contentEditable="false",pn}else return H},Xe=function(F,it){return{src:Or(it,"src"),alt:cr(it),title:Or(it,"title"),width:zr(it,"width"),height:zr(it,"height"),class:Or(it,"class"),style:F(Or(it,"style")),caption:Ct(it),hspace:Ir(it),vspace:Nr(it),border:eo(it),borderStyle:So(it,"borderStyle"),isDecorative:ii(it)}},ui=function(F,it,H,pn,At){H[pn]!==it[pn]&&At(F,pn,H[pn])},gi=function(F,it,H){if(H){ur.setAttrib(F,"role","presentation");var pn=tn.fromDom(F);Kr(pn,"alt","")}else{if(sr(it)){var pn=tn.fromDom(F);br(pn,"alt")}else{var pn=tn.fromDom(F);Kr(pn,"alt",it)}ur.getAttrib(F,"role")==="presentation"&&ur.setAttrib(F,"role","")}},Ni=function(F,it,H){(H.alt!==it.alt||H.isDecorative!==it.isDecorative)&&gi(F,H.alt,H.isDecorative)},yi=function(F,it){return function(H,pn,At){F(H,At),lr(H,it)}},$r=function(F,it,H){var pn=Xe(F,H);ui(H,pn,it,"caption",function(At,gr,Do){return fe(At)}),ui(H,pn,it,"src",rn),ui(H,pn,it,"title",rn),ui(H,pn,it,"width",wo("width",F)),ui(H,pn,it,"height",wo("height",F)),ui(H,pn,it,"class",rn),ui(H,pn,it,"style",yi(function(At,gr){return rn(At,"style",gr)},F)),ui(H,pn,it,"hspace",yi(Er,F)),ui(H,pn,it,"vspace",yi($o,F)),ui(H,pn,it,"border",yi(Bi,F)),ui(H,pn,it,"borderStyle",yi(Eo,F)),Ni(H,pn,it)},wi=function(F,it){var H=F.dom.styles.parse(it),pn=Me(H),At=F.dom.styles.parse(F.dom.styles.serialize(pn));return F.dom.styles.serialize(At)},fi=function(F){var it=F.selection.getNode(),H=F.dom.getParent(it,"figure.image");return H?F.dom.select("img",H)[0]:it&&(it.nodeName!=="IMG"||Ee(it))?null:it},vi=function(F,it){var H=F.dom,pn=le(F.schema.getTextBlockElements(),function(gr,Do){return!F.schema.isValidChild(Do,"figure")}),At=H.getParent(it.parentNode,function(gr){return Le(pn,gr.nodeName)},F.getBody());return At?H.split(At,it):it},Vi=function(F){var it=fi(F);return it?Xe(function(H){return wi(F,H)},it):ao()},Ui=function(F,it){var H=Ko(function(gr){return wi(F,gr)},it);F.dom.setAttrib(H,"data-mce-id","__mcenew"),F.focus(),F.selection.setContent(H.outerHTML);var pn=F.dom.select('*[data-mce-id="__mcenew"]')[0];if(F.dom.setAttrib(pn,"data-mce-id",null),Oo(pn)){var At=vi(F,pn);F.selection.select(At)}else F.selection.select(pn)},Wo=function(F,it){F.dom.setAttrib(it,"src",it.getAttribute("src"))},zi=function(F,it){if(it){var H=F.dom.is(it.parentNode,"figure.image")?it.parentNode:it;F.dom.remove(H),F.focus(),F.nodeChanged(),F.dom.isEmpty(F.getBody())&&(F.setContent(""),F.selection.setCursorLocation())}},lt=function(F,it){var H=fi(F);if($r(function(At){return wi(F,At)},it,H),Wo(F,H),Oo(H.parentNode)){var pn=H.parentNode;vi(F,pn),F.selection.select(H.parentNode)}else F.selection.select(H),zn(F,it,H)},L=function(F,it){var H=fi(F);if(H){var pn=Xe(function(gr){return wi(F,gr)},H),At=jn(jn({},pn),it);At.src?lt(F,At):zi(F,H)}else it.src&&Ui(F,jn(jn({},ao()),it))},q=Object.prototype.hasOwnProperty,dt=function(F,it){var H=Ie(F)&&Ie(it);return H?zt(F,it):it},_t=function(F){return function(){for(var it=[],H=0;H<arguments.length;H++)it[H]=arguments[H];if(it.length===0)throw new Error("Can't merge zero objects");for(var pn={},At=0;At<it.length;At++){var gr=it[At];for(var Do in gr)q.call(gr,Do)&&(pn[Do]=F(pn[Do],gr[Do]))}return pn}},zt=_t(dt),an=function(F){return F.length>0},P=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),Z=tinymce.util.Tools.resolve("tinymce.util.Tools"),xt=function(F){return ue(F.value)?F.value:""},at=function(F){return ue(F.text)?F.text:ue(F.title)?F.title:""},$t=function(F,it){var H=[];return Z.each(F,function(pn){var At=at(pn);if(pn.menu!==void 0){var gr=$t(pn.menu,it);H.push({text:At,items:gr})}else{var Do=it(pn);H.push({text:At,value:Do})}}),H},en=function(F){return F===void 0&&(F=xt),function(it){return it?Zt.from(it).map(function(H){return $t(H,F)}):Zt.none()}},we=function(F){return en(xt)(F)},Ze=function(F){return Object.prototype.hasOwnProperty.call(F,"items")},Pn=function(F,it){return bn(F,function(H){return Ze(H)?Pn(H.items,it):H.value===it?Zt.some(H):Zt.none()})},Qe=function(F,it){return F.bind(function(H){return Pn(H,it)})},K={sanitizer:en,sanitize:we,findEntry:Qe},St=function(F){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},Ot={makeTab:St},sn=function(F){var it=K.sanitizer(function(ou){return F.convertURL(ou.value||ou.url,"src")}),H=new qt(function(ou){dr(F,function(zs){ou(it(zs).map(function(uo){return Ve([[{text:"None",value:""}],uo])}))})}),pn=K.sanitize(Nn(F)),At=nt(F),gr=Et(F),Do=Zr(F),rr=Lr(F),ru=Vi(F),da=be(F),Ai=An(F),Du=Wt(F),mc=ar(F),Kf=yo(F),ma=Vn(F),Cr=Zt.some(yt(F)).filter(function(ou){return ue(ou)&&ou.length>0});return H.then(function(ou){return{image:ru,imageList:ou,classList:pn,hasAdvTab:At,hasUploadTab:gr,hasUploadUrl:Do,hasUploadHandler:rr,hasDescription:da,hasImageTitle:Ai,hasDimensions:Du,hasImageCaption:mc,prependURL:Cr,hasAccessibilityOptions:Kf,automaticUploads:ma}})},Ae=function(F){var it={name:"src",type:"urlinput",filetype:"image",label:"Source"},H=F.imageList.map(function(da){return{name:"images",type:"listbox",label:"Image list",items:da}}),pn={name:"alt",type:"input",label:"Alternative description",disabled:F.hasAccessibilityOptions&&F.image.isDecorative},At={name:"title",type:"input",label:"Image title"},gr={name:"dimensions",type:"sizeinput"},Do={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},rr=F.classList.map(function(da){return{name:"classes",type:"listbox",label:"Class",items:da}}),ru={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]};return Ve([[it],H.toArray(),F.hasAccessibilityOptions&&F.hasDescription?[Do]:[],F.hasDescription?[pn]:[],F.hasImageTitle?[At]:[],F.hasDimensions?[gr]:[],[{type:"grid",columns:2,items:Ve([rr.toArray(),F.hasImageCaption?[ru]:[]])}]])},_e=function(F){return{title:"General",name:"general",items:Ae(F)}},rt={makeTab:_e,makeItems:Ae},Bt=function(F){var it=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:it}},mn={makeTab:Bt},oe=function(F){return{prevImage:K.findEntry(F.imageList,F.image.src),prevAlt:F.image.alt,open:!0}},ke=function(F){return{src:{value:F.src,meta:{}},images:F.src,alt:F.alt,title:F.title,dimensions:{width:F.width,height:F.height},classes:F.class,caption:F.caption,style:F.style,vspace:F.vspace,border:F.border,hspace:F.hspace,borderstyle:F.borderStyle,fileinput:[],isDecorative:F.isDecorative}},Wn=function(F,it){return{src:F.src.value,alt:F.alt.length===0&&it?null:F.alt,title:F.title,width:F.dimensions.width,height:F.dimensions.height,class:F.classes,style:F.style,caption:F.caption,hspace:F.hspace,vspace:F.vspace,border:F.border,borderStyle:F.borderstyle,isDecorative:F.isDecorative}},fr=function(F,it){return/^(?:[a-zA-Z]+:)?\/\//.test(it)?Zt.none():F.prependURL.bind(function(H){return it.substring(0,H.length)!==H?Zt.some(H+it):Zt.none()})},mr=function(F,it){var H=it.getData();fr(F,H.src.value).each(function(pn){it.setData({src:{value:pn,meta:H.src.meta}})})},Rr=function(F,it,H){F.hasDescription&&ue(H.alt)&&(it.alt=H.alt),F.hasAccessibilityOptions&&(it.isDecorative=H.isDecorative||it.isDecorative||!1),F.hasImageTitle&&ue(H.title)&&(it.title=H.title),F.hasDimensions&&(ue(H.width)&&(it.dimensions.width=H.width),ue(H.height)&&(it.dimensions.height=H.height)),ue(H.class)&&K.findEntry(F.classList,H.class).each(function(pn){it.classes=pn.value}),F.hasImageCaption&&Pt(H.caption)&&(it.caption=H.caption),F.hasAdvTab&&(ue(H.style)&&(it.style=H.style),ue(H.vspace)&&(it.vspace=H.vspace),ue(H.border)&&(it.border=H.border),ue(H.hspace)&&(it.hspace=H.hspace),ue(H.borderstyle)&&(it.borderstyle=H.borderstyle))},xo=function(F,it){var H=it.getData(),pn=H.src.meta;if(pn!==void 0){var At=zt({},H);Rr(F,At,pn),it.setData(At)}},W=function(F,it,H,pn){var At=pn.getData(),gr=At.src.value,Do=At.src.meta||{};!Do.width&&!Do.height&&it.hasDimensions&&(an(gr)?F.imageSize(gr).then(function(rr){H.open&&pn.setData({dimensions:rr})}).catch(function(rr){return console.error(rr)}):pn.setData({dimensions:{width:"",height:""}}))},Mt=function(F,it,H){var pn=H.getData(),At=K.findEntry(F.imageList,pn.src.value);it.prevImage=At,H.setData({images:At.map(function(gr){return gr.value}).getOr("")})},Ht=function(F,it,H,pn){mr(it,pn),xo(it,pn),W(F,it,H,pn),Mt(it,H,pn)},Nt=function(F,it,H,pn){var At=pn.getData(),gr=K.findEntry(it.imageList,At.images);gr.each(function(Do){var rr=At.alt===""||H.prevImage.map(function(ru){return ru.text===At.alt}).getOr(!1);rr?Do.value===""?pn.setData({src:Do,alt:H.prevAlt}):pn.setData({src:Do,alt:Do.text}):pn.setData({src:Do})}),H.prevImage=gr,Ht(F,it,H,pn)},Gn=function(F){var it=F["margin-top"]&&F["margin-bottom"]&&F["margin-top"]===F["margin-bottom"];return it?Zn(String(F["margin-top"])):""},xr=function(F){var it=F["margin-right"]&&F["margin-left"]&&F["margin-right"]===F["margin-left"];return it?Zn(String(F["margin-right"])):""},co=function(F){return F["border-width"]?Zn(String(F["border-width"])):""},lo=function(F){return F["border-style"]?String(F["border-style"]):""},Qr=function(F,it,H){return it(F(it(H)))},ci=function(F,it,H){var pn=Me(F(H.style)),At=zt({},H);return At.vspace=Gn(pn),At.hspace=xr(pn),At.border=co(pn),At.borderstyle=lo(pn),At.style=Qr(F,it,pn),At},io=function(F,it){var H=it.getData(),pn=ci(F.parseStyle,F.serializeStyle,H);it.setData(pn)},ro=function(F,it,H){var pn=zt(ke(it.image),H.getData()),At=zo(F.normalizeCss,Wn(pn,!1));H.setData({style:At})},vu=function(F,it,H,pn){var At=pn.getData();pn.block("Uploading image"),kn(At.fileinput).fold(function(){pn.unblock()},function(gr){var Do=URL.createObjectURL(gr),rr=function(){pn.unblock(),URL.revokeObjectURL(Do)},ru=function(da){pn.setData({src:{value:da,meta:{}}}),pn.showTab("general"),Ht(F,it,H,pn)};gn(gr).then(function(da){var Ai=F.createBlobCache(gr,Do,da);it.automaticUploads?F.uploadImage(Ai).then(function(Du){ru(Du.url),rr()}).catch(function(Du){rr(),F.alertErr(Du)}):(F.addToBlobCache(Ai),ru(Ai.blobUri()),pn.unblock())})})},Gl=function(F,it,H){return function(pn,At){At.name==="src"?Ht(F,it,H,pn):At.name==="images"?Nt(F,it,H,pn):At.name==="alt"?H.prevAlt=pn.getData().alt:At.name==="style"?io(F,pn):At.name==="vspace"||At.name==="hspace"||At.name==="border"||At.name==="borderstyle"?ro(F,it,pn):At.name==="fileinput"?vu(F,it,H,pn):At.name==="isDecorative"&&(pn.getData().isDecorative?pn.disable("alt"):pn.enable("alt"))}},Kl=function(F){return function(){F.open=!1}},bm=function(F){if(F.hasAdvTab||F.hasUploadUrl||F.hasUploadHandler){var it={type:"tabpanel",tabs:Ve([[rt.makeTab(F)],F.hasAdvTab?[Ot.makeTab(F)]:[],F.hasUploadTab&&(F.hasUploadUrl||F.hasUploadHandler)?[mn.makeTab(F)]:[]])};return it}else{var H={type:"panel",items:rt.makeItems(F)};return H}},Ue=function(F){return function(it){var H=oe(it);return{title:"Insert/Edit Image",size:"normal",body:bm(it),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ke(it.image),onSubmit:F.onSubmit(it),onChange:Gl(F,it,H),onClose:Kl(H)}}},Xf=function(F){return function(it){return function(H){var pn=zt(ke(it.image),H.getData());F.execCommand("mceUpdateImage",!1,Wn(pn,it.hasAccessibilityOptions)),F.editorUpload.uploadImagesAuto(),H.close()}}},Tu=function(F){return function(it){return ee(F.documentBaseURI.toAbsolute(it)).then(function(H){return{width:String(H.width),height:String(H.height)}})}},Jl=function(F){return function(it,H,pn){return F.editorUpload.blobCache.create({blob:it,blobUri:H,name:it.name?it.name.replace(/\.[^\.]+$/,""):null,filename:it.name,base64:pn.split(",")[1]})}},Hc=function(F){return function(it){F.editorUpload.blobCache.add(it)}},Bo=function(F){return function(it){F.windowManager.alert(it)}},Wa=function(F){return function(it){return wi(F,it)}},ji=function(F){return function(it){return F.dom.parseStyle(it)}},dc=function(F){return function(it,H){return F.dom.serializeStyle(it,H)}},fa=function(F){return function(it){return P(F).upload([it],!1).then(function(H){return H.length===0?qt.reject("Failed to upload image"):H[0].status===!1?qt.reject(H[0].error):H[0]})}},bu=function(F){var it={onSubmit:Xf(F),imageSize:Tu(F),addToBlobCache:Hc(F),createBlobCache:Jl(F),alertErr:Bo(F),normalizeCss:Wa(F),parseStyle:ji(F),serializeStyle:dc(F),uploadImage:fa(F)},H=function(){sn(F).then(Ue(it)).then(F.windowManager.open)};return{open:H}},Rg=function(F){F.addCommand("mceImage",bu(F).open),F.addCommand("mceUpdateImage",function(it,H){F.undoManager.transact(function(){return L(F,H)})})},Ou=function(F){var it=F.attr("class");return it&&/\bimage\b/.test(it)},hn=function(F){return function(it){for(var H=it.length,pn=function(gr){gr.attr("contenteditable",F?"true":null)};H--;){var At=it[H];Ou(At)&&(At.attr("contenteditable",F?"false":null),Z.each(At.getAll("figcaption"),pn))}}},Gf=function(F){F.on("PreInit",function(){F.parser.addNodeFilter("figure",hn(!0)),F.serializer.addNodeFilter("figure",hn(!1))})},bi=function(F){F.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:bu(F).open,onSetup:function(it){return F.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",it.setActive).unbind}}),F.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:bu(F).open}),F.ui.registry.addContextMenu("image",{update:function(it){return Oo(it)||hi(it)&&!Ee(it)?["image"]:[]}})};function ls(){ft.add("image",function(F){Gf(F),bi(F),Rg(F)})}ls()})();(function(){var ft=function(K){var St=K,Ot=function(){return St},sn=function(Ae){St=Ae};return{get:Ot,set:sn}},jn=tinymce.util.Tools.resolve("tinymce.PluginManager"),on=tinymce.util.Tools.resolve("tinymce.util.Tools"),nn=function(){},st=function(K){return function(){return K}},Xt=st(!1),Kn=st(!0),qn=function(){return Jt},Jt=function(){var K=function(Ae){return Ae.isNone()},St=function(Ae){return Ae()},Ot=function(Ae){return Ae},sn={fold:function(Ae,_e){return Ae()},is:Xt,isSome:Xt,isNone:Kn,getOr:Ot,getOrThunk:St,getOrDie:function(Ae){throw new Error(Ae||"error: getOrDie called on none.")},getOrNull:st(null),getOrUndefined:st(void 0),or:Ot,orThunk:St,map:qn,each:nn,bind:qn,exists:Xt,forall:Kn,filter:qn,equals:K,equals_:K,toArray:function(){return[]},toString:st("none()")};return sn}(),yn=function(K){var St=st(K),Ot=function(){return Ae},sn=function(_e){return _e(K)},Ae={fold:function(_e,rt){return rt(K)},is:function(_e){return K===_e},isSome:Kn,isNone:Xt,getOr:St,getOrThunk:St,getOrDie:St,getOrNull:St,getOrUndefined:St,or:Ot,orThunk:Ot,map:function(_e){return yn(_e(K))},each:function(_e){_e(K)},bind:sn,exists:sn,forall:sn,filter:function(_e){return _e(K)?Ae:Jt},toArray:function(){return[K]},toString:function(){return"some("+K+")"},equals:function(_e){return _e.is(K)},equals_:function(_e,rt){return _e.fold(Xt,function(Bt){return rt(K,Bt)})}};return Ae},Zt=function(K){return K==null?Jt:yn(K)},Kt={some:yn,none:qn,from:Zt},tt=function(K){return function(St){return typeof St===K}},ln=function(K){return K==null},Y=function(K){return!ln(K)},jt=tt("function"),le=function(K,St){return S(document.createElement("canvas"),K,St)},Qt=function(K){var St=le(K.width,K.height),Ot=Le(St);return Ot.drawImage(K,0,0),St},Le=function(K){return K.getContext("2d")},S=function(K,St,Ot){return K.width=St,K.height=Ot,K},ce=function(K){return K.naturalWidth||K.width},Ne=function(K){return K.naturalHeight||K.height},ve=function(){var K=function(Wn){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Wn!="function")throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],ke(Wn,sn(rt,this),sn(Bt,this))},St=window,Ot=K.immediateFn||typeof St.setImmediate=="function"&&St.setImmediate||function(Wn){return setTimeout(Wn,1)},sn=function(Wn,fr){return function(){for(var mr=[],Rr=0;Rr<arguments.length;Rr++)mr[Rr]=arguments[Rr];return Wn.apply(fr,mr)}},Ae=Array.isArray||function(Wn){return Object.prototype.toString.call(Wn)==="[object Array]"};function _e(Wn){var fr=this;if(this._state===null){this._deferreds.push(Wn);return}Ot(function(){var mr=fr._state?Wn.onFulfilled:Wn.onRejected;if(mr===null){(fr._state?Wn.resolve:Wn.reject)(fr._value);return}var Rr;try{Rr=mr(fr._value)}catch(xo){Wn.reject(xo);return}Wn.resolve(Rr)})}function rt(Wn){try{if(Wn===this)throw new TypeError("A promise cannot be resolved with itself.");if(Wn&&(typeof Wn=="object"||typeof Wn=="function")){var fr=Wn.then;if(typeof fr=="function"){ke(sn(fr,Wn),sn(rt,this),sn(Bt,this));return}}this._state=!0,this._value=Wn,mn.call(this)}catch(mr){Bt.call(this,mr)}}function Bt(Wn){this._state=!1,this._value=Wn,mn.call(this)}function mn(){for(var Wn=0,fr=this._deferreds;Wn<fr.length;Wn++){var mr=fr[Wn];_e.call(this,mr)}this._deferreds=[]}function oe(Wn,fr,mr,Rr){this.onFulfilled=typeof Wn=="function"?Wn:null,this.onRejected=typeof fr=="function"?fr:null,this.resolve=mr,this.reject=Rr}var ke=function(Wn,fr,mr){var Rr=!1;try{Wn(function(xo){Rr||(Rr=!0,fr(xo))},function(xo){Rr||(Rr=!0,mr(xo))})}catch(xo){if(Rr)return;Rr=!0,mr(xo)}};return K.prototype.catch=function(Wn){return this.then(null,Wn)},K.prototype.then=function(Wn,fr){var mr=this;return new K(function(Rr,xo){_e.call(mr,new oe(Wn,fr,Rr,xo))})},K.all=function(){for(var Wn=[],fr=0;fr<arguments.length;fr++)Wn[fr]=arguments[fr];var mr=Array.prototype.slice.call(Wn.length===1&&Ae(Wn[0])?Wn[0]:Wn);return new K(function(Rr,xo){if(mr.length===0)return Rr([]);for(var W=mr.length,Mt=function(Nt,Gn){try{if(Gn&&(typeof Gn=="object"||typeof Gn=="function")){var xr=Gn.then;if(typeof xr=="function"){xr.call(Gn,function(co){Mt(Nt,co)},xo);return}}mr[Nt]=Gn,--W===0&&Rr(mr)}catch(co){xo(co)}},Ht=0;Ht<mr.length;Ht++)Mt(Ht,mr[Ht])})},K.resolve=function(Wn){return Wn&&typeof Wn=="object"&&Wn.constructor===K?Wn:new K(function(fr){fr(Wn)})},K.reject=function(Wn){return new K(function(fr,mr){mr(Wn)})},K.race=function(Wn){return new K(function(fr,mr){for(var Rr=0,xo=Wn;Rr<xo.length;Rr++){var W=xo[Rr];W.then(fr,mr)}})},K},ue=window.Promise?window.Promise:ve(),Ie=function(K){var St=K.src;return St.indexOf("data:")===0?I(St):sr(St)},wr=function(K){return new ue(function(St,Ot){var sn=URL.createObjectURL(K),Ae=new Image,_e=function(){Ae.removeEventListener("load",rt),Ae.removeEventListener("error",Bt)},rt=function(){_e(),St(Ae)},Bt=function(){_e(),Ot("Unable to load data of type "+K.type+": "+sn)};Ae.addEventListener("load",rt),Ae.addEventListener("error",Bt),Ae.src=sn,Ae.complete&&setTimeout(rt,0)})},sr=function(K){return new ue(function(St,Ot){var sn=new XMLHttpRequest;sn.open("GET",K,!0),sn.responseType="blob",sn.onload=function(){this.status===200&&St(this.response)},sn.onerror=function(){var Ae=this,_e=function(){var Bt=new Error("No access to download image");return Bt.code=18,Bt.name="SecurityError",Bt},rt=function(){return new Error("Error "+Ae.status+" downloading image")};Ot(this.status===0?_e():rt())},sn.send()})},Pt=function(K){var St=K.split(","),Ot=/data:([^;]+)/.exec(St[0]);if(!Ot)return Kt.none();for(var sn=Ot[1],Ae=St[1],_e=1024,rt=atob(Ae),Bt=rt.length,mn=Math.ceil(Bt/_e),oe=new Array(mn),ke=0;ke<mn;++ke){for(var Wn=ke*_e,fr=Math.min(Wn+_e,Bt),mr=new Array(fr-Wn),Rr=Wn,xo=0;Rr<fr;++xo,++Rr)mr[xo]=rt[Rr].charCodeAt(0);oe[ke]=new Uint8Array(mr)}return Kt.some(new Blob(oe,{type:sn}))},I=function(K){return new ue(function(St,Ot){Pt(K).fold(function(){Ot("uri is not base64: "+K)},St)})},ne=function(K,St,Ot){return St=St||"image/png",jt(HTMLCanvasElement.prototype.toBlob)?new ue(function(sn,Ae){K.toBlob(function(_e){_e?sn(_e):Ae()},St,Ot)}):I(K.toDataURL(St,Ot))},Hn=function(K,St,Ot){return St=St||"image/png",K.toDataURL(St,Ot)},He=function(K){return wr(K).then(function(St){$e(St);var Ot=le(ce(St),Ne(St)),sn=Le(Ot);return sn.drawImage(St,0,0),Ot})},Ve=function(K){return new ue(function(St){var Ot=new FileReader;Ot.onloadend=function(){St(Ot.result)},Ot.readAsDataURL(K)})},$e=function(K){URL.revokeObjectURL(K.src)},kn=function(K){return wr(K)},bn=function(K){return Ie(K)},he=function(K,St){for(var Ot=0,sn=K.length;Ot<sn;Ot++){var Ae=K[Ot];St(Ae,Ot)}},Kr=function(K,St,Ot){return he(K,function(sn){Ot=St(Ot,sn)}),Ot},br=function(K,St,Ot){for(var sn=0,Ae=K.length;sn<Ae;sn++){var _e=K[sn];if(St(_e,sn))return Kt.some(_e);if(Ot(_e,sn))break}return Kt.none()},Ft=function(K,St){return br(K,St,Xt)},cn=function(K,St,Ot){var sn=St.type,Ae=st(sn),_e=function(){return ue.resolve(St)},rt=st(Ot),Bt=function(){return Ot.split(",")[1]},mn=function(fr,mr){return K.then(function(Rr){return ne(Rr,fr,mr)})},oe=function(fr,mr){return K.then(function(Rr){return Hn(Rr,fr,mr)})},ke=function(fr,mr){return oe(fr,mr).then(function(Rr){return Rr.split(",")[1]})},Wn=function(){return K.then(Qt)};return{getType:Ae,toBlob:_e,toDataURL:rt,toBase64:Bt,toAdjustedBlob:mn,toAdjustedDataURL:oe,toAdjustedBase64:ke,toCanvas:Wn}},Tn=function(K){return Ve(K).then(function(St){return cn(He(K),K,St)})},Xn=function(K,St){return ne(K,St).then(function(Ot){return cn(ue.resolve(K),Ot,K.toDataURL())})},wt=function(K,St){return K.toCanvas().then(function(Ot){return tn(Ot,K.getType(),St)})},tn=function(K,St,Ot){var sn=le(K.width,K.height),Ae=Le(sn),_e=0,rt=0;return Ot=Ot<0?360+Ot:Ot,(Ot===90||Ot===270)&&S(sn,sn.height,sn.width),(Ot===90||Ot===180)&&(_e=sn.width),(Ot===270||Ot===180)&&(rt=sn.height),Ae.translate(_e,rt),Ae.rotate(Ot*Math.PI/180),Ae.drawImage(K,0,0),Xn(sn,St)},ae=function(K,St){return K.toCanvas().then(function(Ot){return qt(Ot,K.getType(),St)})},qt=function(K,St,Ot){var sn=le(K.width,K.height),Ae=Le(sn);return Ot==="v"?(Ae.scale(1,-1),Ae.drawImage(K,0,-sn.height)):(Ae.scale(-1,1),Ae.drawImage(K,-sn.width,0)),Xn(sn,St)},gt=function(K,St){return ae(K,St)},Wt=function(K,St){return wt(K,St)},nt=Object.keys,Et=function(K,St){for(var Ot=nt(K),sn=0,Ae=Ot.length;sn<Ae;sn++){var _e=Ot[sn],rt=K[_e];St(rt,_e)}},yt=function(K,St,Ot){return Ot===void 0&&(Ot=!1),new ue(function(sn){var Ae=new XMLHttpRequest;Ae.onreadystatechange=function(){Ae.readyState===4&&sn({status:Ae.status,blob:Ae.response})},Ae.open("GET",K,!0),Ae.withCredentials=Ot,Et(St,function(_e,rt){Ae.setRequestHeader(rt,_e)}),Ae.responseType="blob",Ae.send()})},Nn=function(K){return new ue(function(St,Ot){var sn=new FileReader;sn.onload=function(){St(sn.result)},sn.onerror=function(Ae){Ot(Ae)},sn.readAsText(K)})},be=function(K){try{return Kt.some(JSON.parse(K))}catch{return Kt.none()}},An=[{code:404,message:"Could not find Image Proxy"},{code:403,message:"Rejected request"},{code:0,message:"Incorrect Image Proxy URL"}],ar=[{type:"not_found",message:"Failed to load image."},{type:"key_missing",message:"The request did not include an api key."},{type:"key_not_found",message:"The provided api key could not be found."},{type:"domain_not_trusted",message:"The api key is not valid for the request origins."}],ze=function(K,St){var Ot=Kr(St,function(sn,Ae){return Y(sn)?sn[Ae]:void 0},K);return Kt.from(Ot)},Zr=function(K,St){return(St==null?void 0:St.type)==="application/json"&&(K===400||K===403||K===404||K===500)},Lr=function(K){var St=Ft(An,function(Ot){return K===Ot.code}).fold(st("Unknown ImageProxy error"),function(Ot){return Ot.message});return"ImageProxy HTTP error: "+St},yo=function(K){var St=Lr(K);return ue.reject(St)},Vn=function(K){return Ft(ar,function(St){return St.type===K}).fold(st("Unknown service error"),function(St){return St.message})},Cn=function(K){var St=be(K),Ot=St.bind(function(sn){return ze(sn,["error","type"]).map(Vn)}).getOr("Invalid JSON in service error message");return"ImageProxy Service error: "+Ot},ee=function(K){return Nn(K).then(function(St){var Ot=Cn(St);return ue.reject(Ot)})},Zn=function(K,St){return Zr(K,St)?ee(St):yo(K)},Qn=function(K,St){var Ot=K.indexOf("?")===-1?"?":"&";return/[?&]apiKey=/.test(K)?K:K+Ot+"apiKey="+encodeURIComponent(St)},Me=function(K){return K<200||K>=300},dr=function(K,St){var Ot={"Content-Type":"application/json;charset=UTF-8","tiny-api-key":St};return yt(Qn(K,St),Ot).then(function(sn){return Me(sn.status)?Zn(sn.status,sn.blob):ue.resolve(sn.blob)})},zn=function(K,St){return yt(K,{},St).then(function(Ot){return Me(Ot.status)?yo(Ot.status):ue.resolve(Ot.blob)})},gn=function(K,St,Ot){return Ot===void 0&&(Ot=!1),St?dr(K,St):zn(K,Ot)},Ee=function(K){return Tn(K)},ur=1,Ir=function(K,St){var Ot=St||document,sn=Ot.createElement("div");if(sn.innerHTML=K,!sn.hasChildNodes()||sn.childNodes.length>1)throw console.error("HTML does not have a single root node",K),new Error("HTML must have a single root node");return Or(sn.childNodes[0])},Nr=function(K,St){var Ot=St||document,sn=Ot.createElement(K);return Or(sn)},eo=function(K,St){var Ot=St||document,sn=Ot.createTextNode(K);return Or(sn)},Or=function(K){if(K==null)throw new Error("Node cannot be null or undefined");return{dom:K}},So=function(K,St,Ot){return Kt.from(K.dom.elementFromPoint(St,Ot)).map(Or)},Ct={fromHtml:Ir,fromTag:Nr,fromText:eo,fromDom:Or,fromPoint:So},rn=function(K,St){var Ot=K.dom;if(Ot.nodeType!==ur)return!1;var sn=Ot;if(sn.matches!==void 0)return sn.matches(St);if(sn.msMatchesSelector!==void 0)return sn.msMatchesSelector(St);if(sn.webkitMatchesSelector!==void 0)return sn.webkitMatchesSelector(St);if(sn.mozMatchesSelector!==void 0)return sn.mozMatchesSelector(St);throw new Error("Browser lacks native selectors")};typeof window!="undefined"||Function("return this;")();var Yn=function(K,St){var Ot=function(Ae){return St(Ct.fromDom(Ae))},sn=Ft(K.dom.childNodes,Ot);return sn.map(Ct.fromDom)},Pe=function(K,St){return Yn(K,function(Ot){return rn(Ot,St)})},fe=tinymce.util.Tools.resolve("tinymce.util.Delay"),lr=tinymce.util.Tools.resolve("tinymce.util.Promise"),wo=tinymce.util.Tools.resolve("tinymce.util.URI"),zr=function(K){return K.getParam("imagetools_toolbar","rotateleft rotateright flipv fliph editimage imageoptions")},Er=function(K){return K.getParam("imagetools_proxy")},$o=function(K){return K.getParam("imagetools_cors_hosts",[],"string[]")},Bi=function(K){return K.getParam("imagetools_credentials_hosts",[],"string[]")},Eo=function(K){return Kt.from(K.getParam("imagetools_fetch_image",null,"function"))},Xi=function(K){return K.getParam("api_key",K.getParam("imagetools_api_key","","string"),"string")},Oo=function(K){return K.getParam("images_upload_timeout",3e4,"number")},hi=function(K){return K.getParam("images_reuse_filename",!1,"boolean")},ii=function(K){var St,Ot,sn=function(Ae){return/^[0-9\.]+px$/.test(Ae)};return St=K.style.width,Ot=K.style.height,St||Ot?sn(St)&&sn(Ot)?{w:parseInt(St,10),h:parseInt(Ot,10)}:null:(St=K.width,Ot=K.height,St&&Ot?{w:parseInt(St,10),h:parseInt(Ot,10)}:null)},cr=function(K,St){var Ot,sn;St&&(Ot=K.style.width,sn=K.style.height,(Ot||sn)&&(K.style.width=St.w+"px",K.style.height=St.h+"px",K.removeAttribute("data-mce-style")),Ot=K.width,sn=K.height,(Ot||sn)&&(K.setAttribute("width",String(St.w)),K.setAttribute("height",String(St.h))))},ao=function(K){return{w:K.naturalWidth,h:K.naturalHeight}},zo=0,Ko=function(K){return Pe(Ct.fromDom(K),"img")},Xe=function(K,St){return K.dom.is(St,"figure")},ui=function(K,St){return K.dom.is(St,"img:not([data-mce-object],[data-mce-placeholder])")},gi=function(K,St){var Ot=function(sn){return ui(K,sn)&&(fi(K,sn)||vi(K,sn)||Y(Er(K)))};return Xe(K,St)?Ko(St).bind(function(sn){return Ot(sn.dom)?Kt.some(sn.dom):Kt.none()}):Ot(St)?Kt.some(St):Kt.none()},Ni=function(K,St){K.notificationManager.open({text:St,type:"error"})},yi=function(K){var St=K.selection.getNode(),Ot=K.dom.getParent(St,"figure.image");return Ot!==null&&Xe(K,Ot)?Ko(Ot):ui(K,St)?Kt.some(Ct.fromDom(St)):Kt.none()},$r=function(K,St,Ot){var sn=St.match(/(?:\/|^)(([^\/\?]+)\.(?:[a-z0-9.]+))(?:\?|$)/i);return Y(sn)?K.dom.encode(sn[Ot]):null},wi=function(){return"imagetools"+zo++},fi=function(K,St){var Ot=St.src;return Ot.indexOf("data:")===0||Ot.indexOf("blob:")===0||new wo(Ot).host===K.documentBaseURI.host},vi=function(K,St){return on.inArray($o(K),new wo(St.src).host)!==-1},Vi=function(K,St){return on.inArray(Bi(K),new wo(St.src).host)!==-1},Ui=function(K,St){if(vi(K,St))return gn(St.src,null,Vi(K,St));if(!fi(K,St)){var Ot=Er(K),sn=Ot+(Ot.indexOf("?")===-1?"?":"&")+"url="+encodeURIComponent(St.src),Ae=Xi(K);return gn(sn,Ae,!1)}return bn(St)},Wo=function(K,St){return Eo(K).fold(function(){return Ui(K,St)},function(Ot){return Ot(St)})},zi=function(K,St){var Ot=K.editorUpload.blobCache.getByUri(St.src);return Ot?lr.resolve(Ot.blob()):Wo(K,St)},lt=function(K,St){var Ot=fe.setEditorTimeout(K,function(){K.editorUpload.uploadImagesAuto()},Oo(K));St.set(Ot)},L=function(K){fe.clearTimeout(K.get())},q=function(K,St,Ot,sn,Ae,_e,rt){return Ot.toBlob().then(function(Bt){var mn,oe,ke,Wn,fr=K.editorUpload.blobCache;mn=_e.src;var mr=St.type===Bt.type;return hi(K)&&(Wn=fr.getByUri(mn),Y(Wn)?(mn=Wn.uri(),oe=Wn.name(),ke=Wn.filename()):(oe=$r(K,mn,2),ke=$r(K,mn,1))),Wn=fr.create({id:wi(),blob:Bt,base64:Ot.toBase64(),uri:mn,name:oe,filename:mr?ke:void 0}),fr.add(Wn),K.undoManager.transact(function(){var Rr=function(){K.$(_e).off("load",Rr),K.nodeChanged(),sn?K.editorUpload.uploadImagesAuto():(L(Ae),lt(K,Ae))};K.$(_e).on("load",Rr),rt&&K.$(_e).attr({width:rt.w,height:rt.h}),K.$(_e).attr({src:Wn.blobUri()}).removeAttr("data-mce-src")}),Wn})},dt=function(K,St,Ot,sn){return function(){var Ae=yi(K);return Ae.fold(function(){Ni(K,"Could not find selected image")},function(_e){return K._scanForImages().then(function(){return zi(K,_e.dom)}).then(function(rt){return Ee(rt).then(Ot).then(function(Bt){return q(K,rt,Bt,!1,St,_e.dom,sn)})}).catch(function(rt){Ni(K,rt)})})}},_t=function(K,St,Ot){return function(){var sn=yi(K),Ae=sn.fold(function(){return null},function(_e){var rt=ii(_e.dom);return rt?{w:rt.h,h:rt.w}:null});return dt(K,St,function(_e){return Wt(_e,Ot)},Ae)()}},zt=function(K,St,Ot){return function(){return dt(K,St,function(sn){return gt(sn,Ot)})()}},an=function(K,St,Ot,sn,Ae){return kn(Ae).then(function(_e){var rt=ao(_e);return(sn.w!==rt.w||sn.h!==rt.h)&&ii(Ot)&&cr(Ot,rt),URL.revokeObjectURL(_e.src),Ae}).then(Ee).then(function(_e){return q(K,Ae,_e,!0,St,Ot)})},P="save-state",Z="disable",xt="enable",at=function(K){return{blob:K,url:URL.createObjectURL(K)}},$t=function(K,St){return function(){var Ot=function(_e){return{title:"Edit Image",size:"large",body:{type:"panel",items:[{type:"imagetools",name:"imagetools",label:"Edit Image",currentState:_e}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0,disabled:!0}],onSubmit:function(rt){var Bt=rt.getData().imagetools.blob;sn.each(function(mn){Ae.each(function(oe){an(K,St,mn.dom,oe,Bt)})}),rt.close()},onCancel:nn,onAction:function(rt,Bt){switch(Bt.name){case P:Bt.value?rt.enable("save"):rt.disable("save");break;case Z:rt.disable("save"),rt.disable("cancel");break;case xt:rt.enable("cancel");break}}}},sn=yi(K),Ae=sn.map(function(_e){return ao(_e.dom)});sn.each(function(_e){gi(K,_e.dom).each(function(rt){zi(K,_e.dom).then(function(Bt){var mn=at(Bt);K.windowManager.open(Ot(mn))})})})}},en=function(K,St){on.each({mceImageRotateLeft:_t(K,St,-90),mceImageRotateRight:_t(K,St,90),mceImageFlipVertical:zt(K,St,"v"),mceImageFlipHorizontal:zt(K,St,"h"),mceEditImage:$t(K,St)},function(Ot,sn){K.addCommand(sn,Ot)})},we=function(K,St,Ot){K.on("NodeChange",function(sn){var Ae=Ot.get(),_e=gi(K,sn.element);Ae&&!_e.exists(function(rt){return Ae.src===rt.src})&&(L(St),K.editorUpload.uploadImagesAuto(),Ot.set(null)),_e.each(Ot.set)})},Ze=function(K){var St=function(Ot){return function(){return K.execCommand(Ot)}};K.ui.registry.addButton("rotateleft",{tooltip:"Rotate counterclockwise",icon:"rotate-left",onAction:St("mceImageRotateLeft")}),K.ui.registry.addButton("rotateright",{tooltip:"Rotate clockwise",icon:"rotate-right",onAction:St("mceImageRotateRight")}),K.ui.registry.addButton("flipv",{tooltip:"Flip vertically",icon:"flip-vertically",onAction:St("mceImageFlipVertical")}),K.ui.registry.addButton("fliph",{tooltip:"Flip horizontally",icon:"flip-horizontally",onAction:St("mceImageFlipHorizontal")}),K.ui.registry.addButton("editimage",{tooltip:"Edit image",icon:"edit-image",onAction:St("mceEditImage"),onSetup:function(Ot){var sn=function(){var Ae=yi(K).forall(function(_e){return gi(K,_e.dom).isNone()});Ot.setDisabled(Ae)};return K.on("NodeChange",sn),function(){K.off("NodeChange",sn)}}}),K.ui.registry.addButton("imageoptions",{tooltip:"Image options",icon:"image",onAction:St("mceImage")}),K.ui.registry.addContextMenu("imagetools",{update:function(Ot){return gi(K,Ot).fold(function(){return[]},function(sn){return[{text:"Edit image",icon:"edit-image",onAction:St("mceEditImage")}]})}})},Pn=function(K){K.ui.registry.addContextToolbar("imagetools",{items:zr(K),predicate:function(St){return gi(K,St).isSome()},position:"node",scope:"node"})};function Qe(){jn.add("imagetools",function(K){var St=ft(0),Ot=ft(null);en(K,St),Ze(K),Pn(K),we(K,St,Ot)})}Qe()})();(function(){var ft=tinymce.util.Tools.resolve("tinymce.PluginManager"),jn=function(S){return S.getParam("insertdatetime_dateformat",S.translate("%Y-%m-%d"))},on=function(S){return S.getParam("insertdatetime_timeformat",S.translate("%H:%M:%S"))},nn=function(S){return S.getParam("insertdatetime_formats",["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"])},st=function(S){var ce=nn(S);return ce.length>0?ce[0]:on(S)},Xt=function(S){return S.getParam("insertdatetime_element",!1)},Kn="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),qn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Jt="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),yn="January February March April May June July August September October November December".split(" "),Zt=function(S,ce){if(S=""+S,S.length<ce)for(var Ne=0;Ne<ce-S.length;Ne++)S="0"+S;return S},Kt=function(S,ce,Ne){return Ne=Ne||new Date,ce=ce.replace("%D","%m/%d/%Y"),ce=ce.replace("%r","%I:%M:%S %p"),ce=ce.replace("%Y",""+Ne.getFullYear()),ce=ce.replace("%y",""+Ne.getYear()),ce=ce.replace("%m",Zt(Ne.getMonth()+1,2)),ce=ce.replace("%d",Zt(Ne.getDate(),2)),ce=ce.replace("%H",""+Zt(Ne.getHours(),2)),ce=ce.replace("%M",""+Zt(Ne.getMinutes(),2)),ce=ce.replace("%S",""+Zt(Ne.getSeconds(),2)),ce=ce.replace("%I",""+((Ne.getHours()+11)%12+1)),ce=ce.replace("%p",Ne.getHours()<12?"AM":"PM"),ce=ce.replace("%B",""+S.translate(yn[Ne.getMonth()])),ce=ce.replace("%b",""+S.translate(Jt[Ne.getMonth()])),ce=ce.replace("%A",""+S.translate(qn[Ne.getDay()])),ce=ce.replace("%a",""+S.translate(Kn[Ne.getDay()])),ce=ce.replace("%%","%"),ce},tt=function(S,ce,Ne,ve){var ue=S.dom.create("time",{datetime:Ne},ve);ce.parentNode.insertBefore(ue,ce),S.dom.remove(ce),S.selection.select(ue,!0),S.selection.collapse(!1)},ln=function(S,ce){if(Xt(S)){var Ne=Kt(S,ce),ve=void 0;/%[HMSIp]/.test(ce)?ve=Kt(S,"%Y-%m-%dT%H:%M"):ve=Kt(S,"%Y-%m-%d");var ue=S.dom.getParent(S.selection.getStart(),"time");ue?tt(S,ue,ve,Ne):S.insertContent('<time datetime="'+ve+'">'+Ne+"</time>")}else S.insertContent(Kt(S,ce))},Y=function(S){S.addCommand("mceInsertDate",function(){ln(S,jn(S))}),S.addCommand("mceInsertTime",function(){ln(S,on(S))})},jt=function(S){var ce=S,Ne=function(){return ce},ve=function(ue){ce=ue};return{get:Ne,set:ve}},le=tinymce.util.Tools.resolve("tinymce.util.Tools"),Qt=function(S){var ce=nn(S),Ne=jt(st(S));S.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:function(ue){return ue===Ne.get()},fetch:function(ue){ue(le.map(ce,function(Ie){return{type:"choiceitem",text:Kt(S,Ie),value:Ie}}))},onAction:function(ue){ln(S,Ne.get())},onItemAction:function(ue,Ie){Ne.set(Ie),ln(S,Ie)}});var ve=function(ue){return function(){Ne.set(ue),ln(S,ue)}};S.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:function(){return le.map(ce,function(ue){return{type:"menuitem",text:Kt(S,ue),onAction:ve(ue)}})}})};function Le(){ft.add("insertdatetime",function(S){Y(S),Qt(S)})}Le()})();(function(){var ft=tinymce.util.Tools.resolve("tinymce.PluginManager"),jn=tinymce.util.Tools.resolve("tinymce.util.VK"),on=function(W){var Mt=typeof W;return W===null?"null":Mt==="object"&&(Array.prototype.isPrototypeOf(W)||W.constructor&&W.constructor.name==="Array")?"array":Mt==="object"&&(String.prototype.isPrototypeOf(W)||W.constructor&&W.constructor.name==="String")?"string":Mt},nn=function(W){return function(Mt){return on(Mt)===W}},st=function(W){return function(Mt){return typeof Mt===W}},Xt=function(W){return function(Mt){return W===Mt}},Kn=nn("string"),qn=nn("array"),Jt=Xt(null),yn=st("boolean"),Zt=st("function"),Kt=function(W){var Mt=W.getParam("link_assume_external_targets",!1);return yn(Mt)&&Mt?1:Kn(Mt)&&(Mt==="http"||Mt==="https")?Mt:0},tt=function(W){return W.getParam("link_context_toolbar",!1,"boolean")},ln=function(W){return W.getParam("link_list")},Y=function(W){return W.getParam("default_link_target")},jt=function(W){return W.getParam("target_list",!0)},le=function(W){return W.getParam("rel_list",[],"array")},Qt=function(W){return W.getParam("link_class_list",[],"array")},Le=function(W){return W.getParam("link_title",!0,"boolean")},S=function(W){return W.getParam("allow_unsafe_link_target",!1,"boolean")},ce=function(W){return W.getParam("link_quicklink",!1,"boolean")},Ne=function(W){return W.getParam("link_default_protocol","http","string")},ve=function(){},ue=function(W){return function(){return W}},Ie=ue(!1),wr=ue(!0),sr=function(){return Pt},Pt=function(){var W=function(Gn){return Gn.isNone()},Mt=function(Gn){return Gn()},Ht=function(Gn){return Gn},Nt={fold:function(Gn,xr){return Gn()},is:Ie,isSome:Ie,isNone:wr,getOr:Ht,getOrThunk:Mt,getOrDie:function(Gn){throw new Error(Gn||"error: getOrDie called on none.")},getOrNull:ue(null),getOrUndefined:ue(void 0),or:Ht,orThunk:Mt,map:sr,each:ve,bind:sr,exists:Ie,forall:wr,filter:sr,equals:W,equals_:W,toArray:function(){return[]},toString:ue("none()")};return Nt}(),I=function(W){var Mt=ue(W),Ht=function(){return Gn},Nt=function(xr){return xr(W)},Gn={fold:function(xr,co){return co(W)},is:function(xr){return W===xr},isSome:wr,isNone:Ie,getOr:Mt,getOrThunk:Mt,getOrDie:Mt,getOrNull:Mt,getOrUndefined:Mt,or:Ht,orThunk:Ht,map:function(xr){return I(xr(W))},each:function(xr){xr(W)},bind:Nt,exists:Nt,forall:Nt,filter:function(xr){return xr(W)?Gn:Pt},toArray:function(){return[W]},toString:function(){return"some("+W+")"},equals:function(xr){return xr.is(W)},equals_:function(xr,co){return xr.fold(Ie,function(lo){return co(W,lo)})}};return Gn},ne=function(W){return W==null?Pt:I(W)},Hn={some:I,none:sr,from:ne},He=Array.prototype.indexOf,Ve=Array.prototype.push,$e=function(W,Mt){return He.call(W,Mt)},kn=function(W,Mt){return $e(W,Mt)>-1},bn=function(W,Mt){for(var Ht=W.length,Nt=new Array(Ht),Gn=0;Gn<Ht;Gn++){var xr=W[Gn];Nt[Gn]=Mt(xr,Gn)}return Nt},he=function(W,Mt){for(var Ht=0,Nt=W.length;Ht<Nt;Ht++){var Gn=W[Ht];Mt(Gn,Ht)}},Kr=function(W,Mt,Ht){return he(W,function(Nt){Ht=Mt(Ht,Nt)}),Ht},br=function(W){for(var Mt=[],Ht=0,Nt=W.length;Ht<Nt;++Ht){if(!qn(W[Ht]))throw new Error("Arr.flatten item "+Ht+" was not an array, input: "+W);Ve.apply(Mt,W[Ht])}return Mt},Ft=function(W,Mt){return br(bn(W,Mt))},cn=function(W,Mt){for(var Ht=0;Ht<W.length;Ht++){var Nt=Mt(W[Ht],Ht);if(Nt.isSome())return Nt}return Hn.none()},Tn=function(W){for(var Mt=[],Ht=function(Gn){Mt.push(Gn)},Nt=0;Nt<W.length;Nt++)W[Nt].each(Ht);return Mt},Xn=function(W,Mt){return W?Hn.some(Mt):Hn.none()},wt=tinymce.util.Tools.resolve("tinymce.util.Tools"),tn=function(W){return Kn(W.value)?W.value:""},ae=function(W){return Kn(W.text)?W.text:Kn(W.title)?W.title:""},qt=function(W,Mt){var Ht=[];return wt.each(W,function(Nt){var Gn=ae(Nt);if(Nt.menu!==void 0){var xr=qt(Nt.menu,Mt);Ht.push({text:Gn,items:xr})}else{var co=Mt(Nt);Ht.push({text:Gn,value:co})}}),Ht},gt=function(W){return W===void 0&&(W=tn),function(Mt){return Hn.from(Mt).map(function(Ht){return qt(Ht,W)})}},Wt=function(W){return gt(tn)(W)},nt=function(W,Mt){return function(Ht){return{name:W,type:"listbox",label:Mt,items:Ht}}},Et={sanitize:Wt,sanitizeWith:gt,createUi:nt,getValue:tn},yt=function(){return yt=Object.assign||function(W){for(var Mt,Ht=1,Nt=arguments.length;Ht<Nt;Ht++){Mt=arguments[Ht];for(var Gn in Mt)Object.prototype.hasOwnProperty.call(Mt,Gn)&&(W[Gn]=Mt[Gn])}return W},yt.apply(this,arguments)},Nn=Object.keys,be=Object.hasOwnProperty,An=function(W,Mt){for(var Ht=Nn(W),Nt=0,Gn=Ht.length;Nt<Gn;Nt++){var xr=Ht[Nt],co=W[xr];Mt(co,xr)}},ar=function(W){return function(Mt,Ht){W[Ht]=Mt}},ze=function(W,Mt,Ht,Nt){var Gn={};return An(W,function(xr,co){(Mt(xr,co)?Ht:Nt)(xr,co)}),Gn},Zr=function(W,Mt){var Ht={};return ze(W,Mt,ar(Ht),ve),Ht},Lr=function(W,Mt){return be.call(W,Mt)},yo=function(W,Mt){return Lr(W,Mt)&&W[Mt]!==void 0&&W[Mt]!==null},Vn=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Cn=function(W){return W&&W.nodeName.toLowerCase()==="a"},ee=function(W){return Cn(W)&&!!Me(W)},Zn=function(W,Mt){if(W.collapsed)return[];var Ht=W.cloneContents(),Nt=new Vn(Ht.firstChild,Ht),Gn=[],xr=Ht.firstChild;do Mt(xr)&&Gn.push(xr);while(xr=Nt.next());return Gn},Qn=function(W){return/^\w+:/i.test(W)},Me=function(W){var Mt=W.getAttribute("data-mce-href");return Mt||W.getAttribute("href")},dr=function(W,Mt){var Ht=["noopener"],Nt=W?W.split(/\s+/):[],Gn=function(Qr){return wt.trim(Qr.sort().join(" "))},xr=function(Qr){return Qr=co(Qr),Qr.length>0?Qr.concat(Ht):Ht},co=function(Qr){return Qr.filter(function(ci){return wt.inArray(Ht,ci)===-1})},lo=Mt?xr(Nt):co(Nt);return lo.length>0?Gn(lo):""},zn=function(W){return W.replace(/\uFEFF/g,"")},gn=function(W,Mt){return Mt=Mt||W.selection.getNode(),eo(Mt)?W.dom.select("a[href]",Mt)[0]:W.dom.getParent(Mt,"a[href]")},Ee=function(W,Mt){var Ht=Mt?Mt.innerText||Mt.textContent:W.getContent({format:"text"});return zn(Ht)},ur=function(W){return wt.grep(W,ee).length>0},Ir=function(W){return Zn(W,ee).length>0},Nr=function(W){var Mt=W.schema.getTextInlineElements(),Ht=function(Gn){return Gn.nodeType===1&&!Cn(Gn)&&!Lr(Mt,Gn.nodeName.toLowerCase())},Nt=Zn(W.selection.getRng(),Ht);return Nt.length===0},eo=function(W){return W&&W.nodeName==="FIGURE"&&/\bimage\b/i.test(W.className)},Or=function(W){return Kr(["title","rel","class","target"],function(Mt,Ht){return W[Ht].each(function(Nt){Mt[Ht]=Nt.length>0?Nt:null}),Mt},{href:W.href})},So=function(W,Mt){return(Mt==="http"||Mt==="https")&&!Qn(W)?Mt+"://"+W:W},Ct=function(W,Mt){var Ht=yt({},Mt);if(!(le(W).length>0)&&S(W)===!1){var Nt=dr(Ht.rel,Ht.target==="_blank");Ht.rel=Nt||null}return Hn.from(Ht.target).isNone()&&jt(W)===!1&&(Ht.target=Y(W)),Ht.href=So(Ht.href,Kt(W)),Ht},rn=function(W,Mt,Ht,Nt){Ht.each(function(Gn){Mt.hasOwnProperty("innerText")?Mt.innerText=Gn:Mt.textContent=Gn}),W.dom.setAttribs(Mt,Nt),W.selection.select(Mt)},Yn=function(W,Mt,Ht,Nt){eo(Mt)?Bi(W,Mt,Nt):Ht.fold(function(){W.execCommand("mceInsertLink",!1,Nt)},function(Gn){W.insertContent(W.dom.createHTML("a",Nt,W.dom.encode(Gn)))})},Pe=function(W,Mt,Ht){var Nt=W.selection.getNode(),Gn=gn(W,Nt),xr=Ct(W,Or(Ht));W.undoManager.transact(function(){Ht.href===Mt.href&&Mt.attach(),Gn?(W.focus(),rn(W,Gn,Ht.text,xr)):Yn(W,Nt,Ht.text,xr)})},fe=function(W){var Mt=W.dom,Ht=W.selection,Nt=Ht.getBookmark(),Gn=Ht.getRng().cloneRange(),xr=Mt.getParent(Gn.startContainer,"a[href]",W.getBody()),co=Mt.getParent(Gn.endContainer,"a[href]",W.getBody());xr&&Gn.setStartBefore(xr),co&&Gn.setEndAfter(co),Ht.setRng(Gn),W.execCommand("unlink"),Ht.moveToBookmark(Nt)},lr=function(W){W.undoManager.transact(function(){var Mt=W.selection.getNode();eo(Mt)?$o(W,Mt):fe(W),W.focus()})},wo=function(W){var Mt=W.class,Ht=W.href,Nt=W.rel,Gn=W.target,xr=W.text,co=W.title;return Zr({class:Mt.getOrNull(),href:Ht,rel:Nt.getOrNull(),target:Gn.getOrNull(),text:xr.getOrNull(),title:co.getOrNull()},function(lo,Qr){return Jt(lo)===!1})},zr=function(W,Mt,Ht){W.hasPlugin("rtc",!0)?W.execCommand("createlink",!1,wo(Ht)):Pe(W,Mt,Ht)},Er=function(W){W.hasPlugin("rtc",!0)?W.execCommand("unlink"):lr(W)},$o=function(W,Mt){var Ht=W.dom.select("img",Mt)[0];if(Ht){var Nt=W.dom.getParents(Ht,"a[href]",Mt)[0];Nt&&(Nt.parentNode.insertBefore(Ht,Nt),W.dom.remove(Nt))}},Bi=function(W,Mt,Ht){var Nt=W.dom.select("img",Mt)[0];if(Nt){var Gn=W.dom.create("a",Ht);Nt.parentNode.insertBefore(Gn,Nt),Gn.appendChild(Nt)}},Eo=function(W){return yo(W,"items")},Xi=function(W,Mt){return cn(Mt,function(Ht){return Eo(Ht)?Xi(W,Ht.items):Xn(Ht.value===W,Ht)})},Oo=function(W,Mt,Ht,Nt){var Gn=Nt[Mt],xr=W.length>0;return Gn!==void 0?Xi(Gn,Ht).map(function(co){return{url:{value:co.value,meta:{text:xr?W:co.text,attach:ve}},text:xr?W:co.text}}):Hn.none()},hi=function(W,Mt){return Mt==="link"?W.link:Mt==="anchor"?W.anchor:Hn.none()},ii=function(W,Mt){var Ht={text:W.text,title:W.title},Nt=function(Qr){return Xn(Ht.title.length<=0,Hn.from(Qr.meta.title).getOr(""))},Gn=function(Qr){return Xn(Ht.text.length<=0,Hn.from(Qr.meta.text).getOr(Qr.value))},xr=function(Qr){var ci=Gn(Qr.url),io=Nt(Qr.url);return ci.isSome()||io.isSome()?Hn.some(yt(yt({},ci.map(function(ro){return{text:ro}}).getOr({})),io.map(function(ro){return{title:ro}}).getOr({}))):Hn.none()},co=function(Qr,ci){var io=hi(Mt,ci.name).getOr([]);return Oo(Ht.text,ci.name,io,Qr)},lo=function(Qr,ci){var io=ci.name;return io==="url"?xr(Qr()):kn(["anchor","link"],io)?co(Qr(),ci):((io==="text"||io==="title")&&(Ht[io]=Qr()[io]),Hn.none())};return{onChange:lo}},cr={init:ii,getDelta:Oo},ao=tinymce.util.Tools.resolve("tinymce.util.Delay"),zo=tinymce.util.Tools.resolve("tinymce.util.Promise"),Ko=function(W,Mt,Ht){var Nt=W.selection.getRng();ao.setEditorTimeout(W,function(){W.windowManager.confirm(Mt,function(Gn){W.selection.setRng(Nt),Ht(Gn)})})},Xe=function(W){var Mt=W.href,Ht=Mt.indexOf("@")>0&&Mt.indexOf("/")===-1&&Mt.indexOf("mailto:")===-1;return Ht?Hn.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(Nt){return yt(yt({},Nt),{href:"mailto:"+Mt})}}):Hn.none()},ui=function(W,Mt){return function(Ht){var Nt=Ht.href,Gn=W===1&&!Qn(Nt)||W===0&&/^\s*www(\.|\d\.)/i.test(Nt);return Gn?Hn.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+Mt+":// prefix?",preprocess:function(xr){return yt(yt({},xr),{href:Mt+"://"+Nt})}}):Hn.none()}},gi=function(W,Mt){return cn([Xe,ui(Kt(W),Ne(W))],function(Ht){return Ht(Mt)}).fold(function(){return zo.resolve(Mt)},function(Ht){return new zo(function(Nt){Ko(W,Ht.message,function(Gn){Nt(Gn?Ht.preprocess(Mt):Mt)})})})},Ni={preprocess:gi},yi=function(W){var Mt=W.dom.select("a:not([href])"),Ht=Ft(Mt,function(Nt){var Gn=Nt.name||Nt.id;return Gn?[{text:Gn,value:"#"+Gn}]:[]});return Ht.length>0?Hn.some([{text:"None",value:""}].concat(Ht)):Hn.none()},$r={getAnchors:yi},wi=function(W){var Mt=Qt(W);return Mt.length>0?Et.sanitize(Mt):Hn.none()},fi={getClasses:wi},vi=tinymce.util.Tools.resolve("tinymce.util.XHR"),Vi=function(W){try{return Hn.some(JSON.parse(W))}catch{return Hn.none()}},Ui=function(W){var Mt=function(Nt){return W.convertURL(Nt.value||Nt.url,"href")},Ht=ln(W);return new zo(function(Nt){Kn(Ht)?vi.send({url:Ht,success:function(Gn){return Nt(Vi(Gn))},error:function(Gn){return Nt(Hn.none())}}):Zt(Ht)?Ht(function(Gn){return Nt(Hn.some(Gn))}):Nt(Hn.from(Ht))}).then(function(Nt){return Nt.bind(Et.sanitizeWith(Mt)).map(function(Gn){if(Gn.length>0){var xr=[{text:"None",value:""}];return xr.concat(Gn)}else return Gn})})},Wo={getLinks:Ui},zi=function(W,Mt){var Ht=le(W);if(Ht.length>0){var Nt=Mt.is("_blank"),Gn=S(W)===!1,xr=function(lo){return dr(Et.getValue(lo),Nt)},co=Gn?Et.sanitizeWith(xr):Et.sanitize;return co(Ht)}return Hn.none()},lt={getRels:zi},L=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],q=function(W){var Mt=jt(W);return qn(Mt)?Et.sanitize(Mt).orThunk(function(){return Hn.some(L)}):Mt===!1?Hn.none():Hn.some(L)},dt={getTargets:q},_t=function(W,Mt,Ht){var Nt=W.getAttrib(Mt,Ht);return Nt!==null&&Nt.length>0?Hn.some(Nt):Hn.none()},zt=function(W,Mt){var Ht=W.dom,Nt=Nr(W),Gn=Nt?Hn.some(Ee(W.selection,Mt)):Hn.none(),xr=Mt?Hn.some(Ht.getAttrib(Mt,"href")):Hn.none(),co=Mt?Hn.from(Ht.getAttrib(Mt,"target")):Hn.none(),lo=_t(Ht,Mt,"rel"),Qr=_t(Ht,Mt,"class"),ci=_t(Ht,Mt,"title");return{url:xr,text:Gn,title:ci,target:co,rel:lo,linkClass:Qr}},an=function(W,Mt){return Wo.getLinks(W).then(function(Ht){var Nt=zt(W,Mt);return{anchor:Nt,catalogs:{targets:dt.getTargets(W),rels:lt.getRels(W,Nt.target),classes:fi.getClasses(W),anchor:$r.getAnchors(W),link:Ht},optNode:Hn.from(Mt),flags:{titleEnabled:Le(W)}}})},P={collect:an},Z=function(W,Mt){return function(Ht){var Nt=Ht.getData();if(!Nt.url.value){Er(W),Ht.close();return}var Gn=function(lo){return Hn.from(Nt[lo]).filter(function(Qr){return!Mt.anchor[lo].is(Qr)})},xr={href:Nt.url.value,text:Gn("text"),target:Gn("target"),rel:Gn("rel"),class:Gn("linkClass"),title:Gn("title")},co={href:Nt.url.value,attach:Nt.url.meta!==void 0&&Nt.url.meta.attach?Nt.url.meta.attach:ve};Ni.preprocess(W,xr).then(function(lo){zr(W,co,lo)}),Ht.close()}},xt=function(W){var Mt=gn(W);return P.collect(W,Mt)},at=function(W,Mt){var Ht=W.anchor,Nt=Ht.url.getOr("");return{url:{value:Nt,meta:{original:{value:Nt}}},text:Ht.text.getOr(""),title:Ht.title.getOr(""),anchor:Nt,link:Nt,rel:Ht.rel.getOr(""),target:Ht.target.or(Mt).getOr(""),linkClass:Ht.linkClass.getOr("")}},$t=function(W,Mt,Ht){var Nt=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],Gn=W.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),xr=W.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],co=Hn.from(Y(Ht)),lo=at(W,co),Qr=W.catalogs,ci=cr.init(lo,Qr),io={type:"panel",items:br([Nt,Gn,xr,Tn([Qr.anchor.map(Et.createUi("anchor","Anchors")),Qr.rels.map(Et.createUi("rel","Rel")),Qr.targets.map(Et.createUi("target","Open link in...")),Qr.link.map(Et.createUi("link","Link list")),Qr.classes.map(Et.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:io,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:lo,onChange:function(ro,vu){var Gl=vu.name;ci.onChange(ro.getData,{name:Gl}).each(function(Kl){ro.setData(Kl)})},onSubmit:Mt}},en=function(W){var Mt=xt(W);Mt.then(function(Ht){var Nt=Z(W,Ht);return $t(Ht,Nt,W)}).then(function(Ht){W.windowManager.open(Ht)})},we=function(W,Mt){document.body.appendChild(W),W.dispatchEvent(Mt),document.body.removeChild(W)},Ze=function(W){var Mt=document.createElement("a");Mt.target="_blank",Mt.href=W,Mt.rel="noreferrer noopener";var Ht=document.createEvent("MouseEvents");Ht.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),we(Mt,Ht)},Pn=function(W,Mt){return W.dom.getParent(Mt,"a[href]")},Qe=function(W){return Pn(W,W.selection.getStart())},K=function(W){return W.altKey===!0&&W.shiftKey===!1&&W.ctrlKey===!1&&W.metaKey===!1},St=function(W,Mt){if(Mt){var Ht=Me(Mt);if(/^#/.test(Ht)){var Nt=W.$(Ht);Nt.length&&W.selection.scrollIntoView(Nt[0],!0)}else Ze(Mt.href)}},Ot=function(W){return function(){en(W)}},sn=function(W){return function(){St(W,Qe(W))}},Ae=function(W){W.on("click",function(Mt){var Ht=Pn(W,Mt.target);Ht&&jn.metaKeyPressed(Mt)&&(Mt.preventDefault(),St(W,Ht))}),W.on("keydown",function(Mt){var Ht=Qe(W);Ht&&Mt.keyCode===13&&K(Mt)&&(Mt.preventDefault(),St(W,Ht))})},_e=function(W,Mt){return W.on("NodeChange",Mt),function(){return W.off("NodeChange",Mt)}},rt=function(W){return function(Mt){return _e(W,function(){Mt.setActive(!W.mode.isReadOnly()&&gn(W,W.selection.getNode())!==null)})}},Bt=function(W){return function(Mt){var Ht=function(){return Mt.setDisabled(gn(W,W.selection.getNode())===null)};return Ht(),_e(W,Ht)}},mn=function(W){return function(Mt){var Ht=function(Gn){return ur(Gn)||Ir(W.selection.getRng())},Nt=W.dom.getParents(W.selection.getStart());return Mt.setDisabled(!Ht(Nt)),_e(W,function(Gn){return Mt.setDisabled(!Ht(Gn.parents))})}},oe=function(W){W.addCommand("mceLink",function(){ce(W)?W.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):Ot(W)()})},ke=function(W){W.addShortcut("Meta+K","",function(){W.execCommand("mceLink")})},Wn=function(W){W.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:Ot(W),onSetup:rt(W)}),W.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:sn(W),onSetup:Bt(W)}),W.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return Er(W)},onSetup:mn(W)})},fr=function(W){W.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:sn(W),onSetup:Bt(W)}),W.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:Ot(W)}),W.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return Er(W)},onSetup:mn(W)})},mr=function(W){var Mt="link unlink openlink",Ht="link";W.ui.registry.addContextMenu("link",{update:function(Nt){return ur(W.dom.getParents(Nt,"a"))?Mt:Ht}})},Rr=function(W){var Mt=function(Nt){Nt.selection.collapse(!1)},Ht=function(Nt){var Gn=W.selection.getNode();return Nt.setDisabled(!gn(W,Gn)),ve};W.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:rt(W)},label:"Link",predicate:function(Nt){return!!gn(W,Nt)&&tt(W)},initValue:function(){var Nt=gn(W);return Nt?Me(Nt):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(Nt){var Gn=W.selection.getNode();return Nt.setActive(!!gn(W,Gn)),rt(W)(Nt)},onAction:function(Nt){var Gn=gn(W),xr=Nt.getValue();if(Gn)W.undoManager.transact(function(){W.dom.setAttrib(Gn,"href",xr),Mt(W),Nt.hide()});else{var co={href:xr,attach:ve},lo=Nr(W),Qr=lo?Hn.some(Ee(W.selection,Gn)).filter(function(ci){return ci.length>0}).or(Hn.from(xr)):Hn.none();zr(W,co,{href:xr,text:Qr,title:Hn.none(),rel:Hn.none(),target:Hn.none(),class:Hn.none()}),Nt.hide()}}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Ht,onAction:function(Nt){Er(W),Nt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Ht,onAction:function(Nt){sn(W)(),Nt.hide()}}]})};function xo(){ft.add("link",function(W){Wn(W),fr(W),mr(W),Rr(W),Ae(W),oe(W),ke(W)})}xo()})();(function(){var ft=tinymce.util.Tools.resolve("tinymce.PluginManager"),jn=function(){},on=function(T){return function(){return T}},nn=function(T){return function(z){return!T(z)}},st=on(!1),Xt=on(!0),Kn=function(){return qn},qn=function(){var T=function(Vt){return Vt.isNone()},z=function(Vt){return Vt()},U=function(Vt){return Vt},ht={fold:function(Vt,In){return Vt()},is:st,isSome:st,isNone:Xt,getOr:U,getOrThunk:z,getOrDie:function(Vt){throw new Error(Vt||"error: getOrDie called on none.")},getOrNull:on(null),getOrUndefined:on(void 0),or:U,orThunk:z,map:Kn,each:jn,bind:Kn,exists:st,forall:Xt,filter:Kn,equals:T,equals_:T,toArray:function(){return[]},toString:on("none()")};return ht}(),Jt=function(T){var z=on(T),U=function(){return Vt},ht=function(In){return In(T)},Vt={fold:function(In,ir){return ir(T)},is:function(In){return T===In},isSome:Xt,isNone:st,getOr:z,getOrThunk:z,getOrDie:z,getOrNull:z,getOrUndefined:z,or:U,orThunk:U,map:function(In){return Jt(In(T))},each:function(In){In(T)},bind:ht,exists:ht,forall:ht,filter:function(In){return In(T)?Vt:qn},toArray:function(){return[T]},toString:function(){return"some("+T+")"},equals:function(In){return In.is(T)},equals_:function(In,ir){return In.fold(st,function(Br){return ir(T,Br)})}};return Vt},yn=function(T){return T==null?qn:Jt(T)},Zt={some:Jt,none:Kn,from:yn},Kt=function(T){var z=typeof T;return T===null?"null":z==="object"&&(Array.prototype.isPrototypeOf(T)||T.constructor&&T.constructor.name==="Array")?"array":z==="object"&&(String.prototype.isPrototypeOf(T)||T.constructor&&T.constructor.name==="String")?"string":z},tt=function(T){return function(z){return Kt(z)===T}},ln=function(T){return function(z){return typeof z===T}},Y=tt("string"),jt=tt("array"),le=ln("boolean"),Qt=ln("function"),Le=ln("number"),S=Array.prototype.slice,ce=Array.prototype.push,Ne=function(T,z){for(var U=T.length,ht=new Array(U),Vt=0;Vt<U;Vt++){var In=T[Vt];ht[Vt]=z(In,Vt)}return ht},ve=function(T,z){for(var U=0,ht=T.length;U<ht;U++){var Vt=T[U];z(Vt,U)}},ue=function(T,z){for(var U=[],ht=0,Vt=T.length;ht<Vt;ht++){var In=T[ht];z(In,ht)&&U.push(In)}return U},Ie=function(T,z){if(T.length===0)return[];for(var U=z(T[0]),ht=[],Vt=[],In=0,ir=T.length;In<ir;In++){var Br=T[In],_r=z(Br);_r!==U&&(ht.push(Vt),Vt=[]),U=_r,Vt.push(Br)}return Vt.length!==0&&ht.push(Vt),ht},wr=function(T,z,U){return ve(T,function(ht){U=z(U,ht)}),U},sr=function(T,z,U){for(var ht=0,Vt=T.length;ht<Vt;ht++){var In=T[ht];if(z(In,ht))return Zt.some(In);if(U(In,ht))break}return Zt.none()},Pt=function(T,z){return sr(T,z,st)},I=function(T){for(var z=[],U=0,ht=T.length;U<ht;++U){if(!jt(T[U]))throw new Error("Arr.flatten item "+U+" was not an array, input: "+T);ce.apply(z,T[U])}return z},ne=function(T,z){return I(Ne(T,z))},Hn=function(T){var z=S.call(T,0);return z.reverse(),z},He=function(T,z){return z>=0&&z<T.length?Zt.some(T[z]):Zt.none()},Ve=function(T){return He(T,0)},$e=function(T){return He(T,T.length-1)},kn=function(){return kn=Object.assign||function(T){for(var z,U=1,ht=arguments.length;U<ht;U++){z=arguments[U];for(var Vt in z)Object.prototype.hasOwnProperty.call(z,Vt)&&(T[Vt]=z[Vt])}return T},kn.apply(this,arguments)};function bn(){for(var T=0,z=0,U=arguments.length;z<U;z++)T+=arguments[z].length;for(var ht=Array(T),Vt=0,z=0;z<U;z++)for(var In=arguments[z],ir=0,Br=In.length;ir<Br;ir++,Vt++)ht[Vt]=In[ir];return ht}var he=function(T){var z=!1,U;return function(){for(var ht=[],Vt=0;Vt<arguments.length;Vt++)ht[Vt]=arguments[Vt];return z||(z=!0,U=T.apply(null,ht)),U}},Kr=function(T,z,U,ht){var Vt=T.isiOS()&&/ipad/i.test(U)===!0,In=T.isiOS()&&!Vt,ir=T.isiOS()||T.isAndroid(),Br=ir||ht("(pointer:coarse)"),_r=Vt||!In&&ir&&ht("(min-device-width:768px)"),To=In||ir&&!_r,Ur=z.isSafari()&&T.isiOS()&&/safari/i.test(U)===!1,Wu=!To&&!_r&&!Ur;return{isiPad:on(Vt),isiPhone:on(In),isTablet:on(_r),isPhone:on(To),isTouch:on(Br),isAndroid:T.isAndroid,isiOS:T.isiOS,isWebView:on(Ur),isDesktop:on(Wu)}},br=function(T,z){for(var U=0;U<T.length;U++){var ht=T[U];if(ht.test(z))return ht}},Ft=function(T,z){var U=br(T,z);if(!U)return{major:0,minor:0};var ht=function(Vt){return Number(z.replace(U,"$"+Vt))};return Xn(ht(1),ht(2))},cn=function(T,z){var U=String(z).toLowerCase();return T.length===0?Tn():Ft(T,U)},Tn=function(){return Xn(0,0)},Xn=function(T,z){return{major:T,minor:z}},wt={nu:Xn,detect:cn,unknown:Tn},tn=function(T,z){var U=String(z).toLowerCase();return Pt(T,function(ht){return ht.search(U)})},ae=function(T,z){return tn(T,z).map(function(U){var ht=wt.detect(U.versionRegexes,z);return{current:U.name,version:ht}})},qt=function(T,z){return tn(T,z).map(function(U){var ht=wt.detect(U.versionRegexes,z);return{current:U.name,version:ht}})},gt={detectBrowser:ae,detectOs:qt},Wt=function(T,z){return T.indexOf(z)!==-1},nt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Et=function(T){return function(z){return Wt(z,T)}},yt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(T){return Wt(T,"edge/")&&Wt(T,"chrome")&&Wt(T,"safari")&&Wt(T,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,nt],search:function(T){return Wt(T,"chrome")&&!Wt(T,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(T){return Wt(T,"msie")||Wt(T,"trident")}},{name:"Opera",versionRegexes:[nt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Et("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Et("firefox")},{name:"Safari",versionRegexes:[nt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(T){return(Wt(T,"safari")||Wt(T,"mobile/"))&&Wt(T,"applewebkit")}}],Nn=[{name:"Windows",search:Et("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(T){return Wt(T,"iphone")||Wt(T,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Et("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Et("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Et("linux"),versionRegexes:[]},{name:"Solaris",search:Et("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Et("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Et("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],be={browsers:on(yt),oses:on(Nn)},An="Edge",ar="Chrome",ze="IE",Zr="Opera",Lr="Firefox",yo="Safari",Vn=function(){return Cn({current:void 0,version:wt.unknown()})},Cn=function(T){var z=T.current,U=T.version,ht=function(Vt){return function(){return z===Vt}};return{current:z,version:U,isEdge:ht(An),isChrome:ht(ar),isIE:ht(ze),isOpera:ht(Zr),isFirefox:ht(Lr),isSafari:ht(yo)}},ee={unknown:Vn,nu:Cn,edge:on(An),chrome:on(ar),ie:on(ze),opera:on(Zr),firefox:on(Lr),safari:on(yo)},Zn="Windows",Qn="iOS",Me="Android",dr="Linux",zn="OSX",gn="Solaris",Ee="FreeBSD",ur="ChromeOS",Ir=function(){return Nr({current:void 0,version:wt.unknown()})},Nr=function(T){var z=T.current,U=T.version,ht=function(Vt){return function(){return z===Vt}};return{current:z,version:U,isWindows:ht(Zn),isiOS:ht(Qn),isAndroid:ht(Me),isOSX:ht(zn),isLinux:ht(dr),isSolaris:ht(gn),isFreeBSD:ht(Ee),isChromeOS:ht(ur)}},eo={unknown:Ir,nu:Nr,windows:on(Zn),ios:on(Qn),android:on(Me),linux:on(dr),osx:on(zn),solaris:on(gn),freebsd:on(Ee),chromeos:on(ur)},Or=function(T,z){var U=be.browsers(),ht=be.oses(),Vt=gt.detectBrowser(U,T).fold(ee.unknown,ee.nu),In=gt.detectOs(ht,T).fold(eo.unknown,eo.nu),ir=Kr(In,Vt,T,z);return{browser:Vt,os:In,deviceType:ir}},So={detect:Or},Ct=function(T){return window.matchMedia(T).matches},rn=he(function(){return So.detect(navigator.userAgent,Ct)}),Yn=function(){return rn()},Pe=function(T,z,U){return(T.compareDocumentPosition(z)&U)!==0},fe=function(T,z){return Pe(T,z,Node.DOCUMENT_POSITION_CONTAINED_BY)},lr=1,wo=function(T,z){var U=z||document,ht=U.createElement("div");if(ht.innerHTML=T,!ht.hasChildNodes()||ht.childNodes.length>1)throw console.error("HTML does not have a single root node",T),new Error("HTML must have a single root node");return $o(ht.childNodes[0])},zr=function(T,z){var U=z||document,ht=U.createElement(T);return $o(ht)},Er=function(T,z){var U=z||document,ht=U.createTextNode(T);return $o(ht)},$o=function(T){if(T==null)throw new Error("Node cannot be null or undefined");return{dom:T}},Bi=function(T,z,U){return Zt.from(T.dom.elementFromPoint(z,U)).map($o)},Eo={fromHtml:wo,fromTag:zr,fromText:Er,fromDom:$o,fromPoint:Bi},Xi=function(T,z){var U=T.dom;if(U.nodeType!==lr)return!1;var ht=U;if(ht.matches!==void 0)return ht.matches(z);if(ht.msMatchesSelector!==void 0)return ht.msMatchesSelector(z);if(ht.webkitMatchesSelector!==void 0)return ht.webkitMatchesSelector(z);if(ht.mozMatchesSelector!==void 0)return ht.mozMatchesSelector(z);throw new Error("Browser lacks native selectors")},Oo=function(T,z){return T.dom===z.dom},hi=function(T,z){var U=T.dom,ht=z.dom;return U===ht?!1:U.contains(ht)},ii=function(T,z){return fe(T.dom,z.dom)},cr=function(T,z){return Yn().browser.isIE()?ii(T,z):hi(T,z)},ao=Xi,zo=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Ko=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Xe=tinymce.util.Tools.resolve("tinymce.util.VK"),ui=Object.keys,gi=function(T,z){for(var U=ui(T),ht=0,Vt=U.length;ht<Vt;ht++){var In=U[ht],ir=T[In];z(ir,In)}},Ni=function(T){return function(z,U){T[U]=z}},yi=function(T,z,U,ht){var Vt={};return gi(T,function(In,ir){(z(In,ir)?U:ht)(In,ir)}),Vt},$r=function(T,z){var U={};return yi(T,z,Ni(U),jn),U};typeof window!="undefined"||Function("return this;")();var wi=function(T){var z=T.dom.nodeName;return z.toLowerCase()},fi=function(T){return T.dom.nodeType},vi=function(T){return function(z){return fi(z)===T}},Vi=vi(lr),Ui=function(T,z,U){if(Y(U)||le(U)||Le(U))T.setAttribute(z,U+"");else throw console.error("Invalid call to Attribute.set. Key ",z,":: Value ",U,":: Element ",T),new Error("Attribute value was not simple")},Wo=function(T,z){var U=T.dom;gi(z,function(ht,Vt){Ui(U,Vt,ht)})},zi=function(T){return wr(T.dom.attributes,function(z,U){return z[U.name]=U.value,z},{})},lt=function(T){return Zt.from(T.dom.parentNode).map(Eo.fromDom)},L=function(T){return Ne(T.dom.childNodes,Eo.fromDom)},q=function(T,z){var U=T.dom.childNodes;return Zt.from(U[z]).map(Eo.fromDom)},dt=function(T){return q(T,0)},_t=function(T){return q(T,T.dom.childNodes.length-1)},zt=function(T,z){var U=lt(T);U.each(function(ht){ht.dom.insertBefore(z.dom,T.dom)})},an=function(T,z){T.dom.appendChild(z.dom)},P=function(T,z){ve(z,function(U){zt(T,U)})},Z=function(T,z){ve(z,function(U){an(T,U)})},xt=function(T){var z=T.dom;z.parentNode!==null&&z.parentNode.removeChild(z)},at=function(T,z){return Eo.fromDom(T.dom.cloneNode(z))},$t=function(T){return at(T,!0)},en=function(T,z){var U=Eo.fromTag(z),ht=zi(T);return Wo(U,ht),U},we=function(T,z){var U=en(T,z);zt(T,U);var ht=L(T);return Z(U,ht),xt(T),U},Ze=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Pn=tinymce.util.Tools.resolve("tinymce.util.Tools"),Qe=function(T){return function(z){return z&&z.nodeName.toLowerCase()===T}},K=function(T){return function(z){return z&&T.test(z.nodeName)}},St=function(T){return T&&T.nodeType===3},Ot=K(/^(OL|UL|DL)$/),sn=K(/^(OL|UL)$/),Ae=Qe("ol"),_e=K(/^(LI|DT|DD)$/),rt=K(/^(DT|DD)$/),Bt=K(/^(TH|TD)$/),mn=Qe("br"),oe=function(T){return T.parentNode.firstChild===T},ke=function(T,z){return z&&!!T.schema.getTextBlockElements()[z.nodeName]},Wn=function(T,z){return T&&T.nodeName in z},fr=function(T,z){return mn(z)?T.isBlock(z.nextSibling)&&!mn(z.previousSibling):!1},mr=function(T,z,U){var ht=T.isEmpty(z);return U&&T.select("span[data-mce-type=bookmark]",z).length>0?!1:ht},Rr=function(T,z){return T.isChildOf(z,T.getRoot())},xo=function(T){return T.getParam("lists_indent_on_tab",!0)},W=function(T){var z=T.getParam("forced_root_block","p");return z===!1?"":z===!0?"p":z},Mt=function(T){return T.getParam("forced_root_block_attrs",{})},Ht=function(T,z){var U=T.dom,ht=T.schema.getBlockElements(),Vt=U.createFragment(),In=W(T),ir,Br,_r;if(In&&(Br=U.create(In),Br.tagName===In.toUpperCase()&&U.setAttribs(Br,Mt(T)),Wn(z.firstChild,ht)||Vt.appendChild(Br)),z)for(;ir=z.firstChild;){var To=ir.nodeName;!_r&&(To!=="SPAN"||ir.getAttribute("data-mce-type")!=="bookmark")&&(_r=!0),Wn(ir,ht)?(Vt.appendChild(ir),Br=null):In?(Br||(Br=U.create(In),Vt.appendChild(Br)),Br.appendChild(ir)):Vt.appendChild(ir)}return In?_r||Br.appendChild(U.create("br",{"data-mce-bogus":"1"})):Vt.appendChild(U.create("br")),Vt},Nt=Ze.DOM,Gn=function(T,z,U){var ht=function(To){Pn.each(Vt,function(Ur){To.parentNode.insertBefore(Ur,U.parentNode)}),Nt.remove(To)},Vt=Nt.select('span[data-mce-type="bookmark"]',z),In=Ht(T,U),ir=Nt.createRng();ir.setStartAfter(U),ir.setEndAfter(z);for(var Br=ir.extractContents(),_r=Br.firstChild;_r;_r=_r.firstChild)if(_r.nodeName==="LI"&&T.dom.isEmpty(_r)){Nt.remove(_r);break}T.dom.isEmpty(Br)||Nt.insertAfter(Br,z),Nt.insertAfter(In,z),mr(T.dom,U.parentNode)&&ht(U.parentNode),Nt.remove(U),mr(T.dom,z)&&Nt.remove(z)},xr=function(T,z){ao(z,"dd")?we(z,"dt"):ao(z,"dt")&&lt(z).each(function(U){return Gn(T,U.dom,z.dom)})},co=function(T){ao(T,"dt")&&we(T,"dd")},lo=function(T,z,U){z==="Indent"?ve(U,co):ve(U,function(ht){return xr(T,ht)})},Qr=function(T,z){if(St(T))return{container:T,offset:z};var U=zo.getNode(T,z);return St(U)?{container:U,offset:z>=T.childNodes.length?U.data.length:0}:U.previousSibling&&St(U.previousSibling)?{container:U.previousSibling,offset:U.previousSibling.data.length}:U.nextSibling&&St(U.nextSibling)?{container:U.nextSibling,offset:0}:{container:T,offset:z}},ci=function(T){var z=T.cloneRange(),U=Qr(T.startContainer,T.startOffset);z.setStart(U.container,U.offset);var ht=Qr(T.endContainer,T.endOffset);return z.setEnd(ht.container,ht.offset),z},io=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),ro=function(T,z){var U=z||T.selection.getStart(!0);return T.dom.getParent(U,"OL,UL,DL",Tu(T,U))},vu=function(T,z){return T&&z.length===1&&z[0]===T},Gl=function(T){return Pn.grep(T.querySelectorAll("ol,ul,dl"),function(z){return Ot(z)})},Kl=function(T){var z=ro(T),U=T.selection.getSelectedBlocks();return vu(z,U)?Gl(z):Pn.grep(U,function(ht){return Ot(ht)&&z!==ht})},bm=function(T,z){var U=Pn.map(z,function(ht){var Vt=T.dom.getParent(ht,"li,dd,dt",Tu(T,ht));return Vt||ht});return io.unique(U)},Ue=function(T){var z=T.selection.getSelectedBlocks();return Pn.grep(bm(T,z),function(U){return _e(U)})},Xf=function(T){return ue(Ue(T),rt)},Tu=function(T,z){var U=T.dom.getParents(z,"TD,TH"),ht=U.length>0?U[0]:T.getBody();return ht},Jl=function(T,z){var U=T.dom.getParents(z,"ol,ul",Tu(T,z));return $e(U)},Hc=function(T){var z=Jl(T,T.selection.getStart()),U=ue(T.selection.getSelectedBlocks(),sn);return z.toArray().concat(U)},Bo=function(T){var z=Hc(T);return Wa(T,z)},Wa=function(T,z){var U=Ne(z,function(ht){return Jl(T,ht).getOr(ht)});return io.unique(U)},ji=function(T,z,U){return T.isSome()&&z.isSome()?Zt.some(U(T.getOrDie(),z.getOrDie())):Zt.none()},dc=function(T,z){var U=z||document,ht=U.createDocumentFragment();return ve(T,function(Vt){ht.appendChild(Vt.dom)}),Eo.fromDom(ht)},fa=function(T,z,U){return T.fire("ListMutation",{action:z,element:U})},bu=function(T){return T.style!==void 0&&Qt(T.style.getPropertyValue)},Rg=function(T,z,U){if(!Y(U))throw console.error("Invalid call to CSS.set. Property ",z,":: Value ",U,":: Element ",T),new Error("CSS value must be a string: "+U);bu(T)&&T.style.setProperty(z,U)},Ou=function(T,z,U){var ht=T.dom;Rg(ht,z,U)},hn=function(T,z){an(T.item,z.list)},Gf=function(T){for(var z=1;z<T.length;z++)hn(T[z-1],T[z])},bi=function(T,z){ji($e(T),Ve(z),hn)},ls=function(T,z){var U={list:Eo.fromTag(z,T),item:Eo.fromTag("li",T)};return an(U.list,U.item),U},F=function(T,z,U){for(var ht=[],Vt=0;Vt<U;Vt++)ht.push(ls(T,z.listType));return ht},it=function(T,z){for(var U=0;U<T.length-1;U++)Ou(T[U].item,"list-style-type","none");$e(T).each(function(ht){Wo(ht.list,z.listAttributes),Wo(ht.item,z.itemAttributes),Z(ht.item,z.content)})},H=function(T,z){wi(T.list)!==z.listType&&(T.list=we(T.list,z.listType)),Wo(T.list,z.listAttributes)},pn=function(T,z,U){var ht=Eo.fromTag("li",T);return Wo(ht,z),Z(ht,U),ht},At=function(T,z){an(T.list,z),T.item=z},gr=function(T,z,U){var ht=z.slice(0,U.depth);return $e(ht).each(function(Vt){var In=pn(T,U.itemAttributes,U.content);At(Vt,In),H(Vt,U)}),ht},Do=function(T,z,U){var ht=F(T,U,U.depth-z.length);return Gf(ht),it(ht,U),bi(z,ht),z.concat(ht)},rr=function(T,z){var U=wr(z,function(ht,Vt){return Vt.depth>ht.length?Do(T,ht,Vt):gr(T,ht,Vt)},[]);return Ve(U).map(function(ht){return ht.list})},ru=function(T){return ao(T,"OL,UL")},da=function(T){return dt(T).map(ru).getOr(!1)},Ai=function(T){return _t(T).map(ru).getOr(!1)},Du=function(T){return T.depth>0},mc=function(T){return T.isSelected},Kf=function(T){var z=L(T),U=Ai(T)?z.slice(0,-1):z;return Ne(U,$t)},ma=function(T,z,U){return lt(T).filter(Vi).map(function(ht){return{depth:z,dirty:!1,isSelected:U,content:Kf(T),itemAttributes:zi(T),listAttributes:zi(ht),listType:wi(ht)}})},Cr=function(T,z){switch(T){case"Indent":z.depth++;break;case"Outdent":z.depth--;break;case"Flatten":z.depth=0}z.dirty=!0},ou=function(T,z){T.listType=z.listType,T.listAttributes=kn({},z.listAttributes)},zs=function(T){T.listAttributes=$r(T.listAttributes,function(z,U){return U!=="start"})},uo=function(T,z){var U=T[z].depth,ht=function(In){return In.depth===U&&!In.dirty},Vt=function(In){return In.depth<U};return sr(Hn(T.slice(0,z)),ht,Vt).orThunk(function(){return sr(T.slice(z+1),ht,Vt)})},Mo=function(T){return ve(T,function(z,U){uo(T,U).fold(function(){z.dirty&&zs(z)},function(ht){return ou(z,ht)})}),T},Pg=function(T){var z=T,U=function(){return z},ht=function(Vt){z=Vt};return{get:U,set:ht}},Gi=function(T,z,U,ht){return dt(ht).filter(ru).fold(function(){z.each(function(ir){Oo(ir.start,ht)&&U.set(!0)});var Vt=ma(ht,T,U.get());z.each(function(ir){Oo(ir.end,ht)&&U.set(!1)});var In=_t(ht).filter(ru).map(function(ir){return ym(T,z,U,ir)}).getOr([]);return Vt.toArray().concat(In)},function(Vt){return ym(T,z,U,Vt)})},ym=function(T,z,U,ht){return ne(L(ht),function(Vt){var In=ru(Vt)?ym:Gi,ir=T+1;return In(ir,z,U,Vt)})},It=function(T,z){var U=Pg(!1),ht=0;return Ne(T,function(Vt){return{sourceList:Vt,entries:ym(ht,z,U,Vt)}})},Ti=function(T,z){var U=Mo(z);return Ne(U,function(ht){var Vt=dc(ht.content);return Eo.fromDom(Ht(T,Vt.dom))})},fs=function(T,z){var U=Mo(z);return rr(T.contentDocument,U).toArray()},dl=function(T,z){return ne(Ie(z,Du),function(U){var ht=Ve(U).map(Du).getOr(!1);return ht?fs(T,U):Ti(T,U)})},Aa=function(T,z){ve(ue(T,mc),function(U){return Cr(z,U)})},fo=function(T){var z=Ne(Ue(T),Eo.fromDom);return ji(Pt(z,nn(da)),Pt(Hn(z),nn(da)),function(U,ht){return{start:U,end:ht}})},ri=function(T,z,U){var ht=It(z,fo(T));ve(ht,function(Vt){Aa(Vt.entries,U);var In=dl(T,Vt.entries);ve(In,function(ir){fa(T,U==="Indent"?"IndentList":"OutdentList",ir.dom)}),P(Vt.sourceList,In),xt(Vt.sourceList)})},Mi=function(T,z){var U=Ne(Bo(T),Eo.fromDom),ht=Ne(Xf(T),Eo.fromDom),Vt=!1;if(U.length||ht.length){var In=T.selection.getBookmark();ri(T,U,z),lo(T,z,ht),T.selection.moveToBookmark(In),T.selection.setRng(ci(T.selection.getRng())),T.nodeChanged(),Vt=!0}return Vt},iu=function(T){return Mi(T,"Indent")},Ya=function(T){return Mi(T,"Outdent")},xi=function(T){return Mi(T,"Flatten")},re=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),gc=Ze.DOM,pc=function(T){var z={},U=function(ht){var Vt,In,ir;In=T[ht?"startContainer":"endContainer"],ir=T[ht?"startOffset":"endOffset"],In.nodeType===1&&(Vt=gc.create("span",{"data-mce-type":"bookmark"}),In.hasChildNodes()?(ir=Math.min(ir,In.childNodes.length-1),ht?In.insertBefore(Vt,In.childNodes[ir]):gc.insertAfter(Vt,In.childNodes[ir])):In.appendChild(Vt),In=Vt,ir=0),z[ht?"startContainer":"endContainer"]=In,z[ht?"startOffset":"endOffset"]=ir};return U(!0),T.collapsed||U(),z},ml=function(T){var z=function(ht){var Vt,In,ir,Br=function(_r){for(var To=_r.parentNode.firstChild,Ur=0;To;){if(To===_r)return Ur;(To.nodeType!==1||To.getAttribute("data-mce-type")!=="bookmark")&&Ur++,To=To.nextSibling}return-1};Vt=ir=T[ht?"startContainer":"endContainer"],In=T[ht?"startOffset":"endOffset"],!!Vt&&(Vt.nodeType===1&&(In=Br(Vt),Vt=Vt.parentNode,gc.remove(ir),!Vt.hasChildNodes()&&gc.isBlock(Vt)&&Vt.appendChild(gc.create("br"))),T[ht?"startContainer":"endContainer"]=Vt,T[ht?"startOffset":"endOffset"]=In)};z(!0),z();var U=gc.createRng();return U.setStart(T.startContainer,T.startOffset),T.endContainer&&U.setEnd(T.endContainer,T.endOffset),ci(U)},Ki=function(T){switch(T){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},Oi=function(T){return/\btox\-/.test(T.className)},Fe=function(T,z,U){var ht=function(In){var ir=sr(In.parents,Ot,Bt).filter(function(Br){return Br.nodeName===z&&!Oi(Br)}).isSome();U(ir)},Vt=T.dom.getParents(T.selection.getNode());return ht({parents:Vt}),T.on("NodeChange",ht),function(){return T.off("NodeChange",ht)}},hc=function(T,z,U){var ht=U["list-style-type"]?U["list-style-type"]:null;T.setStyle(z,"list-style-type",ht)},Lg=function(T,z){Pn.each(z,function(U,ht){T.setAttribute(ht,U)})},Vc=function(T,z,U){Lg(z,U["list-attributes"]),Pn.each(T.select("li",z),function(ht){Lg(ht,U["list-item-attributes"])})},$a=function(T,z,U){hc(T,z,U),Vc(T,z,U)},Ig=function(T,z,U){Pn.each(U,function(ht){var Vt;return T.setStyle(z,(Vt={},Vt[ht]="",Vt))})},vc=function(T,z,U,ht){var Vt=z[U?"startContainer":"endContainer"],In=z[U?"startOffset":"endOffset"];for(Vt.nodeType===1&&(Vt=Vt.childNodes[Math.min(In,Vt.childNodes.length-1)]||Vt),!U&&mn(Vt.nextSibling)&&(Vt=Vt.nextSibling);Vt.parentNode!==ht;){if(ke(T,Vt)||/^(TD|TH)$/.test(Vt.parentNode.nodeName))return Vt;Vt=Vt.parentNode}return Vt},Ta=function(T,z,U){for(var ht=[],Vt=T.dom,In=vc(T,z,!0,U),ir=vc(T,z,!1,U),Br,_r=[],To=In;To&&(_r.push(To),To!==ir);To=To.nextSibling);return Pn.each(_r,function(Ur){if(ke(T,Ur)){ht.push(Ur),Br=null;return}if(Vt.isBlock(Ur)||mn(Ur)){mn(Ur)&&Vt.remove(Ur),Br=null;return}var Wu=Ur.nextSibling;if(re.isBookmarkNode(Ur)&&(Ot(Wu)||ke(T,Wu)||!Wu&&Ur.parentNode===U)){Br=null;return}Br||(Br=Vt.create("p"),Ur.parentNode.insertBefore(Br,Ur),ht.push(Br)),Br.appendChild(Ur)}),ht},wm=function(T,z,U){var ht=T.getStyle(z,"list-style-type"),Vt=U?U["list-style-type"]:"";return Vt=Vt===null?"":Vt,ht===Vt},Hg=function(T,z,U){U===void 0&&(U={});var ht=T.selection.getRng(),Vt="LI",In=Tu(T,T.selection.getStart(!0)),ir=T.dom;if(ir.getContentEditable(T.selection.getNode())!=="false"){z=z.toUpperCase(),z==="DL"&&(Vt="DT");var Br=pc(ht),_r=Ta(T,ht,In);Pn.each(_r,function(To){var Ur,Wu=To.previousSibling,Dh=To.parentNode;_e(Dh)||(Wu&&Ot(Wu)&&Wu.nodeName===z&&wm(ir,Wu,U)?(Ur=Wu,To=ir.rename(To,Vt),Wu.appendChild(To)):(Ur=ir.create(z),To.parentNode.insertBefore(Ur,To),Ur.appendChild(To),To=ir.rename(To,Vt)),Ig(ir,To,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),$a(ir,Ur,U),Uc(T.dom,Ur))}),T.selection.setRng(ml(Br))}},xm=function(T,z){return T&&z&&Ot(T)&&T.nodeName===z.nodeName},Zl=function(T,z,U){var ht=T.getStyle(z,"list-style-type",!0),Vt=T.getStyle(U,"list-style-type",!0);return ht===Vt},Vg=function(T,z){return T.className===z.className},Jo=function(T,z,U){return xm(z,U)&&Zl(T,z,U)&&Vg(z,U)},Uc=function(T,z){var U,ht;if(U=z.nextSibling,Jo(T,z,U)){for(;ht=U.firstChild;)z.appendChild(ht);T.remove(U)}if(U=z.previousSibling,Jo(T,z,U)){for(;ht=U.lastChild;)z.insertBefore(ht,z.firstChild);T.remove(U)}},Oh=function(T,z,U,ht){if(z.nodeName!==U){var Vt=T.dom.rename(z,U);$a(T.dom,Vt,ht),fa(T,Ki(U),Vt)}else $a(T.dom,z,ht),fa(T,Ki(U),z)},Ji=function(T,z,U,ht,Vt){var In=Ot(z);if(In&&z.nodeName===ht&&!ds(Vt))xi(T);else{Hg(T,ht,Vt);var ir=pc(T.selection.getRng(!0)),Br=In?bn([z],U):U;Pn.each(Br,function(_r){Oh(T,_r,ht,Vt)}),T.selection.setRng(ml(ir))}},ds=function(T){return"list-style-type"in T},bc=function(T,z,U,ht){if(z!==T.getBody())if(z)if(z.nodeName===U&&!ds(ht)&&!Oi(z))xi(T);else{var Vt=pc(T.selection.getRng(!0));$a(T.dom,z,ht);var In=T.dom.rename(z,U);Uc(T.dom,In),T.selection.setRng(ml(Vt)),Hg(T,U,ht),fa(T,Ki(U),In)}else Hg(T,U,ht),fa(T,Ki(U),z)},ai=function(T,z,U){var ht=ro(T),Vt=Kl(T);U=U||{},Vt.length>0?Ji(T,ht,Vt,z,U):bc(T,ht,z,U)},Ql=Ze.DOM,Zi=function(T,z){var U,ht=z.parentNode;ht.nodeName==="LI"&&ht.firstChild===z&&(U=ht.previousSibling,U&&U.nodeName==="LI"?(U.appendChild(z),mr(T,ht)&&Ql.remove(ht)):Ql.setStyle(ht,"listStyleType","none")),Ot(ht)&&(U=ht.previousSibling,U&&U.nodeName==="LI"&&U.appendChild(z))},Cm=function(T,z){Pn.each(Pn.grep(T.select("ol,ul",z)),function(U){Zi(T,U)})},gl=function(T,z,U,ht){var Vt=z.startContainer,In=z.startOffset;if(St(Vt)&&(U?In<Vt.data.length:In>0))return Vt;var ir=T.schema.getNonEmptyElements();Vt.nodeType===1&&(Vt=zo.getNode(Vt,In));var Br=new Ko(Vt,ht);for(U&&fr(T.dom,Vt)&&Br.next();Vt=Br[U?"next":"prev2"]();)if(Vt.nodeName==="LI"&&!Vt.hasChildNodes()||ir[Vt.nodeName]||St(Vt)&&Vt.data.length>0)return Vt},Jf=function(T,z){var U=z.childNodes;return U.length===1&&!Ot(U[0])&&T.isBlock(U[0])},pl=function(T,z){Jf(T,z)&&T.remove(z.firstChild,!0)},Sm=function(T,z,U){var ht,Vt=Jf(T,U)?U.firstChild:U;if(pl(T,z),!mr(T,z,!0))for(;ht=z.firstChild;)Vt.appendChild(ht)},Ms=function(T,z,U){var ht,Vt=z.parentNode;if(!(!Rr(T,z)||!Rr(T,U))){Ot(U.lastChild)&&(ht=U.lastChild),Vt===U.lastChild&&mn(Vt.previousSibling)&&T.remove(Vt.previousSibling);var In=U.lastChild;In&&mn(In)&&z.hasChildNodes()&&T.remove(In),mr(T,U,!0)&&T.$(U).empty(),Sm(T,z,U),ht&&U.appendChild(ht);var ir=cr(Eo.fromDom(U),Eo.fromDom(z)),Br=ir?T.getParents(z,Ot,U):[];T.remove(z),ve(Br,function(_r){mr(T,_r)&&_r!==T.getRoot()&&T.remove(_r)})}},Zf=function(T,z,U){T.dom.$(U).empty(),Ms(T.dom,z,U),T.selection.setCursorLocation(U,0)},Qf=function(T,z,U,ht){var Vt=T.dom;if(Vt.isEmpty(ht))Zf(T,U,ht);else{var In=pc(z);Ms(Vt,U,ht),T.selection.setRng(ml(In))}},td=function(T,z,U,ht){var Vt=pc(z);Ms(T.dom,U,ht);var In=ml(Vt);T.selection.setRng(In)},Oa=function(T,z){var U=T.dom,ht=T.selection,Vt=ht.getStart(),In=Tu(T,Vt),ir=U.getParent(ht.getStart(),"LI",In);if(ir){var Br=ir.parentNode;if(Br===T.getBody()&&mr(U,Br))return!0;var _r=ci(ht.getRng()),To=U.getParent(gl(T,_r,z,In),"LI",In);if(To&&To!==ir)return T.undoManager.transact(function(){z?Qf(T,_r,To,ir):oe(ir)?Ya(T):td(T,_r,ir,To)}),!0;if(!To&&!z&&_r.startOffset===0&&_r.endOffset===0)return T.undoManager.transact(function(){xi(T)}),!0}return!1},qu=function(T,z,U){var ht=T.getParent(z.parentNode,T.isBlock,U);T.remove(z),ht&&T.isEmpty(ht)&&T.remove(ht)},Da=function(T,z){var U=T.dom,ht=T.selection.getStart(),Vt=Tu(T,ht),In=U.getParent(ht,U.isBlock,Vt);if(In&&U.isEmpty(In)){var ir=ci(T.selection.getRng()),Br=U.getParent(gl(T,ir,z,Vt),"LI",Vt);if(Br)return T.undoManager.transact(function(){qu(U,In,Vt),Uc(U,Br.parentNode),T.selection.select(Br,!0),T.selection.collapse(z)}),!0}return!1},_u=function(T,z){return Oa(T,z)||Da(T,z)},tf=function(T){var z=T.selection.getStart(),U=Tu(T,z),ht=T.dom.getParent(z,"LI,DT,DD",U);return ht||Ue(T).length>0?(T.undoManager.transact(function(){T.execCommand("Delete"),Cm(T.dom,T.getBody())}),!0):!1},Rs=function(T,z){return T.selection.isCollapsed()?_u(T,z):tf(T)},yc=function(T){T.on("keydown",function(z){z.keyCode===Xe.BACKSPACE?Rs(T,!1)&&z.preventDefault():z.keyCode===Xe.DELETE&&Rs(T,!0)&&z.preventDefault()})},Vr=function(T){return{backspaceDelete:function(z){Rs(T,z)}}},Xa=function(T){var z=T.dom,U=ro(T);!Ae(U)||T.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:z.getAttrib(U,"start")||"1"},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(ht){var Vt=ht.getData();T.undoManager.transact(function(){z.setAttrib(ro(T),"start",Vt.start==="1"?"":Vt.start)}),ht.close()}})},hl=function(T,z){return function(){var U=T.dom.getParent(T.selection.getStart(),"UL,OL,DL");return U&&U.nodeName===z}},km=function(T){T.on("BeforeExecCommand",function(z){var U=z.command.toLowerCase();U==="indent"?iu(T):U==="outdent"&&Ya(T)}),T.addCommand("InsertUnorderedList",function(z,U){ai(T,"UL",U)}),T.addCommand("InsertOrderedList",function(z,U){ai(T,"OL",U)}),T.addCommand("InsertDefinitionList",function(z,U){ai(T,"DL",U)}),T.addCommand("RemoveList",function(){xi(T)}),T.addCommand("mceListProps",function(){Xa(T)}),T.addQueryStateHandler("InsertUnorderedList",hl(T,"UL")),T.addQueryStateHandler("InsertOrderedList",hl(T,"OL")),T.addQueryStateHandler("InsertDefinitionList",hl(T,"DL"))},L0=function(T){T.on("keydown",function(z){z.keyCode!==Xe.TAB||Xe.metaKeyPressed(z)||T.undoManager.transact(function(){(z.shiftKey?Ya(T):iu(T))&&z.preventDefault()})})},vl=function(T){xo(T)&&L0(T),yc(T)},I0=function(T){var z=function(U){return function(){return T.execCommand(U)}};T.hasPlugin("advlist")||(T.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:z("InsertOrderedList"),onSetup:function(U){return Fe(T,"OL",U.setActive)}}),T.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:z("InsertUnorderedList"),onSetup:function(U){return Fe(T,"UL",U.setActive)}}))},nf=function(T){var z={text:"List properties...",icon:"ordered-list",onAction:function(){return Xa(T)},onSetup:function(U){return Fe(T,"OL",function(ht){return U.setDisabled(!ht)})}};T.ui.registry.addMenuItem("listprops",z),T.ui.registry.addContextMenu("lists",{update:function(U){var ht=ro(T,U);return Ae(ht)?["listprops"]:[]}})};function Ga(){ft.add("lists",function(T){return T.hasPlugin("rtc",!0)===!1&&(vl(T),km(T)),I0(T),nf(T),Vr(T)})}Ga()})();(function(){var ft=tinymce.util.Tools.resolve("tinymce.PluginManager"),jn=function(){return jn=Object.assign||function(lt){for(var L,q=1,dt=arguments.length;q<dt;q++){L=arguments[q];for(var _t in L)Object.prototype.hasOwnProperty.call(L,_t)&&(lt[_t]=L[_t])}return lt},jn.apply(this,arguments)},on=function(){},nn=function(lt){return function(){return lt}},st=nn(!1),Xt=nn(!0),Kn=function(){return qn},qn=function(){var lt=function(_t){return _t.isNone()},L=function(_t){return _t()},q=function(_t){return _t},dt={fold:function(_t,zt){return _t()},is:st,isSome:st,isNone:Xt,getOr:q,getOrThunk:L,getOrDie:function(_t){throw new Error(_t||"error: getOrDie called on none.")},getOrNull:nn(null),getOrUndefined:nn(void 0),or:q,orThunk:L,map:Kn,each:on,bind:Kn,exists:st,forall:Xt,filter:Kn,equals:lt,equals_:lt,toArray:function(){return[]},toString:nn("none()")};return dt}(),Jt=function(lt){var L=nn(lt),q=function(){return _t},dt=function(zt){return zt(lt)},_t={fold:function(zt,an){return an(lt)},is:function(zt){return lt===zt},isSome:Xt,isNone:st,getOr:L,getOrThunk:L,getOrDie:L,getOrNull:L,getOrUndefined:L,or:q,orThunk:q,map:function(zt){return Jt(zt(lt))},each:function(zt){zt(lt)},bind:dt,exists:dt,forall:dt,filter:function(zt){return zt(lt)?_t:qn},toArray:function(){return[lt]},toString:function(){return"some("+lt+")"},equals:function(zt){return zt.is(lt)},equals_:function(zt,an){return zt.fold(st,function(P){return an(lt,P)})}};return _t},yn=function(lt){return lt==null?qn:Jt(lt)},Zt={some:Jt,none:Kn,from:yn},Kt=function(lt){var L=typeof lt;return lt===null?"null":L==="object"&&(Array.prototype.isPrototypeOf(lt)||lt.constructor&&lt.constructor.name==="Array")?"array":L==="object"&&(String.prototype.isPrototypeOf(lt)||lt.constructor&&lt.constructor.name==="String")?"string":L},tt=function(lt){return function(L){return Kt(L)===lt}},ln=tt("string"),Y=tt("object"),jt=tt("array"),le=function(lt){return lt==null},Qt=function(lt){return!le(lt)},Le=Array.prototype.push,S=function(lt,L){for(var q=0,dt=lt.length;q<dt;q++){var _t=lt[q];L(_t,q)}},ce=function(lt){for(var L=[],q=0,dt=lt.length;q<dt;++q){if(!jt(lt[q]))throw new Error("Arr.flatten item "+q+" was not an array, input: "+lt);Le.apply(L,lt[q])}return L},Ne=function(lt){var L=lt,q=function(){return L},dt=function(_t){L=_t};return{get:q,set:dt}},ve=Object.keys,ue=Object.hasOwnProperty,Ie=function(lt,L){for(var q=ve(lt),dt=0,_t=q.length;dt<_t;dt++){var zt=q[dt],an=lt[zt];L(an,zt)}},wr=function(lt){return function(L,q){lt[q]=L}},sr=function(lt,L,q,dt){var _t={};return Ie(lt,function(zt,an){(L(zt,an)?q:dt)(zt,an)}),_t},Pt=function(lt,L){var q={};return sr(lt,L,wr(q),on),q},I=function(lt,L){return ne(lt,L)?Zt.from(lt[L]):Zt.none()},ne=function(lt,L){return ue.call(lt,L)},Hn=function(lt){return lt.getParam("media_scripts")},He=function(lt){return lt.getParam("audio_template_callback")},Ve=function(lt){return lt.getParam("video_template_callback")},$e=function(lt){return lt.getParam("media_live_embeds",!0)},kn=function(lt){return lt.getParam("media_filter_html",!0)},bn=function(lt){return lt.getParam("media_url_resolver")},he=function(lt){return lt.getParam("media_alt_source",!0)},Kr=function(lt){return lt.getParam("media_poster",!0)},br=function(lt){return lt.getParam("media_dimensions",!0)},Ft=tinymce.util.Tools.resolve("tinymce.util.Tools"),cn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Tn=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),Xn=function(lt,L){if(lt){for(var q=0;q<lt.length;q++)if(L.indexOf(lt[q].filter)!==-1)return lt[q]}},wt=cn.DOM,tn=function(lt){return lt.replace(/px$/,"")},ae=function(lt){var L=lt.map.style,q=L?wt.parseStyle(L):{};return{type:"ephox-embed-iri",source:lt.map["data-ephox-embed-iri"],altsource:"",poster:"",width:I(q,"max-width").map(tn).getOr(""),height:I(q,"max-height").map(tn).getOr("")}},qt=function(lt,L){var q=Ne(!1),dt={};return Tn({validate:!1,allow_conditional_comments:!0,start:function(_t,zt){if(!q.get())if(ne(zt.map,"data-ephox-embed-iri"))q.set(!0),dt=ae(zt);else{if(!dt.source&&_t==="param"&&(dt.source=zt.map.movie),(_t==="iframe"||_t==="object"||_t==="embed"||_t==="video"||_t==="audio")&&(dt.type||(dt.type=_t),dt=Ft.extend(zt.map,dt)),_t==="script"){var an=Xn(lt,zt.map.src);if(!an)return;dt={type:"script",source:zt.map.src,width:String(an.width),height:String(an.height)}}_t==="source"&&(dt.source?dt.altsource||(dt.altsource=zt.map.src):dt.source=zt.map.src),_t==="img"&&!dt.poster&&(dt.poster=zt.map.src)}}}).parse(L),dt.source=dt.source||dt.src||dt.data,dt.altsource=dt.altsource||"",dt.poster=dt.poster||"",dt},gt=function(lt){var L={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},q=lt.toLowerCase().split(".").pop(),dt=L[q];return dt||""},Wt=tinymce.util.Tools.resolve("tinymce.html.Schema"),nt=tinymce.util.Tools.resolve("tinymce.html.Writer"),Et=cn.DOM,yt=function(lt){return/^[0-9.]+$/.test(lt)?lt+"px":lt},Nn=function(lt,L){Ie(L,function(q,dt){var _t=""+q;if(lt.map[dt])for(var zt=lt.length;zt--;){var an=lt[zt];an.name===dt&&(_t?(lt.map[dt]=_t,an.value=_t):(delete lt.map[dt],lt.splice(zt,1)))}else _t&&(lt.push({name:dt,value:_t}),lt.map[dt]=_t)})},be=function(lt,L){var q=L.map.style,dt=q?Et.parseStyle(q):{};dt["max-width"]=yt(lt.width),dt["max-height"]=yt(lt.height),Nn(L,{style:Et.serializeStyle(dt)})},An=["source","altsource"],ar=function(lt,L,q){var dt=nt(),_t=Ne(!1),zt=0,an;return Tn({validate:!1,allow_conditional_comments:!0,comment:function(P){dt.comment(P)},cdata:function(P){dt.cdata(P)},text:function(P,Z){dt.text(P,Z)},start:function(P,Z,xt){if(!_t.get())if(ne(Z.map,"data-ephox-embed-iri"))_t.set(!0),be(L,Z);else{switch(P){case"video":case"object":case"embed":case"img":case"iframe":L.height!==void 0&&L.width!==void 0&&Nn(Z,{width:L.width,height:L.height});break}if(q)switch(P){case"video":Nn(Z,{poster:L.poster,src:""}),L.altsource&&Nn(Z,{src:""});break;case"iframe":Nn(Z,{src:L.source});break;case"source":if(zt<2&&(Nn(Z,{src:L[An[zt]],type:L[An[zt]+"mime"]}),!L[An[zt]]))return;zt++;break;case"img":if(!L.poster)return;an=!0;break}}dt.start(P,Z,xt)},end:function(P){if(!_t.get()){if(P==="video"&&q){for(var Z=0;Z<2;Z++)if(L[An[Z]]){var xt=[];xt.map={},zt<=Z&&(Nn(xt,{src:L[An[Z]],type:L[An[Z]+"mime"]}),dt.start("source",xt,!0))}}if(L.poster&&P==="object"&&q&&!an){var at=[];at.map={},Nn(at,{src:L.poster,width:L.width,height:L.height}),dt.start("img",at,!0)}}dt.end(P)}},Wt({})).parse(lt),dt.getContent()},ze=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Zr=function(lt){var L=lt.match(/^(https?:\/\/|www\.)(.+)$/i);return L&&L.length>1?L[1]==="www."?"https://":L[1]:"https://"},Lr=function(lt,L){for(var q=Zr(L),dt=lt.regex.exec(L),_t=q+lt.url,zt=function(P){_t=_t.replace("$"+P,function(){return dt[P]?dt[P]:""})},an=0;an<dt.length;an++)zt(an);return _t.replace(/\?$/,"")},yo=function(lt){var L=ze.filter(function(q){return q.regex.test(lt)});return L.length>0?Ft.extend({},L[0],{url:Lr(L[0],lt)}):null},Vn=function(lt){var L=lt.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+lt.source+'" width="'+lt.width+'" height="'+lt.height+'"'+L+"></iframe>"},Cn=function(lt){var L='<object data="'+lt.source+'" width="'+lt.width+'" height="'+lt.height+'" type="application/x-shockwave-flash">';return lt.poster&&(L+='<img src="'+lt.poster+'" width="'+lt.width+'" height="'+lt.height+'" />'),L+="</object>",L},ee=function(lt,L){return L?L(lt):'<audio controls="controls" src="'+lt.source+'">'+(lt.altsource?`
<source src="`+lt.altsource+'"'+(lt.altsourcemime?' type="'+lt.altsourcemime+'"':"")+` />
`:"")+"</audio>"},Zn=function(lt,L){return L?L(lt):'<video width="'+lt.width+'" height="'+lt.height+'"'+(lt.poster?' poster="'+lt.poster+'"':"")+` controls="controls">
<source src="`+lt.source+'"'+(lt.sourcemime?' type="'+lt.sourcemime+'"':"")+` />
`+(lt.altsource?'<source src="'+lt.altsource+'"'+(lt.altsourcemime?' type="'+lt.altsourcemime+'"':"")+` />
`:"")+"</video>"},Qn=function(lt){return'<script src="'+lt.source+'"><\/script>'},Me=function(lt,L){var q=Ft.extend({},L);if(!q.source&&(Ft.extend(q,qt(Hn(lt),q.embed)),!q.source))return"";q.altsource||(q.altsource=""),q.poster||(q.poster=""),q.source=lt.convertURL(q.source,"source"),q.altsource=lt.convertURL(q.altsource,"source"),q.sourcemime=gt(q.source),q.altsourcemime=gt(q.altsource),q.poster=lt.convertURL(q.poster,"poster");var dt=yo(q.source);if(dt&&(q.source=dt.url,q.type=dt.type,q.allowfullscreen=dt.allowFullscreen,q.width=q.width||String(dt.w),q.height=q.height||String(dt.h)),q.embed)return ar(q.embed,q,!0);var _t=Xn(Hn(lt),q.source);_t&&(q.type="script",q.width=String(_t.width),q.height=String(_t.height));var zt=He(lt),an=Ve(lt);return q.width=q.width||"300",q.height=q.height||"150",Ft.each(q,function(P,Z){q[Z]=lt.dom.encode(""+P)}),q.type==="iframe"?Vn(q):q.sourcemime==="application/x-shockwave-flash"?Cn(q):q.sourcemime.indexOf("audio")!==-1?ee(q,zt):q.type==="script"?Qn(q):Zn(q,an)},dr=tinymce.util.Tools.resolve("tinymce.util.Promise"),zn={},gn=function(lt,L,q){return new dr(function(dt,_t){var zt=function(an){return an.html&&(zn[lt.source]=an),dt({url:lt.source,html:an.html?an.html:L(lt)})};zn[lt.source]?zt(zn[lt.source]):q({url:lt.source},zt,_t)})},Ee=function(lt,L){return new dr(function(q){q({html:L(lt),url:lt.source})})},ur=function(lt){return function(L){return Me(lt,L)}},Ir=function(lt,L){var q=bn(lt);return q?gn(L,ur(lt),q):Ee(L,ur(lt))},Nr=function(lt){return zn.hasOwnProperty(lt)},eo=function(lt,L){return I(L,lt).bind(function(q){return I(q,"meta")})},Or=function(lt,L,q){return function(dt){var _t,zt=function(){return I(lt,dt)},an=function(){return I(L,dt)},P=function(at){return I(at,"value").bind(function($t){return $t.length>0?Zt.some($t):Zt.none()})},Z=function(){return zt().bind(function(at){return Y(at)?P(at).orThunk(an):an().orThunk(function(){return Zt.from(at)})})},xt=function(){return an().orThunk(function(){return zt().bind(function(at){return Y(at)?P(at):Zt.from(at)})})};return _t={},_t[dt]=(dt===q?Z():xt()).getOr(""),_t}},So=function(lt,L){var q={};return I(lt,"dimensions").each(function(dt){S(["width","height"],function(_t){I(L,_t).orThunk(function(){return I(dt,_t)}).each(function(zt){return q[_t]=zt})})}),q},Ct=function(lt,L){var q=L?eo(L,lt).getOr({}):{},dt=Or(lt,q,L);return jn(jn(jn(jn(jn({},dt("source")),dt("altsource")),dt("poster")),dt("embed")),So(lt,q))},rn=function(lt){var L=jn(jn({},lt),{source:{value:I(lt,"source").getOr("")},altsource:{value:I(lt,"altsource").getOr("")},poster:{value:I(lt,"poster").getOr("")}});return S(["width","height"],function(q){I(lt,q).each(function(dt){var _t=L.dimensions||{};_t[q]=dt,L.dimensions=_t})}),L},Yn=function(lt){return function(L){var q=L&&L.msg?"Media embed handler error: "+L.msg:"Media embed handler threw unknown error.";lt.notificationManager.open({type:"error",text:q})}},Pe=function(lt,L){return qt(Hn(lt),L)},fe=function(lt){return lt.getAttribute("data-mce-object")||lt.getAttribute("data-ephox-embed-iri")},lr=function(lt){var L=lt.selection.getNode(),q=fe(L)?lt.serializer.serialize(L,{selection:!0}):"";return jn({embed:q},qt(Hn(lt),q))},wo=function(lt,L){return function(q){if(ln(q.url)&&q.url.trim().length>0){var dt=q.html,_t=Pe(L,dt),zt=jn(jn({},_t),{source:q.url,embed:dt});lt.setData(rn(zt))}}},zr=function(lt,L){for(var q=lt.dom.select("*[data-mce-object]"),dt=0;dt<L.length;dt++)for(var _t=q.length-1;_t>=0;_t--)L[dt]===q[_t]&&q.splice(_t,1);lt.selection.select(q[0])},Er=function(lt,L){var q=lt.dom.select("*[data-mce-object]");lt.insertContent(L),zr(lt,q),lt.nodeChanged()},$o=function(lt,L,q){L.embed=ar(L.embed,L),L.embed&&(lt.source===L.source||Nr(L.source))?Er(q,L.embed):Ir(q,L).then(function(dt){Er(q,dt.html)}).catch(Yn(q))},Bi=function(lt){var L=lr(lt),q=Ne(L),dt=rn(L),_t=function(K,St){var Ot=Ct(St.getData(),"source");K.source!==Ot.source&&(wo(Qe,lt)({url:Ot.source,html:""}),Ir(lt,Ot).then(wo(Qe,lt)).catch(Yn(lt)))},zt=function(K){var St=Ct(K.getData()),Ot=Pe(lt,St.embed);K.setData(rn(Ot))},an=function(K,St){var Ot=Ct(K.getData(),St),sn=Me(lt,Ot);K.setData(rn(jn(jn({},Ot),{embed:sn})))},P=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],Z=br(lt)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],xt={title:"General",name:"general",items:ce([P,Z])},at={type:"textarea",name:"embed",label:"Paste your embed code below:"},$t={title:"Embed",items:[at]},en=[];he(lt)&&en.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),Kr(lt)&&en.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var we={title:"Advanced",name:"advanced",items:en},Ze=[xt,$t];en.length>0&&Ze.push(we);var Pn={type:"tabpanel",tabs:Ze},Qe=lt.windowManager.open({title:"Insert/Edit Media",size:"normal",body:Pn,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(K){var St=Ct(K.getData());$o(q.get(),St,lt),K.close()},onChange:function(K,St){switch(St.name){case"source":_t(q.get(),K);break;case"embed":zt(K);break;case"dimensions":case"altsource":case"poster":an(K,St.name);break}q.set(Ct(K.getData()))},initialData:dt})},Eo=function(lt){var L=function(){Bi(lt)};return{showDialog:L}},Xi=function(lt){var L=function(){Bi(lt)};lt.addCommand("mceMedia",L)},Oo=tinymce.util.Tools.resolve("tinymce.html.Node"),hi=tinymce.util.Tools.resolve("tinymce.Env"),ii=tinymce.util.Tools.resolve("tinymce.html.DomParser"),cr=function(lt,L){if(kn(lt)===!1)return L;var q=nt(),dt;return Tn({validate:!1,allow_conditional_comments:!1,comment:function(_t){dt||q.comment(_t)},cdata:function(_t){dt||q.cdata(_t)},text:function(_t,zt){dt||q.text(_t,zt)},start:function(_t,zt,an){if(dt=!0,!(_t==="script"||_t==="noscript"||_t==="svg")){for(var P=zt.length-1;P>=0;P--){var Z=zt[P].name;Z.indexOf("on")===0&&(delete zt.map[Z],zt.splice(P,1)),Z==="style"&&(zt[P].value=lt.dom.serializeStyle(lt.dom.parseStyle(zt[P].value),_t))}q.start(_t,zt,an),dt=!1}},end:function(_t){dt||q.end(_t)}},Wt({})).parse(L),q.getContent()},ao=function(lt){var L=lt.name;return L==="iframe"||L==="video"||L==="audio"},zo=function(lt,L,q,dt){dt===void 0&&(dt=null);var _t=lt.attr(q);return Qt(_t)?_t:ne(L,q)?null:dt},Ko=function(lt,L,q){var dt=L.name==="img"||lt.name==="video",_t=dt?"300":null,zt=lt.name==="audio"?"30":"150",an=dt?zt:null;L.attr({width:zo(lt,q,"width",_t),height:zo(lt,q,"height",an)})},Xe=function(lt,L,q,dt){for(var _t=ii({forced_root_block:!1,validate:!1},lt.schema).parse(dt,{context:L});_t.firstChild;)q.append(_t.firstChild)},ui=function(lt,L){var q=L.name,dt=new Oo("img",1);return dt.shortEnded=!0,Ni(lt,L,dt),Ko(L,dt,{}),dt.attr({style:L.attr("style"),src:hi.transparentSrc,"data-mce-object":q,class:"mce-object mce-object-"+q}),dt},gi=function(lt,L){var q=L.name,dt=lt.dom.parseStyle(L.attr("style")),_t=Pt(dt,function(at,$t){return $t!=="width"&&$t!=="height"}),zt=new Oo("span",1);zt.attr({contentEditable:"false",style:lt.dom.serializeStyle(_t),"data-mce-object":q,class:"mce-preview-object mce-object-"+q}),Ni(lt,L,zt);var an=new Oo(q,1);if(Ko(L,an,dt),an.attr({src:L.attr("src"),style:L.attr("style"),class:L.attr("class")}),q==="iframe")an.attr({allowfullscreen:L.attr("allowfullscreen"),frameborder:"0"});else{var P=["controls","crossorigin","currentTime","loop","muted","poster","preload"];S(P,function(at){an.attr(at,L.attr(at))});var Z=zt.attr("data-mce-html");Qt(Z)&&Xe(lt,q,an,Z)}var xt=new Oo("span",1);return xt.attr("class","mce-shim"),zt.append(an),zt.append(xt),zt},Ni=function(lt,L,q){for(var dt=L.attributes,_t=dt.length;_t--;){var zt=dt[_t].name,an=dt[_t].value;zt!=="width"&&zt!=="height"&&zt!=="style"&&((zt==="data"||zt==="src")&&(an=lt.convertURL(an,zt)),q.attr("data-mce-p-"+zt,an))}var P=L.firstChild&&L.firstChild.value;P&&(q.attr("data-mce-html",escape(cr(lt,P))),q.firstChild=null)},yi=function(lt){var L=lt.attr("class");return L&&/\btiny-pageembed\b/.test(L)},$r=function(lt){for(;lt=lt.parent;)if(lt.attr("data-ephox-embed-iri")||yi(lt))return!0;return!1},wi=function(lt){return function(L){for(var q=L.length,dt,_t;q--;)dt=L[q],!!dt.parent&&(dt.parent.attr("data-mce-object")||dt.name==="script"&&(_t=Xn(Hn(lt),dt.attr("src")),!_t)||(_t&&(_t.width&&dt.attr("width",_t.width.toString()),_t.height&&dt.attr("height",_t.height.toString())),ao(dt)&&$e(lt)&&hi.ceFalse?$r(dt)||dt.replace(gi(lt,dt)):$r(dt)||dt.replace(ui(lt,dt))))}},fi=function(lt){lt.on("preInit",function(){var L=lt.schema.getSpecialElements();Ft.each("video audio iframe object".split(" "),function(dt){L[dt]=new RegExp("</"+dt+"[^>]*>","gi")});var q=lt.schema.getBoolAttrs();Ft.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function(dt){q[dt]={}}),lt.parser.addNodeFilter("iframe,video,audio,object,embed,script",wi(lt)),lt.serializer.addAttributeFilter("data-mce-object",function(dt,_t){for(var zt=dt.length,an,P,Z,xt,at,$t,en,we;zt--;)if(an=dt[zt],!!an.parent){for(en=an.attr(_t),P=new Oo(en,1),en!=="audio"&&en!=="script"&&(we=an.attr("class"),we&&we.indexOf("mce-preview-object")!==-1?P.attr({width:an.firstChild.attr("width"),height:an.firstChild.attr("height")}):P.attr({width:an.attr("width"),height:an.attr("height")})),P.attr({style:an.attr("style")}),xt=an.attributes,Z=xt.length;Z--;){var Ze=xt[Z].name;Ze.indexOf("data-mce-p-")===0&&P.attr(Ze.substr(11),xt[Z].value)}en==="script"&&P.attr("type","text/javascript"),at=an.attr("data-mce-html"),at&&($t=new Oo("#text",3),$t.raw=!0,$t.value=cr(lt,unescape(at)),P.append($t)),an.replace(P)}})}),lt.on("SetContent",function(){lt.$("span.mce-preview-object").each(function(L,q){var dt=lt.$(q);dt.find("span.mce-shim").length===0&&dt.append('<span class="mce-shim"></span>')})})},vi=function(lt){lt.on("ResolveName",function(L){var q;L.target.nodeType===1&&(q=L.target.getAttribute("data-mce-object"))&&(L.name=q)})},Vi=function(lt){lt.on("click keyup touchend",function(){var L=lt.selection.getNode();L&&lt.dom.hasClass(L,"mce-preview-object")&&lt.dom.getAttrib(L,"data-mce-selected")&&L.setAttribute("data-mce-selected","2")}),lt.on("ObjectSelected",function(L){var q=L.target.getAttribute("data-mce-object");q==="script"&&L.preventDefault()}),lt.on("ObjectResized",function(L){var q=L.target,dt;q.getAttribute("data-mce-object")&&(dt=q.getAttribute("data-mce-html"),dt&&(dt=unescape(dt),q.setAttribute("data-mce-html",escape(ar(dt,{width:String(L.width),height:String(L.height)})))))})},Ui=function(lt,L){return function(q){return lt.selection.selectorChangedWithUnbind(L.join(","),q.setActive).unbind}},Wo=function(lt){lt.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:function(){lt.execCommand("mceMedia")},onSetup:Ui(lt,["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"])}),lt.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:function(){lt.execCommand("mceMedia")}})};function zi(){ft.add("media",function(lt){return Xi(lt),Wo(lt),vi(lt),fi(lt),Vi(lt),Eo(lt)})}zi()})();(function(){var ft=tinymce.util.Tools.resolve("tinymce.PluginManager"),jn=function(Kt){var tt=Kt.getParam("nonbreaking_force_tab",0);return typeof tt=="boolean"?tt===!0?3:0:tt},on=function(Kt){return Kt.getParam("nonbreaking_wrap",!0,"boolean")},nn=function(Kt,tt){for(var ln="",Y=0;Y<tt;Y++)ln+=Kt;return ln},st=function(Kt){return Kt.plugins.visualchars?Kt.plugins.visualchars.isEnabled():!1},Xt=function(Kt,tt){var ln=function(){return st(Kt)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"},Y=function(){return'<span class="'+ln()+'" contenteditable="false">'+nn("&nbsp;",tt)+"</span>"},jt=on(Kt),le=jt||Kt.plugins.visualchars?Y():nn("&nbsp;",tt);Kt.undoManager.transact(function(){return Kt.insertContent(le)})},Kn=function(Kt){Kt.addCommand("mceNonBreaking",function(){Xt(Kt,1)})},qn=tinymce.util.Tools.resolve("tinymce.util.VK"),Jt=function(Kt){var tt=jn(Kt);tt>0&&Kt.on("keydown",function(ln){if(ln.keyCode===qn.TAB&&!ln.isDefaultPrevented()){if(ln.shiftKey)return;ln.preventDefault(),ln.stopImmediatePropagation(),Xt(Kt,tt)}})},yn=function(Kt){Kt.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:function(){return Kt.execCommand("mceNonBreaking")}}),Kt.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:function(){return Kt.execCommand("mceNonBreaking")}})};function Zt(){ft.add("nonbreaking",function(Kt){Kn(Kt),yn(Kt),Jt(Kt)})}Zt()})();(function(){var ft=tinymce.util.Tools.resolve("tinymce.PluginManager"),jn=tinymce.util.Tools.resolve("tinymce.util.Tools"),on=function(Zt){return Zt.getParam("noneditable_noneditable_class","mceNonEditable")},nn=function(Zt){return Zt.getParam("noneditable_editable_class","mceEditable")},st=function(Zt){var Kt=Zt.getParam("noneditable_regexp",[]);return Kt&&Kt.constructor===RegExp?[Kt]:Kt},Xt=function(Zt){return function(Kt){return(" "+Kt.attr("class")+" ").indexOf(Zt)!==-1}},Kn=function(Zt,Kt,tt){return function(ln){var Y=arguments,jt=Y[Y.length-2],le=jt>0?Kt.charAt(jt-1):"";if(le==='"')return ln;if(le===">"){var Qt=Kt.lastIndexOf("<",jt);if(Qt!==-1){var Le=Kt.substring(Qt,jt);if(Le.indexOf('contenteditable="false"')!==-1)return ln}}return'<span class="'+tt+'" data-mce-content="'+Zt.dom.encode(Y[0])+'">'+Zt.dom.encode(typeof Y[1]=="string"?Y[1]:Y[0])+"</span>"}},qn=function(Zt,Kt,tt){var ln=Kt.length,Y=tt.content;if(tt.format!=="raw"){for(;ln--;)Y=Y.replace(Kt[ln],Kn(Zt,Y,on(Zt)));tt.content=Y}},Jt=function(Zt){var Kt="contenteditable",tt=" "+jn.trim(nn(Zt))+" ",ln=" "+jn.trim(on(Zt))+" ",Y=Xt(tt),jt=Xt(ln),le=st(Zt);Zt.on("PreInit",function(){le.length>0&&Zt.on("BeforeSetContent",function(Qt){qn(Zt,le,Qt)}),Zt.parser.addAttributeFilter("class",function(Qt){for(var Le=Qt.length,S;Le--;)S=Qt[Le],Y(S)?S.attr(Kt,"true"):jt(S)&&S.attr(Kt,"false")}),Zt.serializer.addAttributeFilter(Kt,function(Qt){for(var Le=Qt.length,S;Le--;)S=Qt[Le],!(!Y(S)&&!jt(S))&&(le.length>0&&S.attr("data-mce-content")?(S.name="#text",S.type=3,S.raw=!0,S.value=S.attr("data-mce-content")):S.attr(Kt,null))})})};function yn(){ft.add("noneditable",function(Zt){Jt(Zt)})}yn()})();(function(){var ft=tinymce.util.Tools.resolve("tinymce.PluginManager"),jn=tinymce.util.Tools.resolve("tinymce.Env"),on=function(Kt){return Kt.getParam("pagebreak_separator","<!-- pagebreak -->")},nn=function(Kt){return Kt.getParam("pagebreak_split_block",!1)},st=function(){return"mce-pagebreak"},Xt=function(){return'<img src="'+jn.transparentSrc+'" class="'+st()+'" data-mce-resize="false" data-mce-placeholder />'},Kn=function(Kt){var tt=on(Kt),ln=new RegExp(tt.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,function(Y){return"\\"+Y}),"gi");Kt.on("BeforeSetContent",function(Y){Y.content=Y.content.replace(ln,Xt())}),Kt.on("PreInit",function(){Kt.serializer.addNodeFilter("img",function(Y){for(var jt=Y.length,le,Qt;jt--;)if(le=Y[jt],Qt=le.attr("class"),Qt&&Qt.indexOf("mce-pagebreak")!==-1){var Le=le.parent;if(Kt.schema.getBlockElements()[Le.name]&&nn(Kt)){Le.type=3,Le.value=tt,Le.raw=!0,le.remove();continue}le.type=3,le.value=tt,le.raw=!0}})})},qn=function(Kt){Kt.addCommand("mcePageBreak",function(){nn(Kt)?Kt.insertContent("<p>"+Xt()+"</p>"):Kt.insertContent(Xt())})},Jt=function(Kt){Kt.on("ResolveName",function(tt){tt.target.nodeName==="IMG"&&Kt.dom.hasClass(tt.target,st())&&(tt.name="pagebreak")})},yn=function(Kt){Kt.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:function(){return Kt.execCommand("mcePageBreak")}}),Kt.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:function(){return Kt.execCommand("mcePageBreak")}})};function Zt(){ft.add("pagebreak",function(Kt){qn(Kt),yn(Kt),Kn(Kt),Jt(Kt)})}Zt()})();(function(){var ft=tinymce.util.Tools.resolve("tinymce.PluginManager"),jn=tinymce.util.Tools.resolve("tinymce.Env"),on=tinymce.util.Tools.resolve("tinymce.util.Tools"),nn=function(Y){return Y.getParam("content_style","","string")},st=function(Y){return Y.getParam("content_css_cors",!1,"boolean")},Xt=function(Y){var jt=Y.getParam("body_class","","hash");return jt[Y.id]||""},Kn=function(Y){var jt=Y.getParam("body_class","","string");return jt.indexOf("=")===-1?jt:Xt(Y)},qn=function(Y){var jt=Y.getParam("body_id","","hash");return jt[Y.id]||jt},Jt=function(Y){var jt=Y.getParam("body_id","tinymce","string");return jt.indexOf("=")===-1?jt:qn(Y)},yn=function(Y){var jt="",le=Y.dom.encode,Qt=nn(Y);jt+='<base href="'+le(Y.documentBaseURI.getURI())+'">';var Le=st(Y)?' crossorigin="anonymous"':"";on.each(Y.contentCSS,function(sr){jt+='<link type="text/css" rel="stylesheet" href="'+le(Y.documentBaseURI.toAbsolute(sr))+'"'+Le+">"}),Qt&&(jt+='<style type="text/css">'+Qt+"</style>");var S=Jt(Y),ce=Kn(Y),Ne=jn.mac?"e.metaKey":"e.ctrlKey && !e.altKey",ve='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+Ne+")) {e.preventDefault();}}}, false);<\/script> ",ue=Y.getBody().dir,Ie=ue?' dir="'+le(ue)+'"':"",wr="<!DOCTYPE html><html><head>"+jt+'</head><body id="'+le(S)+'" class="mce-content-body '+le(ce)+'"'+Ie+">"+Y.getContent()+ve+"</body></html>";return wr},Zt=function(Y){var jt=yn(Y),le=Y.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:jt}});le.focus("close")},Kt=function(Y){Y.addCommand("mcePreview",function(){Zt(Y)})},tt=function(Y){Y.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:function(){return Y.execCommand("mcePreview")}}),Y.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:function(){return Y.execCommand("mcePreview")}})};function ln(){ft.add("preview",function(Y){Kt(Y),tt(Y)})}ln()})();(function(){var ft=tinymce.util.Tools.resolve("tinymce.PluginManager"),jn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),on=tinymce.util.Tools.resolve("tinymce.util.Tools"),nn=function(ln){return ln.getParam("save_enablewhendirty",!0)},st=function(ln){return!!ln.getParam("save_onsavecallback")},Xt=function(ln){return!!ln.getParam("save_oncancelcallback")},Kn=function(ln,Y){ln.notificationManager.open({text:Y,type:"error"})},qn=function(ln){var Y=jn.DOM.getParent(ln.id,"form");if(!(nn(ln)&&!ln.isDirty())){if(ln.save(),st(ln)){ln.execCallback("save_onsavecallback",ln),ln.nodeChanged();return}Y?(ln.setDirty(!1),(!Y.onsubmit||Y.onsubmit())&&(typeof Y.submit=="function"?Y.submit():Kn(ln,"Error: Form submit field collision.")),ln.nodeChanged()):Kn(ln,"Error: No form element found.")}},Jt=function(ln){var Y=on.trim(ln.startContent);if(Xt(ln)){ln.execCallback("save_oncancelcallback",ln);return}ln.resetContent(Y)},yn=function(ln){ln.addCommand("mceSave",function(){qn(ln)}),ln.addCommand("mceCancel",function(){Jt(ln)})},Zt=function(ln){return function(Y){var jt=function(){Y.setDisabled(nn(ln)&&!ln.isDirty())};return ln.on("NodeChange dirty",jt),function(){return ln.off("NodeChange dirty",jt)}}},Kt=function(ln){ln.ui.registry.addButton("save",{icon:"save",tooltip:"Save",disabled:!0,onAction:function(){return ln.execCommand("mceSave")},onSetup:Zt(ln)}),ln.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",disabled:!0,onAction:function(){return ln.execCommand("mceCancel")},onSetup:Zt(ln)}),ln.addShortcut("Meta+S","","mceSave")};function tt(){ft.add("save",function(ln){Kt(ln),yn(ln)})}tt()})();(function(){var ft=function(L){var q=L,dt=function(){return q},_t=function(zt){q=zt};return{get:dt,set:_t}},jn=tinymce.util.Tools.resolve("tinymce.PluginManager"),on=function(){return on=Object.assign||function(L){for(var q,dt=1,_t=arguments.length;dt<_t;dt++){q=arguments[dt];for(var zt in q)Object.prototype.hasOwnProperty.call(q,zt)&&(L[zt]=q[zt])}return L},on.apply(this,arguments)},nn=function(){},st=function(L){return function(){return L}},Xt=st(!1),Kn=st(!0),qn="[!-#%-*,-\\/:;?@\\[-\\]_{}\xA1\xAB\xB7\xBB\xBF;\xB7\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1361-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u3008\u3009\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30\u2E31\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]",Jt=st(qn),yn=function(){return Zt},Zt=function(){var L=function(zt){return zt.isNone()},q=function(zt){return zt()},dt=function(zt){return zt},_t={fold:function(zt,an){return zt()},is:Xt,isSome:Xt,isNone:Kn,getOr:dt,getOrThunk:q,getOrDie:function(zt){throw new Error(zt||"error: getOrDie called on none.")},getOrNull:st(null),getOrUndefined:st(void 0),or:dt,orThunk:q,map:yn,each:nn,bind:yn,exists:Xt,forall:Kn,filter:yn,equals:L,equals_:L,toArray:function(){return[]},toString:st("none()")};return _t}(),Kt=function(L){var q=st(L),dt=function(){return zt},_t=function(an){return an(L)},zt={fold:function(an,P){return P(L)},is:function(an){return L===an},isSome:Kn,isNone:Xt,getOr:q,getOrThunk:q,getOrDie:q,getOrNull:q,getOrUndefined:q,or:dt,orThunk:dt,map:function(an){return Kt(an(L))},each:function(an){an(L)},bind:_t,exists:_t,forall:_t,filter:function(an){return an(L)?zt:Zt},toArray:function(){return[L]},toString:function(){return"some("+L+")"},equals:function(an){return an.is(L)},equals_:function(an,P){return an.fold(Xt,function(Z){return P(L,Z)})}};return zt},tt=function(L){return L==null?Zt:Kt(L)},ln={some:Kt,none:yn,from:tt},Y=Jt,jt=tinymce.util.Tools.resolve("tinymce.util.Tools"),le=function(L){var q=typeof L;return L===null?"null":q==="object"&&(Array.prototype.isPrototypeOf(L)||L.constructor&&L.constructor.name==="Array")?"array":q==="object"&&(String.prototype.isPrototypeOf(L)||L.constructor&&L.constructor.name==="String")?"string":q},Qt=function(L){return function(q){return le(q)===L}},Le=function(L){return function(q){return typeof q===L}},S=Qt("string"),ce=Qt("array"),Ne=Le("boolean"),ve=Le("number"),ue=Array.prototype.slice,Ie=Array.prototype.push,wr=function(L,q){for(var dt=L.length,_t=new Array(dt),zt=0;zt<dt;zt++){var an=L[zt];_t[zt]=q(an,zt)}return _t},sr=function(L,q){for(var dt=0,_t=L.length;dt<_t;dt++){var zt=L[dt];q(zt,dt)}},Pt=function(L,q){for(var dt=L.length-1;dt>=0;dt--){var _t=L[dt];q(_t,dt)}},I=function(L,q){if(L.length===0)return[];for(var dt=q(L[0]),_t=[],zt=[],an=0,P=L.length;an<P;an++){var Z=L[an],xt=q(Z);xt!==dt&&(_t.push(zt),zt=[]),dt=xt,zt.push(Z)}return zt.length!==0&&_t.push(zt),_t},ne=function(L,q,dt){return sr(L,function(_t){dt=q(dt,_t)}),dt},Hn=function(L){for(var q=[],dt=0,_t=L.length;dt<_t;++dt){if(!ce(L[dt]))throw new Error("Arr.flatten item "+dt+" was not an array, input: "+L);Ie.apply(q,L[dt])}return q},He=function(L,q){return Hn(wr(L,q))},Ve=function(L,q){var dt=ue.call(L,0);return dt.sort(q),dt},$e=Object.hasOwnProperty,kn=function(L,q){return $e.call(L,q)};typeof window!="undefined"||Function("return this;")();var bn=9,he=11,Kr=1,br=3,Ft=function(L){return L.dom.nodeType},cn=function(L){return function(q){return Ft(q)===L}},Tn=cn(br),Xn=function(L,q,dt){if(S(dt)||Ne(dt)||ve(dt))L.setAttribute(q,dt+"");else throw console.error("Invalid call to Attribute.set. Key ",q,":: Value ",dt,":: Element ",L),new Error("Attribute value was not simple")},wt=function(L,q,dt){Xn(L.dom,q,dt)},tn=function(L,q,dt){return(L.compareDocumentPosition(q)&dt)!==0},ae=function(L,q){return tn(L,q,Node.DOCUMENT_POSITION_PRECEDING)},qt=function(L,q){var dt=q||document,_t=dt.createElement("div");if(_t.innerHTML=L,!_t.hasChildNodes()||_t.childNodes.length>1)throw console.error("HTML does not have a single root node",L),new Error("HTML must have a single root node");return nt(_t.childNodes[0])},gt=function(L,q){var dt=q||document,_t=dt.createElement(L);return nt(_t)},Wt=function(L,q){var dt=q||document,_t=dt.createTextNode(L);return nt(_t)},nt=function(L){if(L==null)throw new Error("Node cannot be null or undefined");return{dom:L}},Et=function(L,q,dt){return ln.from(L.dom.elementFromPoint(q,dt)).map(nt)},yt={fromHtml:qt,fromTag:gt,fromText:Wt,fromDom:nt,fromPoint:Et},Nn=function(L){return L.nodeType!==Kr&&L.nodeType!==bn&&L.nodeType!==he||L.childElementCount===0},be=function(L,q){var dt=q===void 0?document:q.dom;return Nn(dt)?[]:wr(dt.querySelectorAll(L),yt.fromDom)},An=function(L){return ln.from(L.dom.parentNode).map(yt.fromDom)},ar=function(L){return wr(L.dom.childNodes,yt.fromDom)},ze=function(L,q){return{element:L,offset:q}},Zr=function(L,q){var dt=ar(L);return dt.length>0&&q<dt.length?ze(dt[q],0):ze(L,q)},Lr=function(L,q){var dt=An(L);dt.each(function(_t){_t.dom.insertBefore(q.dom,L.dom)})},yo=function(L,q){L.dom.appendChild(q.dom)},Vn=function(L,q){Lr(L,q),yo(q,L)},Cn=function(L,q){var dt=function(an){if(!L(an))throw new Error("Can only get "+q+" value of a "+q+" node");return _t(an).getOr("")},_t=function(an){return L(an)?ln.from(an.dom.nodeValue):ln.none()},zt=function(an,P){if(!L(an))throw new Error("Can only set raw "+q+" value of a "+q+" node");an.dom.nodeValue=P};return{get:dt,getOption:_t,set:zt}},ee=Cn(Tn,"text"),Zn=function(L){return ee.get(L)},Qn=function(L,q){return be(q,L)},Me=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),dr=function(L,q){return L.isBlock(q)||kn(L.schema.getShortEndedElements(),q.nodeName)},zn=function(L,q){return L.getContentEditable(q)==="false"},gn=function(L,q){return L.getContentEditable(q)==="true"&&L.getContentEditableParent(q.parentNode)==="false"},Ee=function(L,q){return!L.isBlock(q)&&kn(L.schema.getWhiteSpaceElements(),q.nodeName)},ur=function(L,q){return dr(L,q)||zn(L,q)||Ee(L,q)||gn(L,q)},Ir=function(L){return L.nodeType===3},Nr=function(){return{sOffset:0,fOffset:0,elements:[]}},eo=function(L,q){return Zr(yt.fromDom(L),q)},Or=function(L,q,dt,_t,zt,an){an===void 0&&(an=!0);for(var P=an?q(!1):dt;P;){var Z=zn(L,P);if(Z||Ee(L,P)){var xt=Z?_t.cef(P):_t.boundary(P);if(xt)break;P=q(!0);continue}else if(dr(L,P)){if(_t.boundary(P))break}else Ir(P)&&_t.text(P);if(P===zt)break;P=q(!1)}},So=function(L,q,dt,_t,zt){if(!ur(L,dt)){var an=L.getParent(_t,L.isBlock),P=new Me(dt,an),Z=zt?P.next.bind(P):P.prev.bind(P);Or(L,Z,dt,{boundary:Kn,cef:Kn,text:function(xt){zt?q.fOffset+=xt.length:q.sOffset+=xt.length,q.elements.push(yt.fromDom(xt))}})}},Ct=function(L,q,dt,_t,zt,an){an===void 0&&(an=!0);var P=new Me(dt,q),Z=[],xt=Nr();So(L,xt,dt,q,!1);var at=function(){return xt.elements.length>0&&(Z.push(xt),xt=Nr()),!1};return Or(L,P.next.bind(P),dt,{boundary:at,cef:function($t){return at(),zt&&Z.push.apply(Z,zt.cef($t)),!1},text:function($t){xt.elements.push(yt.fromDom($t)),zt&&zt.text($t,xt)}},_t,an),_t&&So(L,xt,_t,q,!0),at(),Z},rn=function(L,q){var dt=eo(q.startContainer,q.startOffset),_t=dt.element.dom,zt=eo(q.endContainer,q.endOffset),an=zt.element.dom;return Ct(L,q.commonAncestorContainer,_t,an,{text:function(P,Z){P===an?Z.fOffset+=P.length-zt.offset:P===_t&&(Z.sOffset+=dt.offset)},cef:function(P){var Z=He(Qn(yt.fromDom(P),"*[contenteditable=true]"),function(xt){var at=xt.dom;return Ct(L,at,at)});return Ve(Z,function(xt,at){return ae(xt.elements[0].dom,at.elements[0].dom)?1:-1})}},!1)},Yn=function(L,q){return q.collapsed?[]:rn(L,q)},Pe=function(L,q){var dt=L.createRng();return dt.selectNode(q),Yn(L,dt)},fe=function(L,q){return He(q,function(dt){return Pe(L,dt)})},lr=function(L,q,dt,_t){dt===void 0&&(dt=0),_t===void 0&&(_t=L.length);var zt=q.regex;zt.lastIndex=dt;for(var an=[],P;P=zt.exec(L);){var Z=P[q.matchIndex],xt=P.index+P[0].indexOf(Z),at=xt+Z.length;if(at>_t)break;an.push({start:xt,finish:at}),zt.lastIndex=at}return an},wo=function(L,q){var dt=ne(L,function(_t,zt){var an=Zn(zt),P=_t.last,Z=P+an.length,xt=He(q,function(at,$t){return at.start<Z&&at.finish>P?[{element:zt,start:Math.max(P,at.start)-P,finish:Math.min(Z,at.finish)-P,matchId:$t}]:[]});return{results:_t.results.concat(xt),last:Z}},{results:[],last:0}).results;return I(dt,function(_t){return _t.matchId})},zr=function(L,q){return He(q,function(dt){var _t=dt.elements,zt=wr(_t,Zn).join(""),an=lr(zt,L,dt.sOffset,zt.length-dt.fOffset);return wo(_t,an)})},Er=function(L,q){Pt(L,function(dt,_t){Pt(dt,function(zt){var an=yt.fromDom(q.cloneNode(!1));wt(an,"data-mce-index",_t);var P=zt.element.dom;if(P.length===zt.finish&&zt.start===0)Vn(zt.element,an);else{P.length!==zt.finish&&P.splitText(zt.finish);var Z=P.splitText(zt.start);Vn(yt.fromDom(Z),an)}})})},$o=function(L,q,dt,_t){var zt=Pe(L,dt),an=zr(q,zt);return Er(an,_t),an.length},Bi=function(L,q,dt,_t){var zt=dt.getBookmark(),an=L.select("td[data-mce-selected],th[data-mce-selected]"),P=an.length>0?fe(L,an):Yn(L,dt.getRng()),Z=zr(q,P);return Er(Z,_t),dt.moveToBookmark(zt),Z.length},Eo=function(L){var q=L.getAttribute("data-mce-index");return typeof q=="number"?""+q:q},Xi=function(L,q,dt,_t){var zt=L.dom.create("span",{"data-mce-bogus":1});zt.className="mce-match-marker";var an=L.getBody();return Ni(L,q,!1),_t?Bi(L.dom,dt,L.selection,zt):$o(L.dom,dt,an,zt)},Oo=function(L){var q=L.parentNode;L.firstChild&&q.insertBefore(L.firstChild,L),L.parentNode.removeChild(L)},hi=function(L,q){var dt=[],_t=jt.toArray(L.getBody().getElementsByTagName("span"));if(_t.length)for(var zt=0;zt<_t.length;zt++){var an=Eo(_t[zt]);an===null||!an.length||an===q.toString()&&dt.push(_t[zt])}return dt},ii=function(L,q,dt){var _t=q.get(),zt=_t.index,an=L.dom;dt=dt!==!1,dt?zt+1===_t.count?zt=0:zt++:zt-1===-1?zt=_t.count-1:zt--,an.removeClass(hi(L,_t.index),"mce-match-marker-selected");var P=hi(L,zt);return P.length?(an.addClass(hi(L,zt),"mce-match-marker-selected"),L.selection.scrollIntoView(P[0]),zt):-1},cr=function(L,q){var dt=q.parentNode;L.remove(q),L.isEmpty(dt)&&L.remove(dt)},ao=function(L,q){var dt=L.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]"),_t="("+dt+")";return q?"(?:^|\\s|"+Y()+")"+_t+("(?=$|\\s|"+Y()+")"):_t},zo=function(L,q,dt,_t,zt,an){var P=ao(dt,zt),Z={regex:new RegExp(P,_t?"g":"gi"),matchIndex:1},xt=Xi(L,q,Z,an);if(xt){var at=ii(L,q,!0);q.set({index:at,count:xt,text:dt,matchCase:_t,wholeWord:zt,inSelection:an})}return xt},Ko=function(L,q){var dt=ii(L,q,!0);q.set(on(on({},q.get()),{index:dt}))},Xe=function(L,q){var dt=ii(L,q,!1);q.set(on(on({},q.get()),{index:dt}))},ui=function(L){var q=Eo(L);return q!==null&&q.length>0},gi=function(L,q,dt,_t,zt){var an=q.get(),P=an.index,Z,xt=P;_t=_t!==!1;for(var at=L.getBody(),$t=jt.grep(jt.toArray(at.getElementsByTagName("span")),ui),en=0;en<$t.length;en++){var we=Eo($t[en]),Ze=Z=parseInt(we,10);if(zt||Ze===an.index){for(dt.length?($t[en].firstChild.nodeValue=dt,Oo($t[en])):cr(L.dom,$t[en]);$t[++en];)if(Ze=parseInt(Eo($t[en]),10),Ze===Z)cr(L.dom,$t[en]);else{en--;break}_t&&xt--}else Z>P&&$t[en].setAttribute("data-mce-index",String(Z-1))}return q.set(on(on({},an),{count:zt?0:an.count-1,index:xt})),_t?Ko(L,q):Xe(L,q),!zt&&q.get().count>0},Ni=function(L,q,dt){var _t,zt,an,P=q.get(),Z=jt.toArray(L.getBody().getElementsByTagName("span"));for(_t=0;_t<Z.length;_t++){var xt=Eo(Z[_t]);xt!==null&&xt.length&&(xt===P.index.toString()&&(zt||(zt=Z[_t].firstChild),an=Z[_t].firstChild),Oo(Z[_t]))}if(q.set(on(on({},P),{index:-1,count:0,text:""})),zt&&an){var at=L.dom.createRng();return at.setStart(zt,0),at.setEnd(an,an.data.length),dt!==!1&&L.selection.setRng(at),at}},yi=function(L,q){return q.get().count>1},$r=function(L,q){return q.get().count>1},wi=function(L,q){var dt=function(Z){return Ni(L,q,Z)},_t=function(Z,xt,at,$t){return $t===void 0&&($t=!1),zo(L,q,Z,xt,at,$t)},zt=function(){return Ko(L,q)},an=function(){return Xe(L,q)},P=function(Z,xt,at){return gi(L,q,Z,xt,at)};return{done:dt,find:_t,next:zt,prev:an,replace:P}},fi=function(){var L=ft(ln.none()),q=function(){return L.set(ln.none())},dt=function(an){return L.set(ln.some(an))},_t=function(){return L.get().isSome()},zt=function(an){return L.get().each(an)};return{clear:q,set:dt,isSet:_t,on:zt}},vi=tinymce.util.Tools.resolve("tinymce.Env"),Vi=function(L,q){var dt=fi();L.undoManager.add();var _t=jt.trim(L.selection.getContent({format:"text"})),zt=function(Pn){var Qe=yi(L,q)?Pn.enable:Pn.disable;Qe("next");var K=$r(L,q)?Pn.enable:Pn.disable;K("prev")},an=function(Pn){var Qe=Pn.getData(),K=q.get();q.set(on(on({},K),{matchCase:Qe.matchcase,wholeWord:Qe.wholewords,inSelection:Qe.inselection}))},P=function(Pn,Qe){var K=["replace","replaceall","prev","next"],St=Qe?Pn.disable:Pn.enable;sr(K,St)},Z=function(Pn){L.windowManager.alert("Could not find the specified string.",function(){Pn.focus("findtext")})},xt=function(Pn,Qe){vi.browser.isSafari()&&vi.deviceType.isTouch()&&(Qe==="find"||Qe==="replace"||Qe==="replaceall")&&Pn.focus(Qe)},at=function(Pn){Ni(L,q,!1),P(Pn,!0),zt(Pn)},$t=function(Pn){var Qe=Pn.getData(),K=q.get();if(!Qe.findtext.length){at(Pn);return}if(K.text===Qe.findtext&&K.matchCase===Qe.matchcase&&K.wholeWord===Qe.wholewords)Ko(L,q);else{var St=zo(L,q,Qe.findtext,Qe.matchcase,Qe.wholewords,Qe.inselection);St<=0&&Z(Pn),P(Pn,St===0)}zt(Pn)},en=q.get(),we={findtext:_t,replacetext:"",wholewords:en.wholeWord,matchcase:en.matchCase,inselection:en.inSelection},Ze={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace All",disabled:!0}],initialData:we,onChange:function(Pn,Qe){Qe.name==="findtext"&&q.get().count>0&&at(Pn)},onAction:function(Pn,Qe){var K=Pn.getData();switch(Qe.name){case"find":$t(Pn);break;case"replace":gi(L,q,K.replacetext)?zt(Pn):at(Pn);break;case"replaceall":gi(L,q,K.replacetext,!0,!0),at(Pn);break;case"prev":Xe(L,q),zt(Pn);break;case"next":Ko(L,q),zt(Pn);break;case"matchcase":case"wholewords":case"inselection":an(Pn),at(Pn);break}xt(Pn,Qe.name)},onSubmit:function(Pn){$t(Pn),xt(Pn,"find")},onClose:function(){L.focus(),Ni(L,q),L.undoManager.add()}};dt.set(L.windowManager.open(Ze,{inline:"toolbar"}))},Ui=function(L,q){L.addCommand("SearchReplace",function(){Vi(L,q)})},Wo=function(L,q){return function(){Vi(L,q)}},zi=function(L,q){L.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:Wo(L,q),icon:"search"}),L.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:Wo(L,q),icon:"search"}),L.shortcuts.add("Meta+F","",Wo(L,q))};function lt(){jn.add("searchreplace",function(L){var q=ft({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return Ui(L,q),zi(L,q),wi(L,q)})}lt()})();(function(){var ft=function(Ft){var cn=Ft,Tn=function(){return cn},Xn=function(wt){cn=wt};return{get:Tn,set:Xn}},jn=tinymce.util.Tools.resolve("tinymce.PluginManager"),on=function(Ft){return Ft.hasPlugin("tinymcespellchecker",!0)?(typeof window.console!="undefined"&&window.console.log&&window.console.log("Spell Checker Pro is incompatible with Spell Checker plugin! Remove 'spellchecker' from the 'plugins' option."),!0):!1},nn=Object.hasOwnProperty,st=function(Ft){for(var cn in Ft)if(nn.call(Ft,cn))return!1;return!0},Xt=tinymce.util.Tools.resolve("tinymce.util.Tools"),Kn=tinymce.util.Tools.resolve("tinymce.util.URI"),qn=tinymce.util.Tools.resolve("tinymce.util.XHR"),Jt=function(Ft){return Ft.fire("SpellcheckStart")},yn=function(Ft){return Ft.fire("SpellcheckEnd")},Zt=function(Ft){var cn="English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv";return Ft.getParam("spellchecker_languages",cn)},Kt=function(Ft){var cn=Ft.getParam("language","en");return Ft.getParam("spellchecker_language",cn)},tt=function(Ft){return Ft.getParam("spellchecker_rpc_url")},ln=function(Ft){return Ft.getParam("spellchecker_callback")},Y=function(Ft){var cn=new RegExp('[^\\s!"#$%&()*+,-./:;<=>?@[\\]^_{|}`\xA7\xA9\xAB\xAE\xB1\xB6\xB7\xB8\xBB\xBC\xBD\xBE\xBF\xD7\xF7\xA4\u201D\u201C\u201E\xA0\u2002\u2003\u2009]+',"g");return Ft.getParam("spellchecker_wordchar_pattern",cn)},jt=function(Ft){return Ft&&Ft.nodeType===1&&Ft.contentEditable==="false"},le=function(Ft,cn){var Tn,Xn=[],wt=cn.dom,tn=cn.schema.getBlockElements(),ae=cn.schema.getWhiteSpaceElements(),qt=cn.schema.getShortEndedElements(),gt=function(zn,gn){if(!zn[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");return{start:zn.index,end:zn.index+zn[0].length,text:zn[0],data:gn}},Wt=function(zn){var gn;if(zn.nodeType===3)return zn.data;if(ae[zn.nodeName]&&!tn[zn.nodeName])return"";if(jt(zn))return`
`;if(gn="",(tn[zn.nodeName]||qt[zn.nodeName])&&(gn+=`
`),zn=zn.firstChild)do gn+=Wt(zn);while(zn=zn.nextSibling);return gn},nt=function(zn,gn,Ee){var ur,Ir,Nr,eo,Or=[],So=0,Ct=zn,rn,Yn=0;gn=gn.slice(0),gn.sort(function(Pe,fe){return Pe.start-fe.start}),rn=gn.shift();t:for(;;){if((tn[Ct.nodeName]||qt[Ct.nodeName]||jt(Ct))&&So++,Ct.nodeType===3&&(!Ir&&Ct.length+So>=rn.end?(Ir=Ct,eo=rn.end-So):ur&&Or.push(Ct),!ur&&Ct.length+So>rn.start&&(ur=Ct,Nr=rn.start-So),So+=Ct.length),ur&&Ir){if(Ct=Ee({startNode:ur,startNodeIndex:Nr,endNode:Ir,endNodeIndex:eo,innerNodes:Or,match:rn.text,matchIndex:Yn}),So-=Ir.length-eo,ur=null,Ir=null,Or=[],rn=gn.shift(),Yn++,!rn)break}else if((!ae[Ct.nodeName]||tn[Ct.nodeName])&&Ct.firstChild){if(!jt(Ct)){Ct=Ct.firstChild;continue}}else if(Ct.nextSibling){Ct=Ct.nextSibling;continue}for(;;)if(Ct.nextSibling){Ct=Ct.nextSibling;break}else if(Ct.parentNode!==zn)Ct=Ct.parentNode;else break t}},Et=function(zn){var gn=function(Ee,ur){var Ir=Xn[ur];Ir.stencil||(Ir.stencil=zn(Ir));var Nr=Ir.stencil.cloneNode(!1);return Nr.setAttribute("data-mce-index",ur),Ee&&Nr.appendChild(wt.doc.createTextNode(Ee)),Nr};return function(Ee){var ur,Ir,Nr,eo=Ee.startNode,Or=Ee.endNode,So=Ee.matchIndex,Ct=wt.doc;if(eo===Or){var rn=eo;Nr=rn.parentNode,Ee.startNodeIndex>0&&(ur=Ct.createTextNode(rn.data.substring(0,Ee.startNodeIndex)),Nr.insertBefore(ur,rn));var Yn=gn(Ee.match,So);return Nr.insertBefore(Yn,rn),Ee.endNodeIndex<rn.length&&(Ir=Ct.createTextNode(rn.data.substring(Ee.endNodeIndex)),Nr.insertBefore(Ir,rn)),rn.parentNode.removeChild(rn),Yn}ur=Ct.createTextNode(eo.data.substring(0,Ee.startNodeIndex)),Ir=Ct.createTextNode(Or.data.substring(Ee.endNodeIndex));for(var Pe=gn(eo.data.substring(Ee.startNodeIndex),So),fe=0,lr=Ee.innerNodes.length;fe<lr;++fe){var wo=Ee.innerNodes[fe],zr=gn(wo.data,So);wo.parentNode.replaceChild(zr,wo)}var Er=gn(Or.data.substring(0,Ee.endNodeIndex),So);return Nr=eo.parentNode,Nr.insertBefore(ur,eo),Nr.insertBefore(Pe,eo),Nr.removeChild(eo),Nr=Or.parentNode,Nr.insertBefore(Er,Or),Nr.insertBefore(Ir,Or),Nr.removeChild(Or),Er}},yt=function(zn){for(var gn=zn.parentNode;zn.childNodes.length>0;)gn.insertBefore(zn.childNodes[0],zn);gn.removeChild(zn)},Nn=function(zn){return zn.className.indexOf("mce-spellchecker-word")!==-1},be=function(zn){var gn=Ft.getElementsByTagName("*"),Ee=[];zn=typeof zn=="number"?""+zn:null;for(var ur=0;ur<gn.length;ur++){var Ir=gn[ur],Nr=Ir.getAttribute("data-mce-index");Nr!==null&&Nr.length&&Nn(Ir)&&(Nr===zn||zn===null)&&Ee.push(Ir)}return Ee},An=function(zn){for(var gn=Xn.length;gn--;)if(Xn[gn]===zn)return gn;return-1};function ar(zn){var gn=[];return ze(function(Ee,ur){zn(Ee,ur)&&gn.push(Ee)}),Xn=gn,this}function ze(zn){for(var gn=0,Ee=Xn.length;gn<Ee&&zn(Xn[gn],gn)!==!1;gn++);return this}function Zr(zn){return Xn.length&&nt(Ft,Xn,Et(zn)),this}function Lr(zn,gn){if(dr&&zn.global)for(;Tn=zn.exec(dr);)Xn.push(gt(Tn,gn));return this}function yo(zn){var gn,Ee=be(zn?An(zn):null);for(gn=Ee.length;gn--;)yt(Ee[gn]);return this}var Vn=function(zn){return Xn[zn.getAttribute("data-mce-index")]},Cn=function(zn){return be(An(zn))[0]};function ee(zn,gn,Ee){return Xn.push({start:zn,end:zn+gn,text:dr.substr(zn,gn),data:Ee}),this}var Zn=function(zn){var gn=be(An(zn)),Ee=cn.dom.createRng();return Ee.setStartBefore(gn[0]),Ee.setEndAfter(gn[gn.length-1]),Ee},Qn=function(zn,gn){var Ee=Zn(zn);return Ee.deleteContents(),gn.length>0&&Ee.insertNode(cn.dom.doc.createTextNode(gn)),Ee};function Me(){return Xn.splice(0,Xn.length),yo(),this}var dr=Wt(Ft);return{text:dr,matches:Xn,each:ze,filter:ar,reset:Me,matchFromElement:Vn,elementFromMatch:Cn,find:Lr,add:ee,wrap:Zr,unwrap:yo,replace:Qn,rangeFromMatch:Zn,indexOf:An}},Qt=function(Ft,cn){if(!cn.get()){var Tn=le(Ft.getBody(),Ft);cn.set(Tn)}return cn.get()},Le=function(Ft,cn,Tn){return function(Xn,wt,tn,ae){var qt={method:Xn,lang:Tn.get()},gt="";qt[Xn==="addToDictionary"?"word":"text"]=wt,Xt.each(qt,function(Wt,nt){gt&&(gt+="&"),gt+=nt+"="+encodeURIComponent(Wt)}),qn.send({url:new Kn(cn).toAbsolute(tt(Ft)),type:"post",content_type:"application/x-www-form-urlencoded",data:gt,success:function(Wt){var nt=JSON.parse(Wt);if(nt)nt.error?ae(nt.error):tn(nt);else{var Et=Ft.translate("Server response wasn't proper JSON.");ae(Et)}},error:function(){var Wt=Ft.translate("The spelling service was not found: (")+tt(Ft)+Ft.translate(")");ae(Wt)}})}},S=function(Ft,cn,Tn,Xn,wt,tn,ae){var qt=ln(Ft),gt=qt||Le(Ft,cn,Tn);gt.call(Ft.plugins.spellchecker,Xn,wt,tn,ae)},ce=function(Ft,cn,Tn,Xn,wt,tn){if(!Ie(Ft,Tn,Xn)){var ae=function(gt){Ft.notificationManager.open({text:gt,type:"error"}),Ft.setProgressState(!1),Ie(Ft,Tn,Xn)},qt=function(gt){Pt(Ft,Tn,Xn,wt,gt)};Ft.setProgressState(!0),S(Ft,cn,tn,"spellcheck",Qt(Ft,Xn).text,qt,ae),Ft.focus()}},Ne=function(Ft,cn,Tn){Ft.dom.select("span.mce-spellchecker-word").length||Ie(Ft,cn,Tn)},ve=function(Ft,cn,Tn,Xn,wt,tn,ae){Ft.setProgressState(!0),S(Ft,cn,wt,"addToDictionary",tn,function(){Ft.setProgressState(!1),Ft.dom.remove(ae,!0),Ne(Ft,Tn,Xn)},function(qt){Ft.notificationManager.open({text:qt,type:"error"}),Ft.setProgressState(!1)})},ue=function(Ft,cn,Tn,Xn,wt,tn){Ft.selection.collapse(),tn?Xt.each(Ft.dom.select("span.mce-spellchecker-word"),function(ae){ae.getAttribute("data-mce-word")===Xn&&Ft.dom.remove(ae,!0)}):Ft.dom.remove(wt,!0),Ne(Ft,cn,Tn)},Ie=function(Ft,cn,Tn){var Xn=Ft.selection.getBookmark();if(Qt(Ft,Tn).reset(),Ft.selection.moveToBookmark(Xn),Tn.set(null),cn.get())return cn.set(!1),yn(Ft),!0},wr=function(Ft){var cn=Ft.getAttribute("data-mce-index");return typeof cn=="number"?""+cn:cn},sr=function(Ft,cn){var Tn=[],Xn=Xt.toArray(Ft.getBody().getElementsByTagName("span"));if(Xn.length)for(var wt=0;wt<Xn.length;wt++){var tn=wr(Xn[wt]);tn===null||!tn.length||tn===cn.toString()&&Tn.push(Xn[wt])}return Tn},Pt=function(Ft,cn,Tn,Xn,wt){var tn=!!wt.dictionary,ae=wt.words;if(Ft.setProgressState(!1),st(ae)){var qt=Ft.translate("No misspellings found.");Ft.notificationManager.open({text:qt,type:"info"}),cn.set(!1);return}Xn.set({suggestions:ae,hasDictionarySupport:tn});var gt=Ft.selection.getBookmark();Qt(Ft,Tn).find(Y(Ft)).filter(function(Wt){return!!ae[Wt.text]}).wrap(function(Wt){return Ft.dom.create("span",{class:"mce-spellchecker-word","aria-invalid":"spelling","data-mce-bogus":1,"data-mce-word":Wt.text})}),Ft.selection.moveToBookmark(gt),cn.set(!0),Jt(Ft)},I=function(Ft,cn,Tn,Xn,wt,tn){var ae=function(){return Y(Ft)},qt=function(gt){Pt(Ft,cn,Xn,Tn,gt)};return{getTextMatcher:Xn.get,getWordCharPattern:ae,markErrors:qt,getLanguage:wt.get}},ne=function(Ft,cn,Tn,Xn,wt,tn){Ft.addCommand("mceSpellCheck",function(){ce(Ft,cn,Tn,Xn,wt,tn)})},Hn=function(){return Hn=Object.assign||function(Ft){for(var cn,Tn=1,Xn=arguments.length;Tn<Xn;Tn++){cn=arguments[Tn];for(var wt in cn)Object.prototype.hasOwnProperty.call(cn,wt)&&(Ft[wt]=cn[wt])}return Ft},Hn.apply(this,arguments)},He="SpellcheckStart SpellcheckEnd",Ve=function(Ft,cn){var Tn=[];return Xt.each(cn,function(Xn){Tn.push({selectable:!0,text:Xn.name,data:Xn.value})}),Tn},$e=function(Ft){return Xt.map(Zt(Ft).split(","),function(cn){var Tn=cn.split("=");return{name:Tn[0],value:Tn[1]}})},kn=function(Ft,cn,Tn,Xn,wt,tn){var ae=Ve("Language",$e(Ft)),qt=function(){ce(Ft,cn,Tn,Xn,tn,wt)},gt={tooltip:"Spellcheck",onAction:qt,icon:"spell-check",onSetup:function(nt){var Et=function(){nt.setActive(Tn.get())};return Ft.on(He,Et),function(){Ft.off(He,Et)}}},Wt=Hn(Hn({},gt),{type:"splitbutton",select:function(nt){return nt===wt.get()},fetch:function(nt){var Et=Xt.map(ae,function(yt){return{type:"choiceitem",value:yt.data,text:yt.text}});nt(Et)},onItemAction:function(nt,Et){wt.set(Et)}});ae.length>1?Ft.ui.registry.addSplitButton("spellchecker",Wt):Ft.ui.registry.addToggleButton("spellchecker",gt),Ft.ui.registry.addToggleMenuItem("spellchecker",{text:"Spellcheck",icon:"spell-check",onSetup:function(nt){nt.setActive(Tn.get());var Et=function(){nt.setActive(Tn.get())};return Ft.on(He,Et),function(){Ft.off(He,Et)}},onAction:qt})},bn=!0,he=function(Ft,cn,Tn,Xn,wt,tn,ae,qt){var gt=[],Wt=Tn.get().suggestions[ae];Xt.each(Wt,function(Et){gt.push({text:Et,onAction:function(){Ft.insertContent(Ft.dom.encode(Et)),Ft.dom.remove(qt),Ne(Ft,Xn,wt)}})});var nt=Tn.get().hasDictionarySupport;return nt&&(gt.push({type:"separator"}),gt.push({text:"Add to dictionary",onAction:function(){ve(Ft,cn,Xn,wt,tn,ae,qt)}})),gt.push.apply(gt,[{type:"separator"},{text:"Ignore",onAction:function(){ue(Ft,Xn,wt,ae,qt)}},{text:"Ignore all",onAction:function(){ue(Ft,Xn,wt,ae,qt,bn)}}]),gt},Kr=function(Ft,cn,Tn,Xn,wt,tn){var ae=function(qt){var gt=qt;if(gt.className==="mce-spellchecker-word"){var Wt=sr(Ft,wr(gt));if(Wt.length>0){var nt=Ft.dom.createRng();return nt.setStartBefore(Wt[0]),nt.setEndAfter(Wt[Wt.length-1]),Ft.selection.setRng(nt),he(Ft,cn,Tn,Xn,wt,tn,gt.getAttribute("data-mce-word"),Wt)}}else return[]};Ft.ui.registry.addContextMenu("spellchecker",{update:ae})};function br(){jn.add("spellchecker",function(Ft,cn){if(on(Ft)===!1){var Tn=ft(!1),Xn=ft(Kt(Ft)),wt=ft(null),tn=ft(null);return kn(Ft,cn,Tn,wt,Xn,tn),Kr(Ft,cn,tn,Tn,wt,Xn),ne(Ft,cn,Tn,wt,tn,Xn),I(Ft,Tn,tn,wt,Xn)}})}br()})();(function(){var ft=tinymce.util.Tools.resolve("tinymce.PluginManager"),jn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),on=tinymce.util.Tools.resolve("tinymce.EditorManager"),nn=tinymce.util.Tools.resolve("tinymce.Env"),st=tinymce.util.Tools.resolve("tinymce.util.Delay"),Xt=tinymce.util.Tools.resolve("tinymce.util.Tools"),Kn=tinymce.util.Tools.resolve("tinymce.util.VK"),qn=function(ln){return ln.getParam("tabfocus_elements",":prev,:next")},Jt=function(ln){return ln.getParam("tab_focus",qn(ln))},yn=jn.DOM,Zt=function(ln){ln.keyCode===Kn.TAB&&!ln.ctrlKey&&!ln.altKey&&!ln.metaKey&&ln.preventDefault()},Kt=function(ln){var Y=function(jt){var le,Qt;if(!(jt.keyCode!==Kn.TAB||jt.ctrlKey||jt.altKey||jt.metaKey||jt.isDefaultPrevented())){var Le=function(ve){var ue=yn.select(":input:enabled,*[tabindex]:not(iframe)"),Ie=function(sr){return sr.nodeName==="BODY"||sr.type!=="hidden"&&sr.style.display!=="none"&&sr.style.visibility!=="hidden"&&Ie(sr.parentNode)},wr=function(sr){return/INPUT|TEXTAREA|BUTTON/.test(sr.tagName)&&on.get(jt.id)&&sr.tabIndex!==-1&&Ie(sr)};if(Xt.each(ue,function(sr,Pt){if(sr.id===ln.id)return le=Pt,!1}),ve>0){for(Qt=le+1;Qt<ue.length;Qt++)if(wr(ue[Qt]))return ue[Qt]}else for(Qt=le-1;Qt>=0;Qt--)if(wr(ue[Qt]))return ue[Qt];return null},S=Xt.explode(Jt(ln));S.length===1&&(S[1]=S[0],S[0]=":prev");var ce;if(jt.shiftKey?S[0]===":prev"?ce=Le(-1):ce=yn.get(S[0]):S[1]===":next"?ce=Le(1):ce=yn.get(S[1]),ce){var Ne=on.get(ce.id||ce.name);ce.id&&Ne?Ne.focus():st.setTimeout(function(){nn.webkit||window.focus(),ce.focus()},10),jt.preventDefault()}}};ln.on("init",function(){ln.inline&&yn.setAttrib(ln.getBody(),"tabIndex",null),ln.on("keyup",Zt),nn.gecko?ln.on("keypress keydown",Y):ln.on("keydown",Y)})};function tt(){ft.add("tabfocus",function(ln){Kt(ln)})}tt()})();(function(){var ft=function(){},jn=function(a,l){return function(){for(var m=[],h=0;h<arguments.length;h++)m[h]=arguments[h];return a(l.apply(null,m))}},on=function(a,l){return function(m){return a(l(m))}},nn=function(a){return function(){return a}},st=function(a){return a};function Xt(a){for(var l=[],m=1;m<arguments.length;m++)l[m-1]=arguments[m];return function(){for(var h=[],x=0;x<arguments.length;x++)h[x]=arguments[x];var k=l.concat(h);return a.apply(null,k)}}var Kn=function(a){return function(l){return!a(l)}},qn=function(a){return function(){throw new Error(a)}},Jt=nn(!1),yn=nn(!0),Zt=function(){return Kt},Kt=function(){var a=function(x){return x.isNone()},l=function(x){return x()},m=function(x){return x},h={fold:function(x,k){return x()},is:Jt,isSome:Jt,isNone:yn,getOr:m,getOrThunk:l,getOrDie:function(x){throw new Error(x||"error: getOrDie called on none.")},getOrNull:nn(null),getOrUndefined:nn(void 0),or:m,orThunk:l,map:Zt,each:ft,bind:Zt,exists:Jt,forall:yn,filter:Zt,equals:a,equals_:a,toArray:function(){return[]},toString:nn("none()")};return h}(),tt=function(a){var l=nn(a),m=function(){return x},h=function(k){return k(a)},x={fold:function(k,D){return D(a)},is:function(k){return a===k},isSome:yn,isNone:Jt,getOr:l,getOrThunk:l,getOrDie:l,getOrNull:l,getOrUndefined:l,or:m,orThunk:m,map:function(k){return tt(k(a))},each:function(k){k(a)},bind:h,exists:h,forall:h,filter:function(k){return k(a)?x:Kt},toArray:function(){return[a]},toString:function(){return"some("+a+")"},equals:function(k){return k.is(a)},equals_:function(k,D){return k.fold(Jt,function(j){return D(a,j)})}};return x},ln=function(a){return a==null?Kt:tt(a)},Y={some:tt,none:Zt,from:ln},jt=function(a){var l=typeof a;return a===null?"null":l==="object"&&(Array.prototype.isPrototypeOf(a)||a.constructor&&a.constructor.name==="Array")?"array":l==="object"&&(String.prototype.isPrototypeOf(a)||a.constructor&&a.constructor.name==="String")?"string":l},le=function(a){return function(l){return jt(l)===a}},Qt=function(a){return function(l){return typeof l===a}},Le=function(a){return function(l){return a===l}},S=le("string"),ce=le("object"),Ne=le("array"),ve=Qt("boolean"),ue=Le(void 0),Ie=function(a){return a==null},wr=function(a){return!Ie(a)},sr=Qt("function"),Pt=Qt("number"),I=Array.prototype.slice,ne=Array.prototype.indexOf,Hn=Array.prototype.push,He=function(a,l){return ne.call(a,l)},Ve=function(a,l){return He(a,l)>-1},$e=function(a,l){for(var m=0,h=a.length;m<h;m++){var x=a[m];if(l(x,m))return!0}return!1},kn=function(a,l){for(var m=[],h=0;h<a;h++)m.push(l(h));return m},bn=function(a,l){for(var m=a.length,h=new Array(m),x=0;x<m;x++){var k=a[x];h[x]=l(k,x)}return h},he=function(a,l){for(var m=0,h=a.length;m<h;m++){var x=a[m];l(x,m)}},Kr=function(a,l){for(var m=a.length-1;m>=0;m--){var h=a[m];l(h,m)}},br=function(a,l){for(var m=[],h=[],x=0,k=a.length;x<k;x++){var D=a[x],j=l(D,x)?m:h;j.push(D)}return{pass:m,fail:h}},Ft=function(a,l){for(var m=[],h=0,x=a.length;h<x;h++){var k=a[h];l(k,h)&&m.push(k)}return m},cn=function(a,l,m){return Kr(a,function(h){m=l(m,h)}),m},Tn=function(a,l,m){return he(a,function(h){m=l(m,h)}),m},Xn=function(a,l,m){for(var h=0,x=a.length;h<x;h++){var k=a[h];if(l(k,h))return Y.some(k);if(m(k,h))break}return Y.none()},wt=function(a,l){return Xn(a,l,Jt)},tn=function(a,l){for(var m=0,h=a.length;m<h;m++){var x=a[m];if(l(x,m))return Y.some(m)}return Y.none()},ae=function(a){for(var l=[],m=0,h=a.length;m<h;++m){if(!Ne(a[m]))throw new Error("Arr.flatten item "+m+" was not an array, input: "+a);Hn.apply(l,a[m])}return l},qt=function(a,l){return ae(bn(a,l))},gt=function(a,l){for(var m=0,h=a.length;m<h;++m){var x=a[m];if(l(x,m)!==!0)return!1}return!0},Wt=function(a){var l=I.call(a,0);return l.reverse(),l},nt=function(a,l){for(var m={},h=0,x=a.length;h<x;h++){var k=a[h];m[String(k)]=l(k,h)}return m},Et=function(a){return[a]},yt=function(a,l){var m=I.call(a,0);return m.sort(l),m},Nn=function(a,l){return l>=0&&l<a.length?Y.some(a[l]):Y.none()},be=function(a){return Nn(a,0)},An=function(a){return Nn(a,a.length-1)},ar=function(a,l){for(var m=0;m<a.length;m++){var h=l(a[m],m);if(h.isSome())return h}return Y.none()},ze=function(){return ze=Object.assign||function(a){for(var l,m=1,h=arguments.length;m<h;m++){l=arguments[m];for(var x in l)Object.prototype.hasOwnProperty.call(l,x)&&(a[x]=l[x])}return a},ze.apply(this,arguments)};function Zr(){for(var a=0,l=0,m=arguments.length;l<m;l++)a+=arguments[l].length;for(var h=Array(a),x=0,l=0;l<m;l++)for(var k=arguments[l],D=0,j=k.length;D<j;D++,x++)h[x]=k[D];return h}var Lr=function(a){var l=!1,m;return function(){for(var h=[],x=0;x<arguments.length;x++)h[x]=arguments[x];return l||(l=!0,m=a.apply(null,h)),m}},yo=function(a,l,m,h){var x=a.isiOS()&&/ipad/i.test(m)===!0,k=a.isiOS()&&!x,D=a.isiOS()||a.isAndroid(),j=D||h("(pointer:coarse)"),V=x||!k&&D&&h("(min-device-width:768px)"),ct=k||D&&!V,kt=l.isSafari()&&a.isiOS()&&/safari/i.test(m)===!1,Dn=!ct&&!V&&!kt;return{isiPad:nn(x),isiPhone:nn(k),isTablet:nn(V),isPhone:nn(ct),isTouch:nn(j),isAndroid:a.isAndroid,isiOS:a.isiOS,isWebView:nn(kt),isDesktop:nn(Dn)}},Vn=function(a,l){for(var m=0;m<a.length;m++){var h=a[m];if(h.test(l))return h}},Cn=function(a,l){var m=Vn(a,l);if(!m)return{major:0,minor:0};var h=function(x){return Number(l.replace(m,"$"+x))};return Qn(h(1),h(2))},ee=function(a,l){var m=String(l).toLowerCase();return a.length===0?Zn():Cn(a,m)},Zn=function(){return Qn(0,0)},Qn=function(a,l){return{major:a,minor:l}},Me={nu:Qn,detect:ee,unknown:Zn},dr=function(a,l){var m=String(l).toLowerCase();return wt(a,function(h){return h.search(m)})},zn=function(a,l){return dr(a,l).map(function(m){var h=Me.detect(m.versionRegexes,l);return{current:m.name,version:h}})},gn=function(a,l){return dr(a,l).map(function(m){var h=Me.detect(m.versionRegexes,l);return{current:m.name,version:h}})},Ee={detectBrowser:zn,detectOs:gn},ur=function(a,l,m){return l===""||a.length>=l.length&&a.substr(m,m+l.length)===l},Ir=function(a,l){return a.indexOf(l)!==-1},Nr=function(a,l){return ur(a,l,0)},eo=function(a,l){return ur(a,l,a.length-l.length)},Or=function(a){return function(l){return l.replace(a,"")}},So=Or(/^\s+|\s+$/g),Ct=function(a){return a.length>0},rn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Yn=function(a){return function(l){return Ir(l,a)}},Pe=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(a){return Ir(a,"edge/")&&Ir(a,"chrome")&&Ir(a,"safari")&&Ir(a,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,rn],search:function(a){return Ir(a,"chrome")&&!Ir(a,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(a){return Ir(a,"msie")||Ir(a,"trident")}},{name:"Opera",versionRegexes:[rn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Yn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Yn("firefox")},{name:"Safari",versionRegexes:[rn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(a){return(Ir(a,"safari")||Ir(a,"mobile/"))&&Ir(a,"applewebkit")}}],fe=[{name:"Windows",search:Yn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(a){return Ir(a,"iphone")||Ir(a,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Yn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Yn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Yn("linux"),versionRegexes:[]},{name:"Solaris",search:Yn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Yn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Yn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],lr={browsers:nn(Pe),oses:nn(fe)},wo="Edge",zr="Chrome",Er="IE",$o="Opera",Bi="Firefox",Eo="Safari",Xi=function(){return Oo({current:void 0,version:Me.unknown()})},Oo=function(a){var l=a.current,m=a.version,h=function(x){return function(){return l===x}};return{current:l,version:m,isEdge:h(wo),isChrome:h(zr),isIE:h(Er),isOpera:h($o),isFirefox:h(Bi),isSafari:h(Eo)}},hi={unknown:Xi,nu:Oo,edge:nn(wo),chrome:nn(zr),ie:nn(Er),opera:nn($o),firefox:nn(Bi),safari:nn(Eo)},ii="Windows",cr="iOS",ao="Android",zo="Linux",Ko="OSX",Xe="Solaris",ui="FreeBSD",gi="ChromeOS",Ni=function(){return yi({current:void 0,version:Me.unknown()})},yi=function(a){var l=a.current,m=a.version,h=function(x){return function(){return l===x}};return{current:l,version:m,isWindows:h(ii),isiOS:h(cr),isAndroid:h(ao),isOSX:h(Ko),isLinux:h(zo),isSolaris:h(Xe),isFreeBSD:h(ui),isChromeOS:h(gi)}},$r={unknown:Ni,nu:yi,windows:nn(ii),ios:nn(cr),android:nn(ao),linux:nn(zo),osx:nn(Ko),solaris:nn(Xe),freebsd:nn(ui),chromeos:nn(gi)},wi=function(a,l){var m=lr.browsers(),h=lr.oses(),x=Ee.detectBrowser(m,a).fold(hi.unknown,hi.nu),k=Ee.detectOs(h,a).fold($r.unknown,$r.nu),D=yo(k,x,a,l);return{browser:x,os:k,deviceType:D}},fi={detect:wi},vi=function(a){return window.matchMedia(a).matches},Vi=Lr(function(){return fi.detect(navigator.userAgent,vi)}),Ui=function(){return Vi()},Wo=function(a,l,m){return(a.compareDocumentPosition(l)&m)!==0},zi=function(a,l){return Wo(a,l,Node.DOCUMENT_POSITION_CONTAINED_BY)},lt=8,L=9,q=11,dt=1,_t=3,zt=function(a,l){var m=l||document,h=m.createElement("div");if(h.innerHTML=a,!h.hasChildNodes()||h.childNodes.length>1)throw console.error("HTML does not have a single root node",a),new Error("HTML must have a single root node");return Z(h.childNodes[0])},an=function(a,l){var m=l||document,h=m.createElement(a);return Z(h)},P=function(a,l){var m=l||document,h=m.createTextNode(a);return Z(h)},Z=function(a){if(a==null)throw new Error("Node cannot be null or undefined");return{dom:a}},xt=function(a,l,m){return Y.from(a.dom.elementFromPoint(l,m)).map(Z)},at={fromHtml:zt,fromTag:an,fromText:P,fromDom:Z,fromPoint:xt},$t=function(a,l){var m=a.dom;if(m.nodeType!==dt)return!1;var h=m;if(h.matches!==void 0)return h.matches(l);if(h.msMatchesSelector!==void 0)return h.msMatchesSelector(l);if(h.webkitMatchesSelector!==void 0)return h.webkitMatchesSelector(l);if(h.mozMatchesSelector!==void 0)return h.mozMatchesSelector(l);throw new Error("Browser lacks native selectors")},en=function(a){return a.nodeType!==dt&&a.nodeType!==L&&a.nodeType!==q||a.childElementCount===0},we=function(a,l){var m=l===void 0?document:l.dom;return en(m)?[]:bn(m.querySelectorAll(a),at.fromDom)},Ze=function(a,l){var m=l===void 0?document:l.dom;return en(m)?Y.none():Y.from(m.querySelector(a)).map(at.fromDom)},Pn=function(a,l){return a.dom===l.dom},Qe=function(a,l){var m=a.dom,h=l.dom;return m===h?!1:m.contains(h)},K=function(a,l){return zi(a.dom,l.dom)},St=function(a,l){return Ui().browser.isIE()?K(a,l):Qe(a,l)},Ot=$t,sn=Object.keys,Ae=Object.hasOwnProperty,_e=function(a,l){for(var m=sn(a),h=0,x=m.length;h<x;h++){var k=m[h],D=a[k];l(D,k)}},rt=function(a,l){return Bt(a,function(m,h){return{k:h,v:l(m,h)}})},Bt=function(a,l){var m={};return _e(a,function(h,x){var k=l(h,x);m[k.k]=k.v}),m},mn=function(a){return function(l,m){a[m]=l}},oe=function(a,l,m,h){var x={};return _e(a,function(k,D){(l(k,D)?m:h)(k,D)}),x},ke=function(a,l){var m={};return oe(a,l,mn(m),ft),m},Wn=function(a,l){var m=[];return _e(a,function(h,x){m.push(l(h,x))}),m},fr=function(a){return Wn(a,function(l){return l})},mr=function(a){return sn(a).length},Rr=function(a,l){return xo(a,l)?Y.from(a[l]):Y.none()},xo=function(a,l){return Ae.call(a,l)},W=function(a,l){return xo(a,l)&&a[l]!==void 0&&a[l]!==null},Mt=function(a){for(var l in a)if(Ae.call(a,l))return!1;return!0},Ht=["tfoot","thead","tbody","colgroup"],Nt=function(a){return Ve(Ht,a)},Gn=function(a,l){return{rows:a,columns:l}},xr=function(a,l){return{row:a,column:l}},co=function(a,l,m){return{element:a,rowspan:l,colspan:m}},lo=function(a,l,m,h){return{element:a,rowspan:l,colspan:m,isNew:h}},Qr=function(a,l,m,h,x,k){return{element:a,rowspan:l,colspan:m,row:h,column:x,isLocked:k}},ci=function(a,l,m){return{element:a,cells:l,section:m}},io=function(a,l,m){return{element:a,isNew:l,isLocked:m}},ro=function(a,l,m,h){return{element:a,cells:l,section:m,isNew:h}},vu=function(a,l){return{cells:a,section:l}},Gl=function(a,l){return{details:a,section:l}},Kl=function(a,l,m,h){return{startRow:a,startCol:l,finishRow:m,finishCol:h}},bm=function(a,l,m){return{element:a,colspan:l,column:m}};typeof window!="undefined"||Function("return this;")();var Ue=function(a){var l=a.dom.nodeName;return l.toLowerCase()},Xf=function(a){return a.dom.nodeType},Tu=function(a){return function(l){return Xf(l)===a}},Jl=function(a){return Xf(a)===lt||Ue(a)==="#comment"},Hc=Tu(dt),Bo=Tu(_t),Wa=Tu(L),ji=Tu(q),dc=function(a){return function(l){return Hc(l)&&Ue(l)===a}},fa=function(a){return at.fromDom(a.dom.ownerDocument)},bu=function(a){return Wa(a)?a:fa(a)},Rg=function(a){return at.fromDom(bu(a).dom.defaultView)},Ou=function(a){return Y.from(a.dom.parentNode).map(at.fromDom)},hn=function(a,l){for(var m=sr(l)?l:Jt,h=a.dom,x=[];h.parentNode!==null&&h.parentNode!==void 0;){var k=h.parentNode,D=at.fromDom(k);if(x.push(D),m(D)===!0)break;h=k}return x},Gf=function(a){return Y.from(a.dom.offsetParent).map(at.fromDom)},bi=function(a){return Y.from(a.dom.previousSibling).map(at.fromDom)},ls=function(a){return Y.from(a.dom.nextSibling).map(at.fromDom)},F=function(a){return bn(a.dom.childNodes,at.fromDom)},it=function(a,l){var m=a.dom.childNodes;return Y.from(m[l]).map(at.fromDom)},H=function(a){return it(a,0)},pn=function(a){return ji(a)&&wr(a.dom.host)},At=sr(Element.prototype.attachShadow)&&sr(Node.prototype.getRootNode),gr=nn(At),Do=At?function(a){return at.fromDom(a.dom.getRootNode())}:bu,rr=function(a){var l=Do(a);return pn(l)?Y.some(l):Y.none()},ru=function(a){return at.fromDom(a.dom.host)},da=function(a){if(gr()&&wr(a.target)){var l=at.fromDom(a.target);if(Hc(l)&&Ai(l)&&a.composed&&a.composedPath){var m=a.composedPath();if(m)return be(m)}}return Y.from(a.target)},Ai=function(a){return wr(a.dom.shadowRoot)},Du=function(a){var l=Bo(a)?a.dom.parentNode:a.dom;if(l==null||l.ownerDocument===null)return!1;var m=l.ownerDocument;return rr(at.fromDom(l)).fold(function(){return m.body.contains(l)},on(Du,ru))},mc=function(){return Kf(at.fromDom(document))},Kf=function(a){var l=a.dom.body;if(l==null)throw new Error("Body is not available yet");return at.fromDom(l)},ma=function(a,l,m){return Ft(hn(a,m),l)},Cr=function(a,l){return Ft(F(a),l)},ou=function(a,l){var m=[];return he(F(a),function(h){l(h)&&(m=m.concat([h])),m=m.concat(ou(h,l))}),m},zs=function(a,l,m){return ma(a,function(h){return $t(h,l)},m)},uo=function(a,l){return Cr(a,function(m){return $t(m,l)})},Mo=function(a,l){return we(l,a)};function Pg(a,l,m,h,x){return a(m,h)?Y.some(m):sr(x)&&x(m)?Y.none():l(m,h,x)}var Gi=function(a,l,m){for(var h=a.dom,x=sr(m)?m:Jt;h.parentNode;){h=h.parentNode;var k=at.fromDom(h);if(l(k))return Y.some(k);if(x(k))break}return Y.none()},ym=function(a,l,m){var h=function(x,k){return k(x)};return Pg(h,Gi,a,l,m)},It=function(a,l){var m=function(x){return l(at.fromDom(x))},h=wt(a.dom.childNodes,m);return h.map(at.fromDom)},Ti=function(a,l){var m=function(h){for(var x=0;x<h.childNodes.length;x++){var k=at.fromDom(h.childNodes[x]);if(l(k))return Y.some(k);var D=m(h.childNodes[x]);if(D.isSome())return D}return Y.none()};return m(a.dom)},fs=function(a,l,m){return Gi(a,function(h){return $t(h,l)},m)},dl=function(a,l){return It(a,function(m){return $t(m,l)})},Aa=function(a,l){return Ze(l,a)},fo=function(a,l,m){var h=function(x,k){return $t(x,k)};return Pg(h,fs,a,l,m)},ri=function(a,l,m){if(S(m)||ve(m)||Pt(m))a.setAttribute(l,m+"");else throw console.error("Invalid call to Attribute.set. Key ",l,":: Value ",m,":: Element ",a),new Error("Attribute value was not simple")},Mi=function(a,l,m){ri(a.dom,l,m)},iu=function(a,l){var m=a.dom;_e(l,function(h,x){ri(m,x,h)})},Ya=function(a,l){var m=a.dom.getAttribute(l);return m===null?void 0:m},xi=function(a,l){return Y.from(Ya(a,l))},re=function(a,l){a.dom.removeAttribute(l)},gc=function(a){return Tn(a.dom.attributes,function(l,m){return l[m.name]=m.value,l},{})},pc=function(a){return a.style!==void 0&&sr(a.style.getPropertyValue)},ml=function(a,l,m){if(!S(m))throw console.error("Invalid call to CSS.set. Property ",l,":: Value ",m,":: Element ",a),new Error("CSS value must be a string: "+m);pc(a)&&a.style.setProperty(l,m)},Ki=function(a,l){pc(a)&&a.style.removeProperty(l)},Oi=function(a,l,m){var h=a.dom;ml(h,l,m)},Fe=function(a,l){var m=a.dom;_e(l,function(h,x){ml(m,x,h)})},hc=function(a,l){var m=a.dom,h=window.getComputedStyle(m),x=h.getPropertyValue(l);return x===""&&!Du(a)?Lg(m,l):x},Lg=function(a,l){return pc(a)?a.style.getPropertyValue(l):""},Vc=function(a,l){var m=a.dom,h=Lg(m,l);return Y.from(h).filter(function(x){return x.length>0})},$a=function(a,l){var m=a.dom;Ki(m,l),xi(a,"style").map(So).is("")&&re(a,"style")},Ig=function(a,l){var m=a.dom,h=l.dom;pc(m)&&pc(h)&&(h.style.cssText=m.style.cssText)},vc=function(a,l,m){return m===void 0&&(m=0),xi(a,l).map(function(h){return parseInt(h,10)}).getOr(m)},Ta=function(a,l){return vc(a,l,1)},wm=function(a){return Ta(a,"colspan")>1},Hg=function(a){return Ta(a,"rowspan")>1},xm=function(a,l){return parseInt(hc(a,l),10)},Zl=nn(10),Vg=nn(10),Jo=function(a,l){return Uc(a,l,yn)},Uc=function(a,l,m){return qt(F(a),function(h){return $t(h,l)?m(h)?[h]:[]:Uc(h,l,m)})},Oh=function(a,l,m){if(m===void 0&&(m=Jt),m(l))return Y.none();if(Ve(a,Ue(l)))return Y.some(l);var h=function(x){return $t(x,"table")||m(x)};return fs(l,a.join(","),h)},Ji=function(a,l){return Oh(["td","th"],a,l)},ds=function(a){return Jo(a,"th,td")},bc=function(a){return $t(a,"colgroup")?uo(a,"col"):qt(Zi(a),function(l){return uo(l,"col")})},ai=function(a,l){return fo(a,"table",l)},Ql=function(a){return Jo(a,"tr")},Zi=function(a){return ai(a).fold(nn([]),function(l){return uo(l,"colgroup")})},Cm=function(a,l){return bn(a,function(m){if(Ue(m)==="colgroup"){var h=bn(bc(m),function(x){var k=vc(x,"span",1);return co(x,1,k)});return ci(m,h,"colgroup")}else{var h=bn(ds(m),function(k){var D=vc(k,"rowspan",1),j=vc(k,"colspan",1);return co(k,D,j)});return ci(m,h,l(m))}})},gl=function(a){return Ou(a).map(function(l){var m=Ue(l);return Nt(m)?m:"tbody"}).getOr("tbody")},Jf=function(a){var l=Ql(a),m=Zi(a),h=Zr(m,l);return Cm(h,gl)},pl=function(a,l){return Cm(a,function(){return l})},Sm=function(a,l,m){var h=a.cells,x=h.slice(0,l),k=h.slice(l),D=x.concat(m).concat(k);return Qf(a,D)},Ms=function(a,l,m){return Sm(a,l,[m])},Zf=function(a,l,m){var h=a.cells;h[l]=m},Qf=function(a,l){return vu(l,a.section)},td=function(a,l){var m=a.cells,h=bn(m,l);return vu(h,a.section)},Oa=function(a,l){return a.cells[l]},qu=function(a,l){return Oa(a,l).element},Da=function(a){return a.cells.length},_u=function(a){var l=br(a,function(m){return m.section==="colgroup"});return{rows:l.fail,cols:l.pass}},tf="data-snooker-locked-cols",Rs=function(a){return xi(a,tf).bind(function(l){return Y.from(l.match(/\d+/g))}).map(function(l){return nt(l,yn)})},yc=function(a){var l=Tn(_u(a).rows,function(h,x){return he(x.cells,function(k,D){k.isLocked&&(h[D]=!0)}),h},{}),m=Wn(l,function(h,x){return parseInt(x,10)});return yt(m)},Vr=function(a,l){return a+","+l},Xa=function(a,l,m){var h=a.access[Vr(l,m)];return h!==void 0?Y.some(h):Y.none()},hl=function(a,l,m){var h=km(a,function(x){return m(l,x.element)});return h.length>0?Y.some(h[0]):Y.none()},km=function(a,l){var m=qt(a.all,function(h){return h.cells});return Ft(m,l)},L0=function(a){var l={},m=0;return he(a.cells,function(h){var x=h.colspan;kn(x,function(k){var D=m+k;l[D]=bm(h.element,x,D)}),m+=x}),l},vl=function(a){var l={},m=[],h={},x=be(a).map(function(kt){return kt.element}).bind(ai),k=x.bind(Rs).getOr({}),D=0,j=0,V=0;he(a,function(kt){if(kt.section==="colgroup")h=L0(kt);else{var Dn=[];he(kt.cells,function(En){for(var _n=0;l[Vr(V,_n)]!==void 0;)_n++;for(var Gt=W(k,_n.toString()),un=Qr(En.element,En.rowspan,En.colspan,V,_n,Gt),Bn=0;Bn<En.colspan;Bn++)for(var or=0;or<En.rowspan;or++){var no=V+or,Dr=_n+Bn,so=Vr(no,Dr);l[so]=un,j=Math.max(j,Dr+1)}Dn.push(un)}),D++,m.push(ci(kt.element,Dn,kt.section)),V++}});var ct=Gn(D,j);return{grid:ct,access:l,all:m,columns:h}},I0=function(a){var l=Jf(a);return vl(l)},nf=function(a){return qt(a.all,function(l){return l.cells})},Ga=function(a){return fr(a.columns)},T=function(a){return sn(a.columns).length>0},z=function(a,l){return Y.from(a.columns[l])},U={fromTable:I0,generate:vl,getAt:Xa,findItem:hl,filterItems:km,justCells:nf,justColumns:Ga,hasColumns:T,getColumnAt:z},ht=function(a,l){var m=l.column,h=l.column+l.colspan-1,x=l.row,k=l.row+l.rowspan-1;return m<=a.finishCol&&h>=a.startCol&&x<=a.finishRow&&k>=a.startRow},Vt=function(a,l){return l.column>=a.startCol&&l.column+l.colspan-1<=a.finishCol&&l.row>=a.startRow&&l.row+l.rowspan-1<=a.finishRow},In=function(a,l){for(var m=!0,h=Xt(Vt,l),x=l.startRow;x<=l.finishRow;x++)for(var k=l.startCol;k<=l.finishCol;k++)m=m&&U.getAt(a,x,k).exists(h);return m?Y.some(l):Y.none()},ir=function(a,l){return Kl(Math.min(a.row,l.row),Math.min(a.column,l.column),Math.max(a.row+a.rowspan-1,l.row+l.rowspan-1),Math.max(a.column+a.colspan-1,l.column+l.colspan-1))},Br=function(a,l,m){var h=U.findItem(a,l,Pn),x=U.findItem(a,m,Pn);return h.bind(function(k){return x.map(function(D){return ir(k,D)})})},_r=function(a,l,m){return Br(a,l,m).bind(function(h){return In(a,h)})},To=function(a,l,m,h){return U.findItem(a,l,Pn).bind(function(x){var k=m>0?x.row+x.rowspan-1:x.row,D=h>0?x.column+x.colspan-1:x.column,j=U.getAt(a,k+m,D+h);return j.map(function(V){return V.element})})},Ur=function(a,l,m){return Br(a,l,m).map(function(h){var x=U.filterItems(a,Xt(ht,h));return bn(x,function(k){return k.element})})},Wu=function(a,l){var m=function(h,x){return St(x,h)};return U.findItem(a,l,m).map(function(h){return h.element})},Dh=function(a,l,m){return ai(a).bind(function(h){var x=Am(h);return To(x,a,l,m)})},jc=function(a,l,m){var h=Am(a);return Ur(h,l,m)},ms=function(a,l,m,h,x){var k=Am(a),D=Pn(a,m)?Y.some(l):Wu(k,l),j=Pn(a,x)?Y.some(h):Wu(k,h);return D.bind(function(V){return j.bind(function(ct){return Ur(k,V,ct)})})},Em=function(a,l,m){var h=Am(a);return _r(h,l,m)},Am=U.fromTable,Ug=function(a,l){var m=Ou(a);m.each(function(h){h.dom.insertBefore(l.dom,a.dom)})},ga=function(a,l){var m=ls(a);m.fold(function(){var h=Ou(a);h.each(function(x){qi(x,l)})},function(h){Ug(h,l)})},H0=function(a,l){var m=H(a);m.fold(function(){qi(a,l)},function(h){a.dom.insertBefore(l.dom,h.dom)})},qi=function(a,l){a.dom.appendChild(l.dom)},tS=function(a,l){Ug(a,l),qi(l,a)},bl=function(a,l){he(l,function(m){Ug(a,m)})},Fu=function(a,l){he(l,function(m,h){var x=h===0?a:l[h-1];ga(x,m)})},Yu=function(a,l){he(l,function(m){qi(a,m)})},ef=function(a){a.dom.textContent="",he(F(a),function(l){ea(l)})},ea=function(a){var l=a.dom;l.parentNode!==null&&l.parentNode.removeChild(l)},Zy=function(a){var l=F(a);l.length>0&&bl(a,l),ea(a)},wc=function(a,l){var m=function(k){if(!a(k))throw new Error("Can only get "+l+" value of a "+l+" node");return h(k).getOr("")},h=function(k){return a(k)?Y.from(k.dom.nodeValue):Y.none()},x=function(k,D){if(!a(k))throw new Error("Can only set raw "+l+" value of a "+l+" node");k.dom.nodeValue=D};return{get:m,getOption:h,set:x}},Tm=wc(Bo,"text"),nd=function(a){return Tm.get(a)},_h=function(a){return Tm.getOption(a)},yl=function(a,l){return Tm.set(a,l)},wl=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"];function jg(){var a=function(V){return at.fromDom(V.dom.cloneNode(!1))},l=function(V){return bu(V).dom},m=function(V){return Hc(V)?Ue(V)==="body"?!0:Ve(wl,Ue(V)):!1},h=function(V){return Hc(V)?Ve(["br","img","hr","input"],Ue(V)):!1},x=function(V){return Hc(V)&&Ya(V,"contenteditable")==="false"},k=function(V,ct){return V.dom.compareDocumentPosition(ct.dom)},D=function(V,ct){var kt=gc(V);iu(ct,kt)},j=function(V){var ct=Ue(V);return Ve(["script","noscript","iframe","noframes","noembed","title","style","textarea","xmp"],ct)};return{up:nn({selector:fs,closest:fo,predicate:Gi,all:hn}),down:nn({selector:Mo,predicate:ou}),styles:nn({get:hc,getRaw:Vc,set:Oi,remove:$a}),attrs:nn({get:Ya,set:Mi,remove:re,copyTo:D}),insert:nn({before:Ug,after:ga,afterAll:Fu,append:qi,appendAll:Yu,prepend:H0,wrap:tS}),remove:nn({unwrap:Zy,remove:ea}),create:nn({nu:at.fromTag,clone:a,text:at.fromText}),query:nn({comparePosition:k,prevSibling:bi,nextSibling:ls}),property:nn({children:F,name:Ue,parent:Ou,document:l,isText:Bo,isComment:Jl,isElement:Hc,isSpecial:j,getText:nd,setText:yl,isBoundary:m,isEmptyTag:h,isNonEditable:x}),eq:Pn,is:Ot}}var Om=function(a,l,m,h){var x=m[0],k=m.slice(1);return h(a,l,x,k)},nS=function(a,l,m){return m.length>0?Om(a,l,m,Dm):Y.none()},Dm=function(a,l,m,h){var x=l(a,m);return cn(h,function(k,D){var j=l(a,D);return qg(a,k,j)},x)},qg=function(a,l,m){return l.bind(function(h){return m.filter(Xt(a.eq,h))})},Ps=function(a,l){return Xt(a.eq,l)},V0=function(a,l,m,h){h===void 0&&(h=Jt);var x=[l].concat(a.up().all(l)),k=[m].concat(a.up().all(m)),D=function(kt){var Dn=tn(kt,h);return Dn.fold(function(){return kt},function(En){return kt.slice(0,En+1)})},j=D(x),V=D(k),ct=wt(j,function(kt){return $e(V,Ps(a,kt))});return{firstpath:j,secondpath:V,shared:ct}},eS=nS,Ci=V0,Qy=jg(),Ls=function(a,l){return eS(Qy,function(m,h){return a(h)},l)},rf=function(a,l,m){return Ci(Qy,a,l,m)},xl=function(a){return fs(a,"table")},Is=function(a,l,m){var h=function(x){return function(k){return m!==void 0&&m(k)||Pn(k,x)}};return Pn(a,l)?Y.some({boxes:Y.some([a]),start:a,finish:l}):xl(a).bind(function(x){return xl(l).bind(function(k){if(Pn(x,k))return Y.some({boxes:jc(x,a,l),start:a,finish:l});if(St(x,k)){var D=zs(l,"td,th",h(x)),j=D.length>0?D[D.length-1]:l;return Y.some({boxes:ms(x,a,x,l,k),start:a,finish:j})}else if(St(k,x)){var D=zs(a,"td,th",h(k)),V=D.length>0?D[D.length-1]:a;return Y.some({boxes:ms(k,a,x,l,k),start:a,finish:V})}else return rf(a,l).shared.bind(function(ct){return fo(ct,"table",m).bind(function(kt){var Dn=zs(l,"td,th",h(kt)),En=Dn.length>0?Dn[Dn.length-1]:l,_n=zs(a,"td,th",h(kt)),Gt=_n.length>0?_n[_n.length-1]:a;return Y.some({boxes:ms(kt,a,x,l,k),start:Gt,finish:En})})})})})},ra=function(a,l){var m=Mo(a,l);return m.length>0?Y.some(m):Y.none()},Wg=function(a,l){return wt(a,function(m){return $t(m,l)})},xc=function(a,l,m){return Aa(a,l).bind(function(h){return Aa(a,m).bind(function(x){return Ls(xl,[h,x]).map(function(k){return{first:h,last:x,table:k}})})})},t2=function(a,l){return fs(a,"table").bind(function(m){return Aa(m,l).bind(function(h){return Is(h,a).bind(function(x){return x.boxes.map(function(k){return{boxes:k,start:x.start,finish:x.finish}})})})})},Yg=function(a,l,m,h,x){return Wg(a,x).bind(function(k){return Dh(k,l,m).bind(function(D){return t2(D,h)})})},of=function(a,l){return ra(a,l)},ed=function(a,l,m){return xc(a,l,m).bind(function(h){var x=function(V){return Pn(a,V)},k="thead,tfoot,tbody,table",D=fs(h.first,k,x),j=fs(h.last,k,x);return D.bind(function(V){return j.bind(function(ct){return Pn(V,ct)?Em(h.table,h.first,h.last):Y.none()})})})},rS=function(a){if(!Ne(a))throw new Error("cases must be an array");if(a.length===0)throw new Error("there must be at least one case");var l=[],m={};return he(a,function(h,x){var k=sn(h);if(k.length!==1)throw new Error("one and only one name per case");var D=k[0],j=h[D];if(m[D]!==void 0)throw new Error("duplicate key detected:"+D);if(D==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ne(j))throw new Error("case arguments must be an array");l.push(D),m[D]=function(){for(var V=[],ct=0;ct<arguments.length;ct++)V[ct]=arguments[ct];var kt=V.length;if(kt!==j.length)throw new Error("Wrong number of arguments to case "+D+". Expected "+j.length+" ("+j+"), got "+kt);var Dn=function(En){var _n=sn(En);if(l.length!==_n.length)throw new Error("Wrong number of arguments to match. Expected: "+l.join(",")+`
Actual: `+_n.join(","));var Gt=gt(l,function(un){return Ve(_n,un)});if(!Gt)throw new Error("Not all branches were specified when using match. Specified: "+_n.join(", ")+`
Required: `+l.join(", "));return En[D].apply(null,V)};return{fold:function(){for(var En=[],_n=0;_n<arguments.length;_n++)En[_n]=arguments[_n];if(En.length!==a.length)throw new Error("Wrong number of arguments to fold. Expected "+a.length+", got "+En.length);var Gt=En[x];return Gt.apply(null,V)},match:Dn,log:function(En){console.log(En,{constructors:l,constructor:D,params:V})}}}}),m},Cl={generate:rS},uf=Cl.generate([{none:[]},{multiple:["elements"]},{single:["element"]}]),Sl=function(a,l,m,h){return a.fold(l,m,h)},kl=uf.none,$g=uf.multiple,Ri=uf.single,Fh=function(a,l,m){var h=function(){return of(a(),m).fold(function(){return l().map(Ri).getOrThunk(kl)},function(x){return $g(x)})};return{get:h}},n2=tinymce.util.Tools.resolve("tinymce.PluginManager"),_m=function(a,l){return at.fromDom(a.dom.cloneNode(l))},Bh=function(a){return _m(a,!1)},rd=function(a){return _m(a,!0)},e2=function(a,l){var m=at.fromTag(l),h=gc(a);return iu(m,h),m},Nh=function(a,l){var m=e2(a,l),h=F(rd(a));return Yu(m,h),m},Hr=function(a){for(var l=[],m=function(x){l.push(x)},h=0;h<a.length;h++)a[h].each(m);return l},Sr=function(a,l,m){return a.isSome()&&l.isSome()?Y.some(m(a.getOrDie(),l.getOrDie())):Y.none()},od=function(a,l){return a!=null?l(a):Y.none()},Xg=function(a,l){return a?Y.some(l):Y.none()},Wi=function(a,l){var m=function(j,V){if(!Pt(V)&&!V.match(/^[0-9]+$/))throw new Error(a+".set accepts only positive integer values. Value was "+V);var ct=j.dom;pc(ct)&&(ct.style[a]=V+"px")},h=function(j){var V=l(j);if(V<=0||V===null){var ct=hc(j,a);return parseFloat(ct)||0}return V},x=h,k=function(j,V){return Tn(V,function(ct,kt){var Dn=hc(j,kt),En=Dn===void 0?0:parseInt(Dn,10);return isNaN(En)?ct:ct+En},0)},D=function(j,V,ct){var kt=k(j,ct),Dn=V>kt?V-kt:0;return Dn};return{set:m,get:h,getOuter:x,aggregate:k,max:D}},U0=Wi("width",function(a){return a.dom.offsetWidth}),po=function(a){return U0.get(a)},zh=function(a){return U0.getOuter(a)},j0=function(a,l){l===void 0&&(l=yn);var m=a.grid,h=kn(m.columns,st),x=kn(m.rows,st);return bn(h,function(k){var D=function(){return qt(x,function(ct){return U.getAt(a,ct,k).filter(function(kt){return kt.column===k}).toArray()})},j=function(ct){return ct.colspan===1&&l(ct.element)},V=function(){return U.getAt(a,0,k)};return q0(D,j,V)})},q0=function(a,l,m){var h=a(),x=wt(h,l),k=x.orThunk(function(){return Y.from(h[0]).orThunk(m)});return k.map(function(D){return D.element})},Fn=function(a){var l=a.grid,m=kn(l.rows,st),h=kn(l.columns,st);return bn(m,function(x){var k=function(){return qt(h,function(V){return U.getAt(a,x,V).filter(function(ct){return ct.row===x}).fold(nn([]),function(ct){return[ct]})})},D=function(V){return V.rowspan===1},j=function(){return U.getAt(a,x,0)};return q0(k,D,j)})},W0=function(a,l){if(l<0||l>=a.length-1)return Y.none();var m=a[l].fold(function(){var x=Wt(a.slice(0,l));return ar(x,function(k,D){return k.map(function(j){return{value:j,delta:D+1}})})},function(x){return Y.some({value:x,delta:0})}),h=a[l+1].fold(function(){var x=a.slice(l+1);return ar(x,function(k,D){return k.map(function(j){return{value:j,delta:D+1}})})},function(x){return Y.some({value:x,delta:1})});return m.bind(function(x){return h.map(function(k){var D=k.delta+x.delta;return Math.abs(k.value-x.value)/D})})},r2=function(a,l){return function(m){return gs(m)==="rtl"?l:a}},gs=function(a){return hc(a,"direction")==="rtl"?"rtl":"ltr"},o2=Wi("height",function(a){var l=a.dom;return Du(a)?l.getBoundingClientRect().height:l.offsetHeight}),$u=function(a){return o2.get(a)},Mh=function(a){return o2.getOuter(a)},Hs=function(a,l){var m=function(h,x){return Hs(a+h,l+x)};return{left:a,top:l,translate:m}},Ka=Hs,id=function(a){var l=a.getBoundingClientRect();return Ka(l.left,l.top)},si=function(a,l){return a!==void 0?a:l!==void 0?l:0},oa=function(a){var l=a.dom.ownerDocument,m=l.body,h=l.defaultView,x=l.documentElement;if(m===a.dom)return Ka(m.offsetLeft,m.offsetTop);var k=si(h==null?void 0:h.pageYOffset,x.scrollTop),D=si(h==null?void 0:h.pageXOffset,x.scrollLeft),j=si(x.clientTop,m.clientTop),V=si(x.clientLeft,m.clientLeft);return oS(a).translate(D-V,k-j)},oS=function(a){var l=a.dom,m=l.ownerDocument,h=m.body;return h===l?Ka(h.offsetLeft,h.offsetTop):Du(a)?id(l):Ka(0,0)},Cc=function(a,l){return{row:a,y:l}},Ja=function(a,l){return{col:a,x:l}},i2=function(a){var l=oa(a);return l.left+zh(a)},ud=function(a){return oa(a).left},uu=function(a,l){return Ja(a,ud(l))},ad=function(a,l){return Ja(a,i2(l))},Y0=function(a){return oa(a).top},Bu=function(a,l){return Cc(a,Y0(l))},Sc=function(a,l){return Cc(a,Y0(l)+Mh(l))},kc=function(a,l,m){if(m.length===0)return[];var h=bn(m.slice(1),function(k,D){return k.map(function(j){return a(D,j)})}),x=m[m.length-1].map(function(k){return l(m.length-1,k)});return h.concat([x])},$0=function(a){return-a},ps={delta:st,positions:function(a){return kc(Bu,Sc,a)},edge:Y0},yu={delta:st,edge:ud,positions:function(a){return kc(uu,ad,a)}},Fm={delta:$0,edge:i2,positions:function(a){return kc(ad,uu,a)}},pa=r2(yu,Fm),Gg={delta:function(a,l){return pa(l).delta(a,l)},positions:function(a,l){return pa(l).positions(a,l)},edge:function(a){return pa(a).edge(a)}},hs={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},Kg=function(){var a="[0-9]+",l="[+-]?"+a,m="[eE]"+l,h="\\.",x=function(j){return"(?:"+j+")?"},k=["Infinity",a+h+x(a)+x(m),h+a+x(m),a+x(m)].join("|"),D="[+-]?(?:"+k+")";return new RegExp("^("+D+")(.*)$")}(),X0=function(a,l){return $e(l,function(m){return $e(hs[m],function(h){return a===h})})},G0=function(a,l){var m=Y.from(Kg.exec(a));return m.bind(function(h){var x=Number(h[1]),k=h[2];return X0(k,l)?Y.some({value:x,unit:k}):Y.none()})},K0=function(){var a=Ui().browser;return a.isIE()||a.isEdge()},Rh=function(a,l){var m=parseFloat(a);return isNaN(m)?l:m},Yi=function(a,l,m){return Rh(hc(a,l),m)},Ph=function(a){var l=a.dom.getBoundingClientRect().height,m=hc(a,"box-sizing");if(m==="border-box")return l;var h=Yi(a,"padding-top",0),x=Yi(a,"padding-bottom",0),k=Yi(a,"border-top-width",0),D=Yi(a,"border-bottom-width",0),j=k+D;return l-h-x-j},J0=function(a){var l=a.dom.getBoundingClientRect().width,m=hc(a,"box-sizing");if(m==="border-box")return l;var h=Yi(a,"padding-left",0),x=Yi(a,"padding-right",0),k=Yi(a,"border-left-width",0),D=Yi(a,"border-right-width",0),j=k+D;return l-h-x-j},u2=function(a){return K0()?Ph(a):Yi(a,"height",$u(a))},Lh=function(a){return K0()?J0(a):Yi(a,"width",po(a))},Ih=/(\d+(\.\d+)?)%/,Z0=/(\d+(\.\d+)?)px|em/,Hh=function(a,l){var m=Gf(a).getOr(Kf(fa(a)));return l(a)/l(m)*100},a2=function(a,l){Oi(a,"width",l+"px")},Q0=function(a,l){Oi(a,"width",l+"%")},_a=function(a,l){Oi(a,"height",l+"px")},iS=function(a){return Vc(a,"height").getOrThunk(function(){return u2(a)+"px"})},Vs=function(a,l,m,h){var x=ai(a).map(function(k){var D=m(k);return Math.floor(l/100*D)}).getOr(l);return h(a,x),x},c2=function(a,l,m,h){var x=parseInt(a,10);return eo(a,"%")&&Ue(l)!=="table"?Vs(l,x,m,h):x},Jg=function(a){var l=iS(a);return l?c2(l,a,$u,_a):$u(a)},af=function(a,l,m){var h=m(a),x=Ta(a,l);return h/x},cd=function(a){var l=Vc(a,"width");return l.fold(function(){return Y.from(Ya(a,"width"))},function(m){return Y.some(m)})},s2=function(a,l){return a/l.pixelWidth()*100},Bm=function(a,l,m){var h=Ih.exec(l);if(h!==null)return parseFloat(h[1]);var x=Lh(a);return s2(x,m)},Zg=function(a,l){var m=cd(a);return m.fold(function(){var h=po(a);return s2(h,l)},function(h){return Bm(a,h,l)})},sd=function(a,l){return a/100*l.pixelWidth()},l2=function(a,l,m){var h=Z0.exec(l);if(h!==null)return parseInt(h[1],10);var x=Ih.exec(l);if(x!==null){var k=parseFloat(x[1]);return sd(k,m)}return Lh(a)},ho=function(a,l){var m=cd(a);return m.fold(function(){return Lh(a)},function(h){return l2(a,h,l)})},f2=function(a){return af(a,"rowspan",Jg)},wu=function(a){var l=cd(a);return l.bind(function(m){return G0(m,["fixed","relative","empty"])})},ld=function(a,l,m){Oi(a,"width",l+m)},d2=function(a){return po(a)+"px"},Fa=function(a){return Hh(a,po)+"%"},uS=function(a){return cd(a).exists(function(l){return Ih.test(l)})},Za=function(a){return cd(a).exists(function(l){return Z0.test(l)})},aS=function(a){return cd(a).isNone()},El=nn(Ih),cS=nn(Z0),t1=dc("col"),m2=function(a,l,m){return Vc(a,l).fold(function(){return m(a)+"px"},function(h){return h})},g2=function(a,l){var m=function(h){return t1(h)?po(h):ho(h,l)};return m2(a,"width",m)},tr=function(a){return m2(a,"height",f2)},n1=function(a){return bn(U.justColumns(a),function(l){return Y.from(l.element)})},p2=function(a,l){return Vc(a,l).isSome()},Vh=function(a){return!t1(a)||p2(a,"width")},fd=function(a,l,m,h,x,k){return a.filter(h).fold(function(){return k(W0(m,l))},function(D){return x(D)})},e1=function(a,l,m,h,x){var k=j0(a,function(ct){return p2(ct,"width")}),D=U.hasColumns(a)?n1(a):k,j=[Y.some(Gg.edge(l))].concat(bn(Gg.positions(k,l),function(ct){return ct.map(function(kt){return kt.x})})),V=Kn(wm);return bn(D,function(ct,kt){return fd(ct,kt,j,V,function(Dn){if(Vh(Dn))return m(Dn,x);var En=od(k[kt],st);return fd(En,kt,j,V,function(_n){return h(Y.some(po(_n)))},h)},h)})},Uh=function(a){return a.map(function(l){return l+"px"}).getOr("")},Qg=function(a,l,m){return e1(a,l,g2,Uh,m)},vs=function(a,l,m){return e1(a,l,Zg,function(h){return h.fold(function(){return m.minCellWidth()},function(x){return x/m.pixelWidth()*100})},m)},r1=function(a,l,m){return e1(a,l,ho,function(h){return h.getOrThunk(m.minCellWidth)},m)},tp=function(a,l,m,h,x){var k=Fn(a),D=[Y.some(m.edge(l))].concat(bn(m.positions(k,l),function(j){return j.map(function(V){return V.y})}));return bn(k,function(j,V){return fd(j,V,D,Kn(Hg),h,x)})},h2=function(a,l,m){return tp(a,l,m,f2,function(h){return h.getOrThunk(Vg)})},o1=function(a,l,m){return tp(a,l,m,tr,Uh)},ha=function(a){var l=a,m=function(){return l},h=function(x){l=x};return{get:m,set:h}},jh=function(a){var l=function(){return po(a)},m=nn(0),h=function(x,k){return r1(x,a,k)};return{width:l,pixelWidth:l,getWidths:h,getCellDelta:m,singleColumnWidth:nn([0]),minCellWidth:m,setElementWidth:ft,adjustTableWidth:ft,isRelative:!0,label:"none"}},i1=function(a,l){var m=ha(parseFloat(a)),h=ha(po(l)),x=function(ct){return ct/h.get()*100},k=function(ct,kt){return[100-ct]},D=function(){return Zl()/h.get()*100},j=function(ct){var kt=m.get(),Dn=ct/100*kt,En=kt+Dn;Q0(l,En),m.set(En),h.set(po(l))},V=function(ct,kt){return vs(ct,l,kt)};return{width:m.get,pixelWidth:h.get,getWidths:V,getCellDelta:x,singleColumnWidth:k,minCellWidth:D,setElementWidth:Q0,adjustTableWidth:j,isRelative:!0,label:"percent"}},Nm=function(a,l){var m=ha(a),h=m.get,x=st,k=function(V,ct){var kt=Math.max(Zl(),V+ct);return[kt-V]},D=function(V){var ct=h()+V;a2(l,ct),m.set(ct)},j=function(V,ct){return r1(V,l,ct)};return{width:h,pixelWidth:h,getWidths:j,getCellDelta:x,singleColumnWidth:k,minCellWidth:Zl,setElementWidth:a2,adjustTableWidth:D,isRelative:!1,label:"pixel"}},v2=function(a,l){var m=El().exec(l);if(m!==null)return i1(m[1],a);var h=cS().exec(l);if(h!==null){var x=parseInt(h[1],10);return Nm(x,a)}var k=po(a);return Nm(k,a)},sS=function(a){var l=cd(a);return l.fold(function(){return jh(a)},function(m){return v2(a,m)})},Ba={getTableSize:sS,pixelSize:Nm,percentageSize:i1,noneSize:jh},Xu=function(a,l,m,h,x,k){return{minRow:a,minCol:l,maxRow:m,maxCol:h,allCells:x,selectedCells:k}},Ec=function(a,l){var m=a.grid.columns,h=a.grid.rows,x=h,k=m,D=0,j=0,V=[],ct=[];return _e(a.access,function(kt){if(V.push(kt),l(kt)){ct.push(kt);var Dn=kt.row,En=Dn+kt.rowspan-1,_n=kt.column,Gt=_n+kt.colspan-1;Dn<x?x=Dn:En>D&&(D=En),_n<k?k=_n:Gt>j&&(j=Gt)}}),Xu(x,k,D,j,V,ct)},zm=function(a,l,m){var h=a[m].element,x=at.fromTag("td");qi(x,at.fromTag("br"));var k=l?qi:H0;k(h,x)},ia=function(a,l,m,h){for(var x=l.grid.columns,k=l.grid.rows,D=0;D<k;D++)for(var j=!1,V=0;V<x;V++)if(!(D<m.minRow||D>m.maxRow||V<m.minCol||V>m.maxCol)){var ct=U.getAt(l,D,V).filter(h).isNone();ct?zm(a,j,D):j=!0}},u1=function(a,l,m,h){_e(m.columns,function(D){(D.column<l.minCol||D.column>l.maxCol)&&ea(D.element)});var x=Ft(Jo(a,"tr"),function(D){return D.dom.childElementCount===0});he(x,ea),(l.minCol===l.maxCol||l.minRow===l.maxRow)&&he(Jo(a,"th,td"),function(D){re(D,"rowspan"),re(D,"colspan")}),re(a,tf),re(a,"data-snooker-col-series");var k=Ba.getTableSize(a);k.adjustTableWidth(h)},a1=function(a,l,m,h){if(h.minCol===0&&l.grid.columns===h.maxCol+1)return 0;var x=r1(l,a,m),k=Tn(x,function(ct,kt){return ct+kt},0),D=Tn(x.slice(h.minCol,h.maxCol+1),function(ct,kt){return ct+kt},0),j=D/k*m.pixelWidth(),V=j-m.pixelWidth();return m.getCellDelta(V)},bs=function(a,l){var m=function(En){return $t(En.element,l)},h=rd(a),x=Jf(h),k=Ba.getTableSize(a),D=U.generate(x),j=Ec(D,m),V="th:not("+l+"),td:not("+l+")",ct=Uc(h,"th,td",function(En){return $t(En,V)});he(ct,ea),ia(x,D,j,m);var kt=U.fromTable(a),Dn=a1(a,kt,k,j);return u1(h,j,D,Dn),h},xu="\xA0",cf=function(a){return Ue(a)==="img"?1:_h(a).fold(function(){return F(a).length},function(l){return l.length})},c1=function(a){return _h(a).filter(function(l){return l.trim().length!==0||l.indexOf(xu)>-1}).isSome()},sf=["img","br"],s1=function(a){var l=c1(a);return l||Ve(sf,Ue(a))},Mm=function(a){return Ti(a,s1)},np=function(a){return lS(a,s1)},lS=function(a,l){var m=function(h){for(var x=F(h),k=x.length-1;k>=0;k--){var D=x[k];if(l(D))return Y.some(D);var j=m(D);if(j.isSome())return j}return Y.none()};return m(a)},fS={scope:["row","col"]},l1=function(){var a=at.fromTag("td");return qi(a,at.fromTag("br")),a},qh=function(){return at.fromTag("col")},dd=function(){return at.fromTag("colgroup")},f1=function(a,l,m){var h=Nh(a,l);return _e(m,function(x,k){x===null?re(h,k):Mi(h,k,x)}),h},Wh=function(a){return a},b2=function(a){return function(){return at.fromTag("tr",a.dom)}},qc=function(a,l,m){var h=Mm(a);return h.map(function(x){var k=m.join(","),D=zs(x,k,function(j){return Pn(j,a)});return cn(D,function(j,V){var ct=Bh(V);return re(ct,"contenteditable"),qi(j,ct),ct},l)}).getOr(l)},dS=function(a,l){_e(fS,function(m,h){return xi(a,h).filter(function(x){return Ve(m,x)}).each(function(x){return Mi(l,h,x)})})},lf=function(a,l,m){var h=function(D,j){Ig(D.element,j),$a(j,"height"),D.colspan!==1&&$a(j,"width")},x=function(D){var j=fa(D.element),V=at.fromTag(Ue(D.element),j.dom),ct=m.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),kt=ct.length>0?qc(D.element,V,ct):V;return qi(kt,at.fromTag("br")),h(D,V),dS(D.element,V),a(D.element,V),V},k=function(D){var j=fa(D.element),V=at.fromTag(Ue(D.element),j.dom);return h(D,V),a(D.element,V),V};return{col:k,colgroup:dd,row:b2(l),cell:x,replace:f1,gap:l1}},au=function(a){return{col:qh,colgroup:dd,row:b2(a),cell:l1,replace:Wh,gap:l1}},oi=function(a,l){var m=l||document,h=m.createElement("div");return h.innerHTML=a,F(at.fromDom(h))},md=function(a){return bn(a,at.fromDom)},gd=function(a){return a.nodeName.toLowerCase()},ys=function(a){return at.fromDom(a.getBody())},pd=function(a){return a.getBoundingClientRect().width},d1=function(a){return a.getBoundingClientRect().height},Rm=function(a){return function(l){return Pn(l,ys(a))}},ff=function(a){return a?a.replace(/px$/,""):""},Yo=function(a){return/^\d+(\.\d+)?$/.test(a)?a+"px":a},Qa=function(a){re(a,"data-mce-style");var l=function(m){return re(m,"data-mce-style")};he(ds(a),l),he(bc(a),l)},jo=function(a,l){var m=a.dom.getStyle(l,"width")||a.dom.getAttrib(l,"width");return Y.from(m).filter(Ct)},tc=function(a){return/^(\d+(\.\d+)?)%$/.test(a)},nc=function(a){return/^(\d+(\.\d+)?)px$/.test(a)},pi=function(a){return at.fromDom(a.selection.getStart())},Ac=function(a){return Sl(a.get(),nn([]),st,Et)},ws=function(a){var l=function(x,k){return xi(x,k).exists(function(D){return parseInt(D,10)>1})},m=function(x){return l(x,"rowspan")||l(x,"colspan")},h=Ac(a);return h.length>0&&gt(h,m)?Y.some(h):Y.none()},Tc=function(a,l,m){return Sl(l.get(),Y.none,function(h){return h.length<=1?Y.none():ed(a,m.firstSelectedSelector,m.lastSelectedSelector).map(function(x){return{bounds:x,cells:h}})},Y.none)},cu="data-mce-selected",Oc="td["+cu+"],th["+cu+"]",xs="["+cu+"]",Xr="data-mce-first-selected",hd="td["+Xr+"],th["+Xr+"]",Pm="data-mce-last-selected",Dc="td["+Pm+"],th["+Pm+"]",Yh=xs,di={selected:cu,selectedSelector:Oc,firstSelected:Xr,firstSelectedSelector:hd,lastSelected:Pm,lastSelectedSelector:Dc},m1=function(a){return{element:a,mergable:Y.none(),unmergable:Y.none(),selection:[a]}},Lm=function(a,l,m){return{element:m,mergable:Tc(l,a,di),unmergable:ws(a),selection:Ac(a)}},Ro=function(a,l,m){return{element:a,clipboard:l,generators:m}},ep=function(a,l,m,h){return{selection:Ac(a),clipboard:m,generators:h}},df=function(a){return ai(a[0]).map(function(l){var m=bs(l,Yh);return Qa(m),[m]})},Wc=function(a,l){return bn(l,function(m){return a.selection.serializer.serialize(m.dom,{})}).join("")},y2=function(a){return bn(a,function(l){return l.dom.innerText}).join("")},vd=function(a,l,m,h){a.on("BeforeGetContent",function(x){var k=function(D){x.preventDefault(),df(D).each(function(j){x.content=x.format==="text"?y2(j):Wc(a,j)})};x.selection===!0&&Sl(l.get(),ft,k,ft)}),a.on("BeforeSetContent",function(x){if(x.selection===!0&&x.paste===!0){var k=Y.from(a.dom.getParent(a.selection.getStart(),"th,td"));k.each(function(D){var j=at.fromDom(D);ai(j).each(function(V){var ct=Ft(oi(x.content),function(Gt){return Ue(Gt)!=="meta"}),kt=function(Gt){return Ue(Gt)==="table"};if(ct.length===1&&kt(ct[0])){x.preventDefault();var Dn=at.fromDom(a.getDoc()),En=au(Dn),_n=Ro(j,ct[0],En);m.pasteCells(V,_n).each(function(Gt){a.selection.setRng(Gt.rng),a.focus(),h.clear(V)})}})})}})},mS=Cl.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),mi=ze({},mS),bd=function(a,l){return a.length===0?mi.none():a.length===1?mi.only(0):l===0?mi.left(0,1):l===a.length-1?mi.right(l-1,l):l>0&&l<a.length-1?mi.middle(l-1,l,l+1):mi.none()},w2=function(a,l,m,h,x){var k=a.slice(0),D=bd(a,l),j=nn(bn(k,nn(0))),V=function(En){return h.singleColumnWidth(k[En],m)},ct=function(En,_n){return x.calcLeftEdgeDeltas(k,En,_n,m,h.minCellWidth(),h.isRelative)},kt=function(En,_n,Gt){return x.calcMiddleDeltas(k,En,_n,Gt,m,h.minCellWidth(),h.isRelative)},Dn=function(En,_n){return x.calcRightEdgeDeltas(k,En,_n,m,h.minCellWidth(),h.isRelative)};return D.fold(j,V,ct,kt,Dn)},g1=function(a,l,m){for(var h=0,x=a;x<l;x++)h+=m[x]!==void 0?m[x]:0;return h},$h=function(a,l){var m=U.justCells(a);return bn(m,function(h){var x=g1(h.column,h.column+h.colspan,l);return{element:h.element,width:x,colspan:h.colspan}})},gS=function(a,l){var m=U.justColumns(a);return bn(m,function(h,x){return{element:h.element,width:l[x],colspan:h.colspan}})},mf=function(a,l){var m=U.justCells(a);return bn(m,function(h){var x=g1(h.row,h.row+h.rowspan,l);return{element:h.element,height:x,rowspan:h.rowspan}})},p1=function(a,l){return bn(a.all,function(m,h){return{element:m.element,height:l[h]}})},pS=function(a){return cn(a,function(l,m){return l+m},0)},ua=function(a,l){return U.hasColumns(a)?gS(a,l):$h(a,l)},Nu=function(a,l,m){var h=ua(a,l);he(h,function(x){m.setElementWidth(x.element,x.width)})},h1=function(a,l,m,h,x){var k=U.fromTable(a),D=x.getCellDelta(l),j=x.getWidths(k,x),V=m===k.grid.columns-1,ct=h.clampTableDelta(j,m,D,x.minCellWidth(),V),kt=w2(j,m,ct,x,h),Dn=bn(kt,function(En,_n){return En+j[_n]});Nu(k,Dn,x),h.resizeTable(x.adjustTableWidth,ct,V)},v1=function(a,l,m,h){var x=U.fromTable(a),k=h2(x,a,h),D=bn(k,function(kt,Dn){return m===Dn?Math.max(l+kt,Vg()):kt}),j=mf(x,D),V=p1(x,D);he(V,function(kt){_a(kt.element,kt.height)}),he(j,function(kt){_a(kt.element,kt.height)});var ct=pS(D);_a(a,ct)},zu=function(a,l,m,h,x){var k=U.generate(l),D=h.getWidths(k,h),j=h.pixelWidth(),V=x.calcRedestributedWidths(D,j,m.pixelDelta,h.isRelative),ct=V.newSizes,kt=V.delta;Nu(k,ct,h),h.adjustTableWidth(kt)},yd=function(a,l,m,h){var x=U.generate(l),k=h.getWidths(x,h);Nu(x,k,h)},Im=function(a){return bn(a,nn(0))},b1=function(a,l,m,h,x){return x(a.slice(0,l)).concat(h).concat(x(a.slice(m)))},Xo=function(a){return function(l,m,h,x){if(a(h)){var k=Math.max(x,l[m]-Math.abs(h)),D=Math.abs(k-l[m]);return h>=0?D:-D}else return h}},Cs=Xo(function(a){return a<0}),Po=Xo(yn),Ss=function(){var a=function(j,V,ct,kt,Dn){var En=Cs(j,V,kt,Dn);return b1(j,V,ct+1,[En,0],Im)},l=function(j,V,ct,kt){var Dn=(100+ct)/100,En=Math.max(kt,(j[V]+ct)/Dn);return bn(j,function(_n,Gt){var un=Gt===V?En:_n/Dn;return un-_n})},m=function(j,V,ct,kt,Dn,En){return En?l(j,V,kt,Dn):a(j,V,ct,kt,Dn)},h=function(j,V,ct,kt,Dn,En,_n){return m(j,ct,kt,Dn,En,_n)},x=function(j,V){return j(V)},k=function(j,V,ct,kt,Dn,En){if(En)return l(j,ct,kt,Dn);var _n=Cs(j,ct,kt,Dn);return Im(j.slice(0,ct)).concat([_n])},D=function(j,V,ct,kt){if(kt){var Dn=V+ct,En=Dn/V,_n=bn(j,function(Gt){return Gt/En});return{delta:En*100-100,newSizes:_n}}else return{delta:ct,newSizes:j}};return{resizeTable:x,clampTableDelta:Cs,calcLeftEdgeDeltas:m,calcMiddleDeltas:h,calcRightEdgeDeltas:k,calcRedestributedWidths:D}},Na=function(){var a=function(D,j,V,ct,kt){var Dn=ct>=0?V:j,En=Po(D,Dn,ct,kt);return b1(D,j,V+1,[En,-En],Im)},l=function(D,j,V,ct,kt,Dn){return a(D,V,ct,kt,Dn)},m=function(D,j,V){V&&D(j)},h=function(D,j,V,ct,kt,Dn){if(Dn)return Im(D);var En=ct/D.length;return bn(D,nn(En))},x=function(D,j,V,ct,kt){if(kt){if(V>=0)return V;var Dn=Tn(D,function(En,_n){return En+_n-ct},0);return Math.max(-Dn,V)}else return Cs(D,j,V,ct)},k=function(D,j,V,ct){return{delta:0,newSizes:D}};return{resizeTable:m,clampTableDelta:x,calcLeftEdgeDeltas:a,calcMiddleDeltas:l,calcRightEdgeDeltas:h,calcRedestributedWidths:k}},rp=function(a,l){var m=Y.from(a.dom.documentElement).map(at.fromDom).getOr(a);return{parent:nn(m),view:nn(a),origin:nn(Ka(0,0)),isResizable:l}},hS=function(a,l,m){var h=function(){return oa(l)};return{parent:nn(l),view:nn(a),origin:h,isResizable:m}},va=function(a,l,m){return{parent:nn(l),view:nn(a),origin:nn(Ka(0,0)),isResizable:m}},_c={only:rp,detached:hS,body:va},wd=Cl.generate([{invalid:["raw"]},{pixels:["value"]},{percent:["value"]}]),y1=function(a,l,m){var h=m.substring(0,m.length-a.length),x=parseFloat(h);return h===x.toString()?l(x):wd.invalid(m)},op=function(a){return eo(a,"%")?y1("%",wd.percent,a):eo(a,"px")?y1("px",wd.pixels,a):wd.invalid(a)},Al=ze(ze({},wd),{from:op}),Xh=function(a,l){return bn(a,function(m){var h=Al.from(m);return h.fold(function(){return m},function(x){var k=x/l*100;return k+"%"},function(x){return x+"%"})})},vS=function(a,l,m){var h=m/l;return bn(a,function(x){var k=Al.from(x);return k.fold(function(){return x},function(D){return D*h+"px"},function(D){return D/100*m+"px"})})},Gh=function(a,l){var m=a.fold(function(){return nn("")},function(h){var x=h/l;return nn(x+"px")},function(){var h=100/l;return nn(h+"%")});return kn(l,m)},w1=function(a,l,m){return a.fold(function(){return l},function(h){return vS(l,m,h)},function(h){return Xh(l,m)})},Yc=function(a,l,m){var h=Al.from(m),x=gt(a,function(k){return k==="0px"})?Gh(h,a.length):w1(h,a,l);return C2(x)},Kh=function(a,l){return a.length===0?l:cn(a,function(m,h){return Al.from(h).fold(nn(0),st,st)+m},0)},x2=function(a,l){var m=Math.floor(a);return{value:m+l,remainder:a-m}},Jh=function(a,l){return Al.from(a).fold(nn(a),function(m){return m+l+"px"},function(m){return m+l+"%"})},C2=function(a){if(a.length===0)return a;var l=cn(a,function(h,x){var k=Al.from(x).fold(function(){return{value:x,remainder:0}},function(D){return x2(D,"px")},function(D){return{value:D+"%",remainder:0}});return{output:[k.value].concat(h.output),remainder:h.remainder+k.remainder}},{output:[],remainder:0}),m=l.output;return m.slice(0,m.length-1).concat([Jh(m[m.length-1],Math.round(l.remainder))])},S2=Al.from,ip=function(a,l,m){he(l,function(h){var x=a.slice(h.column,h.colspan+h.column),k=Kh(x,Zl());Oi(h.element,"width",k+m)})},bS=function(a,l,m){he(l,function(h,x){var k=Kh([a[x]],Zl());Oi(h.element,"width",k+m)})},up=function(a,l,m,h){he(m,function(x){var k=a.slice(x.row,x.rowspan+x.row),D=Kh(k,Vg());Oi(x.element,"height",D+h)}),he(l,function(x,k){Oi(x.element,"height",a[k])})},Zh=function(a){return S2(a).fold(nn("px"),nn("px"),nn("%"))},Qh=function(a,l,m,h){var x=U.fromTable(a),k=x.all,D=U.justCells(x),j=U.justColumns(x);l.each(function(V){var ct=Zh(V),kt=po(a),Dn=Qg(x,a,h),En=Yc(Dn,kt,V);U.hasColumns(x)?bS(En,j,ct):ip(En,D,ct),Oi(a,"width",V)}),m.each(function(V){var ct=Zh(V),kt=$u(a),Dn=o1(x,a,ps),En=Yc(Dn,kt,V);up(En,k,D,ct),Oi(a,"height",V)})},x1=uS,xd=Za,ec=aS,rc=Fa,gf=function(a){var l=U.fromTable(a);return l.grid},Mu=function(a){var l=[],m=function(k){if(k===void 0)throw new Error("Event bind error: undefined handler");l.push(k)},h=function(k){l=Ft(l,function(D){return D!==k})},x=function(){for(var k=[],D=0;D<arguments.length;D++)k[D]=arguments[D];var j={};he(a,function(V,ct){j[V]=k[ct]}),he(l,function(V){V(j)})};return{bind:m,unbind:h,trigger:x}},pf=function(a){var l=rt(a,function(h){return{bind:h.bind,unbind:h.unbind}}),m=rt(a,function(h){return h.trigger});return{registry:l,trigger:m}},k2=function(a,l){var m=null,h=function(){m!==null&&(clearTimeout(m),m=null)},x=function(){for(var k=[],D=0;D<arguments.length;D++)k[D]=arguments[D];m!==null&&clearTimeout(m),m=setTimeout(function(){a.apply(null,k),m=null},l)};return{cancel:h,throttle:x}},hf=function(a){return a.slice(0).sort()},C1=function(a,l){throw new Error("All required keys ("+hf(a).join(", ")+") were not specified. Specified keys were: "+hf(l).join(", ")+".")},oc=function(a){throw new Error("Unsupported keys for object: "+hf(a).join(", "))},tv=function(a,l){if(!Ne(l))throw new Error("The "+a+" fields must be an array. Was: "+l+".");he(l,function(m){if(!S(m))throw new Error("The value "+m+" in the "+a+" fields was not a string.")})},Ru=function(a,l){throw new Error("All values need to be of type: "+l+". Keys ("+hf(a).join(", ")+") were not.")},$c=function(a){var l=hf(a),m=wt(l,function(h,x){return x<l.length-1&&h===l[x+1]});m.each(function(h){throw new Error("The field: "+h+" occurs more than once in the combined fields: ["+l.join(", ")+"].")})},Tl=function(a,l){return S1(a,l,{validate:sr,label:"function"})},S1=function(a,l,m){if(l.length===0)throw new Error("You must specify at least one required field.");return tv("required",l),$c(l),function(h){var x=sn(h),k=gt(l,function(j){return Ve(x,j)});k||C1(l,x),a(l,x);var D=Ft(l,function(j){return!m.validate(h[j],j)});return D.length>0&&Ru(D,m.label),h}},k1=function(a,l){var m=Ft(l,function(h){return!Ve(a,h)});m.length>0&&oc(m)},Us=function(a){return Tl(k1,a)},nv=Us(["compare","extract","mutate","sink"]),Cd=Us(["element","start","stop","destroy"]),jr=Us(["forceDrop","drop","move","delayDrop"]),ap=function(){var a=Y.none(),l=function(){a=Y.none()},m=function(k,D){var j=a.map(function(V){return k.compare(V,D)});return a=Y.some(D),j},h=function(k,D){var j=D.extract(k);j.each(function(V){var ct=m(D,V);ct.each(function(kt){x.trigger.move(kt)})})},x=pf({move:Mu(["info"])});return{onEvent:h,reset:l,events:x.registry}},yS=function(){var a=pf({move:Mu(["info"])});return{onEvent:ft,reset:ft,events:a.registry}},E2=function(){var a=yS(),l=ap(),m=a,h=function(){m.reset(),m=l},x=function(){m.reset(),m=a},k=function(j,V){m.onEvent(j,V)},D=function(){return m===l};return{on:h,off:x,isOn:D,onEvent:k,events:l.events}},wS=function(a,l,m){var h=!1,x=pf({start:Mu([]),stop:Mu([])}),k=E2(),D=function(){_n.stop(),k.isOn()&&(k.off(),x.trigger.stop())},j=k2(D,200),V=function(un){_n.start(un),k.on(),x.trigger.start()},ct=function(un){j.cancel(),k.onEvent(un,l)};k.events.move.bind(function(un){l.mutate(a,un.info)});var kt=function(){h=!0},Dn=function(){h=!1},En=function(un){return function(){for(var Bn=[],or=0;or<arguments.length;or++)Bn[or]=arguments[or];h&&un.apply(null,Bn)}},_n=l.sink(jr({forceDrop:D,drop:En(D),move:En(ct),delayDrop:En(j.throttle)}),m),Gt=function(){_n.destroy()};return{element:_n.element,go:V,on:kt,off:Dn,destroy:Gt,events:x.registry}},xS=function(a,l,m,h,x,k,D){return{target:a,x:l,y:m,stop:h,prevent:x,kill:k,raw:D}},cp=function(a){var l=at.fromDom(da(a).getOr(a.target)),m=function(){return a.stopPropagation()},h=function(){return a.preventDefault()},x=jn(h,m);return xS(l,a.clientX,a.clientY,m,h,x,a)},Hm=function(a,l){return function(m){a(m)&&l(cp(m))}},Zo=function(a,l,m,h,x){var k=Hm(m,h);return a.dom.addEventListener(l,k,x),{unbind:Xt(A1,a,l,k,x)}},E1=function(a,l,m,h){return Zo(a,l,m,h,!1)},A1=function(a,l,m,h){a.dom.removeEventListener(l,m,h)},CS=yn,Vm=function(a,l,m){return E1(a,l,CS,m)},Ol=cp,Xc=function(a,l){var m=Ya(a,l);return m===void 0||m===""?[]:m.split(" ")},sp=function(a,l,m){var h=Xc(a,l),x=h.concat([m]);return Mi(a,l,x.join(" ")),!0},to=function(a,l,m){var h=Ft(Xc(a,l),function(x){return x!==m});return h.length>0?Mi(a,l,h.join(" ")):re(a,l),!1},Io=function(a){return a.dom.classList!==void 0},Sd=function(a){return Xc(a,"class")},T1=function(a,l){return sp(a,"class",l)},Ho=function(a,l){return to(a,"class",l)},Gc=function(a,l){Io(a)?a.dom.classList.add(l):T1(a,l)},O1=function(a){var l=Io(a)?a.dom.classList:Sd(a);l.length===0&&re(a,"class")},Gu=function(a,l){if(Io(a)){var m=a.dom.classList;m.remove(l)}else Ho(a,l);O1(a)},js=function(a,l){return Io(a)&&a.dom.classList.contains(l)},A2=function(a){var l=a.replace(/\./g,"-"),m=function(h){return l+"-"+h};return{resolve:m}},SS=A2("ephox-dragster"),T2=SS.resolve,ev=function(a){var l=ze({layerClass:T2("blocker")},a),m=at.fromTag("div");Mi(m,"role","presentation"),Fe(m,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),Gc(m,T2("blocker")),Gc(m,l.layerClass);var h=function(){return m},x=function(){ea(m)};return{element:h,destroy:x}},D1=function(a,l){return Ka(l.left-a.left,l.top-a.top)},Fc=function(a){return Y.some(Ka(a.x,a.y))},ba=function(a,l){a.mutate(l.left,l.top)},rv=function(a,l){var m=ev(l),h=Vm(m.element(),"mousedown",a.forceDrop),x=Vm(m.element(),"mouseup",a.drop),k=Vm(m.element(),"mousemove",a.move),D=Vm(m.element(),"mouseout",a.delayDrop),j=function(){m.destroy(),x.unbind(),k.unbind(),D.unbind(),h.unbind()},V=function(kt){qi(kt,m.element())},ct=function(){ea(m.element())};return Cd({element:m.element,start:V,stop:ct,destroy:j})},_1=nv({compare:D1,extract:Fc,sink:rv,mutate:ba}),F1=function(a,l){l===void 0&&(l={});var m=l.mode!==void 0?l.mode:_1;return wS(a,m,l)},kS=function(a){return Ya(a,"contenteditable")==="true"},ES=function(a,l){return fo(a,"[contenteditable]",l)},su=A2("ephox-snooker"),ov=su.resolve,O2=function(){var a=pf({drag:Mu(["xDelta","yDelta"])}),l=function(m,h){a.trigger.drag(m,h)};return{mutate:l,events:a.registry}},D2=function(){var a=pf({drag:Mu(["xDelta","yDelta","target"])}),l=Y.none(),m=O2();m.events.drag.bind(function(k){l.each(function(D){a.trigger.drag(k.xDelta,k.yDelta,D)})});var h=function(k){l=Y.some(k)},x=function(){return l};return{assign:h,get:x,mutate:m.mutate,events:a.registry}},lp=function(a,l,m,h,x){var k=at.fromTag("div");return Fe(k,{position:"absolute",left:l-h/2+"px",top:m+"px",height:x+"px",width:h+"px"}),iu(k,{"data-column":a,role:"presentation"}),k},B1=function(a,l,m,h,x){var k=at.fromTag("div");return Fe(k,{position:"absolute",left:l+"px",top:m-x/2+"px",height:x+"px",width:h+"px"}),iu(k,{"data-row":a,role:"presentation"}),k},fp=ov("resizer-bar"),iv=ov("resizer-rows"),N1=ov("resizer-cols"),ya=7,lu=function(a,l){return qt(a.all,function(m,h){return l(m.element)?[h]:[]})},$i=function(a,l){var m=[];return kn(a.grid.columns,function(h){var x=U.getColumnAt(a,h).map(function(k){return k.element});x.forall(l)&&m.push(h)}),Ft(m,function(h){var x=U.filterItems(a,function(k){return k.column===h});return gt(x,function(k){return l(k.element)})})},fu=function(a){var l=Mo(a.parent(),"."+fp);he(l,ea)},Ku=function(a,l,m){var h=a.origin();he(l,function(x){x.each(function(k){var D=m(h,k);Gc(D,fp),qi(a.parent(),D)})})},za=function(a,l,m,h){Ku(a,l,function(x,k){var D=lp(k.col,k.x-x.left,m.top-x.top,ya,h);return Gc(D,N1),D})},Pu=function(a,l,m,h){Ku(a,l,function(x,k){var D=B1(k.row,m.left-x.left,k.y-x.top,h,ya);return Gc(D,iv),D})},z1=function(a,l,m,h,x){var k=oa(m),D=l.isResizable,j=h.length>0?ps.positions(h,m):[],V=j.length>0?lu(a,D):[],ct=Ft(j,function(_n,Gt){return $e(V,function(un){return Gt===un})});Pu(l,ct,k,zh(m));var kt=x.length>0?Gg.positions(x,m):[],Dn=kt.length>0?$i(a,D):[],En=Ft(kt,function(_n,Gt){return $e(Dn,function(un){return Gt===un})});za(l,En,k,Mh(m))},Um=function(a,l){if(fu(a),a.isResizable(l)){var m=U.fromTable(l),h=Fn(m),x=j0(m);z1(m,a,l,h,x)}},M1=function(a,l){var m=Mo(a.parent(),"."+fp);he(m,l)},_2=function(a){M1(a,function(l){Oi(l,"display","none")})},R1=function(a){M1(a,function(l){Oi(l,"display","block")})},P1=function(a){return js(a,iv)},L1=function(a){return js(a,N1)},I1=ov("resizer-bar-dragging"),AS=function(a){var l=D2(),m=F1(l,{}),h=Y.none(),x=function(Gt,un){return Y.from(Ya(Gt,un))};l.events.drag.bind(function(Gt){x(Gt.target,"data-row").each(function(un){var Bn=xm(Gt.target,"top");Oi(Gt.target,"top",Bn+Gt.yDelta+"px")}),x(Gt.target,"data-column").each(function(un){var Bn=xm(Gt.target,"left");Oi(Gt.target,"left",Bn+Gt.xDelta+"px")})});var k=function(Gt,un){var Bn=xm(Gt,un),or=vc(Gt,"data-initial-"+un,0);return Bn-or};m.events.stop.bind(function(){l.get().each(function(Gt){h.each(function(un){x(Gt,"data-row").each(function(Bn){var or=k(Gt,"top");re(Gt,"data-initial-top"),_n.trigger.adjustHeight(un,or,parseInt(Bn,10))}),x(Gt,"data-column").each(function(Bn){var or=k(Gt,"left");re(Gt,"data-initial-left"),_n.trigger.adjustWidth(un,or,parseInt(Bn,10))}),Um(a,un)})})});var D=function(Gt,un){_n.trigger.startAdjust(),l.assign(Gt),Mi(Gt,"data-initial-"+un,xm(Gt,un)),Gc(Gt,I1),Oi(Gt,"opacity","0.2"),m.go(a.parent())},j=Vm(a.parent(),"mousedown",function(Gt){P1(Gt.target)&&D(Gt.target,"top"),L1(Gt.target)&&D(Gt.target,"left")}),V=function(Gt){return Pn(Gt,a.view())},ct=function(Gt){return fo(Gt,"table",V).filter(function(un){return ES(un,V).exists(kS)})},kt=Vm(a.view(),"mouseover",function(Gt){ct(Gt.target).fold(function(){Du(Gt.target)&&fu(a)},function(un){h=Y.some(un),Um(a,un)})}),Dn=function(){j.unbind(),kt.unbind(),m.destroy(),fu(a)},En=function(Gt){Um(a,Gt)},_n=pf({adjustHeight:Mu(["table","delta","row"]),adjustWidth:Mu(["table","delta","column"]),startAdjust:Mu([])});return{destroy:Dn,refresh:En,on:m.on,off:m.off,hideBars:Xt(_2,a),showBars:Xt(R1,a),events:_n.registry}},F2=function(a,l,m){var h=ps,x=Gg,k=AS(a),D=pf({beforeResize:Mu(["table","type"]),afterResize:Mu(["table","type"]),startDrag:Mu([])});return k.events.adjustHeight.bind(function(j){var V=j.table;D.trigger.beforeResize(V,"row");var ct=h.delta(j.delta,V);v1(V,ct,j.row,h),D.trigger.afterResize(V,"row")}),k.events.startAdjust.bind(function(j){D.trigger.startDrag()}),k.events.adjustWidth.bind(function(j){var V=j.table;D.trigger.beforeResize(V,"col");var ct=x.delta(j.delta,V),kt=m(V);h1(V,ct,j.column,l,kt),D.trigger.afterResize(V,"col")}),{on:k.on,off:k.off,hideBars:k.hideBars,showBars:k.showBars,destroy:k.destroy,events:D.registry}},B2={create:F2},kd=function(a,l){return a.fire("newrow",{node:l})},uv=function(a,l){return a.fire("newcell",{node:l})},av=function(a,l,m,h,x){a.fire("ObjectResizeStart",{target:l,width:m,height:h,origin:x})},N2=function(a,l,m,h,x){a.fire("ObjectResized",{target:l,width:m,height:h,origin:x})},TS=function(a,l,m,h,x){a.fire("TableSelectionChange",{cells:l,start:m,finish:h,otherCells:x})},Ma=function(a){a.fire("TableSelectionClear")},vf=function(a,l,m){a.fire("TableModified",ze(ze({},m),{table:l}))},H1={structure:!1,style:!0},Un={structure:!0,style:!1},Ed="tableprops tabledelete | tableinsertrowbefore tableinsertrowafter tabledeleterow | tableinsertcolbefore tableinsertcolafter tabledeletecol",Pi={"border-collapse":"collapse",width:"100%"},OS=function(a){if(Wm(a)){var l=a.getBody().offsetWidth;return ze(ze({},Pi),{width:l+"px"})}else return wf(a)?ke(Pi,function(m,h){return h!=="width"}):Pi},V1={border:"1"},Ad="preservetable",Lu=function(a){return a.getParam("table_sizing_mode","auto")},U1=function(a){return a.getParam("table_responsive_width")},jm=function(a){return a.getParam("table_default_attributes",V1,"object")},bf=function(a){return a.getParam("table_default_styles",OS(a),"object")},yf=function(a){return a.getParam("table_resize_bars",!0,"boolean")},z2=function(a){return a.getParam("table_tab_navigation",!0,"boolean")},j1=function(a){return a.getParam("table_cell_advtab",!0,"boolean")},ks=function(a){return a.getParam("table_row_advtab",!0,"boolean")},Ju=function(a){return a.getParam("table_advtab",!0,"boolean")},M2=function(a){return a.getParam("table_appearance_options",!0,"boolean")},Kc=function(a){return a.getParam("table_grid",!0,"boolean")},qm=function(a){return a.getParam("table_style_by_css",!1,"boolean")},Td=function(a){return a.getParam("table_cell_class_list",[],"array")},R2=function(a){return a.getParam("table_row_class_list",[],"array")},dp=function(a){return a.getParam("table_class_list",[],"array")},Od=function(a){return Lu(a)==="relative"||U1(a)===!0},Wm=function(a){return Lu(a)==="fixed"||U1(a)===!1},wf=function(a){return Lu(a)==="responsive"},q1=function(a){return a.getParam("table_toolbar",Ed)},W1=function(a){return a.getParam("table_use_colgroups",!1,"boolean")},Y1=function(a){var l="section",m=a.getParam("table_header_type",l,"string"),h=["section","cells","sectionCells","auto"];return Ve(h,m)?m:l},mp=function(a){var l=["preservetable","resizetable"],m=a.getParam("table_column_resizing",Ad,"string");return wt(l,function(h){return h===m}).getOr(Ad)},P2=function(a){return mp(a)==="preservetable"},Dd=function(a){return mp(a)==="resizetable"},Es=function(a){var l=a.getParam("table_clone_elements");return S(l)?Y.some(l.split(/[ ,]/)):Array.isArray(l)?Y.some(l):Y.none()},ic=function(a){var l=a.getParam("object_resizing",!0);return S(l)?l==="table":l},qs=function(a,l){if(Od(a)){var m=jo(a,l.dom).filter(tc).getOrThunk(function(){return rc(l)});return Ba.percentageSize(m,l)}else return Wm(a)?Ba.pixelSize(po(l),l):Ba.getTableSize(l)},cv=function(a){re(a,"width")},wn=function(a,l){var m=Fa(a);Qh(a,Y.some(m),Y.none(),l),cv(a)},sv=function(a,l){var m=d2(a);Qh(a,Y.some(m),Y.none(),l),cv(a)},DS=function(a){$a(a,"width");var l=bc(a),m=l.length>0?l:ds(a);he(m,function(h){$a(h,"width"),cv(h)}),cv(a)},gp=function(a,l){var m=qs(a,l);wn(l,m)},pp=function(a,l){var m=qs(a,l);sv(l,m)},Jc=DS,L2=function(a){var l=U.fromTable(a);U.hasColumns(l)||he(ds(a),function(m){var h=hc(m,"width");Oi(m,"width",h),re(m,"width")})},$1=function(){var a=at.fromTag("div");return Fe(a,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),qi(mc(),a),a},I2=function(a,l){return a.inline?_c.body(ys(a),$1(),l):_c.only(at.fromDom(a.getDoc()),l)},Ym=function(a,l){a.inline&&ea(l.parent())},lv="bar-",X1=function(a){return Ya(a,"data-mce-resize")!=="false"},_S=function(a){var l=Y.none(),m=Y.none(),h=Y.none(),x,k,D=function(Gt){return Gt.nodeName==="TABLE"},j=function(){return m},V=function(){return h.getOr(_c.only(at.fromDom(a.getBody()),X1))},ct=function(Gt){return qs(a,Gt)},kt=function(){return P2(a)?Na():Ss()},Dn=function(Gt){return gf(Gt).columns},En=function(Gt,un,Bn){var or=eo(un,"e");if(k===""&&gp(a,Gt),Bn!==x&&k!==""){Oi(Gt,"width",k);var no=kt(),Dr=ct(Gt),so=P2(a)||or?Dn(Gt)-1:0;h1(Gt,Bn-x,so,no,Dr)}else if(tc(k)){var No=parseFloat(k.replace("%","")),Qo=Bn*No/x;Oi(Gt,"width",Qo+"%")}nc(k)&&L2(Gt)},_n=function(){m.each(function(Gt){Gt.destroy()}),h.each(function(Gt){Ym(a,Gt)})};return a.on("init",function(){var Gt=I2(a,X1);if(h=Y.some(Gt),ic(a)&&yf(a)){var un=kt(),Bn=B2.create(Gt,un,ct);Bn.on(),Bn.events.startDrag.bind(function(or){l=Y.some(a.selection.getRng())}),Bn.events.beforeResize.bind(function(or){var no=or.table.dom;av(a,no,pd(no),d1(no),lv+or.type)}),Bn.events.afterResize.bind(function(or){var no=or.table,Dr=no.dom;Qa(no),l.each(function(so){a.selection.setRng(so),a.focus()}),N2(a,Dr,pd(Dr),d1(Dr),lv+or.type),a.undoManager.add()}),m=Y.some(Bn)}}),a.on("ObjectResizeStart",function(Gt){var un=Gt.target;if(D(un)){var Bn=at.fromDom(un);he(a.dom.select(".mce-clonedresizable"),function(or){a.dom.addClass(or,"mce-"+mp(a)+"-columns")}),!xd(Bn)&&Wm(a)?pp(a,Bn):!x1(Bn)&&Od(a)&&gp(a,Bn),ec(Bn)&&Nr(Gt.origin,lv)&&gp(a,Bn),x=Gt.width,k=wf(a)?"":jo(a,un).getOr("")}}),a.on("ObjectResized",function(Gt){var un=Gt.target;if(D(un)){var Bn=at.fromDom(un),or=Gt.origin;Nr(or,"corner-")&&En(Bn,or,Gt.width),Qa(Bn),vf(a,Bn.dom,H1)}}),a.on("SwitchMode",function(){j().each(function(Gt){a.mode.isReadOnly()?Gt.hideBars():Gt.showBars()})}),{lazyResize:j,lazyWire:V,destroy:_n}},$m=function(a,l){return{element:a,offset:l}},Xm=function(a,l,m){return a.property().isText(l)&&a.property().getText(l).trim().length===0||a.property().isComment(l)?m(l).bind(function(h){return Xm(a,h,m).orThunk(function(){return Y.some(h)})}):Y.none()},Gm=function(a,l){if(a.property().isText(l))return a.property().getText(l).length;var m=a.property().children(l);return m.length},hp=function(a,l){var m=Xm(a,l,a.query().prevSibling).getOr(l);if(a.property().isText(m))return $m(m,Gm(a,m));var h=a.property().children(m);return h.length>0?hp(a,h[h.length-1]):$m(m,Gm(a,m))},G1=hp,H2=jg(),Zc=function(a){return G1(H2,a)},K1=function(a,l){var m=Ta(a,"colspan");if(m===1){var h=wu(a);h.each(function(x){var k=x.value/2;ld(a,k,x.unit),ld(l,k,x.unit)})}},Km=function(a,l,m,h){m===h?re(a,l):Mi(a,l,m)},Dl=function(a,l,m){An(uo(a,l)).fold(function(){return H0(a,m)},function(h){return ga(h,m)})},Jm=function(a,l){var m=dl(a,l).getOrThunk(function(){var h=at.fromTag(l,fa(a).dom);return l==="thead"?Dl(a,"caption,colgroup",h):l==="colgroup"?Dl(a,"caption",h):qi(a,h),h});return ef(m),m},V2=function(a,l){var m=[],h=[],x=function(_n){return bn(_n,function(Gt){Gt.isNew&&m.push(Gt.element);var un=Gt.element;return ef(un),he(Gt.cells,function(Bn){Bn.isNew&&h.push(Bn.element),Km(Bn.element,"colspan",Bn.colspan,1),Km(Bn.element,"rowspan",Bn.rowspan,1),qi(un,Bn.element)}),un})},k=function(_n){return qt(_n,function(Gt){return bn(Gt.cells,function(un){return Km(un.element,"span",un.colspan,1),un.element})})},D=function(_n,Gt){var un=Jm(a,Gt),Bn=Gt==="colgroup"?k:x,or=Bn(_n);Yu(un,or)},j=function(_n){dl(a,_n).each(ea)},V=function(_n,Gt){_n.length>0?D(_n,Gt):j(Gt)},ct=[],kt=[],Dn=[],En=[];return he(l,function(_n){switch(_n.section){case"thead":ct.push(_n);break;case"tbody":kt.push(_n);break;case"tfoot":Dn.push(_n);break;case"colgroup":En.push(_n);break}}),V(En,"colgroup"),V(ct,"thead"),V(kt,"tbody"),V(Dn,"tfoot"),{newRows:m,newCells:h}},U2=function(a){return bn(a,function(l){var m=Bh(l.element);return he(l.cells,function(h){var x=rd(h.element);Km(x,"colspan",h.colspan,1),Km(x,"rowspan",h.rowspan,1),qi(m,x)}),m})},j2=function(a,l){return bn(a,function(m){return Oa(m,l)})},FS=function(a,l){return a[l]},fv=function(a,l){if(a.length===0)return 0;var m=a[0],h=tn(a,function(x){return!l(m.element,x.element)});return h.fold(function(){return a.length},function(x){return x})},BS=function(a,l,m,h){var x=FS(a,l).cells.slice(m),k=fv(x,h),D=j2(a,m).slice(l),j=fv(D,h);return{colspan:k,rowspan:j}},NS=function(a,l){var m=bn(a,function(x){return bn(x.cells,Jt)}),h=function(x,k,D,j){for(var V=x;V<x+D;V++)for(var ct=k;ct<k+j;ct++)m[V][ct]=!0};return bn(a,function(x,k){var D=qt(x.cells,function(j,V){if(m[k][V]===!1){var ct=BS(a,k,V,l);return h(k,V,ct.rowspan,ct.colspan),[lo(j.element,ct.rowspan,ct.colspan,j.isNew)]}else return[]});return Gl(D,x.section)})},_d=function(a,l,m){var h=[];if(U.hasColumns(a)){var x=bn(U.justColumns(a),function(kt){return io(kt.element,m,!1)});h.push(vu(x,"colgroup"))}for(var k=0;k<a.grid.rows;k++){for(var D=[],j=0;j<a.grid.columns;j++){var V=U.getAt(a,k,j).map(function(kt){return io(kt.element,m,kt.isLocked)}).getOrThunk(function(){return io(l.gap(),!0,!1)});D.push(V)}var ct=vu(D,a.all[k].section);h.push(ct)}return h},q2=function(a,l){return _d(a,l,!1)},W2=function(a,l){var m=function(h){var x=ar(h,function(k){return Ou(k.element).map(function(D){var j=Ou(D).isNone();return io(D,j,!1)})});return x.getOrThunk(function(){return io(l.row(),!0,!1)})};return bn(a,function(h){var x=m(h.details);return ro(x.element,h.details,h.section,x.isNew)})},vp=function(a,l){var m=NS(a,Pn);return W2(m,l)},J1=function(a,l){return ar(a.all,function(m){return wt(m.cells,function(h){return Pn(l,h.element)})})},Z1=function(a,l,m){var h=bn(l.selection,function(k){return Ji(k).bind(function(D){return J1(a,D)}).filter(m)}),x=Hr(h);return Xg(x.length>0,x)},aa=function(a,l,m,h,x){return function(k,D,j,V,ct,kt){var Dn=U.fromTable(D),En=l(Dn,j).map(function(_n){var Gt=q2(Dn,V),un=a(Gt,_n,Pn,x(V)),Bn=yc(un.grid),or=vp(un.grid,V);return{info:_n,grid:or,cursor:un.cursor,lockedColumns:Bn}});return En.bind(function(_n){var Gt=V2(D,_n.grid),un=Y.from(ct).getOrThunk(function(){return Ba.getTableSize(D)}),Bn=Y.from(kt).getOrThunk(Na);return m(D,_n.grid,_n.info,un,Bn),h(D),Um(k,D),re(D,tf),_n.lockedColumns.length>0&&Mi(D,tf,_n.lockedColumns.join(",")),Y.some({cursor:_n.cursor,newRows:Gt.newRows,newCells:Gt.newCells})})}},Y2=function(a,l){return Ji(l.element).bind(function(m){return J1(a,m).map(function(h){var x=ze(ze({},h),{generators:l.generators,clipboard:l.clipboard});return x})})},dv=function(a,l){return Z1(a,l,yn).map(function(m){return{cells:m,generators:l.generators,clipboard:l.clipboard}})},zS=function(a,l){return l.mergable},MS=function(a,l){return l.unmergable},xf=function(a,l){return Z1(a,l,yn)},bp=function(a,l){return Z1(a,l,function(m){return!m.isLocked})},RS=function(a,l){return J1(a,l).exists(function(m){return!m.isLocked})},du=function(a,l){return gt(l,function(m){return RS(a,m)})},Cf=function(a,l){return zS(a,l).filter(function(m){return du(a,m.cells)})},$2=function(a,l){return MS(a,l).filter(function(m){return du(a,m)})},PS=function(a,l,m,h){var x=_u(a).rows;if(x.length===0)return a;for(var k=l.startRow;k<=l.finishRow;k++)for(var D=l.startCol;D<=l.finishCol;D++){var j=x[k],V=Oa(j,D).isLocked;Zf(j,D,io(h(),!1,V))}return a},X2=function(a,l,m,h){for(var x=_u(a).rows,k=!0,D=0;D<x.length;D++)for(var j=0;j<Da(x[0]);j++){var V=x[D],ct=Oa(V,j),kt=ct.element,Dn=m(kt,l);Dn===!0&&k===!1?Zf(V,j,io(h(),!0,ct.isLocked)):Dn===!0&&(k=!1)}return a},LS=function(a,l){return Tn(a,function(m,h){return $e(m,function(x){return l(x.element,h.element)})?m:m.concat([h])},[])},IS=function(a,l,m,h){return l>0&&l<a[0].cells.length&&he(a,function(x){var k=x.cells[l-1],D=x.cells[l],j=m(D.element,k.element);j&&Zf(x,l,io(h(),!0,D.isLocked))}),a},HS=function(a,l,m,h){var x=_u(a).rows;if(l>0&&l<x.length){var k=x[l-1].cells,D=LS(k,m);he(D,function(j){for(var V=Y.none(),ct=l;ct<x.length;ct++)for(var kt=function(En){var _n=x[ct],Gt=Oa(_n,En),un=m(Gt.element,j.element);un&&(V.isNone()&&(V=Y.some(h())),V.each(function(Bn){Zf(_n,En,io(Bn,!0,Gt.isLocked))}))},Dn=0;Dn<Da(x[0]);Dn++)kt(Dn)})}return a},_l=function(a){var l=function(En){return a===En},m=function(En){return _l(a)},h=function(En){return _l(a)},x=function(En){return _l(En(a))},k=function(En){return _l(a)},D=function(En){En(a)},j=function(En){return En(a)},V=function(En,_n){return _n(a)},ct=function(En){return En(a)},kt=function(En){return En(a)},Dn=function(){return Y.some(a)};return{is:l,isValue:yn,isError:Jt,getOr:nn(a),getOrThunk:nn(a),getOrDie:nn(a),or:m,orThunk:h,fold:V,map:x,mapError:k,each:D,bind:j,exists:ct,forall:kt,toOptional:Dn}},Zm=function(a){var l=function(ct){return ct()},m=function(){return qn(String(a))()},h=function(ct){return ct},x=function(ct){return ct()},k=function(ct){return Zm(a)},D=function(ct){return Zm(ct(a))},j=function(ct){return Zm(a)},V=function(ct,kt){return ct(a)};return{is:Jt,isValue:Jt,isError:yn,getOr:st,getOrThunk:l,getOrDie:m,or:h,orThunk:x,fold:V,map:k,mapError:D,each:ft,bind:j,exists:Jt,forall:yn,toOptional:Y.none}},VS=function(a,l){return a.fold(function(){return Zm(l)},_l)},G2={value:_l,error:Zm,fromOption:VS},K2=function(a,l,m){if(a.row>=l.length||a.column>Da(l[0]))return G2.error("invalid start address out of table bounds, row: "+a.row+", column: "+a.column);var h=l.slice(a.row),x=h[0].cells.slice(a.column),k=Da(m[0]),D=m.length;return G2.value({rowDelta:h.length-D,colDelta:x.length-k})},J2=function(a,l){var m=Da(a[0]),h=Da(l[0]);return{rowDelta:0,colDelta:m-h}},Z2=function(a,l){var m=a.length,h=l.length;return{rowDelta:m-h,colDelta:0}},Q1=function(a,l,m,h){var x=l.section==="colgroup"?m.col:m.cell;return kn(a,function(k){return io(x(),!0,h(k))})},yp=function(a,l,m,h){return a.concat(kn(l,function(){var x=a[a.length-1],k=Q1(x.cells.length,x,m,function(D){return xo(h,D.toString())});return Qf(x,k)}))},US=function(a,l,m,h){return bn(a,function(x){var k=Q1(l,x,m,Jt);return Sm(x,h,k)})},jS=function(a,l,m){return bn(a,function(h){return Tn(m,function(x,k){var D=Q1(1,h,l,yn)[0];return Ms(x,k,D)},h)})},Fd=function(a,l,m){var h=l.colDelta<0?US:st,x=l.rowDelta<0?yp:st,k=yc(a),D=Da(a[0]),j=$e(k,function(kt){return kt===D-1}),V=h(a,Math.abs(l.colDelta),m,j?D-1:D),ct=yc(V);return x(V,Math.abs(l.rowDelta),m,nt(ct,yn))},tb=function(a,l,m,h){var x=Oa(a[l],m),k=Xt(h,x.element),D=a[l];return a.length>1&&Da(D)>1&&(m>0&&k(qu(D,m-1))||m<D.cells.length-1&&k(qu(D,m+1))||l>0&&k(qu(a[l-1],m))||l<a.length-1&&k(qu(a[l+1],m)))},qS=function(a,l,m,h,x,k){for(var D=a.row,j=a.column,V=m.length,ct=Da(m[0]),kt=D+V,Dn=j+ct+k.length,En=nt(k,yn),_n=D;_n<kt;_n++)for(var Gt=0,un=j;un<Dn;un++){if(En[un]){Gt++;continue}tb(l,_n,un,x)&&X2(l,qu(l[_n],un),x,h.cell);var Bn=un-j-Gt,or=Oa(m[_n-D],Bn),no=or.element,Dr=h.replace(no);Zf(l[_n],un,io(Dr,!0,or.isLocked))}return l},Q2=function(a,l,m){var h=Da(l[0]),x=kn(h-a.column,function(D){return D+a.column}),k=wt(x,function(D){return gt(m,function(j){return j!==D})}).getOr(h-1);return ze(ze({},a),{column:k})},Qm=function(a,l,m){return Ft(m,function(h){return h>=a.column&&h<=Da(l[0])+a.column})},tw=function(a,l,m,h,x){var k=yc(l),D=Q2(a,l,k),j=Qm(D,m,k),V=K2(D,l,m);return V.map(function(ct){var kt=ze(ze({},ct),{colDelta:ct.colDelta-j.length}),Dn=Fd(l,kt,h),En=yc(Dn),_n=Qm(D,m,En);return qS(D,Dn,m,h,x,_n)})},nb=function(a,l,m,h,x){IS(l,a,x,h.cell);var k=Z2(m,l),D=Fd(m,k,h),j=Z2(l,D),V=Fd(l,j,h);return bn(V,function(ct,kt){return Sm(ct,a,D[kt].cells)})},nw=function(a,l,m,h,x){HS(l,a,x,h.cell);var k=yc(l),D=J2(l,m),j=ze(ze({},D),{colDelta:D.colDelta-k.length}),V=Fd(l,j,h),ct=_u(V),kt=ct.cols,Dn=ct.rows,En=yc(V),_n=J2(m,l),Gt=ze(ze({},_n),{colDelta:_n.colDelta+En.length}),un=jS(m,h,En),Bn=Fd(un,Gt,h);return kt.concat(Dn.slice(0,a)).concat(Bn).concat(Dn.slice(a,Dn.length))},ew=function(a,l,m,h,x){var k=_u(a),D=k.rows,j=k.cols,V=D.slice(0,l),ct=D.slice(l),kt=td(D[m],function(Dn,En){var _n=l>0&&l<D.length&&h(qu(D[l-1],En),qu(D[l],En)),Gt=_n?Oa(D[l],En):io(x(Dn.element,h),!0,Dn.isLocked);return Gt});return j.concat(V).concat([kt]).concat(ct)},rw=function(a,l,m,h,x,k,D){if(m==="colgroup"||!h){var j=Oa(a,x);return io(D(j.element,k),!0,!1)}else return Oa(a,l)},ow=function(a,l,m,h,x){return bn(a,function(k){var D=l>0&&l<Da(k)&&h(qu(k,l-1),qu(k,l)),j=rw(k,l,k.section,D,m,h,x);return Ms(k,l,j)})},iw=function(a,l){return qt(a,function(m){var h=m.cells,x=cn(l,function(k,D){return D>=0&&D<k.length?k.slice(0,D).concat(k.slice(D+1)):k},h);return x.length>0?[vu(x,m.section)]:[]})},uw=function(a,l,m){var h=_u(a),x=h.rows,k=h.cols;return k.concat(x.slice(0,l)).concat(x.slice(m+1))},aw=function(a,l,m,h){var x=function(k){return $e(l,function(D){return m(k.element,D.element)})};return bn(a,function(k){return td(k,function(D){return x(D)?io(h(D.element,m),!0,D.isLocked):D})})},wp=function(a,l,m,h){return qu(a[l],m)!==void 0&&l>0&&h(qu(a[l-1],m),qu(a[l],m))},WS=function(a,l,m){return l>0&&m(qu(a,l-1),qu(a,l))},xp=function(a,l,m,h){var x=_u(a).rows,k=qt(x,function(D,j){var V=wp(a,j,l,m)||WS(D,l,m);return V?[]:[Oa(D,l)]});return aw(a,k,m,h)},tg=function(a){var l=function(m,h){var x=$e(m,function(k){return k.column===h.column});return x?m:m.concat([h])};return Tn(a,l,[]).sort(function(m,h){return m.column-h.column})},YS=function(a){var l=vc(a,"colspan",1),m=vc(a,"rowspan",1);return{element:a,colspan:l,rowspan:m}},$S=function(a,l){l===void 0&&(l=YS);var m=ha(Y.none()),h=function(V){switch(Ue(V.element)){case"col":return a.col(V);default:return a.cell(V)}},x=function(V){var ct=l(V);return h(ct)},k=function(V){var ct=x(V);return m.get().isNone()&&m.set(Y.some(ct)),D=Y.some({item:V,replacement:ct}),ct},D=Y.none(),j=function(V,ct){return D.fold(function(){return k(V)},function(kt){return ct(V,kt.item)?kt.replacement:k(V)})};return{getOrInit:j,cursor:m.get}},wa=function(a,l){return function(m){var h=ha(Y.none()),x=[],k=function(V,ct){return wt(x,function(kt){return ct(kt.item,V)})},D=function(V){var ct={scope:a},kt=m.replace(V,l,ct);return x.push({item:V,sub:kt}),h.get().isNone()&&h.set(Y.some(kt)),kt},j=function(V,ct){return Ue(V)==="col"?V:k(V,ct).fold(function(){return D(V)},function(kt){return ct(V,kt.item)?kt.sub:D(V)})};return{replaceOrInit:j,cursor:h.get}}},cw=function(a){return xi(a,"scope").map(function(l){return l.substr(0,3)})},XS=function(a){var l=ha(Y.none()),m=function(x){l.get().isNone()&&l.set(Y.some(x));var k=cw(x);return k.each(function(D){return Mi(x,"scope",D)}),function(){var D=a.cell({element:x,colspan:1,rowspan:1});return $a(D,"width"),$a(x,"width"),k.each(function(j){return Mi(D,"scope",j)}),D}},h=function(x){var k=function(){var D=Hr(bn(x,cw));if(D.length===0)return Y.none();var j=D[0],V=["row","col"],ct=$e(D,function(kt){return kt!==j&&Ve(V,kt)});return ct?Y.none():Y.from(j)};return $a(x[0],"width"),k().fold(function(){return re(x[0],"scope")},function(D){return Mi(x[0],"scope",D+"group")}),nn(x[0])};return{unmerge:m,merge:h,cursor:l.get}},Ra={modification:$S,transform:wa,merging:XS},sw=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],GS=function(a,l){var m=a.property().name(l);return Ve(["ol","ul"],m)},KS=function(a,l){var m=a.property().name(l);return Ve(sw,m)},eb=function(a,l){return Ve(["br","img","hr","input"],a.property().name(l))},ng=jg(),rb=function(a){return KS(ng,a)},lw=function(a){return GS(ng,a)},fw=function(a){return eb(ng,a)},JS=function(a){var l=function(V){return Ue(V)==="br"},m=function(V){return gt(V,function(ct){return l(ct)||Bo(ct)&&nd(ct).trim().length===0})},h=function(V){return Ue(V)==="li"||Gi(V,lw).isSome()},x=function(V){return ls(V).map(function(ct){return rb(ct)?!0:fw(ct)?Ue(ct)!=="img":!1}).getOr(!1)},k=function(V){return np(V).bind(function(ct){var kt=x(ct);return Ou(ct).map(function(Dn){return kt===!0||h(Dn)||l(ct)||rb(Dn)&&!Pn(V,Dn)?[]:[at.fromTag("br")]})}).getOr([])},D=function(){var V=qt(a,function(ct){var kt=F(ct);return m(kt)?[]:kt.concat(k(ct))});return V.length===0?[at.fromTag("br")]:V},j=D();ef(a[0]),Yu(a[0],j)},mv=function(a){var l=ds(a);l.length===0&&ea(a)},Qc=function(a,l){return{grid:a,cursor:l}},Sf=function(a,l,m){var h=_u(a).rows;return gv(h,l,m).orThunk(function(){return gv(h,0,0)})},gv=function(a,l,m){return Y.from(a[l]).bind(function(h){return Y.from(h.cells[m]).bind(function(x){return Y.from(x.element)})})},Bd=function(a,l,m){var h=_u(a).rows;return Qc(a,gv(h,l,m))},pv=function(a){var l=function(m,h){var x=$e(m,function(k){return k.row===h.row});return x?m:m.concat([h])};return Tn(a,l,[]).sort(function(m,h){return m.row-h.row})},dw=function(a,l,m,h){var x=l[0].row,k=pv(l),D=cn(k,function(j,V){var ct=ew(j.grid,x,V.row+j.delta,m,h.getOrInit);return{grid:ct,delta:j.delta+1}},{grid:a,delta:0}).grid;return Bd(D,x,l[0].column)},ob=function(a,l,m,h){var x=pv(l),k=x[x.length-1],D=k.row+k.rowspan,j=cn(x,function(V,ct){return ew(V,D,ct.row,m,h.getOrInit)},a);return Bd(j,D,l[0].column)},ib=function(a,l,m,h){var x=l.details,k=tg(x),D=k[0].column,j=cn(k,function(V,ct){var kt=ow(V.grid,D,ct.column+V.delta,m,h.getOrInit);return{grid:kt,delta:V.delta+1}},{grid:a,delta:0}).grid;return Bd(j,x[0].row,D)},ub=function(a,l,m,h){var x=l.details,k=x[x.length-1],D=k.column+k.colspan,j=tg(x),V=cn(j,function(ct,kt){return ow(ct,D,kt.column,m,h.getOrInit)},a);return Bd(V,x[0].row,D)},ab=function(a,l,m,h){var x=tg(l),k=function(j,V){return xp(j,V.column,m,h.replaceOrInit)},D=Tn(x,k,a);return Bd(D,l[0].row,l[0].column)},mw=function(a,l,m,h){var x=tg(l),k=function(j,V){return xp(j,V.column,m,h.replaceOrInit)},D=Tn(x,k,a);return Bd(D,l[0].row,l[0].column)},ZS=function(a,l,m,h){var x=tg(l.details),k=iw(a,bn(x,function(j){return j.column})),D=Sf(k,x[0].row,x[0].column);return Qc(k,D)},QS=function(a,l,m,h){var x=pv(l),k=uw(a,x[0].row,x[x.length-1].row),D=Sf(k,l[0].row,l[0].column);return Qc(k,D)},tk=function(a,l,m,h){var x=l.cells;JS(x);var k=PS(a,l.bounds,m,h.merge(x));return Qc(k,Y.from(x[0]))},nk=function(a,l,m,h){var x=function(D,j){return X2(D,j,m,h.unmerge(j))},k=cn(l,x,a);return Qc(k,Y.from(l[0]))},ek=function(a,l,m,h){var x=function(V,ct){var kt=U.fromTable(V);return _d(kt,ct,!0)},k=x(l.clipboard,l.generators),D=xr(l.row,l.column),j=tw(D,a,k,l.generators,m);return j.fold(function(){return Qc(a,Y.some(l.element))},function(V){var ct=Sf(V,l.row,l.column);return Qc(V,ct)})},Ws=function(a,l,m){var h=pl(a,m.section),x=U.generate(h);return _d(x,l,!0)},hv=function(a,l,m,h){var x=_u(a).rows,k=l.cells[0].column,D=x[l.cells[0].row],j=Ws(l.clipboard,l.generators,D),V=nb(k,a,j,l.generators,m),ct=Sf(V,l.cells[0].row,l.cells[0].column);return Qc(V,ct)},gw=function(a,l,m,h){var x=_u(a).rows,k=l.cells[l.cells.length-1].column+l.cells[l.cells.length-1].colspan,D=x[l.cells[0].row],j=Ws(l.clipboard,l.generators,D),V=nb(k,a,j,l.generators,m),ct=Sf(V,l.cells[0].row,l.cells[0].column);return Qc(V,ct)},rk=function(a,l,m,h){var x=_u(a).rows,k=l.cells[0].row,D=x[k],j=Ws(l.clipboard,l.generators,D),V=nw(k,a,j,l.generators,m),ct=Sf(V,l.cells[0].row,l.cells[0].column);return Qc(V,ct)},ok=function(a,l,m,h){var x=_u(a).rows,k=l.cells[l.cells.length-1].row+l.cells[l.cells.length-1].rowspan,D=x[l.cells[0].row],j=Ws(l.clipboard,l.generators,D),V=nw(k,a,j,l.generators,m),ct=Sf(V,l.cells[0].row,l.cells[0].column);return Qc(V,ct)},ik=function(a,l){var m=U.fromTable(a),h=xf(m,l);return h.bind(function(x){var k=x[x.length-1],D=x[0].column,j=k.column+k.colspan,V=ae(bn(m.all,function(ct){return Ft(ct.cells,function(kt){return kt.column>=D&&kt.column<j})}));return Zu(V,function(ct){return Ue(ct.element)==="th"})}).getOr("")},Zu=function(a,l){var m=Ft(a,l);return m.length===0?Y.some("td"):m.length===a.length?Y.some("th"):Y.none()},eg=yd,rg=zu,vv=function(a,l){return $e(l,function(m){return m.column===0&&m.isLocked})},og=function(a,l){return $e(l,function(m){return m.column+m.colspan>=a.grid.columns&&m.isLocked})},Fl=function(a,l){var m=j0(a),h=tg(l);return Tn(h,function(x,k){var D=m[k.column],j=D.map(zh).getOr(0);return x+j},0)},Ys=function(a){return function(l,m){return xf(l,m).filter(function(h){var x=a?vv:og;return!x(l,h)}).map(function(h){return{details:h,pixelDelta:Fl(l,h)}})}},pw=function(a,l){return bp(a,l).map(function(m){return{details:m,pixelDelta:-Fl(a,m)}})},cb=function(a){return function(l,m){return dv(l,m).filter(function(h){var x=a?vv:og;return!x(l,h.cells)})}},kf=aa(dw,xf,ft,ft,Ra.modification),sb=aa(ob,xf,ft,ft,Ra.modification),bv=aa(ib,Ys(!0),rg,ft,Ra.modification),uk=aa(ub,Ys(!1),rg,ft,Ra.modification),Nd=aa(ZS,pw,rg,mv,Ra.modification),Ef=aa(QS,xf,ft,mv,Ra.modification),Cp=aa(ab,bp,ft,ft,Ra.transform("row","th")),zd=aa(mw,bp,ft,ft,Ra.transform(null,"td")),Af=aa(tk,Cf,eg,ft,Ra.merging),$s=aa(nk,$2,eg,ft,Ra.merging),yv=aa(ek,Y2,eg,ft,Ra.modification),lb=aa(hv,cb(!0),ft,ft,Ra.modification),ak=aa(gw,cb(!1),ft,ft,Ra.modification),hw=aa(rk,dv,ft,ft,Ra.modification),Sp=aa(ok,dv,ft,ft,Ra.modification),kp=ik,Ep=function(a){return gd(a.parentNode)},vw=function(a){return a==="thead"?"header":a==="tfoot"?"footer":"body"},Md=function(a,l){var m=Ep(l)==="thead",h=!$e(l.cells,function(x){return gd(x)!=="th"});return m||h?Y.some({thead:m,ths:h}):Y.none()},Ap=function(a,l){return vw(Md(a,l).fold(function(){return Ep(l)},function(m){return"thead"}))},bw=function(a,l,m){var h=a.getParent(l,"table"),x=l.parentNode,k=gd(x);if(m!==k){var D=a.select(m,h)[0];if(!D){D=a.create(m);var j=h.firstChild;m==="thead"?An(uo(at.fromDom(h),"caption,colgroup")).fold(function(){return h.insertBefore(D,j)},function(V){return a.insertAfter(D,V.dom)}):h.appendChild(D)}m==="tbody"&&k==="thead"&&D.firstChild?D.insertBefore(l,D.firstChild):D.appendChild(l),x.hasChildNodes()||a.remove(x)}},fb=function(a,l,m){if(wr(m)&&gd(l)!==m){var h=a.dom.rename(l,m);return uv(a,h),h}else return l},Tp=function(a,l,m,h){var x=a.dom,k=fb(a,l,m);return ue(h)||x.setAttrib(k,"scope",h),k},Qi=function(a,l,m,h){return he(l,function(x){return Tp(a,x,m,h)})},yw=function(a,l,m){var h=function(){var j=ai(at.fromDom(l.cells[0])).map(function(V){return Ql(V)}).getOr([]);return ar(j,function(V){return Md(a,V.dom)}).map(function(V){return V.thead&&V.ths?"sectionCells":V.thead?"section":"cells"}).getOr("section")},x=a.dom;if(m==="header"){var k=Y1(a),D=k==="auto"?h():k;Qi(a,l.cells,D==="section"?"td":"th","col"),bw(x,l,D==="cells"?"tbody":"thead")}else Qi(a,l.cells,"td",null),bw(x,l,m==="footer"?"tfoot":"tbody")},Wr=function(a){return ai(a).bind(function(l){return of(l,di.firstSelectedSelector)}).fold(function(){return a},function(l){return l[0]})},Tf=function(a){return function(l){var m=Ue(l),h=m==="col"||m==="colgroup"?Wr(l):l;return fo(h,a)}},As=Tf("th,td"),Xs=Tf("th,td,caption"),Op=function(a,l){return As(a).map(function(m){return Ac(l)}).getOr([])},Of=function(a,l){var m=As(a),h=m.bind(function(x){return ai(x)}).map(function(x){return Ql(x)});return Sr(m,h,function(x,k){return Ft(k,function(D){return $e(md(D.dom.cells),function(j){return Ya(j,l)==="1"||Pn(j,x)})})}).getOr([])},ck=function(a,l,m){var h=function(ti){return Ue(ys(ti))==="table"},x=function(ti){return h(a)===!1||gf(ti).rows>1},k=function(ti){return h(a)===!1||gf(ti).columns>1},D=Es(a),j=Dd(a)?ft:K1,V=function(ti,mu,gu,Fs,rm){return function(om,Jv){Qa(om);var sy=Fs(),hx=at.fromDom(a.getDoc()),Ll=lf(gu,hx,D),a4=qs(a,om),Zv=Dd(a)?Ss():Na();return mu(om)?ti(sy,om,Jv,Ll,a4,Zv).bind(function(ly){return he(ly.newRows,function(Kp){kd(a,Kp.dom)}),he(ly.newCells,function(Kp){uv(a,Kp.dom)}),ly.cursor.map(function(Kp){var Jp=Zc(Kp),Qv=a.dom.createRng();return Qv.setStart(Jp.element.dom,Jp.offset),Qv.setEnd(Jp.element.dom,Jp.offset),{rng:Qv,effect:rm}})}):Y.none()}},ct=V(Ef,x,ft,l,Un),kt=V(Nd,k,ft,l,Un),Dn=V(kf,yn,ft,l,Un),En=V(sb,yn,ft,l,Un),_n=V(bv,yn,j,l,Un),Gt=V(uk,yn,j,l,Un),un=V(Af,yn,ft,l,Un),Bn=V($s,yn,ft,l,Un),or=V(lb,yn,ft,l,Un),no=V(ak,yn,ft,l,Un),Dr=V(hw,yn,ft,l,Un),so=V(Sp,yn,ft,l,Un),No=V(yv,yn,ft,l,Un),Qo=function(ti,mu){return Rr(ti,"type").filter(function(gu){return Ve(mu,gu)})},Lf=function(ti,mu){return Qo(mu,["td","th"]).each(function(gu){var Fs=bn(Op(pi(ti),m),function(rm){return rm.dom});Qi(ti,Fs,gu,null)})},bg=function(ti,mu){return Qo(mu,["header","body","footer"]).each(function(gu){bn(Of(pi(ti),di.selected),function(Fs){return yw(ti,Fs.dom,gu)})})},Pl=V(Cp,yn,ft,l,Un),vo=V(zd,yn,ft,l,Un),Cu=function(ti){var mu=Of(pi(ti),di.selected);if(mu.length>0){var gu=bn(mu,function(Jv){return Ap(ti,Jv.dom)}),Fs=Ve(gu,"header"),rm=Ve(gu,"footer");if(!Fs&&!rm)return"body";var om=Ve(gu,"body");return Fs&&!om&&!rm?"header":!Fs&&!om&&rm?"footer":""}},Su=function(ti){return Zu(Op(pi(ti),m),function(mu){return Ue(mu)==="th"}).getOr("")},ac=kp;return{deleteRow:ct,deleteColumn:kt,insertRowsBefore:Dn,insertRowsAfter:En,insertColumnsBefore:_n,insertColumnsAfter:Gt,mergeCells:un,unmergeCells:Bn,pasteColsBefore:or,pasteColsAfter:no,pasteRowsBefore:Dr,pasteRowsAfter:so,pasteCells:No,setTableCellType:Lf,setTableRowType:bg,makeColumnsHeader:Pl,unmakeColumnsHeader:vo,getTableRowType:Cu,getTableCellType:Su,getTableColType:ac}},wv={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},colGroups:!1},xv=function(){return at.fromTag("th")},ww=function(){return at.fromTag("td")},db=function(){return at.fromTag("col")},Ts=function(a,l,m,h){for(var x=at.fromTag("tr"),k=0;k<a;k++){var D=h<l||k<m?xv():ww();k<m&&Mi(D,"scope","row"),h<l&&Mi(D,"scope","col"),qi(D,at.fromTag("br")),qi(x,D)}return x},sk=function(a){var l=at.fromTag("colgroup");return kn(a,function(){return qi(l,db())}),l},xw=function(a,l,m,h){return kn(a,function(x){return Ts(l,m,h,x)})},Cw=function(a,l,m,h,x,k){k===void 0&&(k=wv);var D=at.fromTag("table"),j=x!=="cells";Fe(D,k.styles),iu(D,k.attributes),k.colGroups&&qi(D,sk(l));var V=Math.min(a,m);if(j&&m>0){var ct=at.fromTag("thead");qi(D,ct);var kt=x==="sectionCells"?V:0,Dn=xw(m,l,kt,h);Yu(ct,Dn)}var En=at.fromTag("tbody");qi(D,En);var _n=j?a-V:a,Gt=j?0:m,un=xw(_n,l,Gt,h);return Yu(En,un),D},Sw=function(a){return a.dom.innerHTML},mb=function(a){var l=at.fromTag("div"),m=at.fromDom(a.dom.cloneNode(!0));return qi(l,m),Sw(l)},lk=function(a,l){a.selection.select(l.dom,!0),a.selection.collapse(!0)},kw=function(a,l){Aa(l,"td,th").each(Xt(lk,a))},Bc=function(a,l){he(Mo(l,"tr"),function(m){kd(a,m.dom),he(Mo(m,"th,td"),function(h){uv(a,h.dom)})})},Cv=function(a){return S(a)&&a.indexOf("%")!==-1},Sv=function(a,l,m,h,x){var k=bf(a),D={styles:k,attributes:jm(a),colGroups:W1(a)};return a.undoManager.ignore(function(){var j=Cw(m,l,x,h,Y1(a),D);Mi(j,"data-mce-id","__mce");var V=mb(j);a.insertContent(V),a.addVisual()}),Aa(ys(a),'table[data-mce-id="__mce"]').map(function(j){return Wm(a)?pp(a,j):wf(a)?Jc(j):(Od(a)||Cv(k.width))&&gp(a,j),Qa(j),re(j,"data-mce-id"),Bc(a,j),kw(a,j),j.dom}).getOr(null)},Rd=function(a,l,m,h,x){h===void 0&&(h={});var k=function(V){return Pt(V)&&V>0};if(k(l)&&k(m)){var D=h.headerRows||0,j=h.headerColumns||0;return Sv(a,m,l,j,D)}else return console.error(x),null},ts=function(a){return function(){return a().fold(function(){return[]},function(l){return bn(l,function(m){return m.dom})})}},Os=function(a){return function(l){var m=l.length>0?Y.some(md(l)):Y.none();a(m)}},xa=function(a){return function(l,m,h){h===void 0&&(h={});var x=Rd(a,m,l,h,"Invalid values for insertTable - rows and columns values are required to insert a table.");return a.undoManager.add(),x}},Gs=function(a,l,m,h){return{insertTable:xa(a),setClipboardRows:Os(l.setRows),getClipboardRows:ts(l.getRows),setClipboardCols:Os(l.setColumns),getClipboardCols:ts(l.getColumns),resizeHandler:m,selectionTargets:h}},gb=function(a,l,m){var h=vc(a,l,1);m===1||h<=1?re(a,l):Mi(a,l,Math.min(m,h))},Ks=function(a,l,m){if(U.hasColumns(a)){var h=Ft(U.justColumns(a),function(D){return D.column>=l&&D.column<m}),x=bn(h,function(D){var j=rd(D.element);return gb(j,"span",m-l),j}),k=at.fromTag("colgroup");return Yu(k,x),[k]}else return[]},Pd=function(a,l,m){return bn(a.all,function(h){var x=Ft(h.cells,function(j){return j.column>=l&&j.column<m}),k=bn(x,function(j){var V=rd(j.element);return gb(V,"colspan",m-l),V}),D=at.fromTag("tr");return Yu(D,k),D})},fk=function(a,l){var m=U.fromTable(a),h=bp(m,l);return h.map(function(x){var k=x[x.length-1],D=x[0].column,j=k.column+k.colspan,V=Ks(m,D,j),ct=Pd(m,D,j);return Zr(V,ct)})},dk=function(a,l,m){var h=U.fromTable(a),x=xf(h,l);return x.bind(function(k){var D=_d(h,m,!1),j=_u(D).rows,V=j.slice(k[0].row,k[k.length-1].row+k[k.length-1].rowspan),ct=qt(V,function(Dn){var En=Ft(Dn.cells,function(_n){return!_n.isLocked});return En.length>0?[ze(ze({},Dn),{cells:En})]:[]}),kt=vp(ct,m);return Xg(kt.length>0,kt)}).map(function(k){return U2(k)})},Ew=tinymce.util.Tools.resolve("tinymce.util.Tools"),pb=function(a,l,m){var h=a.select("td,th",l),x,k=function(D,j){for(var V=0;V<j.length;V++){var ct=a.getStyle(j[V],m);if(typeof D=="undefined"&&(D=ct),D!==ct)return""}return D};return k(x,h)},hb=function(a,l,m){m&&a.formatter.apply("align"+m,{},l)},Aw=function(a,l,m){m&&a.formatter.apply("valign"+m,{},l)},xe=function(a,l){Ew.each("left center right".split(" "),function(m){a.formatter.remove("align"+m,{},l)})},tu=function(a,l){Ew.each("top middle bottom".split(" "),function(m){a.formatter.remove("valign"+m,{},l)})},kv=function(a){return W(a,"menu")},Li=function(a,l){var m=function(h,x){return x.concat(bn(h,function(k){var D=k.text||k.title;return kv(k)?{text:D,items:Li(k.menu)}:{text:D,value:k.value}}))};return m(a,l||[])},Ca=function(a){return function(l){return Nr(l,"rgb")?a.toHex(l):l}},Dp=function(a,l){var m=at.fromDom(l);return{borderwidth:Vc(m,"border-width").getOr(""),borderstyle:Vc(m,"border-style").getOr(""),bordercolor:Vc(m,"border-color").map(Ca(a)).getOr(""),backgroundcolor:Vc(m,"background-color").map(Ca(a)).getOr("")}},Ld=function(a){var l=a[0],m=a.slice(1);return he(m,function(h){he(sn(l),function(x){_e(h,function(k,D){var j=l[x];j!==""&&x===D&&j!==k&&(l[x]="")})})}),l},ig=function(a){var l=[{name:"borderstyle",type:"listbox",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{name:"bordercolor",type:"colorinput",label:"Border color"},{name:"backgroundcolor",type:"colorinput",label:"Background color"}],m={name:"borderwidth",type:"input",label:"Border width"},h=a==="cell"?[m].concat(l):l;return{title:"Advanced",name:"advanced",items:h}},Tw=function(a,l,m,h){return wt(a,function(x){return m.formatter.matchNode(h,l+x)}).getOr("")},vb=Xt(Tw,["left","center","right"],"align"),Ow=Xt(Tw,["top","middle","bottom"],"valign"),mk=function(a,l){var m=bf(a),h=jm(a),x=function(kt){return{borderstyle:Rr(m,"border-style").getOr(""),bordercolor:Ca(kt)(Rr(m,"border-color").getOr("")),backgroundcolor:Ca(kt)(Rr(m,"background-color").getOr(""))}},k={height:"",width:"100%",cellspacing:"",cellpadding:"",caption:!1,class:"",align:"",border:""},D=function(){var kt=m["border-width"];return qm(a)&&kt?{border:kt}:Rr(h,"border").fold(function(){return{}},function(Dn){return{border:Dn}})},j=l?x(a.dom):{},V=function(){var kt=Rr(m,"border-spacing").or(Rr(h,"cellspacing")).fold(function(){return{}},function(En){return{cellspacing:En}}),Dn=Rr(m,"border-padding").or(Rr(h,"cellpadding")).fold(function(){return{}},function(En){return{cellpadding:En}});return ze(ze({},kt),Dn)},ct=ze(ze(ze(ze(ze(ze({},k),m),h),j),D()),V());return ct},gk=function(a,l,m){var h=function(k,D){var j=Vc(at.fromDom(D),"border-width");return qm(a)&&j.isSome()?j.getOr(""):k.getAttrib(D,"border")||pb(a.dom,D,"border-width")||pb(a.dom,D,"border")},x=a.dom;return ze({width:x.getStyle(l,"width")||x.getAttrib(l,"width"),height:x.getStyle(l,"height")||x.getAttrib(l,"height"),cellspacing:x.getStyle(l,"border-spacing")||x.getAttrib(l,"cellspacing"),cellpadding:x.getAttrib(l,"cellpadding")||pb(a.dom,l,"padding"),border:h(x,l),caption:!!x.select("caption",l)[0],class:x.getAttrib(l,"class",""),align:vb(a,l)},m?Dp(x,l):{})},pk=function(a,l,m){var h=a.dom;return ze({height:h.getStyle(l,"height")||h.getAttrib(l,"height"),class:h.getAttrib(l,"class",""),type:Ap(a,l),align:vb(a,l)},m?Dp(h,l):{})},Pa=function(a,l,m,h){var x=a.dom,k=h.getOr(l),D=function(j,V){return x.getStyle(j,V)||x.getAttrib(j,V)};return ze({width:D(k,"width"),height:D(l,"height"),scope:x.getAttrib(l,"scope"),celltype:gd(l),class:x.getAttrib(l,"class",""),halign:vb(a,l),valign:Ow(a,l)},m?Dp(x,l):{})},hk=function(a){var l=Li(Td(a));return l.length>0?Y.some({name:"class",type:"listbox",label:"Class",items:l}):Y.none()},ug=[{name:"width",type:"input",label:"Width"},{name:"height",type:"input",label:"Height"},{name:"celltype",type:"listbox",label:"Cell type",items:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{name:"scope",type:"listbox",label:"Scope",items:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{name:"halign",type:"listbox",label:"H Align",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{name:"valign",type:"listbox",label:"V Align",items:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}],Js=function(a){return ug.concat(hk(a).toArray())},Id=function(a){return function(l,m){var h=l.dom,x=function(j,V){(!a||V)&&h.setAttrib(m,j,V)},k=function(j,V){(!a||V)&&h.setStyle(m,j,V)},D=function(j,V){(!a||V)&&(V===""?l.formatter.remove(j,{value:null},m,!0):l.formatter.apply(j,{value:V},m))};return{setAttrib:x,setStyle:k,setFormat:D}}},Ds={normal:Id(!1),ifTruthy:Id(!0)},_p=function(a){return ai(a[0]).map(function(l){var m=U.fromTable(l),h=U.justCells(m),x=Ft(h,function(k){return $e(a,function(D){return Pn(k.element,D)})});return bn(x,function(k){return{element:k.element.dom,column:U.getColumnAt(m,k.column).map(function(D){return D.element.dom})}})})},Ev=function(a,l,m){a.setAttrib("scope",m.scope),a.setAttrib("class",m.class),a.setStyle("height",Yo(m.height)),l.setStyle("width",Yo(m.width))},bb=function(a,l){a.setFormat("tablecellbackgroundcolor",l.backgroundcolor),a.setFormat("tablecellbordercolor",l.bordercolor),a.setFormat("tablecellborderstyle",l.borderstyle),a.setFormat("tablecellborderwidth",Yo(l.borderwidth))},ag=function(a,l,m,h){var x=l.length===1,k=ke(h,function(V,ct){return m[ct]!==V});if(mr(k)>0&&l.length>=1){var D=ai(l[0]);_p(l).each(function(V){he(V,function(ct){var kt=Tp(a,ct.element,h.celltype),Dn=x?Ds.normal(a,kt):Ds.ifTruthy(a,kt),En=ct.column.map(function(_n){return x?Ds.normal(a,_n):Ds.ifTruthy(a,_n)}).getOr(Dn);Ev(Dn,En,h),j1(a)&&bb(Dn,h),x&&(xe(a,kt),tu(a,kt)),h.halign&&hb(a,kt,h.halign),h.valign&&Aw(a,kt,h.valign)})});var j=mr(ke(k,function(V,ct){return ct!=="scope"&&ct!=="celltype"}))>0;D.each(function(V){return vf(a,V.dom,{structure:xo(k,"celltype"),style:j})})}},Bl=function(a,l,m,h){var x=h.getData();h.close(),a.undoManager.transact(function(){ag(a,l,m,x),a.focus()})},yb=function(a,l){var m=_p(l).map(function(h){return bn(h,function(x){return Pa(a,x.element,j1(a),x.column)})});return Ld(m.getOrDie())},vk=function(a,l){var m=Op(pi(a),l);if(m.length!==0){var h=yb(a,m),x={type:"tabpanel",tabs:[{title:"General",name:"general",items:Js(a)},ig("cell")]},k={type:"panel",items:[{type:"grid",columns:2,items:Js(a)}]};a.windowManager.open({title:"Cell Properties",size:"normal",body:j1(a)?x:k,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onSubmit:Xt(Bl,a,m,h)})}},Df=function(a){var l=Li(R2(a));return l.length>0?Y.some({name:"class",type:"listbox",label:"Class",items:l}):Y.none()},wb=[{type:"listbox",name:"type",label:"Row type",items:[{text:"Header",value:"header"},{text:"Body",value:"body"},{text:"Footer",value:"footer"}]},{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height",type:"input"}],Fp=function(a){return wb.concat(Df(a).toArray())},Bp=function(a,l){a.setAttrib("class",l.class),a.setStyle("height",Yo(l.height))},Dw=function(a,l){a.setStyle("background-color",l.backgroundcolor),a.setStyle("border-color",l.bordercolor),a.setStyle("border-style",l.borderstyle)},Hd=function(a,l,m,h){var x=l.length===1,k=ke(h,function(V,ct){return m[ct]!==V});if(mr(k)>0){he(l,function(V){h.type!==gd(V.parentNode)&&yw(a,V,h.type);var ct=x?Ds.normal(a,V):Ds.ifTruthy(a,V);Bp(ct,h),ks(a)&&Dw(ct,h),h.align!==m.align&&(xe(a,V),hb(a,V,h.align))});var D=xo(k,"type"),j=D?mr(k)>1:!0;ai(at.fromDom(l[0])).each(function(V){return vf(a,V.dom,{structure:D,style:j})})}},Iu=function(a,l,m,h){var x=h.getData();h.close(),a.undoManager.transact(function(){Hd(a,l,m,x),a.focus()})},ns=function(a){var l=Of(pi(a),di.selected);if(l.length!==0){var m=bn(l,function(D){return pk(a,D.dom,ks(a))}),h=Ld(m),x={type:"tabpanel",tabs:[{title:"General",name:"general",items:Fp(a)},ig("row")]},k={type:"panel",items:[{type:"grid",columns:2,items:Fp(a)}]};a.windowManager.open({title:"Row Properties",size:"normal",body:ks(a)?x:k,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:h,onSubmit:Xt(Iu,a,bn(l,function(D){return D.dom}),h)})}},Nc=tinymce.util.Tools.resolve("tinymce.Env"),cg=function(a,l,m){var h=m?[{type:"input",name:"cols",label:"Cols",inputMode:"numeric"},{type:"input",name:"rows",label:"Rows",inputMode:"numeric"}]:[],x=[{type:"input",name:"width",label:"Width"},{type:"input",name:"height",label:"Height"}],k=M2(a)?[{type:"input",name:"cellspacing",label:"Cell spacing",inputMode:"numeric"},{type:"input",name:"cellpadding",label:"Cell padding",inputMode:"numeric"},{type:"input",name:"border",label:"Border width"},{type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]}]:[],D=[{type:"listbox",name:"align",label:"Alignment",items:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]}],j=l.length>0?[{type:"listbox",name:"class",label:"Class",items:l}]:[];return h.concat(x).concat(k).concat(D).concat(j)},Vd=function(a,l,m,h){if(l.tagName==="TD"||l.tagName==="TH")S(m)?a.setStyle(l,m,h):a.setStyle(l,m);else if(l.children)for(var x=0;x<l.children.length;x++)Vd(a,l.children[x],m,h)},sg=function(a,l,m){var h=a.dom,x={},k={};if(x.class=m.class,k.height=Yo(m.height),h.getAttrib(l,"width")&&!qm(a)?x.width=ff(m.width):k.width=Yo(m.width),qm(a)?(k["border-width"]=Yo(m.border),k["border-spacing"]=Yo(m.cellspacing)):(x.border=m.border,x.cellpadding=m.cellpadding,x.cellspacing=m.cellspacing),qm(a)&&l.children)for(var D=0;D<l.children.length;D++)Vd(h,l.children[D],{"border-width":Yo(m.border),padding:Yo(m.cellpadding)}),Ju(a)&&Vd(h,l.children[D],{"border-color":m.bordercolor});Ju(a)&&(k["background-color"]=m.backgroundcolor,k["border-color"]=m.bordercolor,k["border-style"]=m.borderstyle),x.style=h.serializeStyle(ze(ze({},bf(a)),k)),h.setAttribs(l,ze(ze({},jm(a)),x))},Av=function(a,l,m,h){var x=a.dom,k,D=h.getData(),j=ke(D,function(V,ct){return m[ct]!==V});h.close(),D.class===""&&delete D.class,a.undoManager.transact(function(){if(!l){var V=parseInt(D.cols,10)||1,ct=parseInt(D.rows,10)||1;l=Sv(a,V,ct,0,0)}if(mr(j)>0&&(sg(a,l,D),k=x.select("caption",l)[0],k&&!D.caption&&x.remove(k),!k&&D.caption&&(k=x.create("caption"),k.innerHTML=Nc.ie?xu:'<br data-mce-bogus="1"/>',l.insertBefore(k,l.firstChild)),D.align===""?xe(a,l):hb(a,l,D.align)),a.focus(),a.addVisual(),mr(j)>0){var kt=xo(j,"caption"),Dn=kt?mr(j)>1:!0;vf(a,l,{structure:kt,style:Dn})}})},xb=function(a,l){var m=a.dom,h,x=mk(a,Ju(a));l===!1?(h=m.getParent(a.selection.getStart(),"table"),h?x=gk(a,h,Ju(a)):Ju(a)&&(x.borderstyle="",x.bordercolor="",x.backgroundcolor="")):(x.cols="1",x.rows="1",Ju(a)&&(x.borderstyle="",x.bordercolor="",x.backgroundcolor=""));var k=Li(dp(a));k.length>0&&x.class&&(x.class=x.class.replace(/\s*mce\-item\-table\s*/g,""));var D={type:"grid",columns:2,items:cg(a,k,l)},j=function(){return{type:"panel",items:[D]}},V=function(){return{type:"tabpanel",tabs:[{title:"General",name:"general",items:[D]},ig("table")]}},ct=Ju(a)?V():j();a.windowManager.open({title:"Table Properties",size:"normal",body:ct,onSubmit:Xt(Av,a,h,x),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:x})},Tv=function(a){return Xs(pi(a))},Ov=function(a){return As(pi(a))},Dv=function(a,l,m,h,x){var k=Rm(a),D=function(){return Tv(a).each(function(un){ai(un,k).filter(Kn(k)).each(function(Bn){var or=at.fromText("");if(ga(Bn,or),ea(Bn),a.dom.isEmpty(a.getBody()))a.setContent(""),a.selection.setCursorLocation();else{var no=a.dom.createRng();no.setStart(or.dom,0),no.setEnd(or.dom,0),a.selection.setRng(no),a.nodeChanged()}})})},j=function(un){return Tv(a).each(function(Bn){var or=wf(a)||Wm(a)||Od(a);or||ai(Bn,k).each(function(no){un==="relative"&&!x1(no)?gp(a,no):un==="fixed"&&!xd(no)?pp(a,no):un==="responsive"&&!ec(no)&&Jc(no),Qa(no),vf(a,no.dom,Un)})})},V=function(un){return ai(un,k)},ct=function(un){return function(Bn){a.selection.setRng(Bn.rng),a.focus(),m.clear(un),Qa(un),vf(a,un.dom,Bn.effect)}},kt=function(un){return Ov(a).each(function(Bn){V(Bn).each(function(or){var no=Lm(h,or,Bn);un(or,no).each(ct(or))})})},Dn=function(){return Ov(a).map(function(un){return V(un).bind(function(Bn){var or=Lm(h,Bn,un),no=lf(ft,at.fromDom(a.getDoc()),Y.none());return dk(Bn,or,no)})})},En=function(){return Ov(a).map(function(un){return V(un).bind(function(Bn){var or=Lm(h,Bn,un);return fk(Bn,or)})})},_n=function(un,Bn){return Bn().each(function(or){var no=bn(or,function(Dr){return rd(Dr)});Ov(a).each(function(Dr){return V(Dr).each(function(so){var No=au(at.fromDom(a.getDoc())),Qo=ep(h,Dr,no,No);un(so,Qo).each(ct(so))})})})};_e({mceTableSplitCells:function(){return kt(l.unmergeCells)},mceTableMergeCells:function(){return kt(l.mergeCells)},mceTableInsertRowBefore:function(){return kt(l.insertRowsBefore)},mceTableInsertRowAfter:function(){return kt(l.insertRowsAfter)},mceTableInsertColBefore:function(){return kt(l.insertColumnsBefore)},mceTableInsertColAfter:function(){return kt(l.insertColumnsAfter)},mceTableDeleteCol:function(){return kt(l.deleteColumn)},mceTableDeleteRow:function(){return kt(l.deleteRow)},mceTableCutCol:function(un){return En().each(function(Bn){x.setColumns(Bn),kt(l.deleteColumn)})},mceTableCutRow:function(un){return Dn().each(function(Bn){x.setRows(Bn),kt(l.deleteRow)})},mceTableCopyCol:function(un){return En().each(function(Bn){return x.setColumns(Bn)})},mceTableCopyRow:function(un){return Dn().each(function(Bn){return x.setRows(Bn)})},mceTablePasteColBefore:function(un){return _n(l.pasteColsBefore,x.getColumns)},mceTablePasteColAfter:function(un){return _n(l.pasteColsAfter,x.getColumns)},mceTablePasteRowBefore:function(un){return _n(l.pasteRowsBefore,x.getRows)},mceTablePasteRowAfter:function(un){return _n(l.pasteRowsAfter,x.getRows)},mceTableDelete:D,mceTableSizingMode:function(un,Bn){return j(Bn)}},function(un,Bn){return a.addCommand(Bn,un)});var Gt=function(un,Bn){Bn.each(function(or){vf(un,or.dom,Un)})};_e({mceTableCellType:function(un,Bn){var or=ai(pi(a),k);l.setTableCellType(a,Bn),Gt(a,or)},mceTableRowType:function(un,Bn){var or=ai(pi(a),k);l.setTableRowType(a,Bn),Gt(a,or)}},function(un,Bn){return a.addCommand(Bn,un)}),a.addCommand("mceTableColType",function(un,Bn){return Rr(Bn,"type").each(function(or){return kt(or==="th"?l.makeColumnsHeader:l.unmakeColumnsHeader)})}),_e({mceTableProps:Xt(xb,a,!1),mceTableRowProps:Xt(ns,a),mceTableCellProps:Xt(vk,a,h)},function(un,Bn){return a.addCommand(Bn,function(){return un()})}),a.addCommand("mceInsertTable",function(un,Bn){ce(Bn)&&sn(Bn).length>0?Rd(a,Bn.rows,Bn.columns,Bn.options,"Invalid values for mceInsertTable - rows and columns values are required to insert a table."):xb(a,!0)}),a.addCommand("mceTableApplyCellStyle",function(un,Bn){var or=function(so){return"tablecell"+so.toLowerCase().replace("-","")};if(ce(Bn)){var no=Op(pi(a),h);if(no.length!==0){var Dr=ke(Bn,function(so,No){return a.formatter.has(or(No))&&S(so)});Mt(Dr)||(_e(Dr,function(so,No){he(no,function(Qo){Ds.normal(a,Qo.dom).setFormat(or(No),so)})}),V(no[0]).each(function(so){return vf(a,so.dom,H1)}))}}})},Cb=function(a,l,m){var h=Rm(a),x=function(k){return ai(k,h)};_e({mceTableRowType:function(){return l.getTableRowType(a)},mceTableCellType:function(){return l.getTableCellType(a)},mceTableColType:function(){return As(pi(a)).bind(function(k){return x(k).map(function(D){var j=Lm(m,D,k);return l.getTableColType(D,j)})}).getOr("")}},function(k,D){return a.addQueryValueHandler(D,k)})},_w=function(){var a=ha(Y.none()),l=ha(Y.none()),m=function(h){h.set(Y.none())};return{getRows:a.get,setRows:function(h){a.set(h),m(l)},clearRows:function(){return m(a)},getColumns:l.get,setColumns:function(h){l.set(h),m(a)},clearColumns:function(){return m(l)}}},Sb={tablecellbackgroundcolor:{selector:"td,th",styles:{backgroundColor:"%value"},remove_similar:!0},tablecellbordercolor:{selector:"td,th",styles:{borderColor:"%value"},remove_similar:!0},tablecellborderstyle:{selector:"td,th",styles:{borderStyle:"%value"},remove_similar:!0},tablecellborderwidth:{selector:"td,th",styles:{borderWidth:"%value"},remove_similar:!0}},_v=function(a){a.formatter.register(Sb)},Lo=Cl.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),_s=function(a){return a===void 0&&(a=void 0),Lo.none(a)},_f=ze(ze({},Lo),{none:_s}),lg=function(a,l){return ai(a,l).bind(function(m){var h=ds(m),x=tn(h,function(k){return Pn(a,k)});return x.map(function(k){return{index:k,all:h}})})},kb=function(a,l){var m=lg(a,l);return m.fold(function(){return _f.none(a)},function(h){return h.index+1<h.all.length?_f.middle(a,h.all[h.index+1]):_f.last(a)})},Ff=function(a,l){var m=lg(a,l);return m.fold(function(){return _f.none()},function(h){return h.index-1>=0?_f.middle(a,h.all[h.index-1]):_f.first(a)})},Eb=function(a,l,m,h){return{start:a,soffset:l,finish:m,foffset:h}},Ud={create:Eb},jd=Cl.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Ab=function(a,l,m,h){return a.fold(l,m,h)},Fw=function(a){return a.fold(st,st,st)},bk=jd.before,Tb=jd.on,yk=jd.after,Hu={before:bk,on:Tb,after:yk,cata:Ab,getStart:Fw},Nl=Cl.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),wk=function(a){return Nl.exact(a.start,a.soffset,a.finish,a.foffset)},xk=function(a){return a.match({domRange:function(l){return at.fromDom(l.startContainer)},relative:function(l,m){return Hu.getStart(l)},exact:function(l,m,h,x){return l}})},uc=Nl.domRange,Vu=Nl.relative,Bf=Nl.exact,Ob=function(a){var l=xk(a);return Rg(l)},Fv=Ud.create,Zs={domRange:uc,relative:Vu,exact:Bf,exactFromRange:wk,getWin:Ob,range:Fv},Db=function(a,l){var m=a.document.createRange();return Bw(m,l),m},Bw=function(a,l){return a.selectNodeContents(l.dom)},fg=function(a,l){l.fold(function(m){a.setStartBefore(m.dom)},function(m,h){a.setStart(m.dom,h)},function(m){a.setStartAfter(m.dom)})},_b=function(a,l){l.fold(function(m){a.setEndBefore(m.dom)},function(m,h){a.setEnd(m.dom,h)},function(m){a.setEndAfter(m.dom)})},Nw=function(a,l,m){var h=a.document.createRange();return fg(h,l),_b(h,m),h},Bv=function(a,l,m,h,x){var k=a.document.createRange();return k.setStart(l.dom,m),k.setEnd(h.dom,x),k},mo=function(a){return{left:a.left,top:a.top,right:a.right,bottom:a.bottom,width:a.width,height:a.height}},Fb=function(a){var l=a.getClientRects(),m=l.length>0?l[0]:a.getBoundingClientRect();return m.width>0||m.height>0?Y.some(m).map(mo):Y.none()},Np=Cl.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),zw=function(a,l,m){return l(at.fromDom(m.startContainer),m.startOffset,at.fromDom(m.endContainer),m.endOffset)},dg=function(a,l){return l.match({domRange:function(m){return{ltr:nn(m),rtl:Y.none}},relative:function(m,h){return{ltr:Lr(function(){return Nw(a,m,h)}),rtl:Lr(function(){return Y.some(Nw(a,h,m))})}},exact:function(m,h,x,k){return{ltr:Lr(function(){return Bv(a,m,h,x,k)}),rtl:Lr(function(){return Y.some(Bv(a,x,k,m,h))})}}})},zp=function(a,l){var m=l.ltr();if(m.collapsed){var h=l.rtl().filter(function(x){return x.collapsed===!1});return h.map(function(x){return Np.rtl(at.fromDom(x.endContainer),x.endOffset,at.fromDom(x.startContainer),x.startOffset)}).getOrThunk(function(){return zw(a,Np.ltr,m)})}else return zw(a,Np.ltr,m)},qd=function(a,l){var m=dg(a,l);return zp(a,m)},Mp=function(a,l){var m=qd(a,l);return m.match({ltr:function(h,x,k,D){var j=a.document.createRange();return j.setStart(h.dom,x),j.setEnd(k.dom,D),j},rtl:function(h,x,k,D){var j=a.document.createRange();return j.setStart(k.dom,D),j.setEnd(h.dom,x),j}})};Np.ltr,Np.rtl;var Ck=function(a,l,m,h,x){if(x===0)return 0;if(l===h)return x-1;for(var k=h,D=1;D<x;D++){var j=a(D),V=Math.abs(l-j.left);if(m<=j.bottom){if(m<j.top||V>k)return D-1;k=V}}return 0},Nv=function(a,l,m){return l>=a.left&&l<=a.right&&m>=a.top&&m<=a.bottom},Sk=function(a,l,m,h,x){var k=function(ct){var kt=a.dom.createRange();return kt.setStart(l.dom,ct),kt.collapse(!0),kt},D=function(ct){var kt=k(ct);return kt.getBoundingClientRect()},j=nd(l).length,V=Ck(D,m,h,x.right,j);return k(V)},kk=function(a,l,m,h){var x=a.dom.createRange();x.selectNode(l.dom);var k=x.getClientRects(),D=ar(k,function(j){return Nv(j,m,h)?Y.some(j):Y.none()});return D.map(function(j){return Sk(a,l,m,h,j)})},Mw=function(a,l,m,h){var x=a.dom.createRange(),k=F(l);return ar(k,function(D){return x.selectNode(D.dom),Nv(x.getBoundingClientRect(),m,h)?Bb(a,D,m,h):Y.none()})},Bb=function(a,l,m,h){return Bo(l)?kk(a,l,m,h):Mw(a,l,m,h)},Rw=function(a,l,m,h){var x=a.dom.createRange();x.selectNode(l.dom);var k=x.getBoundingClientRect(),D=Math.max(k.left,Math.min(k.right,m)),j=Math.max(k.top,Math.min(k.bottom,h));return Bb(a,l,D,j)},Pw=!0,Ek=!1,Nb=function(a,l){return l-a.left<a.right-l?Pw:Ek},Lw=function(a,l,m){var h=a.dom.createRange();return h.selectNode(l.dom),h.collapse(m),h},Iw=function(a,l,m){var h=a.dom.createRange();h.selectNode(l.dom);var x=h.getBoundingClientRect(),k=Nb(x,m),D=k===Pw?Mm:np;return D(l).map(function(j){return Lw(a,j,k)})},Be=function(a,l,m){var h=l.dom.getBoundingClientRect(),x=Nb(h,m);return Y.some(Lw(a,l,x))},Ak=function(a,l,m){var h=F(l).length===0?Be:Iw;return h(a,l,m)},zl=function(a,l,m){return Y.from(a.dom.caretPositionFromPoint(l,m)).bind(function(h){if(h.offsetNode===null)return Y.none();var x=a.dom.createRange();return x.setStart(h.offsetNode,h.offset),x.collapse(),Y.some(x)})},Qs=function(a,l,m){return Y.from(a.dom.caretRangeFromPoint(l,m))},zv=function(a,l,m,h){var x=a.dom.createRange();x.selectNode(l.dom);var k=x.getBoundingClientRect(),D=Math.max(k.left,Math.min(k.right,m)),j=Math.max(k.top,Math.min(k.bottom,h));return Rw(a,l,D,j)},La=function(a,l,m){return at.fromPoint(a,l,m).bind(function(h){var x=function(){return Ak(a,h,l)};return F(h).length===0?x():zv(a,h,l,m).orThunk(x)})},Mv=function(){return document.caretPositionFromPoint?zl:document.caretRangeFromPoint?Qs:La}(),Wd=function(a,l,m){var h=at.fromDom(a.document);return Mv(h,l,m).map(function(x){return Ud.create(at.fromDom(x.startContainer),x.startOffset,at.fromDom(x.endContainer),x.endOffset)})},Ml=function(a,l){var m=Ue(a);return m==="input"?Hu.after(a):Ve(["br","img"],m)?l===0?Hu.before(a):Hu.after(a):Hu.on(a,l)},Yd=function(a,l){var m=a.fold(Hu.before,Ml,Hu.after),h=l.fold(Hu.before,Ml,Hu.after);return Zs.relative(m,h)},Rv=function(a,l,m,h){var x=Ml(a,l),k=Ml(m,h);return Zs.relative(x,k)},Tk=function(a){return a.match({domRange:function(l){var m=at.fromDom(l.startContainer),h=at.fromDom(l.endContainer);return Rv(m,l.startOffset,h,l.endOffset)},relative:Yd,exact:Rv})},zb=function(a,l,m,h){var x=fa(a),k=x.dom.createRange();return k.setStart(a.dom,l),k.setEnd(m.dom,h),k},Ok=function(a,l,m,h){var x=zb(a,l,m,h),k=Pn(a,m)&&l===h;return x.collapsed&&!k},Jr=function(a){return Y.from(a.getSelection())},zc=function(a,l){Jr(a).each(function(m){m.removeAllRanges(),m.addRange(l)})},Nf=function(a,l,m,h,x){var k=Bv(a,l,m,h,x);zc(a,k)},Dk=function(a,l,m,h,x,k){l.collapse(m.dom,h),l.extend(x.dom,k)},zf=function(a,l){return qd(a,l).match({ltr:function(m,h,x,k){Nf(a,m,h,x,k)},rtl:function(m,h,x,k){Jr(a).each(function(D){if(D.setBaseAndExtent)D.setBaseAndExtent(m.dom,h,x.dom,k);else if(D.extend)try{Dk(a,D,m,h,x,k)}catch{Nf(a,x,k,m,h)}else Nf(a,x,k,m,h)})}})},oo=function(a,l,m,h,x){var k=Rv(l,m,h,x);zf(a,k)},Rp=function(a,l,m){var h=Yd(l,m);zf(a,h)},Pp=function(a){var l=Zs.getWin(a).dom,m=function(x,k,D,j){return Bv(l,x,k,D,j)},h=Tk(a);return qd(l,h).match({ltr:m,rtl:m})},Mf=function(a){if(a.rangeCount>0){var l=a.getRangeAt(0),m=a.getRangeAt(a.rangeCount-1);return Y.some(Ud.create(at.fromDom(l.startContainer),l.startOffset,at.fromDom(m.endContainer),m.endOffset))}else return Y.none()},mg=function(a){if(a.anchorNode===null||a.focusNode===null)return Mf(a);var l=at.fromDom(a.anchorNode),m=at.fromDom(a.focusNode);return Ok(l,a.anchorOffset,m,a.focusOffset)?Y.some(Ud.create(l,a.anchorOffset,m,a.focusOffset)):Mf(a)},Pv=function(a,l){var m=Db(a,l);zc(a,m)},$d=function(a){return Jr(a).filter(function(l){return l.rangeCount>0}).bind(mg)},Mb=function(a){return $d(a).map(function(l){return Zs.exact(l.start,l.soffset,l.finish,l.foffset)})},Hw=function(a,l){var m=Mp(a,l);return Fb(m)},_k=function(a,l,m){return Wd(a,l,m)},Fk=function(a){Jr(a).each(function(l){return l.removeAllRanges()})},Lp=tinymce.util.Tools.resolve("tinymce.util.VK"),gg=function(a,l,m,h){return Vw(a,l,kb(m),h)},Bk=function(a,l,m,h){return Vw(a,l,Ff(m),h)},Ip=function(a,l){var m=Zs.exact(l,0,l,0);return Pp(m)},Nk=function(a,l){var m=Mo(l,"tr");return An(m).bind(function(h){return Aa(h,"td,th").map(function(x){return Ip(a,x)})})},Vw=function(a,l,m,h){return m.fold(Y.none,Y.none,function(x,k){return Mm(k).map(function(D){return Ip(a,D)})},function(x){return ai(x,l).bind(function(k){var D=m1(x);return a.undoManager.transact(function(){h.insertRowsAfter(k,D)}),Nk(a,k)})})},zk=["table","li","dl"],Rb=function(a,l,m){if(a.keyCode===Lp.TAB){var h=ys(l),x=function(j){var V=Ue(j);return Pn(j,h)||Ve(zk,V)},k=l.selection.getRng();if(k.collapsed){var D=at.fromDom(k.startContainer);Ji(D,x).each(function(j){a.preventDefault();var V=a.shiftKey?Bk:gg,ct=V(l,x,j,m);ct.each(function(kt){l.selection.setRng(kt)})})}}},Mk=function(a,l){return{selection:a,kill:l}},pg={create:Mk},Pb=function(a,l,m,h){return{start:Hu.on(a,l),finish:Hu.on(m,h)}},Hp={create:Pb},Lv=function(a,l){var m=Mp(a,l);return Ud.create(at.fromDom(m.startContainer),m.startOffset,at.fromDom(m.endContainer),m.endOffset)},Xd=Hp.create,Uw=function(a,l,m,h,x,k,D){return Pn(m,x)&&h===k?Y.none():fo(m,"td,th",l).bind(function(j){return fo(x,"td,th",l).bind(function(V){return Vp(a,l,j,V,D)})})},Vp=function(a,l,m,h,x){return Pn(m,h)?Y.none():Is(m,h,l).bind(function(k){var D=k.boxes.getOr([]);return D.length>0?(x(a,D,k.start,k.finish),Y.some(pg.create(Y.some(Xd(m,0,m,cf(m))),!0))):Y.none()})},Lb=function(a,l,m,h,x){var k=function(D){return x.clearBeforeUpdate(m),x.selectRange(m,D.boxes,D.start,D.finish),D.boxes};return Yg(h,a,l,x.firstSelectedSelector,x.lastSelectedSelector).map(k)},Gd=function(a,l){return{item:a,mode:l}},Ib=function(a,l,m,h){return h===void 0&&(h=Kd),a.property().parent(l).map(function(x){return Gd(x,h)})},Kd=function(a,l,m,h){return h===void 0&&(h=Up),m.sibling(a,l).map(function(x){return Gd(x,h)})},Up=function(a,l,m,h){h===void 0&&(h=Up);var x=a.property().children(l),k=m.first(x);return k.map(function(D){return Gd(D,h)})},jw=[{current:Ib,next:Kd,fallback:Y.none()},{current:Kd,next:Up,fallback:Y.some(Ib)},{current:Up,next:Up,fallback:Y.some(Kd)}],Hb=function(a,l,m,h,x){x===void 0&&(x=jw);var k=wt(x,function(D){return D.current===m});return k.bind(function(D){return D.current(a,l,h,D.next).orThunk(function(){return D.fallback.bind(function(j){return Hb(a,l,j,h)})})})},qw=function(){var a=function(m,h){return m.query().prevSibling(h)},l=function(m){return m.length>0?Y.some(m[m.length-1]):Y.none()};return{sibling:a,first:l}},jp=function(){var a=function(m,h){return m.query().nextSibling(h)},l=function(m){return m.length>0?Y.some(m[0]):Y.none()};return{sibling:a,first:l}},Vb={left:qw,right:jp},Ub=function(a,l,m,h,x,k){var D=Hb(a,l,h,x);return D.bind(function(j){return k(j.item)?Y.none():m(j.item)?Y.some(j.item):Ub(a,j.item,m,j.mode,x,k)})},Ww=function(a,l,m,h){return Ub(a,l,m,Kd,Vb.left(),h)},jb=function(a,l,m,h){return Ub(a,l,m,Kd,Vb.right(),h)},Yw=function(a){return function(l){return a.property().children(l).length===0}},Rk=function(a,l,m){return Iv(a,l,Yw(a),m)},Pk=function(a,l,m){return $w(a,l,Yw(a),m)},Iv=Ww,$w=jb,Jd=jg(),qb=function(a,l){return Rk(Jd,a,l)},Xw=function(a,l){return Pk(Jd,a,l)},Gw=function(a,l,m){return Iv(Jd,a,l,m)},Kw=function(a,l,m){return $w(Jd,a,l,m)},Hv=function(a,l,m){return Gi(a,l,m).isSome()},Vv=Cl.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),Lk=function(a,l,m){var h=a.getRect(l),x=a.getRect(m);return x.right>h.left&&x.left<h.right},Ik=function(a){return fo(a,"tr")},Hk=function(a,l,m,h,x,k,D){return fo(h,"td,th",D).bind(function(j){return fo(l,"td,th",D).map(function(V){return Pn(j,V)?Pn(h,j)&&cf(j)===x?k(V):Vv.none("in same cell"):Ls(Ik,[j,V]).fold(function(){return Lk(a,V,j)?Vv.success():k(V)},function(ct){return k(V)})})}).getOr(Vv.none("default"))},Uv=function(a,l,m,h,x){return a.fold(l,m,h,x)},hg=ze(ze({},Vv),{verify:Hk,cata:Uv}),Vk=function(a,l,m,h){return{parent:a,children:l,element:m,index:h}},jv=function(a){return Ou(a).bind(function(l){var m=F(l);return Uk(m,a).map(function(h){return Vk(l,m,a,h)})})},Uk=function(a,l){return tn(a,Xt(Pn,l))},qp=function(a){return Ue(a)==="br"},qv=function(a,l,m){return l(a,m).bind(function(h){return Bo(h)&&nd(h).trim().length===0?qv(h,l,m):Y.some(h)})},Wb=function(a,l,m){return m.traverse(l).orThunk(function(){return qv(l,m.gather,a)}).map(m.relative)},Yb=function(a,l){return it(a,l).filter(qp).orThunk(function(){return it(a,l-1).filter(qp)})},Jw=function(a,l,m,h){return Yb(l,m).bind(function(x){return h.traverse(x).fold(function(){return qv(x,h.gather,a).map(h.relative)},function(k){return jv(k).map(function(D){return Hu.on(D.parent,D.index)})})})},Zw=function(a,l,m,h){var x=qp(l)?Wb(a,l,h):Jw(a,l,m,h);return x.map(function(k){return{start:k,finish:k}})},jk=function(a){return hg.cata(a,function(l){return Y.none()},function(){return Y.none()},function(l){return Y.some($m(l,0))},function(l){return Y.some($m(l,cf(l)))})},Zd=function(a,l){return{left:a.left,top:a.top+l,right:a.right,bottom:a.bottom+l}},Wp=function(a,l){return{left:a.left,top:a.top-l,right:a.right,bottom:a.bottom-l}},$b=function(a,l,m){return{left:a.left+l,top:a.top+m,right:a.right+l,bottom:a.bottom+m}},Yp=function(a){return a.top},Qw=function(a){return a.bottom},Xb=function(a,l,m){return m>=0&&m<cf(l)?a.getRangedRect(l,m,l,m+1):m>0?a.getRangedRect(l,m-1,l,m):Y.none()},Wv=function(a){return{left:a.left,top:a.top,right:a.right,bottom:a.bottom}},tx=function(a,l){return Y.some(a.getRect(l))},Gb=function(a,l,m){return Hc(l)?tx(a,l).map(Wv):Bo(l)?Xb(a,l,m).map(Wv):Y.none()},nx=function(a,l){return Hc(l)?tx(a,l).map(Wv):Bo(l)?a.getRangedRect(l,0,l,cf(l)).map(Wv):Y.none()},Rl=5,qk=100,Rf=Cl.generate([{none:[]},{retry:["caret"]}]),Wk=function(a,l){return a.left<l.left||Math.abs(l.right-a.left)<1||a.left>l.right},ex=function(a,l,m){return ym(l,rb).fold(Jt,function(h){return nx(a,h).exists(function(x){return Wk(m,x)})})},$p=function(a,l,m,h,x){var k=Zd(x,Rl);return Math.abs(m.bottom-h.bottom)<1||m.top>x.bottom?Rf.retry(k):m.top===x.bottom?Rf.retry(Zd(x,1)):ex(a,l,x)?Rf.retry($b(k,Rl,0)):Rf.none()},Kb=function(a,l,m,h,x){var k=Wp(x,Rl);return Math.abs(m.top-h.top)<1||m.bottom<x.top?Rf.retry(k):m.bottom===x.top?Rf.retry(Wp(x,1)):ex(a,l,x)?Rf.retry($b(k,Rl,0)):Rf.none()},Yv={point:Yp,adjuster:Kb,move:Wp,gather:qb},rx={point:Qw,adjuster:$p,move:Zd,gather:Xw},Xp=function(a,l,m){return a.elementFromPoint(l,m).filter(function(h){return Ue(h)==="table"}).isSome()},Yk=function(a,l,m,h,x){return Jb(a,l,m,l.move(h,Rl),x)},Jb=function(a,l,m,h,x){return x===0?Y.some(h):Xp(a,h.left,l.point(h))?Yk(a,l,m,h,x-1):a.situsFromPoint(h.left,l.point(h)).bind(function(k){return k.start.fold(Y.none,function(D){return nx(a,D).bind(function(j){return l.adjuster(a,D,j,m,h).fold(Y.none,function(V){return Jb(a,l,m,V,x-1)})}).orThunk(function(){return Y.some(h)})},Y.none)})},$k=function(a,l){return a.situsFromPoint(l.left,l.bottom+Rl)},Xk=function(a,l){return a.situsFromPoint(l.left,l.top-Rl)},Gk=function(a,l,m){return a.point(l)>m.getInnerHeight()?Y.some(a.point(l)-m.getInnerHeight()):a.point(l)<0?Y.some(-a.point(l)):Y.none()},ox=function(a,l,m){var h=a.move(m,Rl),x=Jb(l,a,m,h,qk).getOr(h);return Gk(a,x,l).fold(function(){return l.situsFromPoint(x.left,a.point(x))},function(k){return l.scrollBy(0,k),l.situsFromPoint(x.left,a.point(x)-k)})},vg={tryUp:Xt(ox,Yv),tryDown:Xt(ox,rx),ieTryUp:Xk,ieTryDown:$k,getJumpSize:nn(Rl)},ix=20,$v=function(a,l,m){return a.getSelection().bind(function(h){return Zw(l,h.finish,h.foffset,m).fold(function(){return Y.some($m(h.finish,h.foffset))},function(x){var k=a.fromSitus(x),D=hg.verify(a,h.finish,h.foffset,k.finish,k.foffset,m.failure,l);return jk(D)})})},Xv=function(a,l,m,h,x,k){return k===0?Y.none():Kk(a,l,m,h,x).bind(function(D){var j=a.fromSitus(D),V=hg.verify(a,m,h,j.finish,j.foffset,x.failure,l);return hg.cata(V,function(){return Y.none()},function(){return Y.some(D)},function(ct){return Pn(m,ct)&&h===0?ux(a,m,h,Wp,x):Xv(a,l,ct,0,x,k-1)},function(ct){return Pn(m,ct)&&h===cf(ct)?ux(a,m,h,Zd,x):Xv(a,l,ct,cf(ct),x,k-1)})})},ux=function(a,l,m,h,x){return Gb(a,l,m).bind(function(k){return ax(a,x,h(k,vg.getJumpSize()))})},ax=function(a,l,m){var h=Ui().browser;return h.isChrome()||h.isSafari()||h.isFirefox()||h.isEdge()?l.otherRetry(a,m):h.isIE()?l.ieRetry(a,m):Y.none()},Kk=function(a,l,m,h,x){return Gb(a,m,h).bind(function(k){return ax(a,x,k)})},Qd=function(a,l,m){return $v(a,l,m).bind(function(h){return Xv(a,l,h.element,h.offset,m,ix).map(a.fromSitus)})},Jk=function(a,l){return Hv(a,function(m){return Ou(m).exists(function(h){return Pn(h,l)})})},cx=function(a,l,m,h,x){return fo(h,"td,th",l).bind(function(k){return fo(k,"table",l).bind(function(D){return Jk(x,D)?Qd(a,l,m).bind(function(j){return fo(j.finish,"td,th",l).map(function(V){return{start:k,finish:V,range:j}})}):Y.none()})})},Gv=function(a,l,m,h,x,k){return Ui().browser.isIE()?Y.none():k(h,l).orThunk(function(){return cx(a,l,m,h,x).map(function(D){var j=D.range;return pg.create(Y.some(Xd(j.start,j.soffset,j.finish,j.foffset)),!0)})})},Zk=function(a,l){return fo(a,"tr",l).bind(function(m){return fo(m,"table",l).bind(function(h){var x=Mo(h,"tr");return Pn(m,x[0])?Gw(h,function(k){return np(k).isSome()},l).map(function(k){var D=cf(k);return pg.create(Y.some(Xd(k,D,k,D)),!0)}):Y.none()})})},sx=function(a,l){return fo(a,"tr",l).bind(function(m){return fo(m,"table",l).bind(function(h){var x=Mo(h,"tr");return Pn(m,x[x.length-1])?Kw(h,function(k){return Mm(k).isSome()},l).map(function(k){return pg.create(Y.some(Xd(k,0,k,0)),!0)}):Y.none()})})},Zb=function(a,l,m,h,x,k,D){return cx(a,m,h,x,k).bind(function(j){return Vp(l,m,j.start,j.finish,D)})},lx=function(){var a=ha(Y.none()),l=function(){return a.set(Y.none())},m=function(k){return a.set(Y.some(k))},h=function(){return a.get().isSome()},x=function(k){return a.get().each(k)};return{clear:l,set:m,isSet:h,on:x}},Qb=function(a,l){return fo(a,"td,th",l)},Qk=function(a,l,m,h){var x=lx(),k=x.clear,D=function(kt){x.on(function(Dn){h.clearBeforeUpdate(l),Qb(kt.target,m).each(function(En){Is(Dn,En,m).each(function(_n){var Gt=_n.boxes.getOr([]);(Gt.length>1||Gt.length===1&&!Pn(Dn,En))&&(h.selectRange(l,Gt,_n.start,_n.finish),a.selectContents(En))})})})},j=function(kt){h.clear(l),Qb(kt.target,m).each(x.set)},V=function(kt){D(kt)},ct=function(kt){D(kt),k()};return{clearstate:k,mousedown:j,mouseover:V,mouseup:ct}},fx={traverse:ls,gather:Xw,relative:Hu.before,otherRetry:vg.tryDown,ieRetry:vg.ieTryDown,failure:hg.failedDown},dx={traverse:bi,gather:qb,relative:Hu.before,otherRetry:vg.tryUp,ieRetry:vg.ieTryUp,failure:hg.failedUp},Pf=function(a){return function(l){return l===a}},ty=Pf(38),tm=Pf(40),ny=function(a){return a>=37&&a<=40},vr={isBackward:Pf(37),isForward:Pf(39)},es={isBackward:Pf(39),isForward:Pf(37)},ey=function(a){var l=a!==void 0?a.dom:document,m=l.body.scrollLeft||l.documentElement.scrollLeft,h=l.body.scrollTop||l.documentElement.scrollTop;return Ka(m,h)},ry=function(a,l,m){var h=m!==void 0?m.dom:document,x=h.defaultView;x&&x.scrollBy(a,l)},oy=function(a){var l=function(un,Bn){return at.fromPoint(at.fromDom(a.document),un,Bn)},m=function(un){return un.dom.getBoundingClientRect()},h=function(un,Bn,or,no){var Dr=Zs.exact(un,Bn,or,no);return Hw(a,Dr)},x=function(){return Mb(a).map(function(un){return Lv(a,un)})},k=function(un){var Bn=Zs.relative(un.start,un.finish);return Lv(a,Bn)},D=function(un,Bn){return _k(a,un,Bn).map(function(or){return Hp.create(or.start,or.soffset,or.finish,or.foffset)})},j=function(){Fk(a)},V=function(un){un===void 0&&(un=!1),Mb(a).each(function(Bn){return Bn.fold(function(or){return or.collapse(un)},function(or,no){var Dr=un?or:no;Rp(a,Dr,Dr)},function(or,no,Dr,so){var No=un?or:Dr,Qo=un?no:so;oo(a,No,Qo,No,Qo)})})},ct=function(un){Pv(a,un)},kt=function(un){oo(a,un.start,un.soffset,un.finish,un.foffset)},Dn=function(un,Bn){Rp(a,un,Bn)},En=function(){return a.innerHeight},_n=function(){var un=ey(at.fromDom(a.document));return un.top},Gt=function(un,Bn){ry(un,Bn,at.fromDom(a.document))};return{elementFromPoint:l,getRect:m,getRangedRect:h,getSelection:x,fromSitus:k,situsFromPoint:D,clearSelection:j,collapseSelection:V,setSelection:kt,setRelativeSelection:Dn,selectContents:ct,getInnerHeight:En,getScrollY:_n,scrollBy:Gt}},nm=function(a,l){return{rows:a,cols:l}},Kv=function(a,l,m,h){var x=oy(a),k=Qk(x,l,m,h);return{clearstate:k.clearstate,mousedown:k.mousedown,mouseover:k.mouseover,mouseup:k.mouseup}},mx=function(a,l,m,h){var x=oy(a),k=function(){return h.clear(l),Y.none()},D=function(V,ct,kt,Dn,En,_n){var Gt=V.raw,un=Gt.which,Bn=Gt.shiftKey===!0,or=ra(l,h.selectedSelector).fold(function(){return tm(un)&&Bn?Xt(Zb,x,l,m,fx,Dn,ct,h.selectRange):ty(un)&&Bn?Xt(Zb,x,l,m,dx,Dn,ct,h.selectRange):tm(un)?Xt(Gv,x,m,fx,Dn,ct,sx):ty(un)?Xt(Gv,x,m,dx,Dn,ct,Zk):Y.none},function(no){var Dr=function(so){return function(){var No=ar(so,function(Qo){return Lb(Qo.rows,Qo.cols,l,no,h)});return No.fold(function(){return xc(l,h.firstSelectedSelector,h.lastSelectedSelector).map(function(Qo){var Lf=tm(un)||_n.isForward(un)?Hu.after:Hu.before;return x.setRelativeSelection(Hu.on(Qo.first,0),Lf(Qo.table)),h.clear(l),pg.create(Y.none(),!0)})},function(Qo){return Y.some(pg.create(Y.none(),!0))})}};return tm(un)&&Bn?Dr([nm(1,0)]):ty(un)&&Bn?Dr([nm(-1,0)]):_n.isBackward(un)&&Bn?Dr([nm(0,-1),nm(-1,0)]):_n.isForward(un)&&Bn?Dr([nm(0,1),nm(1,0)]):ny(un)&&Bn===!1?k:Y.none});return or()},j=function(V,ct,kt,Dn,En){return ra(l,h.selectedSelector).fold(function(){var _n=V.raw,Gt=_n.which,un=_n.shiftKey===!0;return un===!1?Y.none():ny(Gt)?Uw(l,m,ct,kt,Dn,En,h.selectRange):Y.none()},Y.none)};return{keydown:D,keyup:j}},t4=function(a,l,m,h){var x=oy(a);return function(k,D){h.clearBeforeUpdate(l),Is(k,D,m).each(function(j){var V=j.boxes.getOr([]);h.selectRange(l,V,j.start,j.finish),x.selectContents(D),x.collapseSelection()})}},iy=function(a,l){he(l,function(m){Gu(a,m)})},Mr=function(a){return function(l){Gc(l,a)}},n4=function(a){return function(l){iy(l,a)}},Yr=function(a){var l=Mr(a.selected),m=n4([a.selected,a.lastSelected,a.firstSelected]),h=function(k){var D=Mo(k,a.selectedSelector);he(D,m)},x=function(k,D,j,V){h(k),he(D,l),Gc(j,a.firstSelected),Gc(V,a.lastSelected)};return{clearBeforeUpdate:h,clear:h,selectRange:x,selectedSelector:a.selectedSelector,firstSelectedSelector:a.firstSelectedSelector,lastSelectedSelector:a.lastSelectedSelector}},Gp=function(a,l,m){var h=function(V){re(V,a.selected),re(V,a.firstSelected),re(V,a.lastSelected)},x=function(V){Mi(V,a.selected,"1")},k=function(V){D(V),m()},D=function(V){var ct=Mo(V,a.selectedSelector);he(ct,h)},j=function(V,ct,kt,Dn){k(V),he(ct,x),Mi(kt,a.firstSelected,"1"),Mi(Dn,a.lastSelected,"1"),l(ct,kt,Dn)};return{clearBeforeUpdate:D,clear:k,selectRange:j,selectedSelector:a.selectedSelector,firstSelectedSelector:a.firstSelectedSelector,lastSelectedSelector:a.lastSelectedSelector}},e4={byClass:Yr,byAttr:Gp},gx=function(a,l,m){var h=a.slice(0,l[l.length-1].row+1),x=vp(h,m);return qt(x,function(k){var D=k.cells.slice(0,l[l.length-1].column+1);return bn(D,function(j){return j.element})})},r4=function(a,l,m){var h=a.slice(l[0].row+l[0].rowspan-1,a.length),x=vp(h,m);return qt(x,function(k){var D=k.cells.slice(l[0].column+l[0].colspan-1,k.cells.length);return bn(D,function(j){return j.element})})},o4=function(a,l,m){var h=U.fromTable(a),x=xf(h,l);return x.map(function(k){var D=_d(h,m,!1),j=gx(D,k,m),V=r4(D,k,m);return{upOrLeftCells:j,downOrRightCells:V}})},uy=function(a){return js(at.fromDom(a.target),"ephox-snooker-resizer-bar")===!1};function i4(a,l,m){var h=function(D,j,V){m.targets().each(function(ct){var kt=ai(j);kt.each(function(Dn){var En=Es(a),_n=lf(ft,at.fromDom(a.getDoc()),En),Gt=o4(Dn,ct,_n);TS(a,D,j,V,Gt)})})},x=function(){return Ma(a)},k=e4.byAttr(di,h,x);return a.on("init",function(D){var j=a.getWin(),V=ys(a),ct=Rm(a),kt=function(){var vo=a.selection,Cu=at.fromDom(vo.getStart()),Su=at.fromDom(vo.getEnd()),ac=Ls(ai,[Cu,Su]);ac.fold(function(){return k.clear(V)},ft)},Dn=Kv(j,V,ct,k),En=mx(j,V,ct,k),_n=t4(j,V,ct,k),Gt=function(vo){return vo.raw.shiftKey===!0};a.on("TableSelectorChange",function(vo){return _n(vo.start,vo.finish)});var un=function(vo,Cu){!Gt(vo)||(Cu.kill&&vo.kill(),Cu.selection.each(function(Su){var ac=Zs.relative(Su.start,Su.finish),ti=Mp(j,ac);a.selection.setRng(ti)}))},Bn=function(vo){var Cu=Ol(vo);if(Cu.raw.shiftKey&&ny(Cu.raw.which)){var Su=a.selection.getRng(),ac=at.fromDom(Su.startContainer),ti=at.fromDom(Su.endContainer);En.keyup(Cu,ac,Su.startOffset,ti,Su.endOffset).each(function(mu){un(Cu,mu)})}},or=function(vo){var Cu=Ol(vo);l().each(function(gu){return gu.hideBars()});var Su=a.selection.getRng(),ac=at.fromDom(Su.startContainer),ti=at.fromDom(Su.endContainer),mu=r2(vr,es)(at.fromDom(a.selection.getStart()));En.keydown(Cu,ac,Su.startOffset,ti,Su.endOffset,mu).each(function(gu){un(Cu,gu)}),l().each(function(gu){return gu.showBars()})},no=function(vo){return vo.button===0},Dr=function(vo){return vo.buttons===void 0||Nc.browser.isEdge()&&vo.buttons===0?!0:(vo.buttons&1)!==0},so=function(vo){Dn.clearstate()},No=function(vo){no(vo)&&uy(vo)&&Dn.mousedown(Ol(vo))},Qo=function(vo){Dr(vo)&&uy(vo)&&Dn.mouseover(Ol(vo))},Lf=function(vo){no(vo)&&uy(vo)&&Dn.mouseup(Ol(vo))},bg=function(){var vo=ha(at.fromDom(V)),Cu=ha(0),Su=function(ac){var ti=at.fromDom(ac.target);if(Ue(ti)==="td"||Ue(ti)==="th"){var mu=vo.get(),gu=Cu.get();Pn(mu,ti)&&ac.timeStamp-gu<300&&(ac.preventDefault(),_n(ti,ti))}vo.set(ti),Cu.set(ac.timeStamp)};return{touchEnd:Su}},Pl=bg();a.on("dragstart",so),a.on("mousedown",No),a.on("mouseover",Qo),a.on("mouseup",Lf),a.on("touchend",Pl.touchEnd),a.on("keyup",Bn),a.on("keydown",or),a.on("NodeChange",kt)}),{clear:k.clear}}var u4=function(a,l){var m=ha(Y.none()),h=ha([]),x=Y.none(),k=dc("caption"),D=function(Dr){return x.forall(function(so){return!so[Dr]})},j=function(){return Xs(pi(a)).bind(function(Dr){var so=ai(Dr);return so.map(function(No){return k(Dr)?m1(Dr):Lm(l,No,Dr)})})},V=function(Dr){var so=ai(Dr.element);return so.map(function(No){var Qo=U.fromTable(No),Lf=xf(Qo,Dr).getOr([]),bg=Tn(Lf,function(Pl,vo){return vo.isLocked&&(Pl.onAny=!0,vo.column===0?Pl.onFirst=!0:vo.column+vo.colspan>=Qo.grid.columns&&(Pl.onLast=!0)),Pl},{onAny:!1,onFirst:!1,onLast:!1});return{mergeable:Cf(Qo,Dr).isSome(),unmergeable:$2(Qo,Dr).isSome(),locked:bg}})},ct=function(){m.set(Lr(j)()),x=m.get().bind(V),he(h.get(),function(Dr){return Dr()})},kt=function(Dr,so){var No=function(){return m.get().fold(function(){Dr.setDisabled(!0)},function(Qo){Dr.setDisabled(so(Qo))})};return No(),h.set(h.get().concat([No])),function(){h.set(Ft(h.get(),function(Qo){return Qo!==No}))}},Dn=function(Dr){return x.exists(function(so){return so.locked[Dr]})},En=function(Dr){return kt(Dr,function(so){return!1})},_n=function(Dr){return kt(Dr,function(so){return k(so.element)})},Gt=function(Dr){return function(so){return kt(so,function(No){return k(No.element)||Dn(Dr)})}},un=function(Dr){return function(so){return kt(so,function(No){return k(No.element)||Dr().isNone()})}},Bn=function(Dr,so){return function(No){return kt(No,function(Qo){return k(Qo.element)||Dr().isNone()||Dn(so)})}},or=function(Dr){return kt(Dr,function(so){return D("mergeable")})},no=function(Dr){return kt(Dr,function(so){return D("unmergeable")})};return a.on("NodeChange ExecCommand TableSelectorChange",ct),{onSetupTable:En,onSetupCellOrRow:_n,onSetupColumn:Gt,onSetupPasteable:un,onSetupPasteableColumn:Bn,onSetupMergeable:or,onSetupUnmergeable:no,resetTargets:ct,targets:function(){return m.get()}}},Fr=function(a,l,m){a.ui.registry.addMenuButton("table",{tooltip:"Table",icon:"table",fetch:function(x){return x("inserttable | cell row column | advtablesort | tableprops deletetable")}});var h=function(x){return function(){return a.execCommand(x)}};a.ui.registry.addButton("tableprops",{tooltip:"Table properties",onAction:h("mceTableProps"),icon:"table",onSetup:l.onSetupTable}),a.ui.registry.addButton("tabledelete",{tooltip:"Delete table",onAction:h("mceTableDelete"),icon:"table-delete-table",onSetup:l.onSetupTable}),a.ui.registry.addButton("tablecellprops",{tooltip:"Cell properties",onAction:h("mceTableCellProps"),icon:"table-cell-properties",onSetup:l.onSetupCellOrRow}),a.ui.registry.addButton("tablemergecells",{tooltip:"Merge cells",onAction:h("mceTableMergeCells"),icon:"table-merge-cells",onSetup:l.onSetupMergeable}),a.ui.registry.addButton("tablesplitcells",{tooltip:"Split cell",onAction:h("mceTableSplitCells"),icon:"table-split-cells",onSetup:l.onSetupUnmergeable}),a.ui.registry.addButton("tableinsertrowbefore",{tooltip:"Insert row before",onAction:h("mceTableInsertRowBefore"),icon:"table-insert-row-above",onSetup:l.onSetupCellOrRow}),a.ui.registry.addButton("tableinsertrowafter",{tooltip:"Insert row after",onAction:h("mceTableInsertRowAfter"),icon:"table-insert-row-after",onSetup:l.onSetupCellOrRow}),a.ui.registry.addButton("tabledeleterow",{tooltip:"Delete row",onAction:h("mceTableDeleteRow"),icon:"table-delete-row",onSetup:l.onSetupCellOrRow}),a.ui.registry.addButton("tablerowprops",{tooltip:"Row properties",onAction:h("mceTableRowProps"),icon:"table-row-properties",onSetup:l.onSetupCellOrRow}),a.ui.registry.addButton("tableinsertcolbefore",{tooltip:"Insert column before",onAction:h("mceTableInsertColBefore"),icon:"table-insert-column-before",onSetup:l.onSetupColumn("onFirst")}),a.ui.registry.addButton("tableinsertcolafter",{tooltip:"Insert column after",onAction:h("mceTableInsertColAfter"),icon:"table-insert-column-after",onSetup:l.onSetupColumn("onLast")}),a.ui.registry.addButton("tabledeletecol",{tooltip:"Delete column",onAction:h("mceTableDeleteCol"),icon:"table-delete-column",onSetup:l.onSetupColumn("onAny")}),a.ui.registry.addButton("tablecutrow",{tooltip:"Cut row",icon:"cut-row",onAction:h("mceTableCutRow"),onSetup:l.onSetupCellOrRow}),a.ui.registry.addButton("tablecopyrow",{tooltip:"Copy row",icon:"duplicate-row",onAction:h("mceTableCopyRow"),onSetup:l.onSetupCellOrRow}),a.ui.registry.addButton("tablepasterowbefore",{tooltip:"Paste row before",icon:"paste-row-before",onAction:h("mceTablePasteRowBefore"),onSetup:l.onSetupPasteable(m.getRows)}),a.ui.registry.addButton("tablepasterowafter",{tooltip:"Paste row after",icon:"paste-row-after",onAction:h("mceTablePasteRowAfter"),onSetup:l.onSetupPasteable(m.getRows)}),a.ui.registry.addButton("tablecutcol",{tooltip:"Cut column",icon:"cut-column",onAction:h("mceTableCutCol"),onSetup:l.onSetupColumn("onAny")}),a.ui.registry.addButton("tablecopycol",{tooltip:"Copy column",icon:"duplicate-column",onAction:h("mceTableCopyCol"),onSetup:l.onSetupColumn("onAny")}),a.ui.registry.addButton("tablepastecolbefore",{tooltip:"Paste column before",icon:"paste-column-before",onAction:h("mceTablePasteColBefore"),onSetup:l.onSetupPasteableColumn(m.getColumns,"onFirst")}),a.ui.registry.addButton("tablepastecolafter",{tooltip:"Paste column after",icon:"paste-column-after",onAction:h("mceTablePasteColAfter"),onSetup:l.onSetupPasteableColumn(m.getColumns,"onLast")}),a.ui.registry.addButton("tableinsertdialog",{tooltip:"Insert table",onAction:h("mceInsertTable"),icon:"table"})},px=function(a){var l=function(h){return a.dom.is(h,"table")&&a.getBody().contains(h)},m=q1(a);m.length>0&&a.ui.registry.addContextToolbar("table",{predicate:l,items:m,scope:"node",position:"node"})},ay=function(a,l,m){var h=function(kt){return function(){return a.execCommand(kt)}},x=function(kt){a.execCommand("mceInsertTable",!1,{rows:kt.numRows,columns:kt.numColumns})},k={text:"Table properties",onSetup:l.onSetupTable,onAction:h("mceTableProps")},D={text:"Delete table",icon:"table-delete-table",onSetup:l.onSetupTable,onAction:h("mceTableDelete")};a.ui.registry.addMenuItem("tableinsertrowbefore",{text:"Insert row before",icon:"table-insert-row-above",onAction:h("mceTableInsertRowBefore"),onSetup:l.onSetupCellOrRow}),a.ui.registry.addMenuItem("tableinsertrowafter",{text:"Insert row after",icon:"table-insert-row-after",onAction:h("mceTableInsertRowAfter"),onSetup:l.onSetupCellOrRow}),a.ui.registry.addMenuItem("tabledeleterow",{text:"Delete row",icon:"table-delete-row",onAction:h("mceTableDeleteRow"),onSetup:l.onSetupCellOrRow}),a.ui.registry.addMenuItem("tablerowprops",{text:"Row properties",icon:"table-row-properties",onAction:h("mceTableRowProps"),onSetup:l.onSetupCellOrRow}),a.ui.registry.addMenuItem("tablecutrow",{text:"Cut row",icon:"cut-row",onAction:h("mceTableCutRow"),onSetup:l.onSetupCellOrRow}),a.ui.registry.addMenuItem("tablecopyrow",{text:"Copy row",icon:"duplicate-row",onAction:h("mceTableCopyRow"),onSetup:l.onSetupCellOrRow}),a.ui.registry.addMenuItem("tablepasterowbefore",{text:"Paste row before",icon:"paste-row-before",onAction:h("mceTablePasteRowBefore"),onSetup:l.onSetupPasteable(m.getRows)}),a.ui.registry.addMenuItem("tablepasterowafter",{text:"Paste row after",icon:"paste-row-after",onAction:h("mceTablePasteRowAfter"),onSetup:l.onSetupPasteable(m.getRows)});var j={type:"nestedmenuitem",text:"Row",getSubmenuItems:function(){return"tableinsertrowbefore tableinsertrowafter tabledeleterow tablerowprops | tablecutrow tablecopyrow tablepasterowbefore tablepasterowafter"}};a.ui.registry.addMenuItem("tableinsertcolumnbefore",{text:"Insert column before",icon:"table-insert-column-before",onAction:h("mceTableInsertColBefore"),onSetup:l.onSetupColumn("onFirst")}),a.ui.registry.addMenuItem("tableinsertcolumnafter",{text:"Insert column after",icon:"table-insert-column-after",onAction:h("mceTableInsertColAfter"),onSetup:l.onSetupColumn("onLast")}),a.ui.registry.addMenuItem("tabledeletecolumn",{text:"Delete column",icon:"table-delete-column",onAction:h("mceTableDeleteCol"),onSetup:l.onSetupColumn("onAny")}),a.ui.registry.addMenuItem("tablecutcolumn",{text:"Cut column",icon:"cut-column",onAction:h("mceTableCutCol"),onSetup:l.onSetupColumn("onAny")}),a.ui.registry.addMenuItem("tablecopycolumn",{text:"Copy column",icon:"duplicate-column",onAction:h("mceTableCopyCol"),onSetup:l.onSetupColumn("onAny")}),a.ui.registry.addMenuItem("tablepastecolumnbefore",{text:"Paste column before",icon:"paste-column-before",onAction:h("mceTablePasteColBefore"),onSetup:l.onSetupPasteableColumn(m.getColumns,"onFirst")}),a.ui.registry.addMenuItem("tablepastecolumnafter",{text:"Paste column after",icon:"paste-column-after",onAction:h("mceTablePasteColAfter"),onSetup:l.onSetupPasteableColumn(m.getColumns,"onLast")});var V={type:"nestedmenuitem",text:"Column",getSubmenuItems:function(){return"tableinsertcolumnbefore tableinsertcolumnafter tabledeletecolumn | tablecutcolumn tablecopycolumn tablepastecolumnbefore tablepastecolumnafter"}};a.ui.registry.addMenuItem("tablecellprops",{text:"Cell properties",icon:"table-cell-properties",onAction:h("mceTableCellProps"),onSetup:l.onSetupCellOrRow}),a.ui.registry.addMenuItem("tablemergecells",{text:"Merge cells",icon:"table-merge-cells",onAction:h("mceTableMergeCells"),onSetup:l.onSetupMergeable}),a.ui.registry.addMenuItem("tablesplitcells",{text:"Split cell",icon:"table-split-cells",onAction:h("mceTableSplitCells"),onSetup:l.onSetupUnmergeable});var ct={type:"nestedmenuitem",text:"Cell",getSubmenuItems:function(){return"tablecellprops tablemergecells tablesplitcells"}};Kc(a)===!1?a.ui.registry.addMenuItem("inserttable",{text:"Table",icon:"table",onAction:h("mceInsertTable")}):a.ui.registry.addNestedMenuItem("inserttable",{text:"Table",icon:"table",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"inserttable",onAction:x}]}}),a.ui.registry.addMenuItem("inserttabledialog",{text:"Insert table",icon:"table",onAction:h("mceInsertTable")}),a.ui.registry.addMenuItem("tableprops",k),a.ui.registry.addMenuItem("deletetable",D),a.ui.registry.addNestedMenuItem("row",j),a.ui.registry.addNestedMenuItem("column",V),a.ui.registry.addNestedMenuItem("cell",ct),a.ui.registry.addContextMenu("table",{update:function(){return l.resetTargets(),l.targets().fold(function(){return""},function(kt){return Ue(kt.element)==="caption"?"tableprops deletetable":"cell row column | advtablesort | tableprops deletetable"})}})},em=function(a){var l=Fh(function(){return ys(a)},function(){return Xs(pi(a))},di.selectedSelector),m=u4(a,l),h=_S(a),x=i4(a,h.lazyResize,m),k=ck(a,h.lazyWire,l),D=_w();return Dv(a,k,x,l,D),Cb(a,k,l),vd(a,l,k,x),ay(a,m,D),Fr(a,m,D),px(a),a.on("PreInit",function(){a.serializer.addTempAttr(di.firstSelected),a.serializer.addTempAttr(di.lastSelected),_v(a)}),z2(a)&&a.on("keydown",function(j){Rb(j,a,k)}),a.on("remove",function(){h.destroy()}),Gs(a,D,h,m)};function cy(){n2.add("table",em)}cy()})();(function(){var ft=tinymce.util.Tools.resolve("tinymce.PluginManager"),jn=function(){},on=function(nt){return function(){return nt}};function nn(nt){for(var Et=[],yt=1;yt<arguments.length;yt++)Et[yt-1]=arguments[yt];return function(){for(var Nn=[],be=0;be<arguments.length;be++)Nn[be]=arguments[be];var An=Et.concat(Nn);return nt.apply(null,An)}}var st=on(!1),Xt=on(!0),Kn=tinymce.util.Tools.resolve("tinymce.util.Tools"),qn=tinymce.util.Tools.resolve("tinymce.util.XHR"),Jt=function(nt){return nt.getParam("template_cdate_classes","cdate")},yn=function(nt){return nt.getParam("template_mdate_classes","mdate")},Zt=function(nt){return nt.getParam("template_selected_content_classes","selcontent")},Kt=function(nt){return nt.getParam("template_preview_replace_values")},tt=function(nt){return nt.getParam("content_style","","string")},ln=function(nt){return nt.getParam("content_css_cors",!1,"boolean")},Y=function(nt){return nt.getParam("template_replace_values")},jt=function(nt){return nt.getParam("templates")},le=function(nt){return nt.getParam("template_cdate_format",nt.translate("%Y-%m-%d"))},Qt=function(nt){return nt.getParam("template_mdate_format",nt.translate("%Y-%m-%d"))},Le=function(nt){var Et=nt.getParam("body_class","","hash");return Et[nt.id]||""},S=function(nt){var Et=nt.getParam("body_class","","string");return Et.indexOf("=")===-1?Et:Le(nt)},ce=function(nt,Et){if(nt=""+nt,nt.length<Et)for(var yt=0;yt<Et-nt.length;yt++)nt="0"+nt;return nt},Ne=function(nt,Et,yt){var Nn="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),be="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),An="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),ar="January February March April May June July August September October November December".split(" ");return yt=yt||new Date,Et=Et.replace("%D","%m/%d/%Y"),Et=Et.replace("%r","%I:%M:%S %p"),Et=Et.replace("%Y",""+yt.getFullYear()),Et=Et.replace("%y",""+yt.getYear()),Et=Et.replace("%m",ce(yt.getMonth()+1,2)),Et=Et.replace("%d",ce(yt.getDate(),2)),Et=Et.replace("%H",""+ce(yt.getHours(),2)),Et=Et.replace("%M",""+ce(yt.getMinutes(),2)),Et=Et.replace("%S",""+ce(yt.getSeconds(),2)),Et=Et.replace("%I",""+((yt.getHours()+11)%12+1)),Et=Et.replace("%p",yt.getHours()<12?"AM":"PM"),Et=Et.replace("%B",""+nt.translate(ar[yt.getMonth()])),Et=Et.replace("%b",""+nt.translate(An[yt.getMonth()])),Et=Et.replace("%A",""+nt.translate(be[yt.getDay()])),Et=Et.replace("%a",""+nt.translate(Nn[yt.getDay()])),Et=Et.replace("%%","%"),Et},ve=function(nt,Et){return function(){var yt=jt(nt);if(typeof yt=="function"){yt(Et);return}typeof yt=="string"?qn.send({url:yt,success:function(Nn){Et(JSON.parse(Nn))}}):Et(yt)}},ue=function(nt,Et){return Kn.each(Et,function(yt,Nn){typeof yt=="function"&&(yt=yt(Nn)),nt=nt.replace(new RegExp("\\{\\$"+Nn+"\\}","g"),yt)}),nt},Ie=function(nt,Et){var yt=nt.dom,Nn=Y(nt);Kn.each(yt.select("*",Et),function(be){Kn.each(Nn,function(An,ar){yt.hasClass(be,ar)&&typeof Nn[ar]=="function"&&Nn[ar](be)})})},wr=function(nt,Et){return new RegExp("\\b"+Et+"\\b","g").test(nt.className)},sr=function(nt,Et,yt){var Nn,be=nt.dom,An=nt.selection.getContent();yt=ue(yt,Y(nt)),Nn=be.create("div",null,yt);var ar=be.select(".mceTmpl",Nn);ar&&ar.length>0&&(Nn=be.create("div",null),Nn.appendChild(ar[0].cloneNode(!0))),Kn.each(be.select("*",Nn),function(ze){wr(ze,Jt(nt).replace(/\s+/g,"|"))&&(ze.innerHTML=Ne(nt,le(nt))),wr(ze,yn(nt).replace(/\s+/g,"|"))&&(ze.innerHTML=Ne(nt,Qt(nt))),wr(ze,Zt(nt).replace(/\s+/g,"|"))&&(ze.innerHTML=An)}),Ie(nt,Nn),nt.execCommand("mceInsertContent",!1,Nn.innerHTML),nt.addVisual()},Pt=function(nt){nt.addCommand("mceInsertTemplate",nn(sr,nt))},I=function(nt){nt.on("PreProcess",function(Et){var yt=nt.dom,Nn=Qt(nt);Kn.each(yt.select("div",Et.node),function(be){yt.hasClass(be,"mceTmpl")&&(Kn.each(yt.select("*",be),function(An){yt.hasClass(An,yn(nt).replace(/\s+/g,"|"))&&(An.innerHTML=Ne(nt,Nn))}),Ie(nt,be))})})},ne=function(){return Hn},Hn=function(){var nt=function(be){return be.isNone()},Et=function(be){return be()},yt=function(be){return be},Nn={fold:function(be,An){return be()},is:st,isSome:st,isNone:Xt,getOr:yt,getOrThunk:Et,getOrDie:function(be){throw new Error(be||"error: getOrDie called on none.")},getOrNull:on(null),getOrUndefined:on(void 0),or:yt,orThunk:Et,map:ne,each:jn,bind:ne,exists:st,forall:Xt,filter:ne,equals:nt,equals_:nt,toArray:function(){return[]},toString:on("none()")};return Nn}(),He=function(nt){var Et=on(nt),yt=function(){return be},Nn=function(An){return An(nt)},be={fold:function(An,ar){return ar(nt)},is:function(An){return nt===An},isSome:Xt,isNone:st,getOr:Et,getOrThunk:Et,getOrDie:Et,getOrNull:Et,getOrUndefined:Et,or:yt,orThunk:yt,map:function(An){return He(An(nt))},each:function(An){An(nt)},bind:Nn,exists:Nn,forall:Nn,filter:function(An){return An(nt)?be:Hn},toArray:function(){return[nt]},toString:function(){return"some("+nt+")"},equals:function(An){return An.is(nt)},equals_:function(An,ar){return An.fold(st,function(ze){return ar(nt,ze)})}};return be},Ve=function(nt){return nt==null?Hn:He(nt)},$e={some:He,none:ne,from:Ve},kn=function(nt,Et){for(var yt=nt.length,Nn=new Array(yt),be=0;be<yt;be++){var An=nt[be];Nn[be]=Et(An,be)}return Nn},bn=function(nt,Et,yt){for(var Nn=0,be=nt.length;Nn<be;Nn++){var An=nt[Nn];if(Et(An,Nn))return $e.some(An);if(yt(An,Nn))break}return $e.none()},he=function(nt,Et){return bn(nt,Et,st)},Kr=tinymce.util.Tools.resolve("tinymce.Env"),br=tinymce.util.Tools.resolve("tinymce.util.Promise"),Ft=Object.hasOwnProperty,cn=function(nt,Et){return Tn(nt,Et)?$e.from(nt[Et]):$e.none()},Tn=function(nt,Et){return Ft.call(nt,Et)},Xn={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},wt=function(nt){return nt.replace(/["'<>&]/g,function(Et){return cn(Xn,Et).getOr(Et)})},tn=function(nt,Et){if(Et.indexOf("<html>")===-1){var yt="",Nn=tt(nt),be=ln(nt)?' crossorigin="anonymous"':"";Kn.each(nt.contentCSS,function(Vn){yt+='<link type="text/css" rel="stylesheet" href="'+nt.documentBaseURI.toAbsolute(Vn)+'"'+be+">"}),Nn&&(yt+='<style type="text/css">'+Nn+"</style>");var An=S(nt),ar=nt.dom.encode,ze=Kr.mac?"e.metaKey":"e.ctrlKey && !e.altKey",Zr='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+ze+")) {e.preventDefault();}}}, false);<\/script> ",Lr=nt.getBody().dir,yo=Lr?' dir="'+ar(Lr)+'"':"";Et='<!DOCTYPE html><html><head><base href="'+ar(nt.documentBaseURI.getURI())+'">'+yt+Zr+'</head><body class="'+ar(An)+'"'+yo+">"+Et+"</body></html>"}return ue(Et,Kt(nt))},ae=function(nt,Et){var yt=function(){if(!Et||Et.length===0){var Vn=nt.translate("No templates defined.");return nt.notificationManager.open({text:Vn,type:"info"}),$e.none()}return $e.from(Kn.map(Et,function(Cn,ee){var Zn=function(Qn){return Qn.url!==void 0};return{selected:ee===0,text:Cn.title,value:{url:Zn(Cn)?$e.from(Cn.url):$e.none(),content:Zn(Cn)?$e.none():$e.from(Cn.content),description:Cn.description}}}))},Nn=function(Vn){return kn(Vn,function(Cn){return{text:Cn.text,value:Cn.text}})},be=function(Vn,Cn){return he(Vn,function(ee){return ee.text===Cn})},An=function(Vn){nt.windowManager.alert("Could not load the specified template.",function(){return Vn.focus("template")})},ar=function(Vn){return new br(function(Cn,ee){Vn.value.url.fold(function(){return Cn(Vn.value.content.getOr(""))},function(Zn){return qn.send({url:Zn,success:function(Qn){Cn(Qn)},error:function(Qn){ee(Qn)}})})})},ze=function(Vn,Cn){return function(ee,Zn){if(Zn.name==="template"){var Qn=ee.getData().template;be(Vn,Qn).each(function(Me){ee.block("Loading..."),ar(Me).then(function(dr){Cn(ee,Me,dr)}).catch(function(){Cn(ee,Me,""),ee.disable("save"),An(ee)})})}}},Zr=function(Vn){return function(Cn){var ee=Cn.getData();be(Vn,ee.template).each(function(Zn){ar(Zn).then(function(Qn){sr(nt,!1,Qn),Cn.close()}).catch(function(){Cn.disable("save"),An(Cn)})})}},Lr=function(Vn){var Cn=Nn(Vn),ee=function(Me,dr){return{title:"Insert Template",size:"large",body:{type:"panel",items:Me},initialData:dr,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:Zr(Vn),onChange:ze(Vn,Zn)}},Zn=function(Me,dr,zn){var gn=tn(nt,zn),Ee=[{type:"selectbox",name:"template",label:"Templates",items:Cn},{type:"htmlpanel",html:'<p aria-live="polite">'+wt(dr.value.description)+"</p>"},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1}],ur={template:dr.text,preview:gn};Me.unblock(),Me.redial(ee(Ee,ur)),Me.focus("template")},Qn=nt.windowManager.open(ee([],{template:"",preview:""}));Qn.block("Loading..."),ar(Vn[0]).then(function(Me){Zn(Qn,Vn[0],Me)}).catch(function(){Zn(Qn,Vn[0],""),Qn.disable("save"),An(Qn)})},yo=yt();yo.each(Lr)},qt=function(nt){return function(Et){ae(nt,Et)}},gt=function(nt){nt.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onAction:ve(nt,qt(nt))}),nt.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onAction:ve(nt,qt(nt))})};function Wt(){ft.add("template",function(nt){gt(nt),Pt(nt),I(nt)})}Wt()})();(function(){var ft=tinymce.util.Tools.resolve("tinymce.PluginManager");function jn(){ft.add("textcolor",function(){console.warn("Text color plugin is now built in to the core editor, please remove it from your editor configuration")})}jn()})();(function(){var ft=function(P){var Z=P,xt=function(){return Z},at=function($t){Z=$t};return{get:xt,set:at}},jn=tinymce.util.Tools.resolve("tinymce.PluginManager"),on=function(){return on=Object.assign||function(P){for(var Z,xt=1,at=arguments.length;xt<at;xt++){Z=arguments[xt];for(var $t in Z)Object.prototype.hasOwnProperty.call(Z,$t)&&(P[$t]=Z[$t])}return P},on.apply(this,arguments)};function nn(){for(var P=0,Z=0,xt=arguments.length;Z<xt;Z++)P+=arguments[Z].length;for(var at=Array(P),$t=0,Z=0;Z<xt;Z++)for(var en=arguments[Z],we=0,Ze=en.length;we<Ze;we++,$t++)at[$t]=en[we];return at}var st=function(){},Xt=function(P){return function(){return P}},Kn=function(P){return P},qn=function(P){return function(){throw new Error(P)}},Jt=Xt(!1),yn=Xt(!0),Zt=function(){return Kt},Kt=function(){var P=function($t){return $t.isNone()},Z=function($t){return $t()},xt=function($t){return $t},at={fold:function($t,en){return $t()},is:Jt,isSome:Jt,isNone:yn,getOr:xt,getOrThunk:Z,getOrDie:function($t){throw new Error($t||"error: getOrDie called on none.")},getOrNull:Xt(null),getOrUndefined:Xt(void 0),or:xt,orThunk:Z,map:Zt,each:st,bind:Zt,exists:Jt,forall:yn,filter:Zt,equals:P,equals_:P,toArray:function(){return[]},toString:Xt("none()")};return at}(),tt=function(P){var Z=Xt(P),xt=function(){return $t},at=function(en){return en(P)},$t={fold:function(en,we){return we(P)},is:function(en){return P===en},isSome:yn,isNone:Jt,getOr:Z,getOrThunk:Z,getOrDie:Z,getOrNull:Z,getOrUndefined:Z,or:xt,orThunk:xt,map:function(en){return tt(en(P))},each:function(en){en(P)},bind:at,exists:at,forall:at,filter:function(en){return en(P)?$t:Kt},toArray:function(){return[P]},toString:function(){return"some("+P+")"},equals:function(en){return en.is(P)},equals_:function(en,we){return en.fold(Jt,function(Ze){return we(P,Ze)})}};return $t},ln=function(P){return P==null?Kt:tt(P)},Y={some:tt,none:Zt,from:ln},jt=function(P){var Z=typeof P;return P===null?"null":Z==="object"&&(Array.prototype.isPrototypeOf(P)||P.constructor&&P.constructor.name==="Array")?"array":Z==="object"&&(String.prototype.isPrototypeOf(P)||P.constructor&&P.constructor.name==="String")?"string":Z},le=function(P){return function(Z){return jt(Z)===P}},Qt=le("string"),Le=le("object"),S=le("array"),ce=Array.prototype.slice,Ne=Array.prototype.indexOf,ve=function(P,Z){return Ne.call(P,Z)},ue=function(P,Z){return ve(P,Z)>-1},Ie=function(P,Z){for(var xt=P.length,at=new Array(xt),$t=0;$t<xt;$t++){var en=P[$t];at[$t]=Z(en,$t)}return at},wr=function(P,Z){for(var xt=0,at=P.length;xt<at;xt++){var $t=P[xt];Z($t,xt)}},sr=function(P,Z){for(var xt=P.length-1;xt>=0;xt--){var at=P[xt];Z(at,xt)}},Pt=function(P,Z){for(var xt=[],at=0,$t=P.length;at<$t;at++){var en=P[at];Z(en,at)&&xt.push(en)}return xt},I=function(P,Z,xt){return sr(P,function(at){xt=Z(xt,at)}),xt},ne=function(P,Z,xt){return wr(P,function(at){xt=Z(xt,at)}),xt},Hn=function(P,Z,xt){for(var at=0,$t=P.length;at<$t;at++){var en=P[at];if(Z(en,at))return Y.some(en);if(xt(en,at))break}return Y.none()},He=function(P,Z){return Hn(P,Z,Jt)},Ve=function(P,Z){for(var xt=0,at=P.length;xt<at;++xt){var $t=P[xt];if(Z($t,xt)!==!0)return!1}return!0},$e=function(P,Z){var xt=ce.call(P,0);return xt.sort(Z),xt},kn=function(P,Z){return Z>=0&&Z<P.length?Y.some(P[Z]):Y.none()},bn=function(P){return kn(P,0)},he=Object.keys,Kr=Object.hasOwnProperty,br=function(P,Z){return Kr.call(P,Z)},Ft=function(P){if(!S(P))throw new Error("cases must be an array");if(P.length===0)throw new Error("there must be at least one case");var Z=[],xt={};return wr(P,function(at,$t){var en=he(at);if(en.length!==1)throw new Error("one and only one name per case");var we=en[0],Ze=at[we];if(xt[we]!==void 0)throw new Error("duplicate key detected:"+we);if(we==="cata")throw new Error("cannot have a case named cata (sorry)");if(!S(Ze))throw new Error("case arguments must be an array");Z.push(we),xt[we]=function(){for(var Pn=[],Qe=0;Qe<arguments.length;Qe++)Pn[Qe]=arguments[Qe];var K=Pn.length;if(K!==Ze.length)throw new Error("Wrong number of arguments to case "+we+". Expected "+Ze.length+" ("+Ze+"), got "+K);var St=function(Ot){var sn=he(Ot);if(Z.length!==sn.length)throw new Error("Wrong number of arguments to match. Expected: "+Z.join(",")+`
Actual: `+sn.join(","));var Ae=Ve(Z,function(_e){return ue(sn,_e)});if(!Ae)throw new Error("Not all branches were specified when using match. Specified: "+sn.join(", ")+`
Required: `+Z.join(", "));return Ot[we].apply(null,Pn)};return{fold:function(){for(var Ot=[],sn=0;sn<arguments.length;sn++)Ot[sn]=arguments[sn];if(Ot.length!==P.length)throw new Error("Wrong number of arguments to fold. Expected "+P.length+", got "+Ot.length);var Ae=Ot[$t];return Ae.apply(null,Pn)},match:St,log:function(Ot){console.log(Ot,{constructors:Z,constructor:we,params:Pn})}}}}),xt},cn={generate:Ft};cn.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Tn=function(P){var Z=[],xt=[];return wr(P,function(at){at.fold(function($t){Z.push($t)},function($t){xt.push($t)})}),{errors:Z,values:xt}},Xn=function(P){var Z=function(Ot){return P===Ot},xt=function(Ot){return Xn(P)},at=function(Ot){return Xn(P)},$t=function(Ot){return Xn(Ot(P))},en=function(Ot){return Xn(P)},we=function(Ot){Ot(P)},Ze=function(Ot){return Ot(P)},Pn=function(Ot,sn){return sn(P)},Qe=function(Ot){return Ot(P)},K=function(Ot){return Ot(P)},St=function(){return Y.some(P)};return{is:Z,isValue:yn,isError:Jt,getOr:Xt(P),getOrThunk:Xt(P),getOrDie:Xt(P),or:xt,orThunk:at,fold:Pn,map:$t,mapError:en,each:we,bind:Ze,exists:Qe,forall:K,toOptional:St}},wt=function(P){var Z=function(Qe){return Qe()},xt=function(){return qn(String(P))()},at=function(Qe){return Qe},$t=function(Qe){return Qe()},en=function(Qe){return wt(P)},we=function(Qe){return wt(Qe(P))},Ze=function(Qe){return wt(P)},Pn=function(Qe,K){return Qe(P)};return{is:Jt,isValue:Jt,isError:yn,getOr:Kn,getOrThunk:Z,getOrDie:xt,or:at,orThunk:$t,fold:Pn,map:en,mapError:we,each:st,bind:Ze,exists:Jt,forall:yn,toOptional:Y.none}},tn=function(P,Z){return P.fold(function(){return wt(Z)},Xn)},ae={value:Xn,error:wt,fromOption:tn},qt=function(P){return P.type==="inline-command"||P.type==="inline-format"},gt=function(P){return P.type==="block-command"||P.type==="block-format"},Wt=function(P){return $e(P,function(Z,xt){return Z.start.length===xt.start.length?0:Z.start.length>xt.start.length?-1:1})},nt=function(P){var Z=function(en){return ae.error({message:en,pattern:P})},xt=function(en,we,Ze){if(P.format!==void 0){var Pn=void 0;if(S(P.format)){if(!Ve(P.format,Qt))return Z(en+" pattern has non-string items in the `format` array");Pn=P.format}else if(Qt(P.format))Pn=[P.format];else return Z(en+" pattern has non-string `format` parameter");return ae.value(we(Pn))}else return P.cmd!==void 0?Qt(P.cmd)?ae.value(Ze(P.cmd,P.value)):Z(en+" pattern has non-string `cmd` parameter"):Z(en+" pattern is missing both `format` and `cmd` parameters")};if(!Le(P))return Z("Raw pattern is not an object");if(!Qt(P.start))return Z("Raw pattern is missing `start` parameter");if(P.end!==void 0){if(!Qt(P.end))return Z("Inline pattern has non-string `end` parameter");if(P.start.length===0&&P.end.length===0)return Z("Inline pattern has empty `start` and `end` parameters");var at=P.start,$t=P.end;return $t.length===0&&($t=at,at=""),xt("Inline",function(en){return{type:"inline-format",start:at,end:$t,format:en}},function(en,we){return{type:"inline-command",start:at,end:$t,cmd:en,value:we}})}else return P.replacement!==void 0?Qt(P.replacement)?P.start.length===0?Z("Replacement pattern has empty `start` parameter"):ae.value({type:"inline-command",start:"",end:P.start,cmd:"mceInsertContent",value:P.replacement}):Z("Replacement pattern has non-string `replacement` parameter"):P.start.length===0?Z("Block pattern has empty `start` parameter"):xt("Block",function(en){return{type:"block-format",start:P.start,format:en[0]}},function(en,we){return{type:"block-command",start:P.start,cmd:en,value:we}})},Et=function(P){if(P.type==="block-command")return{start:P.start,cmd:P.cmd,value:P.value};if(P.type==="block-format")return{start:P.start,format:P.format};if(P.type==="inline-command")return P.cmd==="mceInsertContent"&&P.start===""?{start:P.end,replacement:P.value}:{start:P.start,end:P.end,cmd:P.cmd,value:P.value};if(P.type==="inline-format")return{start:P.start,end:P.end,format:P.format.length===1?P.format[0]:P.format}},yt=function(P){return{inlinePatterns:Pt(P,qt),blockPatterns:Wt(Pt(P,gt))}},Nn=function(P){var Z=function(at){var $t=Tn(Ie(at,nt));if($t.errors.length>0){var en=$t.errors[0];throw new Error(en.message+`:
`+JSON.stringify(en.pattern,null,2))}P.set(yt($t.values))},xt=function(){return nn(Ie(P.get().inlinePatterns,Et),Ie(P.get().blockPatterns,Et))};return{setPatterns:Z,getPatterns:xt}},be=typeof window!="undefined"?window:Function("return this;")(),An=function(){for(var P=[],Z=0;Z<arguments.length;Z++)P[Z]=arguments[Z];var xt=be.console;xt&&(xt.error?xt.error.apply(xt,P):xt.log.apply(xt,P))},ar=[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}],ze=function(P){var Z=P.getParam("textpattern_patterns",ar,"array");if(!S(Z))return An("The setting textpattern_patterns should be an array"),{inlinePatterns:[],blockPatterns:[]};var xt=Tn(Ie(Z,nt));return wr(xt.errors,function(at){return An(at.message,at.pattern)}),yt(xt.values)},Zr=function(P){var Z=P.getParam("forced_root_block","p");return Z===!1?"":Z===!0?"p":Z},Lr=tinymce.util.Tools.resolve("tinymce.util.Delay"),yo=tinymce.util.Tools.resolve("tinymce.util.VK"),Vn="\uFEFF",Cn="\xA0",ee=tinymce.util.Tools.resolve("tinymce.util.Tools"),Zn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Qn=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),Me=function(P,Z){return{container:P,offset:Z}},dr=function(P){return P.nodeType===Node.TEXT_NODE},zn=function(P,Z,xt){if(Z&&P.isEmpty(Z)&&!xt(Z)){var at=Z.parentNode;P.remove(Z),zn(P,at,xt)}},gn=function(P,Z,xt,at){at===void 0&&(at=!0);var $t=Z.startContainer.parentNode,en=Z.endContainer.parentNode;Z.deleteContents(),at&&!xt(Z.startContainer)&&(dr(Z.startContainer)&&Z.startContainer.data.length===0&&P.remove(Z.startContainer),dr(Z.endContainer)&&Z.endContainer.data.length===0&&P.remove(Z.endContainer),zn(P,$t,xt),$t!==en&&zn(P,en,xt))},Ee=function(P,Z){var xt=Z.get(P);return S(xt)&&bn(xt).exists(function(at){return br(at,"block")})},ur=function(P){return P.start.length===0},Ir=function(P,Z){var xt=Y.from(P.dom.getParent(Z.startContainer,P.dom.isBlock));return Zr(P)===""?xt.orThunk(function(){return Y.some(P.getBody())}):xt},Nr=Zn.DOM,eo=function(P){return function(Z){return P===Z?-1:0}},Or=function(P){return function(Z){return P.isBlock(Z)||ue(["BR","IMG","HR","INPUT"],Z.nodeName)||P.getContentEditable(Z)==="false"}},So=function(P,Z,xt){if(dr(P)&&Z>=0)return Y.some(Me(P,Z));var at=Qn(Nr);return Y.from(at.backwards(P,Z,eo(P),xt)).map(function($t){return Me($t.container,$t.container.data.length)})},Ct=function(P,Z,xt){if(dr(P)&&Z>=P.length)return Y.some(Me(P,Z));var at=Qn(Nr);return Y.from(at.forwards(P,Z,eo(P),xt)).map(function($t){return Me($t.container,0)})},rn=function(P,Z,xt){if(!dr(P))return Y.none();var at=P.textContent;if(Z>=0&&Z<=at.length)return Y.some(Me(P,Z));var $t=Qn(Nr);return Y.from($t.backwards(P,Z,eo(P),xt)).bind(function(en){var we=en.container.data;return rn(en.container,Z+we.length,xt)})},Yn=function(P,Z,xt){if(!dr(P))return Y.none();var at=P.textContent;if(Z<=at.length)return Y.some(Me(P,Z));var $t=Qn(Nr);return Y.from($t.forwards(P,Z,eo(P),xt)).bind(function(en){return Yn(en.container,Z-at.length,xt)})},Pe=function(P,Z,xt,at,$t){var en=Qn(P,Or(P));return Y.from(en.backwards(Z,xt,at,$t))},fe=function(P,Z,xt){if(dr(Z)&&(xt<0||xt>Z.data.length))return[];for(var at=[xt],$t=Z;$t!==P&&$t.parentNode;){for(var en=$t.parentNode,we=0;we<en.childNodes.length;we++)if(en.childNodes[we]===$t){at.push(we);break}$t=en}return $t===P?at.reverse():[]},lr=function(P,Z,xt,at,$t){var en=fe(P,Z,xt),we=fe(P,at,$t);return{start:en,end:we}},wo=function(P,Z){var xt=Z.slice(),at=xt.pop(),$t=ne(xt,function(en,we){return en.bind(function(Ze){return Y.from(Ze.childNodes[we])})},Y.some(P));return $t.bind(function(en){return dr(en)&&(at<0||at>en.data.length)?Y.none():Y.some({node:en,offset:at})})},zr=function(P,Z){return wo(P,Z.start).bind(function(xt){var at=xt.node,$t=xt.offset;return wo(P,Z.end).map(function(en){var we=en.node,Ze=en.offset,Pn=document.createRange();return Pn.setStart(at,$t),Pn.setEnd(we,Ze),Pn})})},Er=function(P,Z){return lr(P,Z.startContainer,Z.startOffset,Z.endContainer,Z.endOffset)},$o=function(P,Z,xt){var at=Ct(Z,0,Z);at.each(function($t){var en=$t.container;Yn(en,xt.start.length,Z).each(function(we){var Ze=P.createRng();Ze.setStart(en,0),Ze.setEnd(we.container,we.offset),gn(P,Ze,function(Pn){return Pn===Z})})})},Bi=function(P,Z){var xt=P.dom,at=Z.pattern,$t=zr(xt.getRoot(),Z.range).getOrDie("Unable to resolve path range");return Ir(P,$t).each(function(en){at.type==="block-format"?Ee(at.format,P.formatter)&&P.undoManager.transact(function(){$o(P.dom,en,at),P.formatter.apply(at.format)}):at.type==="block-command"&&P.undoManager.transact(function(){$o(P.dom,en,at),P.execCommand(at.cmd,!1,at.value)})}),!0},Eo=function(P,Z){var xt=Z.replace(Cn," ");return He(P,function(at){return Z.indexOf(at.start)===0||xt.indexOf(at.start)===0})},Xi=function(P,Z){var xt=P.dom,at=P.selection.getRng();return Ir(P,at).filter(function($t){var en=Zr(P),we=en===""&&xt.is($t,"body")||xt.is($t,en);return $t!==null&&we}).bind(function($t){var en=$t.textContent,we=Eo(Z,en);return we.map(function(Ze){return ee.trim(en).length===Ze.start.length?[]:[{pattern:Ze,range:lr(xt.getRoot(),$t,0,$t,0)}]})}).getOr([])},Oo=function(P,Z){if(Z.length!==0){var xt=P.selection.getBookmark();wr(Z,function(at){return Bi(P,at)}),P.selection.moveToBookmark(xt)}},hi=0,ii=function(P){var Z=new Date,xt=Z.getTime(),at=Math.floor(Math.random()*1e9);return hi++,P+"_"+at+hi+String(xt)},cr=function(P,Z,xt){return Z===""||P.length>=Z.length&&P.substr(xt,xt+Z.length)===Z},ao=function(P,Z){return cr(P,Z,P.length-Z.length)},zo=function(P,Z){return P.create("span",{"data-mce-type":"bookmark",id:Z})},Ko=function(P,Z){var xt=P.createRng();return xt.setStartAfter(Z.start),xt.setEndBefore(Z.end),xt},Xe=function(P,Z,xt){var at=zr(P.getRoot(),xt).getOrDie("Unable to resolve path range"),$t=at.startContainer,en=at.endContainer,we=at.endOffset===0?en:en.splitText(at.endOffset),Ze=at.startOffset===0?$t:$t.splitText(at.startOffset);return{prefix:Z,end:we.parentNode.insertBefore(zo(P,Z+"-end"),we),start:Ze.parentNode.insertBefore(zo(P,Z+"-start"),Ze)}},ui=function(P,Z,xt){zn(P,P.get(Z.prefix+"-end"),xt),zn(P,P.get(Z.prefix+"-start"),xt)},gi=function(P,Z,xt){return function(at,$t){var en=at.data,we=en.substring(0,$t),Ze=we.lastIndexOf(xt.charAt(xt.length-1)),Pn=we.lastIndexOf(xt);return Pn!==-1?Pn+xt.length:Ze!==-1?Ze+1:-1}},Ni=function(P,Z,xt,at){var $t=Z.start,en=Pe(P,at.container,at.offset,gi(P,xt,$t),xt);return en.bind(function(we){if(we.offset>=$t.length){var Ze=P.createRng();return Ze.setStart(we.container,we.offset-$t.length),Ze.setEnd(we.container,we.offset),Y.some(Ze)}else{var Pn=we.offset-$t.length;return rn(we.container,Pn,xt).map(function(Qe){var K=P.createRng();return K.setStart(Qe.container,Qe.offset),K.setEnd(we.container,we.offset),K}).filter(function(Qe){return Qe.toString()===$t}).orThunk(function(){return Ni(P,Z,xt,Me(we.container,0))})}})},yi=function(P,Z,xt,at,$t,en){if(en===void 0&&(en=!1),Z.start.length===0&&!en){var we=P.createRng();return we.setStart(xt,at),we.setEnd(xt,at),Y.some(we)}return So(xt,at,$t).bind(function(Ze){var Pn=Ni(P,Z,$t,Ze);return Pn.bind(function(Qe){return en&&(Qe.endContainer===Ze.container&&Qe.endOffset===Ze.offset||Ze.offset===0&&Qe.endContainer.textContent.length===Qe.endOffset)?Y.none():Y.some(Qe)})})},$r=function(P,Z,xt){var at=P.dom,$t=at.getRoot(),en=xt.pattern,we=xt.position.container,Ze=xt.position.offset;return rn(we,Ze-xt.pattern.end.length,Z).bind(function(Pn){var Qe=lr($t,Pn.container,Pn.offset,we,Ze);if(ur(en))return Y.some({matches:[{pattern:en,startRng:Qe,endRng:Qe}],position:Pn});var K=wi(P,xt.remainingPatterns,Pn.container,Pn.offset,Z),St=K.getOr({matches:[],position:Pn}),Ot=St.position,sn=yi(at,en,Ot.container,Ot.offset,Z,K.isNone());return sn.map(function(Ae){var _e=Er($t,Ae);return{matches:St.matches.concat([{pattern:en,startRng:_e,endRng:Qe}]),position:Me(Ae.startContainer,Ae.startOffset)}})})},wi=function(P,Z,xt,at,$t){var en=P.dom;return So(xt,at,en.getRoot()).bind(function(we){var Ze=en.createRng();Ze.setStart($t,0),Ze.setEnd(xt,at);for(var Pn=Ze.toString(),Qe=0;Qe<Z.length;Qe++){var K=Z[Qe];if(ao(Pn,K.end)){var St=Z.slice();St.splice(Qe,1);var Ot=$r(P,$t,{pattern:K,remainingPatterns:St,position:we});if(Ot.isSome())return Ot}}return Y.none()})},fi=function(P,Z,xt){P.selection.setRng(xt),Z.type==="inline-format"?wr(Z.format,function(at){P.formatter.apply(at)}):P.execCommand(Z.cmd,!1,Z.value)},vi=function(P,Z,xt,at){var $t=Ko(P.dom,xt);gn(P.dom,$t,at),fi(P,Z,$t)},Vi=function(P,Z,xt,at,$t){var en=P.dom,we=Ko(en,at),Ze=Ko(en,xt);gn(en,Ze,$t),gn(en,we,$t);var Pn={prefix:xt.prefix,start:xt.end,end:at.start},Qe=Ko(en,Pn);fi(P,Z,Qe)},Ui=function(P,Z){var xt=ii("mce_textpattern"),at=I(Z,function($t,en){var we=Xe(P,xt+("_end"+$t.length),en.endRng);return $t.concat([on(on({},en),{endMarker:we})])},[]);return I(at,function($t,en){var we=at.length-$t.length-1,Ze=ur(en.pattern)?en.endMarker:Xe(P,xt+("_start"+we),en.startRng);return $t.concat([on(on({},en),{startMarker:Ze})])},[])},Wo=function(P,Z,xt){var at=P.selection.getRng();return at.collapsed===!1?[]:Ir(P,at).bind(function($t){var en=at.startOffset-(xt?1:0);return wi(P,Z,at.startContainer,en,$t)}).fold(function(){return[]},function($t){return $t.matches})},zi=function(P,Z){if(Z.length!==0){var xt=P.dom,at=P.selection.getBookmark(),$t=Ui(xt,Z);wr($t,function(en){var we=xt.getParent(en.startMarker.start,xt.isBlock),Ze=function(Pn){return Pn===we};ur(en.pattern)?vi(P,en.pattern,en.endMarker,Ze):Vi(P,en.pattern,en.startMarker,en.endMarker,Ze),ui(xt,en.endMarker,Ze),ui(xt,en.startMarker,Ze)}),P.selection.moveToBookmark(at)}},lt=function(P,Z){if(!P.selection.isCollapsed())return!1;var xt=Wo(P,Z.inlinePatterns,!1),at=Xi(P,Z.blockPatterns);return at.length>0||xt.length>0?(P.undoManager.add(),P.undoManager.extra(function(){P.execCommand("mceInsertNewLine")},function(){P.insertContent(Vn),zi(P,xt),Oo(P,at);var $t=P.selection.getRng(),en=So($t.startContainer,$t.startOffset,P.dom.getRoot());P.execCommand("mceInsertNewLine"),en.each(function(we){var Ze=we.container;Ze.data.charAt(we.offset-1)===Vn&&(Ze.deleteData(we.offset-1,1),zn(P.dom,Ze.parentNode,function(Pn){return Pn===P.dom.getRoot()}))})}),!0):!1},L=function(P,Z){var xt=Wo(P,Z.inlinePatterns,!0);xt.length>0&&P.undoManager.transact(function(){zi(P,xt)})},q=function(P,Z,xt){for(var at=0;at<P.length;at++)if(xt(P[at],Z))return!0},dt=function(P,Z){return q(P,Z,function(xt,at){return xt===at.keyCode&&yo.modifierPressed(at)===!1})},_t=function(P,Z){return q(P,Z,function(xt,at){return xt.charCodeAt(0)===at.charCode})},zt=function(P,Z){var xt=[",",".",";",":","!","?"],at=[32];P.on("keydown",function($t){$t.keyCode===13&&!yo.modifierPressed($t)&&lt(P,Z.get())&&$t.preventDefault()},!0),P.on("keyup",function($t){dt(at,$t)&&L(P,Z.get())}),P.on("keypress",function($t){_t(xt,$t)&&Lr.setEditorTimeout(P,function(){L(P,Z.get())})})};function an(){jn.add("textpattern",function(P){var Z=ft(ze(P));return zt(P,Z),Nn(Z)})}an()})();(function(){var ft=function(Zt){var Kt=Zt,tt=function(){return Kt},ln=function(Y){Kt=Y};return{get:tt,set:ln}},jn=tinymce.util.Tools.resolve("tinymce.PluginManager"),on=function(Zt,Kt){Zt.fire("VisualBlocks",{state:Kt})},nn=function(Zt,Kt,tt){var ln=Zt.dom;ln.toggleClass(Zt.getBody(),"mce-visualblocks"),tt.set(!tt.get()),on(Zt,tt.get())},st=function(Zt,Kt,tt){Zt.addCommand("mceVisualBlocks",function(){nn(Zt,Kt,tt)})},Xt=function(Zt){return Zt.getParam("visualblocks_default_state",!1,"boolean")},Kn=function(Zt,Kt,tt){Zt.on("PreviewFormats AfterPreviewFormats",function(ln){tt.get()&&Zt.dom.toggleClass(Zt.getBody(),"mce-visualblocks",ln.type==="afterpreviewformats")}),Zt.on("init",function(){Xt(Zt)&&nn(Zt,Kt,tt)})},qn=function(Zt,Kt){return function(tt){tt.setActive(Kt.get());var ln=function(Y){return tt.setActive(Y.state)};return Zt.on("VisualBlocks",ln),function(){return Zt.off("VisualBlocks",ln)}}},Jt=function(Zt,Kt){Zt.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:function(){return Zt.execCommand("mceVisualBlocks")},onSetup:qn(Zt,Kt)}),Zt.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:function(){return Zt.execCommand("mceVisualBlocks")},onSetup:qn(Zt,Kt)})};function yn(){jn.add("visualblocks",function(Zt,Kt){var tt=ft(!1);st(Zt,Kt,tt),Jt(Zt,tt),Kn(Zt,Kt,tt)})}yn()})();(function(){var ft=function(Ct){var rn=Ct,Yn=function(){return rn},Pe=function(fe){rn=fe};return{get:Yn,set:Pe}},jn=tinymce.util.Tools.resolve("tinymce.PluginManager"),on=function(Ct){var rn=function(){return Ct.get()};return{isEnabled:rn}},nn=function(Ct,rn){return Ct.fire("VisualChars",{state:rn})},st=function(){},Xt=function(Ct){return function(){return Ct}},Kn=Xt(!1),qn=Xt(!0),Jt=function(){return yn},yn=function(){var Ct=function(fe){return fe.isNone()},rn=function(fe){return fe()},Yn=function(fe){return fe},Pe={fold:function(fe,lr){return fe()},is:Kn,isSome:Kn,isNone:qn,getOr:Yn,getOrThunk:rn,getOrDie:function(fe){throw new Error(fe||"error: getOrDie called on none.")},getOrNull:Xt(null),getOrUndefined:Xt(void 0),or:Yn,orThunk:rn,map:Jt,each:st,bind:Jt,exists:Kn,forall:qn,filter:Jt,equals:Ct,equals_:Ct,toArray:function(){return[]},toString:Xt("none()")};return Pe}(),Zt=function(Ct){var rn=Xt(Ct),Yn=function(){return fe},Pe=function(lr){return lr(Ct)},fe={fold:function(lr,wo){return wo(Ct)},is:function(lr){return Ct===lr},isSome:qn,isNone:Kn,getOr:rn,getOrThunk:rn,getOrDie:rn,getOrNull:rn,getOrUndefined:rn,or:Yn,orThunk:Yn,map:function(lr){return Zt(lr(Ct))},each:function(lr){lr(Ct)},bind:Pe,exists:Pe,forall:Pe,filter:function(lr){return lr(Ct)?fe:yn},toArray:function(){return[Ct]},toString:function(){return"some("+Ct+")"},equals:function(lr){return lr.is(Ct)},equals_:function(lr,wo){return lr.fold(Kn,function(zr){return wo(Ct,zr)})}};return fe},Kt=function(Ct){return Ct==null?yn:Zt(Ct)},tt={some:Zt,none:Jt,from:Kt},ln=function(Ct){var rn=typeof Ct;return Ct===null?"null":rn==="object"&&(Array.prototype.isPrototypeOf(Ct)||Ct.constructor&&Ct.constructor.name==="Array")?"array":rn==="object"&&(String.prototype.isPrototypeOf(Ct)||Ct.constructor&&Ct.constructor.name==="String")?"string":rn},Y=function(Ct){return function(rn){return ln(rn)===Ct}},jt=function(Ct){return function(rn){return typeof rn===Ct}},le=Y("string"),Qt=jt("boolean"),Le=jt("number"),S=function(Ct,rn){for(var Yn=Ct.length,Pe=new Array(Yn),fe=0;fe<Yn;fe++){var lr=Ct[fe];Pe[fe]=rn(lr,fe)}return Pe},ce=function(Ct,rn){for(var Yn=0,Pe=Ct.length;Yn<Pe;Yn++){var fe=Ct[Yn];rn(fe,Yn)}},Ne=function(Ct,rn){for(var Yn=[],Pe=0,fe=Ct.length;Pe<fe;Pe++){var lr=Ct[Pe];rn(lr,Pe)&&Yn.push(lr)}return Yn},ve=Object.keys,ue=function(Ct,rn){for(var Yn=ve(Ct),Pe=0,fe=Yn.length;Pe<fe;Pe++){var lr=Yn[Pe],wo=Ct[lr];rn(wo,lr)}};typeof window!="undefined"||Function("return this;")();var Ie=3,wr=function(Ct){return Ct.dom.nodeType},sr=function(Ct){return Ct.dom.nodeValue},Pt=function(Ct){return function(rn){return wr(rn)===Ct}},I=Pt(Ie),ne=function(Ct,rn,Yn){if(le(Yn)||Qt(Yn)||Le(Yn))Ct.setAttribute(rn,Yn+"");else throw console.error("Invalid call to Attribute.set. Key ",rn,":: Value ",Yn,":: Element ",Ct),new Error("Attribute value was not simple")},Hn=function(Ct,rn,Yn){ne(Ct.dom,rn,Yn)},He=function(Ct,rn){var Yn=Ct.dom.getAttribute(rn);return Yn===null?void 0:Yn},Ve=function(Ct,rn){Ct.dom.removeAttribute(rn)},$e=function(Ct,rn){var Yn=He(Ct,rn);return Yn===void 0||Yn===""?[]:Yn.split(" ")},kn=function(Ct,rn,Yn){var Pe=$e(Ct,rn),fe=Pe.concat([Yn]);return Hn(Ct,rn,fe.join(" ")),!0},bn=function(Ct,rn,Yn){var Pe=Ne($e(Ct,rn),function(fe){return fe!==Yn});return Pe.length>0?Hn(Ct,rn,Pe.join(" ")):Ve(Ct,rn),!1},he=function(Ct){return Ct.dom.classList!==void 0},Kr=function(Ct){return $e(Ct,"class")},br=function(Ct,rn){return kn(Ct,"class",rn)},Ft=function(Ct,rn){return bn(Ct,"class",rn)},cn=function(Ct,rn){he(Ct)?Ct.dom.classList.add(rn):br(Ct,rn)},Tn=function(Ct){var rn=he(Ct)?Ct.dom.classList:Kr(Ct);rn.length===0&&Ve(Ct,"class")},Xn=function(Ct,rn){if(he(Ct)){var Yn=Ct.dom.classList;Yn.remove(rn)}else Ft(Ct,rn);Tn(Ct)},wt=function(Ct,rn){var Yn=rn||document,Pe=Yn.createElement("div");if(Pe.innerHTML=Ct,!Pe.hasChildNodes()||Pe.childNodes.length>1)throw console.error("HTML does not have a single root node",Ct),new Error("HTML must have a single root node");return qt(Pe.childNodes[0])},tn=function(Ct,rn){var Yn=rn||document,Pe=Yn.createElement(Ct);return qt(Pe)},ae=function(Ct,rn){var Yn=rn||document,Pe=Yn.createTextNode(Ct);return qt(Pe)},qt=function(Ct){if(Ct==null)throw new Error("Node cannot be null or undefined");return{dom:Ct}},gt=function(Ct,rn,Yn){return tt.from(Ct.dom.elementFromPoint(rn,Yn)).map(qt)},Wt={fromHtml:wt,fromTag:tn,fromText:ae,fromDom:qt,fromPoint:gt},nt={"\xA0":"nbsp","\xAD":"shy"},Et=function(Ct,rn){var Yn="";return ue(Ct,function(Pe,fe){Yn+=fe}),new RegExp("["+Yn+"]",rn?"g":"")},yt=function(Ct){var rn="";return ue(Ct,function(Yn){rn&&(rn+=","),rn+="span.mce-"+Yn}),rn},Nn=Et(nt),be=Et(nt,!0),An=yt(nt),ar="mce-nbsp",ze=function(Ct){return'<span data-mce-bogus="1" class="mce-'+nt[Ct]+'">'+Ct+"</span>"},Zr=function(Ct){var rn=sr(Ct);return I(Ct)&&rn!==void 0&&Nn.test(rn)},Lr=function(Ct,rn){var Yn=[],Pe=Ct.dom,fe=S(Pe.childNodes,Wt.fromDom);return ce(fe,function(lr){rn(lr)&&(Yn=Yn.concat([lr])),Yn=Yn.concat(Lr(lr,rn))}),Yn},yo=function(Ct,rn){for(;Ct.parentNode;){if(Ct.parentNode===rn)return Ct;Ct=Ct.parentNode}},Vn=function(Ct){return Ct.replace(be,ze)},Cn=function(Ct){return Ct.nodeName.toLowerCase()==="span"&&Ct.classList.contains("mce-nbsp-wrap")},ee=function(Ct,rn){var Yn=Lr(Wt.fromDom(rn),Zr);ce(Yn,function(Pe){var fe=Pe.dom.parentNode;if(Cn(fe))cn(Wt.fromDom(fe),ar);else{for(var lr=Vn(Ct.dom.encode(sr(Pe))),wo=Ct.dom.create("div",null,lr),zr=void 0;zr=wo.lastChild;)Ct.dom.insertAfter(zr,Pe.dom);Ct.dom.remove(Pe.dom)}})},Zn=function(Ct,rn){var Yn=Ct.dom.select(An,rn);ce(Yn,function(Pe){Cn(Pe)?Xn(Wt.fromDom(Pe),ar):Ct.dom.remove(Pe,!0)})},Qn=function(Ct){var rn=Ct.getBody(),Yn=Ct.selection.getBookmark(),Pe=yo(Ct.selection.getNode(),rn);Pe=Pe!==void 0?Pe:rn,Zn(Ct,Pe),ee(Ct,Pe),Ct.selection.moveToBookmark(Yn)},Me=function(Ct,rn){nn(Ct,rn.get());var Yn=Ct.getBody();rn.get()===!0?ee(Ct,Yn):Zn(Ct,Yn)},dr=function(Ct,rn){rn.set(!rn.get());var Yn=Ct.selection.getBookmark();Me(Ct,rn),Ct.selection.moveToBookmark(Yn)},zn=function(Ct,rn){Ct.addCommand("mceVisualChars",function(){dr(Ct,rn)})},gn=function(Ct){return Ct.getParam("visualchars_default_state",!1)},Ee=function(Ct){return Ct.getParam("forced_root_block")!==!1},ur=function(Ct,rn){Ct.on("init",function(){Me(Ct,rn)})},Ir=tinymce.util.Tools.resolve("tinymce.util.Delay"),Nr=function(Ct,rn){var Yn=Ir.debounce(function(){Qn(Ct)},300);Ee(Ct)&&Ct.on("keydown",function(Pe){rn.get()===!0&&(Pe.keyCode===13?Qn(Ct):Yn())}),Ct.on("remove",Yn.stop)},eo=function(Ct,rn){return function(Yn){Yn.setActive(rn.get());var Pe=function(fe){return Yn.setActive(fe.state)};return Ct.on("VisualChars",Pe),function(){return Ct.off("VisualChars",Pe)}}},Or=function(Ct,rn){Ct.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:function(){return Ct.execCommand("mceVisualChars")},onSetup:eo(Ct,rn)}),Ct.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:function(){return Ct.execCommand("mceVisualChars")},onSetup:eo(Ct,rn)})};function So(){jn.add("visualchars",function(Ct){var rn=ft(gn(Ct));return zn(Ct,rn),Or(Ct,rn),Nr(Ct,rn),ur(Ct,rn),on(rn)})}So()})();(function(){var ft=tinymce.util.Tools.resolve("tinymce.PluginManager"),jn=function(qt){return qt},on=function(){return on=Object.assign||function(qt){for(var gt,Wt=1,nt=arguments.length;Wt<nt;Wt++){gt=arguments[Wt];for(var Et in gt)Object.prototype.hasOwnProperty.call(gt,Et)&&(qt[Et]=gt[Et])}return qt},on.apply(this,arguments)},nn="\uFEFF",st=function(qt){return qt.replace(/\uFEFF/g,"")},Xt=function(qt,gt){for(var Wt=qt.length,nt=new Array(Wt),Et=0;Et<Wt;Et++){var yt=qt[Et];nt[Et]=gt(yt,Et)}return nt},Kn="[!-#%-*,-\\/:;?@\\[-\\]_{}\xA1\xAB\xB7\xBB\xBF;\xB7\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1361-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u3008\u3009\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30\u2E31\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]",qn={aletter:"[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F3\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u10A0-\u10C5\u10D0-\u10FA\u10FC\u1100-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F0\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C\u1A00-\u1A16\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BC0-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC\u1CEE-\u1CF1\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u24B6-\u24E9\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2D00-\u2D25\u2D30-\u2D65\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u303B\u303C\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA78E\uA790\uA791\uA7A0-\uA7A9\uA7FA-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFFA0-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]",midnumlet:"[-'\\.\u2018\u2019\u2024\uFE52\uFF07\uFF0E]",midletter:"[:\xB7\xB7\u05F4\u2027\uFE13\uFE55\uFF1A]",midnum:"[\xB1+*/,;;\u0589\u060C\u060D\u066C\u07F8\u2044\uFE10\uFE14\uFE50\uFE54\uFF0C\uFF1B]",numeric:"[0-9\u0660-\u0669\u066B\u06F0-\u06F9\u07C0-\u07C9\u0966-\u096F\u09E6-\u09EF\u0A66-\u0A6F\u0AE6-\u0AEF\u0B66-\u0B6F\u0BE6-\u0BEF\u0C66-\u0C6F\u0CE6-\u0CEF\u0D66-\u0D6F\u0E50-\u0E59\u0ED0-\u0ED9\u0F20-\u0F29\u1040-\u1049\u1090-\u1099\u17E0-\u17E9\u1810-\u1819\u1946-\u194F\u19D0-\u19D9\u1A80-\u1A89\u1A90-\u1A99\u1B50-\u1B59\u1BB0-\u1BB9\u1C40-\u1C49\u1C50-\u1C59\uA620-\uA629\uA8D0-\uA8D9\uA900-\uA909\uA9D0-\uA9D9\uAA50-\uAA59\uABF0-\uABF9]",cr:"\\r",lf:"\\n",newline:"[\v\f\x85\u2028\u2029]",extend:"[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0900-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C01-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C82\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D02\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B6-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAA\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2\u1DC0-\u1DE6\u1DFC-\u1DFF\u200C\u200D\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA67C\uA67D\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE26\uFF9E\uFF9F]",format:"[\xAD\u0600-\u0603\u06DD\u070F\u17B4\u17B5\u200E\u200F\u202A-\u202E\u2060-\u2064\u206A-\u206F\uFEFF\uFFF9-\uFFFB]",katakana:"[\u3031-\u3035\u309B\u309C\u30A0-\u30FA\u30FC-\u30FF\u31F0-\u31FF\u32D0-\u32FE\u3300-\u3357\uFF66-\uFF9D]",extendnumlet:"[=_\u203F\u2040\u2054\uFE33\uFE34\uFE4D-\uFE4F\uFF3F\u2200-\u22FF<>]",punctuation:Kn},Jt={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},yn=[new RegExp(qn.aletter),new RegExp(qn.midnumlet),new RegExp(qn.midletter),new RegExp(qn.midnum),new RegExp(qn.numeric),new RegExp(qn.cr),new RegExp(qn.lf),new RegExp(qn.newline),new RegExp(qn.extend),new RegExp(qn.format),new RegExp(qn.katakana),new RegExp(qn.extendnumlet),new RegExp("@")],Zt="",Kt=new RegExp("^"+qn.punctuation+"$"),tt=/^\s+$/,ln=yn,Y=Jt.OTHER,jt=function(qt){for(var gt=Y,Wt=ln.length,nt=0;nt<Wt;++nt){var Et=ln[nt];if(Et&&Et.test(qt)){gt=nt;break}}return gt},le=function(qt){var gt={};return function(Wt){if(gt[Wt])return gt[Wt];var nt=qt(Wt);return gt[Wt]=nt,nt}},Qt=function(qt){var gt=le(jt);return Xt(qt,gt)},Le=function(qt,gt){var Wt=qt[gt],nt=qt[gt+1];if(gt<0||gt>qt.length-1&&gt!==0||Wt===Jt.ALETTER&&nt===Jt.ALETTER)return!1;var Et=qt[gt+2];if(Wt===Jt.ALETTER&&(nt===Jt.MIDLETTER||nt===Jt.MIDNUMLET||nt===Jt.AT)&&Et===Jt.ALETTER)return!1;var yt=qt[gt-1];return(Wt===Jt.MIDLETTER||Wt===Jt.MIDNUMLET||nt===Jt.AT)&&nt===Jt.ALETTER&&yt===Jt.ALETTER||(Wt===Jt.NUMERIC||Wt===Jt.ALETTER)&&(nt===Jt.NUMERIC||nt===Jt.ALETTER)||(Wt===Jt.MIDNUM||Wt===Jt.MIDNUMLET)&&nt===Jt.NUMERIC&&yt===Jt.NUMERIC||Wt===Jt.NUMERIC&&(nt===Jt.MIDNUM||nt===Jt.MIDNUMLET)&&Et===Jt.NUMERIC||Wt===Jt.EXTEND||Wt===Jt.FORMAT||yt===Jt.EXTEND||yt===Jt.FORMAT||nt===Jt.EXTEND||nt===Jt.FORMAT||Wt===Jt.CR&&nt===Jt.LF?!1:Wt===Jt.NEWLINE||Wt===Jt.CR||Wt===Jt.LF||nt===Jt.NEWLINE||nt===Jt.CR||nt===Jt.LF?!0:!(Wt===Jt.KATAKANA&&nt===Jt.KATAKANA||nt===Jt.EXTENDNUMLET&&(Wt===Jt.ALETTER||Wt===Jt.NUMERIC||Wt===Jt.KATAKANA||Wt===Jt.EXTENDNUMLET)||Wt===Jt.EXTENDNUMLET&&(nt===Jt.ALETTER||nt===Jt.NUMERIC||nt===Jt.KATAKANA)||Wt===Jt.AT)},S=Zt,ce=tt,Ne=Kt,ve=function(qt){return qt==="http"||qt==="https"},ue=function(qt,gt){var Wt;for(Wt=gt;Wt<qt.length&&!ce.test(qt[Wt]);Wt++);return Wt},Ie=function(qt,gt){var Wt=ue(qt,gt+1),nt=qt.slice(gt+1,Wt).join(S);return nt.substr(0,3)==="://"?Wt:gt},wr=function(qt,gt,Wt,nt){for(var Et=[],yt=[],Nn=0;Nn<Wt.length;++Nn)if(yt.push(qt[Nn]),Le(Wt,Nn)){var be=gt[Nn];if((nt.includeWhitespace||!ce.test(be))&&(nt.includePunctuation||!Ne.test(be))){var An=Nn-yt.length+1,ar=Nn+1,ze=gt.slice(An,ar).join(S);if(ve(ze)){var Zr=Ie(gt,Nn),Lr=qt.slice(ar,Zr);Array.prototype.push.apply(yt,Lr),Nn=Zr}Et.push(yt)}yt=[]}return Et},sr=function(){return{includeWhitespace:!1,includePunctuation:!1}},Pt=function(qt,gt,Wt){Wt=on(on({},sr()),Wt);for(var nt=[],Et=[],yt=0;yt<qt.length;yt++){var Nn=gt(qt[yt]);Nn!==nn&&(nt.push(qt[yt]),Et.push(Nn))}var be=Qt(Et);return wr(nt,Et,be,Wt)},I=Pt,ne=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Hn=function(qt,gt){for(var Wt=gt.getBlockElements(),nt=gt.getShortEndedElements(),Et=function(An){return Wt[An.nodeName]||nt[An.nodeName]},yt=[],Nn="",be=new ne(qt,qt);qt=be.next();)qt.nodeType===3?Nn+=st(qt.data):Et(qt)&&Nn.length&&(yt.push(Nn),Nn="");return Nn.length&&yt.push(Nn),yt},He=function(qt){return qt.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},Ve=function(qt,gt){var Wt=Hn(qt,gt).join(`
`);return I(Wt.split(""),jn).length},$e=function(qt,gt){var Wt=Hn(qt,gt).join("");return He(Wt)},kn=function(qt,gt){var Wt=Hn(qt,gt).join("").replace(/\s/g,"");return He(Wt)},bn=function(qt,gt){return function(){return gt(qt.getBody(),qt.schema)}},he=function(qt,gt){return function(){return gt(qt.selection.getRng().cloneContents(),qt.schema)}},Kr=function(qt){return bn(qt,Ve)},br=function(qt){return{body:{getWordCount:Kr(qt),getCharacterCount:bn(qt,$e),getCharacterCountWithoutSpaces:bn(qt,kn)},selection:{getWordCount:he(qt,Ve),getCharacterCount:he(qt,$e),getCharacterCountWithoutSpaces:he(qt,kn)},getCount:Kr(qt)}},Ft=tinymce.util.Tools.resolve("tinymce.util.Delay"),cn=function(qt,gt){qt.fire("wordCountUpdate",{wordCount:{words:gt.body.getWordCount(),characters:gt.body.getCharacterCount(),charactersWithoutSpaces:gt.body.getCharacterCountWithoutSpaces()}})},Tn=function(qt,gt){cn(qt,gt)},Xn=function(qt,gt,Wt){var nt=Ft.debounce(function(){return Tn(qt,gt)},Wt);qt.on("init",function(){Tn(qt,gt),Ft.setEditorTimeout(qt,function(){qt.on("SetContent BeforeAddUndo Undo Redo keyup",nt)},0)})},wt=function(qt,gt){qt.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(gt.body.getWordCount()),String(gt.selection.getWordCount())],["Characters (no spaces)",String(gt.body.getCharacterCountWithoutSpaces()),String(gt.selection.getCharacterCountWithoutSpaces())],["Characters",String(gt.body.getCharacterCount()),String(gt.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},tn=function(qt,gt){qt.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:function(){return wt(qt,gt)}}),qt.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:function(){return wt(qt,gt)}})};function ae(qt){qt===void 0&&(qt=300),ft.add("wordcount",function(gt){var Wt=br(gt);return tn(gt,Wt),Xn(gt,Wt,qt),Wt})}ae()})();(function(){var ft=tinymce.util.Tools.resolve("tinymce.PluginManager"),jn=tinymce.util.Tools.resolve("tinymce.Env"),on=function(Xt){Xt.addCommand("mcePrint",function(){jn.browser.isIE()?Xt.getDoc().execCommand("print",!1,null):Xt.getWin().print()})},nn=function(Xt){Xt.ui.registry.addButton("print",{icon:"print",tooltip:"Print",onAction:function(){return Xt.execCommand("mcePrint")}}),Xt.ui.registry.addMenuItem("print",{text:"Print...",icon:"print",onAction:function(){return Xt.execCommand("mcePrint")}})};function st(){ft.add("print",function(Xt){on(Xt),nn(Xt),Xt.addShortcut("Meta+P","","mcePrint")})}st()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-width":'<svg width="24" height="24"><path d="M5 14.8h14a1 1 0 010 2H5a1 1 0 010-2zm-.5 3.7h15c.3 0 .5.2.5.5s-.2.5-.5.5h-15a.5.5 0 110-1zm.5-8.3h14c.6 0 1 .4 1 1v1c0 .5-.4 1-1 1H5a1 1 0 01-1-1v-1c0-.6.4-1 1-1zm0-5.7h14c.6 0 1 .4 1 1v2c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-2c0-.6.4-1 1-1z" fill-rule="evenodd"/></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}});var OU=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],DU=function(ft){return OU.map(function(jn){return jn.toLowerCase()}).indexOf(ft.toLowerCase())!==-1},_U=function(ft,jn,on){Object.keys(jn).filter(DU).forEach(function(nn){var st=jn[nn];typeof st=="function"&&(nn==="onInit"?st(ft,on):on.on(nn.substring(2),function(Xt){return st(Xt,on)}))})},FU=function(ft,jn,on,nn){var st=ft.modelEvents?ft.modelEvents:null,Xt=Array.isArray(st)?st.join(" "):st;x5(nn,function(Kn,qn){on&&typeof Kn=="string"&&Kn!==qn&&Kn!==on.getContent({format:ft.outputFormat})&&on.setContent(Kn)}),on.on(Xt||"change input undo redo",function(){jn.emit("update:modelValue",on.getContent({format:ft.outputFormat}))})},BU=function(ft,jn,on,nn,st,Xt){nn.setContent(Xt()),on.attrs["onUpdate:modelValue"]&&FU(jn,on,nn,st),_U(ft,on.attrs,nn)},oP=0,gP=function(ft){var jn=Date.now(),on=Math.floor(Math.random()*1e9);return oP++,ft+"_"+on+oP+String(jn)},NU=function(ft){return ft!==null&&ft.tagName.toLowerCase()==="textarea"},iP=function(ft){return typeof ft=="undefined"||ft===""?[]:Array.isArray(ft)?ft:ft.split(" ")},zU=function(ft,jn){return iP(ft).concat(iP(jn))},MU=function(ft){return ft==null},uP=function(){return{listeners:[],scriptId:gP("tiny-script"),scriptLoaded:!1}},RU=function(){var ft=uP(),jn=function(st,Xt,Kn,qn){var Jt=Xt.createElement("script");Jt.referrerPolicy="origin",Jt.type="application/javascript",Jt.id=st,Jt.src=Kn;var yn=function(){Jt.removeEventListener("load",yn),qn()};Jt.addEventListener("load",yn),Xt.head&&Xt.head.appendChild(Jt)},on=function(st,Xt,Kn){ft.scriptLoaded?Kn():(ft.listeners.push(Kn),st.getElementById(ft.scriptId)||jn(ft.scriptId,st,Xt,function(){ft.listeners.forEach(function(qn){return qn()}),ft.scriptLoaded=!0}))},nn=function(){ft=uP()};return{load:on,reinitialize:nn}},PU=RU(),LU=function(){return typeof window!="undefined"?window:global},Ky=function(){var ft=LU();return ft&&ft.tinymce?ft.tinymce:null},IU={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(ft){return ft==="html"||ft==="text"}}},Jy=globalThis&&globalThis.__assign||function(){return Jy=Object.assign||function(ft){for(var jn,on=1,nn=arguments.length;on<nn;on++){jn=arguments[on];for(var st in jn)Object.prototype.hasOwnProperty.call(jn,st)&&(ft[st]=jn[st])}return ft},Jy.apply(this,arguments)},HU=function(ft,jn,on,nn){return ft(nn||"div",{id:jn,ref:on})},VU=function(ft,jn,on){return ft("textarea",{id:jn,visibility:"hidden",ref:on})},UU=sP({props:IU,setup:function(ft,jn){var on=ft.init?Jy({},ft.init):{},nn=lP(ft),st=nn.disabled,Xt=nn.modelValue,Kn=nn.tagName,qn=mU(null),Jt=null,yn=ft.id||gP("tiny-vue"),Zt=ft.init&&ft.init.inline||ft.inline,Kt=!!jn.attrs["onUpdate:modelValue"],tt=!0,ln=ft.initialValue?ft.initialValue:"",Y="",jt=function(Le){return Kt?function(){return(Xt==null?void 0:Xt.value)?Xt.value:""}:function(){return Le?ln:Y}},le=function(){var Le=jt(tt),S=Jy(Jy({},on),{readonly:ft.disabled,selector:"#"+yn,plugins:zU(on.plugins,ft.plugins),toolbar:ft.toolbar||on.toolbar,inline:Zt,setup:function(ce){Jt=ce,ce.on("init",function(Ne){return BU(Ne,ft,jn,ce,Xt,Le)}),typeof on.setup=="function"&&on.setup(ce)}});NU(qn.value)&&(qn.value.style.visibility=""),Ky().init(S),tt=!1};x5(st,function(Le){Jt!==null&&Jt.setMode(Le?"readonly":"design")}),x5(Kn,function(Le){var S;Kt||(Y=Jt.getContent()),(S=Ky())===null||S===void 0||S.remove(Jt),CM(function(){return le()})}),gU(function(){if(Ky()!==null)le();else if(qn.value&&qn.value.ownerDocument){var Le=ft.cloudChannel?ft.cloudChannel:"5",S=ft.apiKey?ft.apiKey:"no-api-key",ce=MU(ft.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/"+S+"/tinymce/"+Le+"/tinymce.min.js":ft.tinymceScriptSrc;PU.load(qn.value.ownerDocument,ce,le)}}),fP(function(){Ky()!==null&&Ky().remove(Jt)}),Zt||(pU(function(){tt||le()}),hU(function(){var Le;Kt||(Y=Jt.getContent()),(Le=Ky())===null||Le===void 0||Le.remove(Jt)}));var Qt=function(Le){var S;Y=Jt.getContent(),(S=Ky())===null||S===void 0||S.remove(Jt),on=Jy(Jy({},on),Le),CM(function(){return le()})};return jn.expose({rerender:Qt}),function(){return Zt?HU(eP,yn,qn,ft.tagName):VU(eP,yn,qn)}}}),jU=Object.defineProperty,aP=Object.getOwnPropertySymbols,qU=Object.prototype.hasOwnProperty,WU=Object.prototype.propertyIsEnumerable,cP=(ft,jn,on)=>jn in ft?jU(ft,jn,{enumerable:!0,configurable:!0,writable:!0,value:on}):ft[jn]=on,YU=(ft,jn)=>{for(var on in jn||(jn={}))qU.call(jn,on)&&cP(ft,on,jn[on]);if(aP)for(var on of aP(jn))WU.call(jn,on)&&cP(ft,on,jn[on]);return ft};const $U=sP({name:"ExTinymceEditor",components:{Editor:UU},props:{value:{type:String,default:""},height:{type:[String,Number],default:500},width:{type:[String,Number],default:"auto"},toolbar:{type:[String,Array],default:"bold italic underline strikethrough | fontsizeselect | forecolor backcolor | alignleft aligncenter alignright alignjustify | bullist numlist | outdent indent blockquote | undo redo | link unlink image axupimgs media code | removeformat fullscreen"},options:{type:[Object,Array],default:{}},tags:{type:Array,default:[]},upload:{type:[Object,Array],default:{}}},emits:["update:value"],setup(ft,jn){const on="/exadmin/";let nn=TU(ft.upload);const st=vU(ft,"value",jn.emit);fP(()=>{nn.uploader.cancel(),nn=null});const Xt=bU({init:{base_url:on+"tinymce",language_url:on+"tinymce/langs/zh_CN.js",language:"zh_CN",skin_url:on+"tinymce/skins/ui/oxide",content_css:on+"tinymce/skins/content/default/content.css",height:ft.height,width:ft.width,fontsize_formats:"10px 11px 12px 14px 16px 18px 20px 24px 36px",menubar:!1,plugins:"axupimgs advlist anchor autolink autosave code codesample directionality fullscreen hr image imagetools insertdatetime link lists media nonbreaking noneditable pagebreak preview print save searchreplace spellchecker tabfocus table template textpattern visualblocks visualchars wordcount",toolbar:ft.toolbar,file_picker_types:"media",video_template_callback:Jt=>'<video width="'+Jt.width+'" height="'+Jt.height+'"'+(Jt.poster?' poster="'+Jt.poster+'"':"")+' controls="controls" src="'+Jt.source+'"></video>',file_picker_callback:(Jt,yn,Zt)=>{if(Zt.filetype=="media"){let Kt=document.createElement("input");Kt.setAttribute("type","file"),Kt.onchange=function(tt){let ln=this.files[0];Kn(ln,Jt)},Kt.click()}},branding:!1,convert_urls:!1,content_style:'img {max-width:100% !important } .ex-admin-tag{color:#1890ff;background:#e6f7ff;box-sizing:border-box;margin:0 8px 0 0;font-variant:tabular-nums;list-style:none;font-feature-settings:"tnum";display:inline-block;height:auto;padding:0 7px;font-size:12px;line-height:20px;white-space:nowrap;border:1px solid #91d5ff;border-radius:2px;opacity:1;transition:all .3s}',external_plugins:{powerpaste:on+"tinymce/plugins/powerpaste/plugin.min.js"},images_upload_handler:(Jt,yn,Zt)=>{let Kt=Jt.blob();Kt=new File([Kt],Kt.name),Kn(Kt,yn)}},elementId:xM(),tag:xM()});Xt.elementId=xM(),Object.assign(Xt.init,ft.options),x5(()=>[ft.height,ft.width,ft.toolbar,ft.options],()=>{y5.get(Xt.elementId)&&(y5.get(Xt.elementId).remove(),Object.assign(Xt.init,{width:ft.width,height:ft.height,toolbar:ft.toolbar,selector:"#"+Xt.elementId},ft.options),CM(()=>{y5.init(Xt.init)}))});function Kn(Jt,yn){nn.uploader.addFile(Jt),nn.watch({success:Zt=>{yn(Zt)}})}function qn(Jt){const yn=y5.get(Xt.elementId);yn.execCommand("mceInsertContent",!1,'<span class="ex-admin-tag" contenteditable="false">'+Jt.target.innerText+"</span>"),st.value=yn.getContent()}return YU({value:st,insertTag:qn},lP(Xt))}}),XU=ft=>(yU("data-v-3fc70d26"),ft=ft(),wU(),ft),GU={key:0,class:"tags"},KU=XU(()=>dP("div",null,"\u70B9\u51FB\u63D2\u5165\uFF1A",-1)),JU={class:"tags-group"};function ZU(ft,jn,on,nn,st,Xt){const Kn=CU("editor");return v5(),b5(rP,null,[ft.tags.length>0?(v5(),b5("div",GU,[KU,dP("div",JU,[(v5(!0),b5(rP,null,SU(ft.tags,qn=>(v5(),b5("span",{onClick:jn[0]||(jn[0]=(...Jt)=>ft.insertTag&&ft.insertTag(...Jt)),class:"exadmin-tag"},kU(qn),1))),256))])])):EU("",!0),AU(Kn,{modelValue:ft.value,"onUpdate:modelValue":jn[1]||(jn[1]=qn=>ft.value=qn),init:ft.init,id:ft.elementId,"tag-name":ft.tag},null,8,["modelValue","init","id","tag-name"])],64)}var Uj=xU($U,[["render",ZU],["__scopeId","data-v-3fc70d26"]]);export{Uj as default};
