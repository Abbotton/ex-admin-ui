var Z=Object.defineProperty;var O=Object.getOwnPropertySymbols;var q=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var E=(t,r,n)=>r in t?Z(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,I=(t,r)=>{for(var n in r||(r={}))q.call(r,n)&&E(t,n,r[n]);if(O)for(var n of O(r))G.call(r,n)&&E(t,n,r[n]);return t};import"./vue.f169bc0e.js";import{_ as H,A as P,t as m,c as V}from"./index.9a3c7168.js";import{r as K,f as Q,w as j,Y as y,Z as l,a0 as k,_ as i,$ as o,I as c,a4 as s,a5 as d,c as _,F as w,u as e,a2 as W,P as X,z as F,E as z}from"./@vue.a2bdcbc4.js";import"./vue-router.0de480eb.js";import"./js-md5.216a9fc2.js";import"./@babel.7a426183.js";import"./regenerator-runtime.59ce731c.js";import"./spark-md5.2cc5764b.js";import"./axios.e3200588.js";import"./ant-design-vue.e653cb26.js";import"./@ant-design.594a5492.js";import"./@ctrl.fa7cbd46.js";import"./resize-observer-polyfill.8deb1e21.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./lodash-es.8a2ffed6.js";import"./dayjs.76d34158.js";import"./async-validator.5d25c98b.js";import"./scroll-into-view-if-needed.5191fdbf.js";import"./compute-scroll-into-view.6058b3be.js";import"./js-cookie.31874410.js";/* empty css                     */import"./lodash.5fa5cd01.js";import"./clipboard.76283100.js";const x={class:"hasMany"},ee={key:1},te={key:0,style:{"margin-top":"5px"}},ae={key:2},le={name:"ExFormMany"},oe=Object.assign(le,{props:{value:Array,limit:{type:Number,default:0},disabled:Boolean,itemData:Object,table:Boolean,field:String,title:String,columns:Array,recursion:{type:Array,default:[]}},emits:["update:value"],setup(t,{emit:r}){const n=t,g=K(-1),a=Q(JSON.parse(JSON.stringify(n.value)));j(()=>n.value,v=>{a.value=v}),j(a,v=>{r("update:value",v)},{deep:!0});function b(){a.push(I({},n.itemData))}function $(v){a.splice(v,1)}function S(){a.splice(0)}function J(v,A){return{onMouseenter:C=>{g.value=A},onMouseleave:C=>{g.value=-1}}}return(v,A)=>{const C=y("a-divider"),N=y("render"),L=y("caret-up-filled"),R=y("caret-down-filled"),T=y("close-circle-filled"),U=y("a-space"),Y=y("a-table"),p=y("a-button"),B=y("a-form-item");return l(),k("div",x,[t.title?(l(),i(C,{key:0,orientation:"left"},{default:o(()=>[c(s(t.title),1)]),_:1})):d("",!0),t.table?(l(),k("div",ee,[_(Y,{"row-key":"id","data-source":e(a),bordered:"",columns:t.columns,size:"small",class:"table",pagination:!1,"custom-row":J},{headerCell:o(({column:h})=>[_(N,{data:h.header},null,8,["data"])]),bodyCell:o(({column:h,record:u,text:M,index:f})=>[h.type=="action"?(l(),i(U,{key:0},{default:o(()=>[t.disabled?d("",!0):(l(),k(w,{key:0},[g.value==f&&e(a).length>1&&f>0?(l(),i(L,{key:0,onClick:D=>e(P)(e(a),f)},{default:o(()=>[c(s(e(m)("FormMany.up")),1)]),_:2},1032,["onClick"])):d("",!0),g.value==f&&e(a).length>1&&f<e(a).length-1?(l(),i(R,{key:1,onClick:D=>e(V)(e(a),f)},{default:o(()=>[c(s(e(m)("FormMany.down")),1)]),_:2},1032,["onClick"])):d("",!0),g.value==f&&e(a).length>0?(l(),i(T,{key:2,style:{color:"red"},type:"dashed",onClick:D=>$(f)},{default:o(()=>[c(s(e(m)("FormMany.remove")),1)]),_:2},1032,["onClick"])):d("",!0)],64))]),_:2},1024)):(l(),i(N,{key:1,scopeProp:{$index:f,field:t.field,row:u,recursion:t.recursion},data:h.component},null,8,["scopeProp","data"]))]),_:1},8,["data-source","columns"]),t.disabled?d("",!0):(l(),k("div",te,[t.limit==0||t.limit>e(a).length?(l(),i(p,{key:0,size:"small",type:"dashed",onClick:b},{default:o(()=>[c(s(e(m)("FormMany.add")),1)]),_:1})):d("",!0),t.limit==0||t.limit>e(a).length?(l(),i(p,{key:1,size:"small",type:"danger",onClick:S},{default:o(()=>[c(s(e(m)("FormMany.clear")),1)]),_:1})):d("",!0)]))])):(l(),k("div",ae,[(l(!0),k(w,null,W(e(a),(h,u)=>(l(),k(w,null,[X(v.$slots,"default",{$index:u,field:t.field,row:h,recursion:t.recursion},void 0,!0),t.disabled?d("",!0):(l(),i(B,{key:0,label:" ",colon:!1},{default:o(()=>[e(a).length-1==u&&(t.limit==0||t.limit>e(a).length)?(l(),i(p,{key:0,size:"small",type:"dashed",onClick:b},{default:o(()=>[c(s(e(m)("FormMany.add")),1)]),_:1})):d("",!0),F(_(p,{size:"small",type:"dashed",onClick:M=>$(u)},{default:o(()=>[c(s(e(m)("FormMany.remove")),1)]),_:2},1032,["onClick"]),[[z,e(a).length>0]]),F(_(p,{size:"small",onClick:M=>e(P)(e(a),u)},{default:o(()=>[c(s(e(m)("FormMany.up")),1)]),_:2},1032,["onClick"]),[[z,e(a).length>1&&u>0]]),F(_(p,{size:"small",onClick:M=>e(V)(e(a),u)},{default:o(()=>[c(s(e(m)("FormMany.down")),1)]),_:2},1032,["onClick"]),[[z,e(a).length>1&&u<e(a).length-1]]),e(a).length-1==u&&(t.limit==0||t.limit>e(a).length)?(l(),i(p,{key:1,size:"small",type:"dashed",onClick:S},{default:o(()=>[c(s(e(m)("FormMany.clear")),1)]),_:1})):d("",!0)]),_:2},1024)),_(C)],64))),256)),e(a).length==0&&!t.disabled?(l(),i(B,{key:0,label:" ",colon:!1},{default:o(()=>[_(p,{size:"small",type:"dashed",onClick:b},{default:o(()=>[c(s(e(m)("FormMany.add")),1)]),_:1})]),_:1})):d("",!0)]))])}}});var Ne=H(oe,[["__scopeId","data-v-bf90b4a8"]]);export{Ne as default};
