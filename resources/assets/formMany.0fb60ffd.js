var q=Object.defineProperty;var O=Object.getOwnPropertySymbols;var G=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var V=(t,r,n)=>r in t?q(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,E=(t,r)=>{for(var n in r||(r={}))G.call(r,n)&&V(t,n,r[n]);if(O)for(var n of O(r))H.call(r,n)&&V(t,n,r[n]);return t};import"./vue.a928b16e.js";import{_ as K,A as I,t as m,m as P}from"./index.0f55eb16.js";import{r as Q,f as X,w as j,aW as y,aR as l,at as k,ar as i,bd as o,I as s,ai as c,as as d,c as h,F as w,u as e,aV as Y,P as Z,z as F,E as z}from"./@vue.a7cd1c69.js";import"./vue-router.49bf991f.js";import"./js-md5.911d3a00.js";import"./@babel.2e32324c.js";import"./regenerator-runtime.8e24db72.js";import"./spark-md5.2cc5764b.js";import"./axios.e3200588.js";import"./ant-design-vue.d3bb1542.js";import"./@ant-design.8381fcec.js";import"./@ctrl.fa7cbd46.js";import"./resize-observer-polyfill.8deb1e21.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./lodash-es.8a2ffed6.js";import"./dayjs.b753ae88.js";import"./async-validator.5d25c98b.js";import"./scroll-into-view-if-needed.5191fdbf.js";import"./compute-scroll-into-view.6058b3be.js";import"./js-cookie.31874410.js";import"./sortablejs.412b554c.js";import"./lodash.a1aa704a.js";/* empty css                     */import"./clipboard.0f95154e.js";const x={class:"hasMany"},ee={key:1},te={key:0,style:{"margin-top":"5px"}},ae={key:2},le={name:"ExFormMany"},oe=Object.assign(le,{props:{value:Array,limit:{type:Number,default:0},disabled:Boolean,itemData:Object,table:Boolean,field:String,title:String,columns:Array,recursion:{type:Array,default:[]}},emits:["update:value"],setup(t,{emit:r}){const n=t,g=Q(-1),a=X(JSON.parse(JSON.stringify(n.value)));j(()=>n.value,v=>{a.value=v}),j(a,v=>{r("update:value",v)},{deep:!0});function b(){a.push(E({},n.itemData))}function $(v){a.splice(v,1)}function S(){a.splice(0)}function J(v,A){return{onMouseenter:C=>{g.value=A},onMouseleave:C=>{g.value=-1}}}return(v,A)=>{const C=y("a-divider"),N=y("render"),R=y("caret-up-filled"),L=y("caret-down-filled"),T=y("close-circle-filled"),U=y("a-space"),W=y("a-table"),p=y("a-button"),B=y("a-form-item");return l(),k("div",x,[t.title?(l(),i(C,{key:0,orientation:"left"},{default:o(()=>[s(c(t.title),1)]),_:1})):d("",!0),t.table?(l(),k("div",ee,[h(W,{"row-key":"id","data-source":e(a),bordered:"",columns:t.columns,size:"small",class:"table",pagination:!1,"custom-row":J},{headerCell:o(({column:_})=>[h(N,{data:_.header},null,8,["data"])]),bodyCell:o(({column:_,record:u,text:M,index:f})=>[_.type=="action"?(l(),i(U,{key:0},{default:o(()=>[t.disabled?d("",!0):(l(),k(w,{key:0},[g.value==f&&e(a).length>1&&f>0?(l(),i(R,{key:0,onClick:D=>e(I)(e(a),f)},{default:o(()=>[s(c(e(m)("FormMany.up")),1)]),_:2},1032,["onClick"])):d("",!0),g.value==f&&e(a).length>1&&f<e(a).length-1?(l(),i(L,{key:1,onClick:D=>e(P)(e(a),f)},{default:o(()=>[s(c(e(m)("FormMany.down")),1)]),_:2},1032,["onClick"])):d("",!0),g.value==f&&e(a).length>0?(l(),i(T,{key:2,style:{color:"red"},type:"dashed",onClick:D=>$(f)},{default:o(()=>[s(c(e(m)("FormMany.remove")),1)]),_:2},1032,["onClick"])):d("",!0)],64))]),_:2},1024)):(l(),i(N,{key:1,scopeProp:{$index:f,field:t.field,row:u,recursion:t.recursion},data:_.component},null,8,["scopeProp","data"]))]),_:1},8,["data-source","columns"]),t.disabled?d("",!0):(l(),k("div",te,[t.limit==0||t.limit>e(a).length?(l(),i(p,{key:0,size:"small",type:"dashed",onClick:b},{default:o(()=>[s(c(e(m)("FormMany.add")),1)]),_:1})):d("",!0),t.limit==0||t.limit>e(a).length?(l(),i(p,{key:1,size:"small",type:"danger",onClick:S},{default:o(()=>[s(c(e(m)("FormMany.clear")),1)]),_:1})):d("",!0)]))])):(l(),k("div",ae,[(l(!0),k(w,null,Y(e(a),(_,u)=>(l(),k(w,null,[Z(v.$slots,"default",{$index:u,field:t.field,row:_,recursion:t.recursion},void 0,!0),t.disabled?d("",!0):(l(),i(B,{key:0,label:" ",colon:!1},{default:o(()=>[e(a).length-1==u&&(t.limit==0||t.limit>e(a).length)?(l(),i(p,{key:0,size:"small",type:"dashed",onClick:b},{default:o(()=>[s(c(e(m)("FormMany.add")),1)]),_:1})):d("",!0),F(h(p,{size:"small",type:"dashed",onClick:M=>$(u)},{default:o(()=>[s(c(e(m)("FormMany.remove")),1)]),_:2},1032,["onClick"]),[[z,e(a).length>0]]),F(h(p,{size:"small",onClick:M=>e(I)(e(a),u)},{default:o(()=>[s(c(e(m)("FormMany.up")),1)]),_:2},1032,["onClick"]),[[z,e(a).length>1&&u>0]]),F(h(p,{size:"small",onClick:M=>e(P)(e(a),u)},{default:o(()=>[s(c(e(m)("FormMany.down")),1)]),_:2},1032,["onClick"]),[[z,e(a).length>1&&u<e(a).length-1]]),e(a).length-1==u&&(t.limit==0||t.limit>e(a).length)?(l(),i(p,{key:1,size:"small",type:"dashed",onClick:S},{default:o(()=>[s(c(e(m)("FormMany.clear")),1)]),_:1})):d("",!0)]),_:2},1024)),h(C)],64))),256)),e(a).length==0&&!t.disabled?(l(),i(B,{key:0,label:" ",colon:!1},{default:o(()=>[h(p,{size:"small",type:"dashed",onClick:b},{default:o(()=>[s(c(e(m)("FormMany.add")),1)]),_:1})]),_:1})):d("",!0)]))])}}});var Be=K(oe,[["__scopeId","data-v-5219eeb8"]]);export{Be as default};
