import{u as s}from"./use-http.97b58585.js";import"./vue.a928b16e.js";import{_ as u}from"./index.0f55eb16.js";import{d as h,r as f,w as k,aW as g,aR as C,ar as v}from"./@vue.a7cd1c69.js";import"./vue-router.49bf991f.js";import"./js-md5.911d3a00.js";import"./@babel.2e32324c.js";import"./regenerator-runtime.8e24db72.js";import"./spark-md5.2cc5764b.js";import"./axios.e3200588.js";import"./ant-design-vue.d3bb1542.js";import"./@ant-design.8381fcec.js";import"./@ctrl.fa7cbd46.js";import"./resize-observer-polyfill.8deb1e21.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./lodash-es.8a2ffed6.js";import"./dayjs.b753ae88.js";import"./async-validator.5d25c98b.js";import"./scroll-into-view-if-needed.5191fdbf.js";import"./compute-scroll-into-view.6058b3be.js";import"./js-cookie.31874410.js";import"./sortablejs.412b554c.js";import"./lodash.a1aa704a.js";/* empty css                     */import"./clipboard.0f95154e.js";const _=h({name:"ExSwitch",props:{checked:[Number,String,Boolean],url:String,params:{type:Object,default:{}},field:String},emits:["update:checked"],setup(e,t){const{loading:m,http:p}=s(),o=f(e.checked);k(()=>e.checked,a=>{o.value=a});function d(a){const r=t.attrs.checkedValue||!0,l=t.attrs.unCheckedValue||!1;let i;a==r?i=l:i=r;let n=e.params;n.data||(n.data={}),n.data[e.field]=a,e.url?p({url:e.url,method:"put",data:n}).then(c=>{t.emit("update:checked",a)}).catch(c=>{o.value=i,t.emit("update:checked",i)}):t.emit("update:checked",a)}return{handleChange:d,loading:m,value:o}}});function w(e,t,m,p,o,d){const a=g("a-switch");return C(),v(a,{checked:e.value,"onUpdate:checked":t[0]||(t[0]=r=>e.value=r),loading:e.loading,onChange:e.handleChange},null,8,["checked","loading","onChange"])}var Q=u(_,[["render",w]]);export{Q as default};
