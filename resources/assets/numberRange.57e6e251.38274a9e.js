import{u as B,a as f,ay as U,v as j,c as g,$ as y,h as k,O as A,y as I,i as F,z as V,w as x,k as J,l as T}from"./dynamicTag.98ddbc91.js";import"./vue.4c5758a0.js";import"./@babel.dd651e2b.js";import"./regenerator-runtime.8e24db72.js";import"./@vue.87afd1fa.js";import"./index.97f9c525.js";import"./js-md5.3cdd41c4.js";import"./vue-router.9a2c52dc.js";import"./js-cookie.31874410.js";import"./ant-design-vue.e954adc4.js";import"./@ant-design.8c82b126.js";import"./@ctrl.fa7cbd46.js";import"./resize-observer-polyfill.8deb1e21.js";import"./vue-types.6e6d84ba.js";import"./dom-align.f1b5d360.js";import"./lodash-es.0ea26897.js";import"./dayjs.0743a87f.js";import"./async-validator.5d25c98b.js";import"./scroll-into-view-if-needed.5191fdbf.js";import"./compute-scroll-into-view.6058b3be.js";import"./lodash.28c974ad.js";import"./spark-md5.2cc5764b.js";import"./@vueuse.67682d36.js";import"./vue-demi.24ed2461.js";import"./axios.e3200588.js";/* empty css                     */import"./sortablejs.412b554c.js";import"./clipboard.89482ba1.js";import"./markdown-it.39ce48f9.js";import"./entities.0d2c0164.js";import"./uc.micro.981ceb7b.js";import"./mdurl.ef76b4dc.js";import"./linkify-it.92c30060.js";import"./markdown-it-emoji.e3e91710.js";import"./escape-html.e5dfadb9.js";import"./prismjs.169105cf.js";import"./diacritics.6be19c75.js";import"./markdown-it-container.512a5043.js";import"./markdown-it-anchor.c88e5394.js";import"./markdown-it-attrs.3af5ab50.js";import"./markdown-it-table-of-contents.8a4ce16f.js";import"./@kangc.52338b19.js";const z={name:"ExNumberRange"},Ot=Object.assign(z,{props:{value:{type:Array,default:[]},startField:String,endField:String,startValue:Number,endValue:Number,separator:{type:String,default:"-"}},emits:["update:value","update:startValue","update:endValue"],setup(s,{emit:n}){const u=s,r=B(),e=f(u.startValue),a=f(u.endValue);v();const b=U.useInjectFormItemContext();j(()=>u.value,(t,l)=>{JSON.stringify(t)!=JSON.stringify(l)&&v(),u.startField===u.endField?d(t,t):d(t[0],t[1]),b.onFieldChange()});function v(){u.value.length>0?(e.value=u.value[0],a.value=u.value[1]):(e.value=null,a.value=null),i()}function i(){(e.value===null||e.value===void 0)&&(a.value===null||a.value===void 0)?n("update:value",[]):n("update:value",[e.value,a.value])}function d(t,l){n("update:startValue",t),n("update:endValue",l)}let o=!1;function h(){o=!1}function N(t){e.value===null&&(a.value=null),setTimeout(()=>{e.value!==null&&!a.value&&(a.value=p()),e.value!==null&&e.value===a.value&&(a.value=p()),i()},500)}function S(){o=!0,e.value===null&&a.value!==null&&(e.value=C()),setTimeout(()=>{a.value===null&&o&&(e.value=null),i()},300)}function p(){const t=r.step||1;return e.value+t}function C(){const t=r.step||1;return a.value-t}const O=g(()=>p()),$=g(()=>{if(r.max){const t=r.step||1;return r.max-t}return null});return(t,l)=>{const c=y("a-input-number"),w=y("a-form-item-rest");return k(),A(w,null,{default:I(()=>[F(c,V(t.$attrs,{max:x($),value:e.value,"onUpdate:value":l[0]||(l[0]=m=>e.value=m),onChange:i,onFocus:h,onBlur:N}),null,16,["max","value"]),J(" "+T(s.separator)+" ",1),F(c,V(t.$attrs,{min:x(O),value:a.value,"onUpdate:value":l[1]||(l[1]=m=>a.value=m),onChange:i,onBlur:S}),null,16,["min","value"])]),_:1})}}});export{Ot as default};
